function gX(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var J3e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g_={exports:{}},f0={};var cR;function yX(){if(cR)return f0;cR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:s,ref:i!==void 0?i:null,props:a}}return f0.Fragment=e,f0.jsx=r,f0.jsxs=r,f0}var dR;function vX(){return dR||(dR=1,g_.exports=yX()),g_.exports}var y=vX(),y_={exports:{}},Pr={};var fR;function bX(){if(fR)return Pr;fR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function m(Z){return Z===null||typeof Z!="object"?null:(Z=g&&Z[g]||Z["@@iterator"],typeof Z=="function"?Z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function k(Z,q,Q){this.props=Z,this.context=q,this.refs=_,this.updater=Q||w}k.prototype.isReactComponent={},k.prototype.setState=function(Z,q){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,q,"setState")},k.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function N(){}N.prototype=k.prototype;function P(Z,q,Q){this.props=Z,this.context=q,this.refs=_,this.updater=Q||w}var F=P.prototype=new N;F.constructor=P,S(F,k.prototype),F.isPureReactComponent=!0;var O=Array.isArray;function z(){}var L={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function D(Z,q,Q){var re=Q.ref;return{$$typeof:t,type:Z,key:q,ref:re!==void 0?re:null,props:Q}}function $(Z,q){return D(Z.type,q,Z.props)}function j(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function V(Z){var q={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Q){return q[Q]})}var M=/\/+/g;function J(Z,q){return typeof Z=="object"&&Z!==null&&Z.key!=null?V(""+Z.key):q.toString(36)}function _e(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(z,z):(Z.status="pending",Z.then(function(q){Z.status==="pending"&&(Z.status="fulfilled",Z.value=q)},function(q){Z.status==="pending"&&(Z.status="rejected",Z.reason=q)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function se(Z,q,Q,re,ae){var ye=typeof Z;(ye==="undefined"||ye==="boolean")&&(Z=null);var Te=!1;if(Z===null)Te=!0;else switch(ye){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(Z.$$typeof){case t:case e:Te=!0;break;case f:return Te=Z._init,se(Te(Z._payload),q,Q,re,ae)}}if(Te)return ae=ae(Z),Te=re===""?"."+J(Z,0):re,O(ae)?(Q="",Te!=null&&(Q=Te.replace(M,"$&/")+"/"),se(ae,q,Q,"",function(Ce){return Ce})):ae!=null&&(j(ae)&&(ae=$(ae,Q+(ae.key==null||Z&&Z.key===ae.key?"":(""+ae.key).replace(M,"$&/")+"/")+Te)),q.push(ae)),1;Te=0;var Ve=re===""?".":re+":";if(O(Z))for(var he=0;he<Z.length;he++)re=Z[he],ye=Ve+J(re,he),Te+=se(re,q,Q,ye,ae);else if(he=m(Z),typeof he=="function")for(Z=he.call(Z),he=0;!(re=Z.next()).done;)re=re.value,ye=Ve+J(re,he++),Te+=se(re,q,Q,ye,ae);else if(ye==="object"){if(typeof Z.then=="function")return se(_e(Z),q,Q,re,ae);throw q=String(Z),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ee(Z,q,Q){if(Z==null)return Z;var re=[],ae=0;return se(Z,re,"","",function(ye){return q.call(Q,ye,ae++)}),re}function fe(Z){if(Z._status===-1){var q=Z._result;q=q(),q.then(function(Q){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Q)},function(Q){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Q)}),Z._status===-1&&(Z._status=0,Z._result=q)}if(Z._status===1)return Z._result.default;throw Z._result}var we=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},Be={map:ee,forEach:function(Z,q,Q){ee(Z,function(){q.apply(this,arguments)},Q)},count:function(Z){var q=0;return ee(Z,function(){q++}),q},toArray:function(Z){return ee(Z,function(q){return q})||[]},only:function(Z){if(!j(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return Pr.Activity=p,Pr.Children=Be,Pr.Component=k,Pr.Fragment=r,Pr.Profiler=i,Pr.PureComponent=P,Pr.StrictMode=n,Pr.Suspense=c,Pr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Pr.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return L.H.useMemoCache(Z)}},Pr.cache=function(Z){return function(){return Z.apply(null,arguments)}},Pr.cacheSignal=function(){return null},Pr.cloneElement=function(Z,q,Q){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var re=S({},Z.props),ae=Z.key;if(q!=null)for(ye in q.key!==void 0&&(ae=""+q.key),q)!I.call(q,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&q.ref===void 0||(re[ye]=q[ye]);var ye=arguments.length-2;if(ye===1)re.children=Q;else if(1<ye){for(var Te=Array(ye),Ve=0;Ve<ye;Ve++)Te[Ve]=arguments[Ve+2];re.children=Te}return D(Z.type,ae,re)},Pr.createContext=function(Z){return Z={$$typeof:s,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:a,_context:Z},Z},Pr.createElement=function(Z,q,Q){var re,ae={},ye=null;if(q!=null)for(re in q.key!==void 0&&(ye=""+q.key),q)I.call(q,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ae[re]=q[re]);var Te=arguments.length-2;if(Te===1)ae.children=Q;else if(1<Te){for(var Ve=Array(Te),he=0;he<Te;he++)Ve[he]=arguments[he+2];ae.children=Ve}if(Z&&Z.defaultProps)for(re in Te=Z.defaultProps,Te)ae[re]===void 0&&(ae[re]=Te[re]);return D(Z,ye,ae)},Pr.createRef=function(){return{current:null}},Pr.forwardRef=function(Z){return{$$typeof:l,render:Z}},Pr.isValidElement=j,Pr.lazy=function(Z){return{$$typeof:f,_payload:{_status:-1,_result:Z},_init:fe}},Pr.memo=function(Z,q){return{$$typeof:d,type:Z,compare:q===void 0?null:q}},Pr.startTransition=function(Z){var q=L.T,Q={};L.T=Q;try{var re=Z(),ae=L.S;ae!==null&&ae(Q,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(z,we)}catch(ye){we(ye)}finally{q!==null&&Q.types!==null&&(q.types=Q.types),L.T=q}},Pr.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Pr.use=function(Z){return L.H.use(Z)},Pr.useActionState=function(Z,q,Q){return L.H.useActionState(Z,q,Q)},Pr.useCallback=function(Z,q){return L.H.useCallback(Z,q)},Pr.useContext=function(Z){return L.H.useContext(Z)},Pr.useDebugValue=function(){},Pr.useDeferredValue=function(Z,q){return L.H.useDeferredValue(Z,q)},Pr.useEffect=function(Z,q){return L.H.useEffect(Z,q)},Pr.useEffectEvent=function(Z){return L.H.useEffectEvent(Z)},Pr.useId=function(){return L.H.useId()},Pr.useImperativeHandle=function(Z,q,Q){return L.H.useImperativeHandle(Z,q,Q)},Pr.useInsertionEffect=function(Z,q){return L.H.useInsertionEffect(Z,q)},Pr.useLayoutEffect=function(Z,q){return L.H.useLayoutEffect(Z,q)},Pr.useMemo=function(Z,q){return L.H.useMemo(Z,q)},Pr.useOptimistic=function(Z,q){return L.H.useOptimistic(Z,q)},Pr.useReducer=function(Z,q,Q){return L.H.useReducer(Z,q,Q)},Pr.useRef=function(Z){return L.H.useRef(Z)},Pr.useState=function(Z){return L.H.useState(Z)},Pr.useSyncExternalStore=function(Z,q,Q){return L.H.useSyncExternalStore(Z,q,Q)},Pr.useTransition=function(){return L.H.useTransition()},Pr.version="19.2.1",Pr}var hR;function ng(){return hR||(hR=1,y_.exports=bX()),y_.exports}var E=ng();const td=gd(E),xX=gX({__proto__:null,default:td},[E]);var v_={exports:{}},h0={},b_={exports:{}},x_={};var pR;function wX(){return pR||(pR=1,(function(t){function e(se,ee){var fe=se.length;se.push(ee);e:for(;0<fe;){var we=fe-1>>>1,Be=se[we];if(0<i(Be,ee))se[we]=ee,se[fe]=Be,fe=we;else break e}}function r(se){return se.length===0?null:se[0]}function n(se){if(se.length===0)return null;var ee=se[0],fe=se.pop();if(fe!==ee){se[0]=fe;e:for(var we=0,Be=se.length,Z=Be>>>1;we<Z;){var q=2*(we+1)-1,Q=se[q],re=q+1,ae=se[re];if(0>i(Q,fe))re<Be&&0>i(ae,Q)?(se[we]=ae,se[re]=fe,we=re):(se[we]=Q,se[q]=fe,we=q);else if(re<Be&&0>i(ae,fe))se[we]=ae,se[re]=fe,we=re;else break e}}return ee}function i(se,ee){var fe=se.sortIndex-ee.sortIndex;return fe!==0?fe:se.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],f=1,p=null,g=3,m=!1,w=!1,S=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function F(se){for(var ee=r(d);ee!==null;){if(ee.callback===null)n(d);else if(ee.startTime<=se)n(d),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=r(d)}}function O(se){if(S=!1,F(se),!w)if(r(c)!==null)w=!0,z||(z=!0,V());else{var ee=r(d);ee!==null&&_e(O,ee.startTime-se)}}var z=!1,L=-1,I=5,D=-1;function $(){return _?!0:!(t.unstable_now()-D<I)}function j(){if(_=!1,z){var se=t.unstable_now();D=se;var ee=!0;try{e:{w=!1,S&&(S=!1,N(L),L=-1),m=!0;var fe=g;try{t:{for(F(se),p=r(c);p!==null&&!(p.expirationTime>se&&$());){var we=p.callback;if(typeof we=="function"){p.callback=null,g=p.priorityLevel;var Be=we(p.expirationTime<=se);if(se=t.unstable_now(),typeof Be=="function"){p.callback=Be,F(se),ee=!0;break t}p===r(c)&&n(c),F(se)}else n(c);p=r(c)}if(p!==null)ee=!0;else{var Z=r(d);Z!==null&&_e(O,Z.startTime-se),ee=!1}}break e}finally{p=null,g=fe,m=!1}ee=void 0}}finally{ee?V():z=!1}}}var V;if(typeof P=="function")V=function(){P(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,J=M.port2;M.port1.onmessage=j,V=function(){J.postMessage(null)}}else V=function(){k(j,0)};function _e(se,ee){L=k(function(){se(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(se){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var fe=g;g=ee;try{return se()}finally{g=fe}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(se,ee){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var fe=g;g=se;try{return ee()}finally{g=fe}},t.unstable_scheduleCallback=function(se,ee,fe){var we=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?we+fe:we):fe=we,se){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=fe+Be,se={id:f++,callback:ee,priorityLevel:se,startTime:fe,expirationTime:Be,sortIndex:-1},fe>we?(se.sortIndex=fe,e(d,se),r(c)===null&&se===r(d)&&(S?(N(L),L=-1):S=!0,_e(O,fe-we))):(se.sortIndex=Be,e(c,se),w||m||(w=!0,z||(z=!0,V()))),se},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(se){var ee=g;return function(){var fe=g;g=ee;try{return se.apply(this,arguments)}finally{g=fe}}}})(x_)),x_}var mR;function _X(){return mR||(mR=1,b_.exports=wX()),b_.exports}var w_={exports:{}},ws={};var gR;function AX(){if(gR)return ws;gR=1;var t=ng();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:d,implementation:f}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ws.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ws.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(c,d,null,f)},ws.flushSync=function(c){var d=s.T,f=n.p;try{if(s.T=null,n.p=2,c)return c()}finally{s.T=d,n.p=f,n.d.f()}},ws.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(c,d))},ws.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},ws.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?n.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):f==="script"&&n.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ws.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);n.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(c)},ws.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);n.d.L(c,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ws.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=l(d.as,d.crossOrigin);n.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(c)},ws.requestFormReset=function(c){n.d.r(c)},ws.unstable_batchedUpdates=function(c,d){return c(d)},ws.useFormState=function(c,d,f){return s.H.useFormState(c,d,f)},ws.useFormStatus=function(){return s.H.useHostTransitionStatus()},ws.version="19.2.1",ws}var yR;function _9(){if(yR)return w_.exports;yR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),w_.exports=AX(),w_.exports}var vR;function SX(){if(vR)return h0;vR=1;var t=_X(),e=ng(),r=_9();function n(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,h=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(h=u.return),o=u.return;while(o)}return u.tag===3?h:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(n(188))}function d(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(n(188));return u!==o?null:o}for(var h=o,v=u;;){var A=h.return;if(A===null)break;var C=A.alternate;if(C===null){if(v=A.return,v!==null){h=v;continue}break}if(A.child===C.child){for(C=A.child;C;){if(C===h)return c(A),o;if(C===v)return c(A),u;C=C.sibling}throw Error(n(188))}if(h.return!==v.return)h=A,v=C;else{for(var G=!1,ie=A.child;ie;){if(ie===h){G=!0,h=A,v=C;break}if(ie===v){G=!0,v=A,h=C;break}ie=ie.sibling}if(!G){for(ie=C.child;ie;){if(ie===h){G=!0,h=C,v=A;break}if(ie===v){G=!0,v=C,h=A;break}ie=ie.sibling}if(!G)throw Error(n(189))}}if(h.alternate!==v)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:u}function f(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=f(o),u!==null)return u;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),P=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function V(o){return o===null||typeof o!="object"?null:(o=j&&o[j]||o["@@iterator"],typeof o=="function"?o:null)}var M=Symbol.for("react.client.reference");function J(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===M?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case k:return"Profiler";case _:return"StrictMode";case O:return"Suspense";case z:return"SuspenseList";case D:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case w:return"Portal";case P:return o.displayName||"Context";case N:return(o._context.displayName||"Context")+".Consumer";case F:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case L:return u=o.displayName||null,u!==null?u:J(o.type)||"Memo";case I:u=o._payload,o=o._init;try{return J(o(u))}catch{}}return null}var _e=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},we=[],Be=-1;function Z(o){return{current:o}}function q(o){0>Be||(o.current=we[Be],we[Be]=null,Be--)}function Q(o,u){Be++,we[Be]=o.current,o.current=u}var re=Z(null),ae=Z(null),ye=Z(null),Te=Z(null);function Ve(o,u){switch(Q(ye,u),Q(ae,o),Q(re,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?Oj(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=Oj(u),o=Ij(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}q(re),Q(re,o)}function he(){q(re),q(ae),q(ye)}function Ce(o){o.memoizedState!==null&&Q(Te,o);var u=re.current,h=Ij(u,o.type);u!==h&&(Q(ae,o),Q(re,h))}function We(o){ae.current===o&&(q(re),q(ae)),Te.current===o&&(q(Te),l0._currentValue=fe)}var Ie,dt;function vt(o){if(Ie===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Ie=u&&u[1]||"",dt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ie+o+dt}var ce=!1;function yt(o,u){if(!o||ce)return"";ce=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(Ze){var Qe=Ze}Reflect.construct(o,[],ft)}else{try{ft.call()}catch(Ze){Qe=Ze}o.call(ft.prototype)}}else{try{throw Error()}catch(Ze){Qe=Ze}(ft=o())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(Ze){if(Ze&&Qe&&typeof Ze.stack=="string")return[Ze.stack,Qe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),G=C[0],ie=C[1];if(G&&ie){var Ee=G.split(`
`),Ke=ie.split(`
`);for(A=v=0;v<Ee.length&&!Ee[v].includes("DetermineComponentFrameRoot");)v++;for(;A<Ke.length&&!Ke[A].includes("DetermineComponentFrameRoot");)A++;if(v===Ee.length||A===Ke.length)for(v=Ee.length-1,A=Ke.length-1;1<=v&&0<=A&&Ee[v]!==Ke[A];)A--;for(;1<=v&&0<=A;v--,A--)if(Ee[v]!==Ke[A]){if(v!==1||A!==1)do if(v--,A--,0>A||Ee[v]!==Ke[A]){var st=`
`+Ee[v].replace(" at new "," at ");return o.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",o.displayName)),st}while(1<=v&&0<=A);break}}}finally{ce=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?vt(h):""}function Yt(o,u){switch(o.tag){case 26:case 27:case 5:return vt(o.type);case 16:return vt("Lazy");case 13:return o.child!==u&&u!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return yt(o.type,!1);case 11:return yt(o.type.render,!1);case 1:return yt(o.type,!0);case 31:return vt("Activity");default:return""}}function Ft(o){try{var u="",h=null;do u+=Yt(o,h),h=o,o=o.return;while(o);return u}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Je=Object.prototype.hasOwnProperty,Nt=t.unstable_scheduleCallback,kt=t.unstable_cancelCallback,lt=t.unstable_shouldYield,It=t.unstable_requestPaint,tr=t.unstable_now,Jt=t.unstable_getCurrentPriorityLevel,qt=t.unstable_ImmediatePriority,ir=t.unstable_UserBlockingPriority,rr=t.unstable_NormalPriority,Pt=t.unstable_LowPriority,er=t.unstable_IdlePriority,Ct=t.log,Ar=t.unstable_setDisableYieldValue,ar=null,jt=null;function Ht(o){if(typeof Ct=="function"&&Ar(o),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ar,o)}catch{}}var Se=Math.clz32?Math.clz32:rt,Le=Math.log,Et=Math.LN2;function rt(o){return o>>>=0,o===0?32:31-(Le(o)/Et|0)|0}var bt=256,_t=262144,gt=4194304;function W(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function be(o,u,h){var v=o.pendingLanes;if(v===0)return 0;var A=0,C=o.suspendedLanes,G=o.pingedLanes;o=o.warmLanes;var ie=v&134217727;return ie!==0?(v=ie&~C,v!==0?A=W(v):(G&=ie,G!==0?A=W(G):h||(h=ie&~o,h!==0&&(A=W(h))))):(ie=v&~C,ie!==0?A=W(ie):G!==0?A=W(G):h||(h=v&~o,h!==0&&(A=W(h)))),A===0?0:u!==0&&u!==A&&(u&C)===0&&(C=A&-A,h=u&-u,C>=h||C===32&&(h&4194048)!==0)?u:A}function Xe(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function xe(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function de(){var o=gt;return gt<<=1,(gt&62914560)===0&&(gt=4194304),o}function ve(o){for(var u=[],h=0;31>h;h++)u.push(o);return u}function Ae(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function je(o,u,h,v,A,C){var G=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var ie=o.entanglements,Ee=o.expirationTimes,Ke=o.hiddenUpdates;for(h=G&~h;0<h;){var st=31-Se(h),ft=1<<st;ie[st]=0,Ee[st]=-1;var Qe=Ke[st];if(Qe!==null)for(Ke[st]=null,st=0;st<Qe.length;st++){var Ze=Qe[st];Ze!==null&&(Ze.lane&=-536870913)}h&=~ft}v!==0&&De(o,v,0),C!==0&&A===0&&o.tag!==0&&(o.suspendedLanes|=C&~(G&~u))}function De(o,u,h){o.pendingLanes|=u,o.suspendedLanes&=~u;var v=31-Se(u);o.entangledLanes|=u,o.entanglements[v]=o.entanglements[v]|1073741824|h&261930}function $e(o,u){var h=o.entangledLanes|=u;for(o=o.entanglements;h;){var v=31-Se(h),A=1<<v;A&u|o[v]&u&&(o[v]|=u),h&=~A}}function et(o,u){var h=u&-u;return h=(h&42)!==0?1:it(h),(h&(o.suspendedLanes|u))!==0?0:h}function it(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function xt(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Rt(){var o=ee.p;return o!==0?o:(o=window.event,o===void 0?32:nR(o.type))}function Ut(o,u){var h=ee.p;try{return ee.p=o,u()}finally{ee.p=h}}var br=Math.random().toString(36).slice(2),St="__reactFiber$"+br,Cr="__reactProps$"+br,fn="__reactContainer$"+br,gn="__reactEvents$"+br,Dt="__reactListeners$"+br,fr="__reactHandles$"+br,Mr="__reactResources$"+br,si="__reactMarker$"+br;function zn(o){delete o[St],delete o[Cr],delete o[gn],delete o[Dt],delete o[fr]}function bi(o){var u=o[St];if(u)return u;for(var h=o.parentNode;h;){if(u=h[fn]||h[St]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(o=Vj(o);o!==null;){if(h=o[St])return h;o=Vj(o)}return u}o=h,h=o.parentNode}return null}function qi(o){if(o=o[St]||o[fn]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function Za(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(n(33))}function ms(o){var u=o[Mr];return u||(u=o[Mr]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Kn(o){o[si]=!0}var gu=new Set,Oa={};function gs(o,u){Ls(o,u),Ls(o+"Capture",u)}function Ls(o,u){for(Oa[o]=u,o=0;o<u.length;o++)gu.add(u[o])}var jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yu={},vu={};function fc(o){return Je.call(vu,o)?!0:Je.call(yu,o)?!1:jl.test(o)?vu[o]=!0:(yu[o]=!0,!1)}function Ja(o,u,h){if(fc(u))if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+h)}}function na(o,u,h){if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+h)}}function oi(o,u,h,v){if(v===null)o.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(u,h,""+v)}}function Br(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Co(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ys(o,u,h){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,C=v.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return A.call(this)},set:function(G){h=""+G,C.call(this,G)}}),Object.defineProperty(o,u,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function(G){h=""+G},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Hr(o){if(!o._valueTracker){var u=Co(o)?"checked":"value";o._valueTracker=ys(o,u,""+o[u])}}function Yo(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var h=u.getValue(),v="";return o&&(v=Co(o)?o.checked?"true":"false":o.value),o=v,o!==h?(u.setValue(o),!0):!1}function xi(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ln=/[\n"\\]/g;function li(o){return o.replace(Ln,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Rl(o,u,h,v,A,C,G,ie){o.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?o.type=G:o.removeAttribute("type"),u!=null?G==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Br(u)):o.value!==""+Br(u)&&(o.value=""+Br(u)):G!=="submit"&&G!=="reset"||o.removeAttribute("value"),u!=null?hc(o,G,Br(u)):h!=null?hc(o,G,Br(h)):v!=null&&o.removeAttribute("value"),A==null&&C!=null&&(o.defaultChecked=!!C),A!=null&&(o.checked=A&&typeof A!="function"&&typeof A!="symbol"),ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?o.name=""+Br(ie):o.removeAttribute("name")}function Td(o,u,h,v,A,C,G,ie){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.type=C),u!=null||h!=null){if(!(C!=="submit"&&C!=="reset"||u!=null)){Hr(o);return}h=h!=null?""+Br(h):"",u=u!=null?""+Br(u):h,ie||u===o.value||(o.value=u),o.defaultValue=u}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=ie?o.checked:!!v,o.defaultChecked=!!v,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(o.name=G),Hr(o)}function hc(o,u,h){u==="number"&&xi(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function ga(o,u,h,v){if(o=o.options,u){u={};for(var A=0;A<h.length;A++)u["$"+h[A]]=!0;for(h=0;h<o.length;h++)A=u.hasOwnProperty("$"+o[h].value),o[h].selected!==A&&(o[h].selected=A),A&&v&&(o[h].defaultSelected=!0)}else{for(h=""+Br(h),u=null,A=0;A<o.length;A++){if(o[A].value===h){o[A].selected=!0,v&&(o[A].defaultSelected=!0);return}u!==null||o[A].disabled||(u=o[A])}u!==null&&(u.selected=!0)}}function pc(o,u,h){if(u!=null&&(u=""+Br(u),u!==o.value&&(o.value=u),h==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=h!=null?""+Br(h):""}function No(o,u,h,v){if(u==null){if(v!=null){if(h!=null)throw Error(n(92));if(_e(v)){if(1<v.length)throw Error(n(93));v=v[0]}h=v}h==null&&(h=""),u=h}h=Br(u),o.defaultValue=h,v=o.textContent,v===h&&v!==""&&v!==null&&(o.value=v),Hr(o)}function Hi(o,u){if(u){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=u;return}}o.textContent=u}var Xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mc(o,u,h){var v=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":v?o.setProperty(u,h):typeof h!="number"||h===0||Xo.has(u)?u==="float"?o.cssFloat=h:o[u]=(""+h).trim():o[u]=h+"px"}function gc(o,u,h){if(u!=null&&typeof u!="object")throw Error(n(62));if(o=o.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var A in u)v=u[A],u.hasOwnProperty(A)&&h[A]!==v&&mc(o,A,v)}else for(var C in u)u.hasOwnProperty(C)&&mc(o,C,u[C])}function bu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Po=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(o){return Po.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ms(){}var jo=null;function Da(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Qo=null,ur=null;function Ol(o){var u=qi(o);if(u&&(o=u.stateNode)){var h=o[Cr]||null;e:switch(o=u.stateNode,u.type){case"input":if(Rl(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+li(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var v=h[u];if(v!==o&&v.form===o.form){var A=v[Cr]||null;if(!A)throw Error(n(90));Rl(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(u=0;u<h.length;u++)v=h[u],v.form===o.form&&Yo(v)}break e;case"textarea":pc(o,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&ga(o,!!h.multiple,u,!1)}}}var wu=!1;function Zo(o,u,h){if(wu)return o(u,h);wu=!0;try{var v=o(u);return v}finally{if(wu=!1,(Qo!==null||ur!==null)&&(u1(),Qo&&(u=Qo,o=ur,ur=Qo=null,Ol(u),o)))for(u=0;u<o.length;u++)Ol(o[u])}}function Gi(o,u){var h=o.stateNode;if(h===null)return null;var v=h[Cr]||null;if(v===null)return null;h=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,u,typeof h));return h}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=!1;if(Pi)try{var on={};Object.defineProperty(on,"passive",{get:function(){Il=!0}}),window.addEventListener("test",on,on),window.removeEventListener("test",on,on)}catch{Il=!1}var es=null,Dl=null,Bs=null;function yc(){if(Bs)return Bs;var o,u=Dl,h=u.length,v,A="value"in es?es.value:es.textContent,C=A.length;for(o=0;o<h&&u[o]===A[o];o++);var G=h-o;for(v=1;v<=G&&u[h-v]===A[C-v];v++);return Bs=A.slice(o,1<v?1-v:void 0)}function ts(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Ro(){return!0}function rs(){return!1}function wi(o){function u(h,v,A,C,G){this._reactName=h,this._targetInst=A,this.type=v,this.nativeEvent=C,this.target=G,this.currentTarget=null;for(var ie in o)o.hasOwnProperty(ie)&&(h=o[ie],this[ie]=h?h(C):C[ie]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ro:rs,this.isPropagationStopped=rs,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),u}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=wi(eo),to=p({},eo,{view:0,detail:0}),Jo=wi(to),ro,no,vs,Ll=p({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==vs&&(vs&&o.type==="mousemove"?(ro=o.screenX-vs.screenX,no=o.screenY-vs.screenY):no=ro=0,vs=o),ro)},movementY:function(o){return"movementY"in o?o.movementY:no}}),_u=wi(Ll),ns=p({},Ll,{dataTransfer:0}),io=wi(ns),vc=p({},to,{relatedTarget:0}),Fs=wi(vc),Au=p({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),R=wi(Au),Y=p({},eo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),me=wi(Y),ke=p({},eo,{data:0}),Oe=wi(ke),at={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xt(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Vt[o])?!!u[o]:!1}function hr(){return Xt}var or=p({},to,{key:function(o){if(o.key){var u=at[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=ts(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?pt[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(o){return o.type==="keypress"?ts(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ts(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Fr=wi(or),Nn=p({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yn=wi(Nn),x=p({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),U=wi(x),K=p({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),le=wi(K),Fe=p({},Ll,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=wi(Fe),At=p({},eo,{newState:0,oldState:0}),wr=wi(At),Pn=[9,13,27,32],Dr=Pi&&"CompositionEvent"in window,ln=null;Pi&&"documentMode"in document&&(ln=document.documentMode);var aa=Pi&&"TextEvent"in window&&!ln,ya=Pi&&(!Dr||ln&&8<ln&&11>=ln),_n=" ",va=!1;function Us(o,u){switch(o){case"keyup":return Pn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function el(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var tl=!1;function is(o,u){switch(o){case"compositionend":return el(u);case"keypress":return u.which!==32?null:(va=!0,_n);case"textInput":return o=u.data,o===_n&&va?null:o;default:return null}}function Ml(o,u){if(tl)return o==="compositionend"||!Dr&&Us(o,u)?(o=yc(),Bs=Dl=es=null,tl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ya&&u.locale!=="ko"?null:u.data;default:return null}}var kd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kf(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!kd[o.type]:u==="textarea"}function Vs(o,u,h,v){Qo?ur?ur.push(v):ur=[v]:Qo=v,u=g1(u,"onChange"),0<u.length&&(h=new ia("onChange","change",null,h,v),o.push({event:h,listeners:u}))}var Oo=null,Bl=null;function Yf(o){kj(o,0)}function Io(o){var u=Za(o);if(Yo(u))return o}function Su(o,u){if(o==="change")return u}var bs=!1;if(Pi){var as;if(Pi){var rl="oninput"in document;if(!rl){var nl=document.createElement("div");nl.setAttribute("oninput","return;"),rl=typeof nl.oninput=="function"}as=rl}else as=!1;bs=as&&(!document.documentMode||9<document.documentMode)}function Fl(){Oo&&(Oo.detachEvent("onpropertychange",Cd),Bl=Oo=null)}function Cd(o){if(o.propertyName==="value"&&Io(Bl)){var u=[];Vs(u,Bl,o,Da(o)),Zo(Yf,u)}}function Nd(o,u,h){o==="focusin"?(Fl(),Oo=u,Bl=h,Oo.attachEvent("onpropertychange",Cd)):o==="focusout"&&Fl()}function _i(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Io(Bl)}function vp(o,u){if(o==="click")return Io(u)}function il(o,u){if(o==="input"||o==="change")return Io(u)}function al(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var ba=typeof Object.is=="function"?Object.is:al;function Ul(o,u){if(ba(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var h=Object.keys(o),v=Object.keys(u);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var A=h[v];if(!Je.call(u,A)||!ba(o[A],u[A]))return!1}return!0}function Pd(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function jd(o,u){var h=Pd(o);o=0;for(var v;h;){if(h.nodeType===3){if(v=o+h.textContent.length,o<=u&&v>=u)return{node:h,offset:u-o};o=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Pd(h)}}function Vl(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Vl(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function zl(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=xi(o.document);u instanceof o.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)o=u.contentWindow;else break;u=xi(o.document)}return u}function sl(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var bc=Pi&&"documentMode"in document&&11>=document.documentMode,zs=null,$l=null,La=null,ao=!1;function nn(o,u,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ao||zs==null||zs!==xi(v)||(v=zs,"selectionStart"in v&&sl(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),La&&Ul(La,v)||(La=v,v=g1($l,"onSelect"),0<v.length&&(u=new ia("onSelect","select",null,u,h),o.push({event:u,listeners:v}),u.target=zs)))}function Qr(o,u){var h={};return h[o.toLowerCase()]=u.toLowerCase(),h["Webkit"+o]="webkit"+u,h["Moz"+o]="moz"+u,h}var jn={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},Ai={},ol={};Pi&&(ol=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function Do(o){if(Ai[o])return Ai[o];if(!jn[o])return o;var u=jn[o],h;for(h in u)if(u.hasOwnProperty(h)&&h in ol)return Ai[o]=u[h];return o}var xc=Do("animationend"),Xf=Do("animationiteration"),jg=Do("animationstart"),Fv=Do("transitionrun"),Uv=Do("transitionstart"),Vv=Do("transitioncancel"),Rg=Do("transitionend"),Og=new Map,wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wc.push("scrollEnd");function so(o,u){Og.set(o,u),gs(u,[o])}var Qf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},$s=[],_c=0,bp=0;function Zf(){for(var o=_c,u=bp=_c=0;u<o;){var h=$s[u];$s[u++]=null;var v=$s[u];$s[u++]=null;var A=$s[u];$s[u++]=null;var C=$s[u];if($s[u++]=null,v!==null&&A!==null){var G=v.pending;G===null?A.next=A:(A.next=G.next,G.next=A),v.pending=A}C!==0&&eh(h,A,C)}}function Jf(o,u,h,v){$s[_c++]=o,$s[_c++]=u,$s[_c++]=h,$s[_c++]=v,bp|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function xp(o,u,h,v){return Jf(o,u,h,v),Ma(o)}function ql(o,u){return Jf(o,null,null,u),Ma(o)}function eh(o,u,h){o.lanes|=h;var v=o.alternate;v!==null&&(v.lanes|=h);for(var A=!1,C=o.return;C!==null;)C.childLanes|=h,v=C.alternate,v!==null&&(v.childLanes|=h),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(A=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,A&&u!==null&&(A=31-Se(h),o=C.hiddenUpdates,v=o[A],v===null?o[A]=[u]:v.push(u),u.lane=h|536870912),C):null}function Ma(o){if(50<t0)throw t0=0,U5=null,Error(n(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var xa={};function wp(o,u,h,v){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ba(o,u,h,v){return new wp(o,u,h,v)}function _p(o){return o=o.prototype,!(!o||!o.isReactComponent)}function oo(o,u){var h=o.alternate;return h===null?(h=Ba(o.tag,u,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=u,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,u=o.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function th(o,u){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,u=h.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Rd(o,u,h,v,A,C){var G=0;if(v=o,typeof o=="function")_p(o)&&(G=1);else if(typeof o=="string")G=iX(o,h,re.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case D:return o=Ba(31,h,u,A),o.elementType=D,o.lanes=C,o;case S:return Eu(h.children,A,C,u);case _:G=8,A|=24;break;case k:return o=Ba(12,h,u,A|2),o.elementType=k,o.lanes=C,o;case O:return o=Ba(13,h,u,A),o.elementType=O,o.lanes=C,o;case z:return o=Ba(19,h,u,A),o.elementType=z,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:G=10;break e;case N:G=9;break e;case F:G=11;break e;case L:G=14;break e;case I:G=16,v=null;break e}G=29,h=Error(n(130,o===null?"null":typeof o,"")),v=null}return u=Ba(G,h,u,A),u.elementType=o,u.type=v,u.lanes=C,u}function Eu(o,u,h,v){return o=Ba(7,o,v,u),o.lanes=h,o}function rh(o,u,h){return o=Ba(6,o,null,u),o.lanes=h,o}function Ap(o){var u=Ba(18,null,null,0);return u.stateNode=o,u}function Od(o,u,h){return u=Ba(4,o.children!==null?o.children:[],o.key,u),u.lanes=h,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Sp=new WeakMap;function lo(o,u){if(typeof o=="object"&&o!==null){var h=Sp.get(o);return h!==void 0?h:(u={value:o,source:u,stack:Ft(u)},Sp.set(o,u),u)}return{value:o,source:u,stack:Ft(u)}}var Id=[],Ac=0,Ep=null,nh=0,uo=[],co=0,Tu=null,fo=1,ho="";function qs(o,u){Id[Ac++]=nh,Id[Ac++]=Ep,Ep=o,nh=u}function zv(o,u,h){uo[co++]=fo,uo[co++]=ho,uo[co++]=Tu,Tu=o;var v=fo;o=ho;var A=32-Se(v)-1;v&=~(1<<A),h+=1;var C=32-Se(u)+A;if(30<C){var G=A-A%5;C=(v&(1<<G)-1).toString(32),v>>=G,A-=G,fo=1<<32-Se(u)+A|h<<A|v,ho=C+o}else fo=1<<C|h<<A|v,ho=o}function Ig(o){o.return!==null&&(qs(o,1),zv(o,1,0))}function Tp(o){for(;o===Ep;)Ep=Id[--Ac],Id[Ac]=null,nh=Id[--Ac],Id[Ac]=null;for(;o===Tu;)Tu=uo[--co],uo[co]=null,ho=uo[--co],uo[co]=null,fo=uo[--co],uo[co]=null}function $v(o,u){uo[co++]=fo,uo[co++]=ho,uo[co++]=Tu,fo=u.id,ho=u.overflow,Tu=o}var wa=null,Mn=null,Vr=!1,ss=null,ui=!1,Lo=Error(n(519));function ku(o){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dd(lo(u,o)),Lo}function Dg(o){var u=o.stateNode,h=o.type,v=o.memoizedProps;switch(u[St]=o,u[Cr]=v,h){case"dialog":$r("cancel",u),$r("close",u);break;case"iframe":case"object":case"embed":$r("load",u);break;case"video":case"audio":for(h=0;h<n0.length;h++)$r(n0[h],u);break;case"source":$r("error",u);break;case"img":case"image":case"link":$r("error",u),$r("load",u);break;case"details":$r("toggle",u);break;case"input":$r("invalid",u),Td(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":$r("invalid",u);break;case"textarea":$r("invalid",u),No(u,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||v.suppressHydrationWarning===!0||jj(u.textContent,h)?(v.popover!=null&&($r("beforetoggle",u),$r("toggle",u)),v.onScroll!=null&&$r("scroll",u),v.onScrollEnd!=null&&$r("scrollend",u),v.onClick!=null&&(u.onclick=Ms),u=!0):u=!1,u||ku(o,!0)}function Hl(o){for(wa=o.return;wa;)switch(wa.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:wa=wa.return}}function _a(o){if(o!==wa)return!1;if(!Vr)return Hl(o),Vr=!0,!1;var u=o.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||t_(o.type,o.memoizedProps)),h=!h),h&&Mn&&ku(o),Hl(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Mn=Uj(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Mn=Uj(o)}else u===27?(u=Mn,Yd(o.type)?(o=s_,s_=null,Mn=o):Mn=u):Mn=wa?dl(o.stateNode.nextSibling):null;return!0}function Sc(){Mn=wa=null,Vr=!1}function Lg(){var o=ss;return o!==null&&(bo===null?bo=o:bo.push.apply(bo,o),ss=null),o}function Dd(o){ss===null?ss=[o]:ss.push(o)}var kp=Z(null),Cu=null,ll=null;function Nu(o,u,h){Q(kp,u._currentValue),u._currentValue=h}function po(o){o._currentValue=kp.current,q(kp)}function Ld(o,u,h){for(;o!==null;){var v=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),o===h)break;o=o.return}}function Ec(o,u,h,v){var A=o.child;for(A!==null&&(A.return=o);A!==null;){var C=A.dependencies;if(C!==null){var G=A.child;C=C.firstContext;e:for(;C!==null;){var ie=C;C=A;for(var Ee=0;Ee<u.length;Ee++)if(ie.context===u[Ee]){C.lanes|=h,ie=C.alternate,ie!==null&&(ie.lanes|=h),Ld(C.return,h,o),v||(G=null);break e}C=ie.next}}else if(A.tag===18){if(G=A.return,G===null)throw Error(n(341));G.lanes|=h,C=G.alternate,C!==null&&(C.lanes|=h),Ld(G,h,o),G=null}else G=A.child;if(G!==null)G.return=A;else for(G=A;G!==null;){if(G===o){G=null;break}if(A=G.sibling,A!==null){A.return=G.return,G=A;break}G=G.return}A=G}}function Pu(o,u,h,v){o=null;for(var A=u,C=!1;A!==null;){if(!C){if((A.flags&524288)!==0)C=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var G=A.alternate;if(G===null)throw Error(n(387));if(G=G.memoizedProps,G!==null){var ie=A.type;ba(A.pendingProps.value,G.value)||(o!==null?o.push(ie):o=[ie])}}else if(A===Te.current){if(G=A.alternate,G===null)throw Error(n(387));G.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(o!==null?o.push(l0):o=[l0])}A=A.return}o!==null&&Ec(u,o,h,v),u.flags|=262144}function Cp(o){for(o=o.firstContext;o!==null;){if(!ba(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ju(o){Cu=o,ll=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Aa(o){return qv(Cu,o)}function Np(o,u){return Cu===null&&ju(o),qv(o,u)}function qv(o,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},ll===null){if(o===null)throw Error(n(308));ll=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else ll=ll.next=u;return h}var a5=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(h,v){o.push(v)}};this.abort=function(){u.aborted=!0,o.forEach(function(h){return h()})}},s5=t.unstable_scheduleCallback,o5=t.unstable_NormalPriority,Si={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new a5,data:new Map,refCount:0}}function ih(o){o.refCount--,o.refCount===0&&s5(o5,function(){o.controller.abort()})}var ah=null,Pp=0,b=0,T=null;function B(o,u){if(ah===null){var h=ah=[];Pp=0,b=G5(),T={status:"pending",value:void 0,then:function(v){h.push(v)}}}return Pp++,u.then(H,H),u}function H(){if(--Pp===0&&ah!==null){T!==null&&(T.status="fulfilled");var o=ah;ah=null,b=0,T=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function X(o,u){var h=[],v={status:"pending",value:null,reason:null,then:function(A){h.push(A)}};return o.then(function(){v.status="fulfilled",v.value=u;for(var A=0;A<h.length;A++)(0,h[A])(u)},function(A){for(v.status="rejected",v.reason=A,A=0;A<h.length;A++)(0,h[A])(void 0)}),v}var te=se.S;se.S=function(o,u){tj=tr(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&B(o,u),te!==null&&te(o,u)};var ne=Z(null);function oe(){var o=ne.current;return o!==null?o:Fn.pooledCache}function ue(o,u){u===null?Q(ne,ne.current):Q(ne,u.pool)}function ge(){var o=oe();return o===null?null:{parent:Si._currentValue,pool:o}}var Ne=Error(n(460)),qe=Error(n(474)),pe=Error(n(542)),Re={then:function(){}};function Ue(o){return o=o.status,o==="fulfilled"||o==="rejected"}function nt(o,u,h){switch(h=o[h],h===void 0?o.push(u):h!==u&&(u.then(Ms,Ms),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,wt(o),o;default:if(typeof u.status=="string")u.then(Ms,Ms);else{if(o=Fn,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=u,o.status="pending",o.then(function(v){if(u.status==="pending"){var A=u;A.status="fulfilled",A.value=v}},function(v){if(u.status==="pending"){var A=u;A.status="rejected",A.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,wt(o),o}throw tt=u,Ne}}function ze(o){try{var u=o._init;return u(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(tt=h,Ne):h}}var tt=null;function ot(){if(tt===null)throw Error(n(459));var o=tt;return tt=null,o}function wt(o){if(o===Ne||o===pe)throw Error(n(483))}var ht=null,Qt=0;function Lt(o){var u=Qt;return Qt+=1,ht===null&&(ht=[]),nt(ht,o,u)}function Sr(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function Gt(o,u){throw u.$$typeof===g?Error(n(525)):(o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Ur(o){function u(Me,Pe){if(o){var Ge=Me.deletions;Ge===null?(Me.deletions=[Pe],Me.flags|=16):Ge.push(Pe)}}function h(Me,Pe){if(!o)return null;for(;Pe!==null;)u(Me,Pe),Pe=Pe.sibling;return null}function v(Me){for(var Pe=new Map;Me!==null;)Me.key!==null?Pe.set(Me.key,Me):Pe.set(Me.index,Me),Me=Me.sibling;return Pe}function A(Me,Pe){return Me=oo(Me,Pe),Me.index=0,Me.sibling=null,Me}function C(Me,Pe,Ge){return Me.index=Ge,o?(Ge=Me.alternate,Ge!==null?(Ge=Ge.index,Ge<Pe?(Me.flags|=67108866,Pe):Ge):(Me.flags|=67108866,Pe)):(Me.flags|=1048576,Pe)}function G(Me){return o&&Me.alternate===null&&(Me.flags|=67108866),Me}function ie(Me,Pe,Ge,ut){return Pe===null||Pe.tag!==6?(Pe=rh(Ge,Me.mode,ut),Pe.return=Me,Pe):(Pe=A(Pe,Ge),Pe.return=Me,Pe)}function Ee(Me,Pe,Ge,ut){var mr=Ge.type;return mr===S?st(Me,Pe,Ge.props.children,ut,Ge.key):Pe!==null&&(Pe.elementType===mr||typeof mr=="object"&&mr!==null&&mr.$$typeof===I&&ze(mr)===Pe.type)?(Pe=A(Pe,Ge.props),Sr(Pe,Ge),Pe.return=Me,Pe):(Pe=Rd(Ge.type,Ge.key,Ge.props,null,Me.mode,ut),Sr(Pe,Ge),Pe.return=Me,Pe)}function Ke(Me,Pe,Ge,ut){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==Ge.containerInfo||Pe.stateNode.implementation!==Ge.implementation?(Pe=Od(Ge,Me.mode,ut),Pe.return=Me,Pe):(Pe=A(Pe,Ge.children||[]),Pe.return=Me,Pe)}function st(Me,Pe,Ge,ut,mr){return Pe===null||Pe.tag!==7?(Pe=Eu(Ge,Me.mode,ut,mr),Pe.return=Me,Pe):(Pe=A(Pe,Ge),Pe.return=Me,Pe)}function ft(Me,Pe,Ge){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=rh(""+Pe,Me.mode,Ge),Pe.return=Me,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case m:return Ge=Rd(Pe.type,Pe.key,Pe.props,null,Me.mode,Ge),Sr(Ge,Pe),Ge.return=Me,Ge;case w:return Pe=Od(Pe,Me.mode,Ge),Pe.return=Me,Pe;case I:return Pe=ze(Pe),ft(Me,Pe,Ge)}if(_e(Pe)||V(Pe))return Pe=Eu(Pe,Me.mode,Ge,null),Pe.return=Me,Pe;if(typeof Pe.then=="function")return ft(Me,Lt(Pe),Ge);if(Pe.$$typeof===P)return ft(Me,Np(Me,Pe),Ge);Gt(Me,Pe)}return null}function Qe(Me,Pe,Ge,ut){var mr=Pe!==null?Pe.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return mr!==null?null:ie(Me,Pe,""+Ge,ut);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case m:return Ge.key===mr?Ee(Me,Pe,Ge,ut):null;case w:return Ge.key===mr?Ke(Me,Pe,Ge,ut):null;case I:return Ge=ze(Ge),Qe(Me,Pe,Ge,ut)}if(_e(Ge)||V(Ge))return mr!==null?null:st(Me,Pe,Ge,ut,null);if(typeof Ge.then=="function")return Qe(Me,Pe,Lt(Ge),ut);if(Ge.$$typeof===P)return Qe(Me,Pe,Np(Me,Ge),ut);Gt(Me,Ge)}return null}function Ze(Me,Pe,Ge,ut,mr){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Me=Me.get(Ge)||null,ie(Pe,Me,""+ut,mr);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case m:return Me=Me.get(ut.key===null?Ge:ut.key)||null,Ee(Pe,Me,ut,mr);case w:return Me=Me.get(ut.key===null?Ge:ut.key)||null,Ke(Pe,Me,ut,mr);case I:return ut=ze(ut),Ze(Me,Pe,Ge,ut,mr)}if(_e(ut)||V(ut))return Me=Me.get(Ge)||null,st(Pe,Me,ut,mr,null);if(typeof ut.then=="function")return Ze(Me,Pe,Ge,Lt(ut),mr);if(ut.$$typeof===P)return Ze(Me,Pe,Ge,Np(Pe,ut),mr);Gt(Pe,ut)}return null}function Kt(Me,Pe,Ge,ut){for(var mr=null,un=null,nr=Pe,Ir=Pe=0,Wr=null;nr!==null&&Ir<Ge.length;Ir++){nr.index>Ir?(Wr=nr,nr=null):Wr=nr.sibling;var cn=Qe(Me,nr,Ge[Ir],ut);if(cn===null){nr===null&&(nr=Wr);break}o&&nr&&cn.alternate===null&&u(Me,nr),Pe=C(cn,Pe,Ir),un===null?mr=cn:un.sibling=cn,un=cn,nr=Wr}if(Ir===Ge.length)return h(Me,nr),Vr&&qs(Me,Ir),mr;if(nr===null){for(;Ir<Ge.length;Ir++)nr=ft(Me,Ge[Ir],ut),nr!==null&&(Pe=C(nr,Pe,Ir),un===null?mr=nr:un.sibling=nr,un=nr);return Vr&&qs(Me,Ir),mr}for(nr=v(nr);Ir<Ge.length;Ir++)Wr=Ze(nr,Me,Ir,Ge[Ir],ut),Wr!==null&&(o&&Wr.alternate!==null&&nr.delete(Wr.key===null?Ir:Wr.key),Pe=C(Wr,Pe,Ir),un===null?mr=Wr:un.sibling=Wr,un=Wr);return o&&nr.forEach(function(ef){return u(Me,ef)}),Vr&&qs(Me,Ir),mr}function vr(Me,Pe,Ge,ut){if(Ge==null)throw Error(n(151));for(var mr=null,un=null,nr=Pe,Ir=Pe=0,Wr=null,cn=Ge.next();nr!==null&&!cn.done;Ir++,cn=Ge.next()){nr.index>Ir?(Wr=nr,nr=null):Wr=nr.sibling;var ef=Qe(Me,nr,cn.value,ut);if(ef===null){nr===null&&(nr=Wr);break}o&&nr&&ef.alternate===null&&u(Me,nr),Pe=C(ef,Pe,Ir),un===null?mr=ef:un.sibling=ef,un=ef,nr=Wr}if(cn.done)return h(Me,nr),Vr&&qs(Me,Ir),mr;if(nr===null){for(;!cn.done;Ir++,cn=Ge.next())cn=ft(Me,cn.value,ut),cn!==null&&(Pe=C(cn,Pe,Ir),un===null?mr=cn:un.sibling=cn,un=cn);return Vr&&qs(Me,Ir),mr}for(nr=v(nr);!cn.done;Ir++,cn=Ge.next())cn=Ze(nr,Me,Ir,cn.value,ut),cn!==null&&(o&&cn.alternate!==null&&nr.delete(cn.key===null?Ir:cn.key),Pe=C(cn,Pe,Ir),un===null?mr=cn:un.sibling=cn,un=cn);return o&&nr.forEach(function(mX){return u(Me,mX)}),Vr&&qs(Me,Ir),mr}function Dn(Me,Pe,Ge,ut){if(typeof Ge=="object"&&Ge!==null&&Ge.type===S&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case m:e:{for(var mr=Ge.key;Pe!==null;){if(Pe.key===mr){if(mr=Ge.type,mr===S){if(Pe.tag===7){h(Me,Pe.sibling),ut=A(Pe,Ge.props.children),ut.return=Me,Me=ut;break e}}else if(Pe.elementType===mr||typeof mr=="object"&&mr!==null&&mr.$$typeof===I&&ze(mr)===Pe.type){h(Me,Pe.sibling),ut=A(Pe,Ge.props),Sr(ut,Ge),ut.return=Me,Me=ut;break e}h(Me,Pe);break}else u(Me,Pe);Pe=Pe.sibling}Ge.type===S?(ut=Eu(Ge.props.children,Me.mode,ut,Ge.key),ut.return=Me,Me=ut):(ut=Rd(Ge.type,Ge.key,Ge.props,null,Me.mode,ut),Sr(ut,Ge),ut.return=Me,Me=ut)}return G(Me);case w:e:{for(mr=Ge.key;Pe!==null;){if(Pe.key===mr)if(Pe.tag===4&&Pe.stateNode.containerInfo===Ge.containerInfo&&Pe.stateNode.implementation===Ge.implementation){h(Me,Pe.sibling),ut=A(Pe,Ge.children||[]),ut.return=Me,Me=ut;break e}else{h(Me,Pe);break}else u(Me,Pe);Pe=Pe.sibling}ut=Od(Ge,Me.mode,ut),ut.return=Me,Me=ut}return G(Me);case I:return Ge=ze(Ge),Dn(Me,Pe,Ge,ut)}if(_e(Ge))return Kt(Me,Pe,Ge,ut);if(V(Ge)){if(mr=V(Ge),typeof mr!="function")throw Error(n(150));return Ge=mr.call(Ge),vr(Me,Pe,Ge,ut)}if(typeof Ge.then=="function")return Dn(Me,Pe,Lt(Ge),ut);if(Ge.$$typeof===P)return Dn(Me,Pe,Np(Me,Ge),ut);Gt(Me,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint"?(Ge=""+Ge,Pe!==null&&Pe.tag===6?(h(Me,Pe.sibling),ut=A(Pe,Ge),ut.return=Me,Me=ut):(h(Me,Pe),ut=rh(Ge,Me.mode,ut),ut.return=Me,Me=ut),G(Me)):h(Me,Pe)}return function(Me,Pe,Ge,ut){try{Qt=0;var mr=Dn(Me,Pe,Ge,ut);return ht=null,mr}catch(nr){if(nr===Ne||nr===pe)throw nr;var un=Ba(29,nr,null,Me.mode);return un.lanes=ut,un.return=Me,un}finally{}}}var Bn=Ur(!0),Nr=Ur(!1),Mt=!1;function Tt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yn(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function yr(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Or(o,u,h){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(mn&2)!==0){var A=v.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),v.pending=u,u=Ma(o),eh(o,null,h),u}return Jf(o,v,u,h),Ma(o)}function hn(o,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var v=u.lanes;v&=o.pendingLanes,h|=v,u.lanes=h,$e(o,h)}}function Wi(o,u){var h=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var A=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var G={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};C===null?A=C=G:C=C.next=G,h=h.next}while(h!==null);C===null?A=C=u:C=C.next=u}else A=C=u;h={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=u}var Sa=!1;function Rn(){if(Sa){var o=T;if(o!==null)throw o}}function ji(o,u,h,v){Sa=!1;var A=o.updateQueue;Mt=!1;var C=A.firstBaseUpdate,G=A.lastBaseUpdate,ie=A.shared.pending;if(ie!==null){A.shared.pending=null;var Ee=ie,Ke=Ee.next;Ee.next=null,G===null?C=Ke:G.next=Ke,G=Ee;var st=o.alternate;st!==null&&(st=st.updateQueue,ie=st.lastBaseUpdate,ie!==G&&(ie===null?st.firstBaseUpdate=Ke:ie.next=Ke,st.lastBaseUpdate=Ee))}if(C!==null){var ft=A.baseState;G=0,st=Ke=Ee=null,ie=C;do{var Qe=ie.lane&-536870913,Ze=Qe!==ie.lane;if(Ze?(Gr&Qe)===Qe:(v&Qe)===Qe){Qe!==0&&Qe===b&&(Sa=!0),st!==null&&(st=st.next={lane:0,tag:ie.tag,payload:ie.payload,callback:null,next:null});e:{var Kt=o,vr=ie;Qe=u;var Dn=h;switch(vr.tag){case 1:if(Kt=vr.payload,typeof Kt=="function"){ft=Kt.call(Dn,ft,Qe);break e}ft=Kt;break e;case 3:Kt.flags=Kt.flags&-65537|128;case 0:if(Kt=vr.payload,Qe=typeof Kt=="function"?Kt.call(Dn,ft,Qe):Kt,Qe==null)break e;ft=p({},ft,Qe);break e;case 2:Mt=!0}}Qe=ie.callback,Qe!==null&&(o.flags|=64,Ze&&(o.flags|=8192),Ze=A.callbacks,Ze===null?A.callbacks=[Qe]:Ze.push(Qe))}else Ze={lane:Qe,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},st===null?(Ke=st=Ze,Ee=ft):st=st.next=Ze,G|=Qe;if(ie=ie.next,ie===null){if(ie=A.shared.pending,ie===null)break;Ze=ie,ie=Ze.next,Ze.next=null,A.lastBaseUpdate=Ze,A.shared.pending=null}}while(!0);st===null&&(Ee=ft),A.baseState=Ee,A.firstBaseUpdate=Ke,A.lastBaseUpdate=st,C===null&&(A.shared.lanes=0),qd|=G,o.lanes=G,o.memoizedState=ft}}function Fa(o,u){if(typeof o!="function")throw Error(n(191,o));o.call(u)}function Ri(o,u){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)Fa(h[o],u)}var Lr=Z(null),Jr=Z(0);function Xn(o,u){o=Dc,Q(Jr,o),Q(Lr,u),Dc=o|u.baseLanes}function an(){Q(Jr,Dc),Q(Lr,Lr.current)}function Ki(){Dc=Jr.current,q(Lr),q(Jr)}var Qn=Z(null),en=null;function Ei(o){var u=o.alternate;Q(Zr,Zr.current&1),Q(Qn,o),en===null&&(u===null||Lr.current!==null||u.memoizedState!==null)&&(en=o)}function pn(o){Q(Zr,Zr.current),Q(Qn,o),en===null&&(en=o)}function Oi(o){o.tag===22?(Q(Zr,Zr.current),Q(Qn,o),en===null&&(en=o)):Ii()}function Ii(){Q(Zr,Zr.current),Q(Qn,Qn.current)}function An(o){q(Qn),en===o&&(en=null),q(Zr)}var Zr=Z(0);function Ua(o){for(var u=o;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||i_(h)||a_(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ci=0,cr=null,pr=null,tn=null,xs=!1,mo=!1,os=!1,Di=0,Ru=0,Ou=null,jp=0;function On(){throw Error(n(321))}function Mg(o,u){if(u===null)return!1;for(var h=0;h<u.length&&h<o.length;h++)if(!ba(o[h],u[h]))return!1;return!0}function Bg(o,u,h,v,A,C){return ci=C,cr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,se.H=o===null||o.memoizedState===null?f3:m5,os=!1,C=h(v,A),os=!1,mo&&(C=Gl(u,h,v,A)),Rp(o),C}function Rp(o){se.H=Gg;var u=pr!==null&&pr.next!==null;if(ci=0,tn=pr=cr=null,xs=!1,Ru=0,Ou=null,u)throw Error(n(300));o===null||oa||(o=o.dependencies,o!==null&&Cp(o)&&(oa=!0))}function Gl(o,u,h,v){cr=o;var A=0;do{if(mo&&(Ou=null),Ru=0,mo=!1,25<=A)throw Error(n(301));if(A+=1,tn=pr=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}se.H=h3,C=u(h,v)}while(mo);return C}function l5(){var o=se.H,u=o.useState()[0];return u=typeof u.then=="function"?Iu(u):u,o=o.useState()[0],(pr!==null?pr.memoizedState:null)!==o&&(cr.flags|=1024),u}function Fg(){var o=Di!==0;return Di=0,o}function Ug(o,u,h){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~h}function Op(o){if(xs){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}xs=!1}ci=0,tn=pr=cr=null,mo=!1,Ru=Di=0,Ou=null}function sa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?cr.memoizedState=tn=o:tn=tn.next=o,tn}function di(){if(pr===null){var o=cr.alternate;o=o!==null?o.memoizedState:null}else o=pr.next;var u=tn===null?cr.memoizedState:tn.next;if(u!==null)tn=u,pr=o;else{if(o===null)throw cr.alternate===null?Error(n(467)):Error(n(310));pr=o,o={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},tn===null?cr.memoizedState=tn=o:tn=tn.next=o}return tn}function sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Iu(o){var u=Ru;return Ru+=1,Ou===null&&(Ou=[]),o=nt(Ou,o,u),u=cr,(tn===null?u.memoizedState:tn.next)===null&&(u=u.alternate,se.H=u===null||u.memoizedState===null?f3:m5),o}function Bd(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Iu(o);if(o.$$typeof===P)return Aa(o)}throw Error(n(438,String(o)))}function Tc(o){var u=null,h=cr.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var v=cr.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(A){return A.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=sh(),cr.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(o),v=0;v<o;v++)h[v]=$;return u.index++,h}function ul(o,u){return typeof u=="function"?u(o):u}function Ip(o){var u=di();return Fd(u,pr,o)}function Fd(o,u,h){var v=o.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=h;var A=o.baseQueue,C=v.pending;if(C!==null){if(A!==null){var G=A.next;A.next=C.next,C.next=G}u.baseQueue=A=C,v.pending=null}if(C=o.baseState,A===null)o.memoizedState=C;else{u=A.next;var ie=G=null,Ee=null,Ke=u,st=!1;do{var ft=Ke.lane&-536870913;if(ft!==Ke.lane?(Gr&ft)===ft:(ci&ft)===ft){var Qe=Ke.revertLane;if(Qe===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,gesture:null,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),ft===b&&(st=!0);else if((ci&Qe)===Qe){Ke=Ke.next,Qe===b&&(st=!0);continue}else ft={lane:0,revertLane:Ke.revertLane,gesture:null,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Ee===null?(ie=Ee=ft,G=C):Ee=Ee.next=ft,cr.lanes|=Qe,qd|=Qe;ft=Ke.action,os&&h(C,ft),C=Ke.hasEagerState?Ke.eagerState:h(C,ft)}else Qe={lane:ft,revertLane:Ke.revertLane,gesture:Ke.gesture,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Ee===null?(ie=Ee=Qe,G=C):Ee=Ee.next=Qe,cr.lanes|=ft,qd|=ft;Ke=Ke.next}while(Ke!==null&&Ke!==u);if(Ee===null?G=C:Ee.next=ie,!ba(C,o.memoizedState)&&(oa=!0,st&&(h=T,h!==null)))throw h;o.memoizedState=C,o.baseState=G,o.baseQueue=Ee,v.lastRenderedState=C}return A===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function Dp(o){var u=di(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var v=h.dispatch,A=h.pending,C=u.memoizedState;if(A!==null){h.pending=null;var G=A=A.next;do C=o(C,G.action),G=G.next;while(G!==A);ba(C,u.memoizedState)||(oa=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),h.lastRenderedState=C}return[C,v]}function Lp(o,u,h){var v=cr,A=di(),C=Vr;if(C){if(h===void 0)throw Error(n(407));h=h()}else h=u();var G=!ba((pr||A).memoizedState,h);if(G&&(A.memoizedState=h,oa=!0),A=A.queue,u5(zg.bind(null,v,A,o),[o]),A.getSnapshot!==u||G||tn!==null&&tn.memoizedState.tag&1){if(v.flags|=2048,Cc(9,{destroy:void 0},Vg.bind(null,v,A,h,u),null),Fn===null)throw Error(n(349));C||(ci&127)!==0||Wl(v,u,h)}return h}function Wl(o,u,h){o.flags|=16384,o={getSnapshot:u,value:h},u=cr.updateQueue,u===null?(u=sh(),cr.updateQueue=u,u.stores=[o]):(h=u.stores,h===null?u.stores=[o]:h.push(o))}function Vg(o,u,h,v){u.value=h,u.getSnapshot=v,Hv(u)&&$g(o)}function zg(o,u,h){return h(function(){Hv(u)&&$g(o)})}function Hv(o){var u=o.getSnapshot;o=o.value;try{var h=u();return!ba(o,h)}catch{return!0}}function $g(o){var u=ql(o,2);u!==null&&xo(u,o,2)}function Du(o){var u=sa();if(typeof o=="function"){var h=o;if(o=h(),os){Ht(!0);try{h()}finally{Ht(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:o},u}function Gv(o,u,h,v){return o.baseState=h,Fd(o,pr,typeof v=="function"?v:ul)}function Wv(o,u,h,v,A){if(Qv(o))throw Error(n(485));if(o=u.action,o!==null){var C={payload:A,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){C.listeners.push(G)}};se.T!==null?h(!0):C.isTransition=!1,v(C),h=u.pending,h===null?(C.next=u.pending=C,Kv(u,C)):(C.next=h.next,u.pending=h.next=C)}}function Kv(o,u){var h=u.action,v=u.payload,A=o.state;if(u.isTransition){var C=se.T,G={};se.T=G;try{var ie=h(A,v),Ee=se.S;Ee!==null&&Ee(G,ie),qg(o,u,ie)}catch(Ke){kc(o,u,Ke)}finally{C!==null&&G.types!==null&&(C.types=G.types),se.T=C}}else try{C=h(A,v),qg(o,u,C)}catch(Ke){kc(o,u,Ke)}}function qg(o,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){Yv(o,u,v)},function(v){return kc(o,u,v)}):Yv(o,u,h)}function Yv(o,u,h){u.status="fulfilled",u.value=h,Mp(u),o.state=h,u=o.pending,u!==null&&(h=u.next,h===u?o.pending=null:(h=h.next,u.next=h,Kv(o,h)))}function kc(o,u,h){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=h,Mp(u),u=u.next;while(u!==v)}o.action=null}function Mp(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function oh(o,u){return u}function cl(o,u){if(Vr){var h=Fn.formState;if(h!==null){e:{var v=cr;if(Vr){if(Mn){t:{for(var A=Mn,C=ui;A.nodeType!==8;){if(!C){A=null;break t}if(A=dl(A.nextSibling),A===null){A=null;break t}}C=A.data,A=C==="F!"||C==="F"?A:null}if(A){Mn=dl(A.nextSibling),v=A.data==="F!";break e}}ku(v)}v=!1}v&&(u=h[0])}}return h=sa(),h.memoizedState=h.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oh,lastRenderedState:u},h.queue=v,h=u3.bind(null,cr,v),v.dispatch=h,v=Du(!1),C=p5.bind(null,cr,!1,v.queue),v=sa(),A={state:u,dispatch:null,action:o,pending:null},v.queue=A,h=Wv.bind(null,cr,A,C,h),A.dispatch=h,v.memoizedState=o,[u,h,!1]}function Kl(o){var u=di();return Yl(u,pr,o)}function Yl(o,u,h){if(u=Fd(o,u,oh)[0],o=Ip(ul)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=Iu(u)}catch(G){throw G===Ne?pe:G}else v=u;u=di();var A=u.queue,C=A.dispatch;return h!==u.memoizedState&&(cr.flags|=2048,Cc(9,{destroy:void 0},Bp.bind(null,A,h),null)),[v,C,o]}function Bp(o,u){o.action=u}function Fp(o){var u=di(),h=pr;if(h!==null)return Yl(u,h,o);di(),u=u.memoizedState,h=di();var v=h.queue.dispatch;return h.memoizedState=o,[u,v,!1]}function Cc(o,u,h,v){return o={tag:o,create:h,deps:v,inst:u,next:null},u=cr.updateQueue,u===null&&(u=sh(),cr.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=o.next=o:(v=h.next,h.next=o,o.next=v,u.lastEffect=o),o}function Xv(){return di().memoizedState}function Ud(o,u,h,v){var A=sa();cr.flags|=o,A.memoizedState=Cc(1|u,{destroy:void 0},h,v===void 0?null:v)}function Vd(o,u,h,v){var A=di();v=v===void 0?null:v;var C=A.memoizedState.inst;pr!==null&&v!==null&&Mg(v,pr.memoizedState.deps)?A.memoizedState=Cc(u,C,h,v):(cr.flags|=o,A.memoizedState=Cc(1|u,C,h,v))}function YP(o,u){Ud(8390656,8,o,u)}function u5(o,u){Vd(2048,8,o,u)}function uY(o){cr.flags|=4;var u=cr.updateQueue;if(u===null)u=sh(),cr.updateQueue=u,u.events=[o];else{var h=u.events;h===null?u.events=[o]:h.push(o)}}function XP(o){var u=di().memoizedState;return uY({ref:u,nextImpl:o}),function(){if((mn&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function QP(o,u){return Vd(4,2,o,u)}function ZP(o,u){return Vd(4,4,o,u)}function JP(o,u){if(typeof u=="function"){o=o();var h=u(o);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function e3(o,u,h){h=h!=null?h.concat([o]):null,Vd(4,4,JP.bind(null,u,o),h)}function c5(){}function t3(o,u){var h=di();u=u===void 0?null:u;var v=h.memoizedState;return u!==null&&Mg(u,v[1])?v[0]:(h.memoizedState=[o,u],o)}function r3(o,u){var h=di();u=u===void 0?null:u;var v=h.memoizedState;if(u!==null&&Mg(u,v[1]))return v[0];if(v=o(),os){Ht(!0);try{o()}finally{Ht(!1)}}return h.memoizedState=[v,u],v}function d5(o,u,h){return h===void 0||(ci&1073741824)!==0&&(Gr&261930)===0?o.memoizedState=u:(o.memoizedState=h,o=nj(),cr.lanes|=o,qd|=o,h)}function n3(o,u,h,v){return ba(h,u)?h:Lr.current!==null?(o=d5(o,h,v),ba(o,u)||(oa=!0),o):(ci&42)===0||(ci&1073741824)!==0&&(Gr&261930)===0?(oa=!0,o.memoizedState=h):(o=nj(),cr.lanes|=o,qd|=o,u)}function i3(o,u,h,v,A){var C=ee.p;ee.p=C!==0&&8>C?C:8;var G=se.T,ie={};se.T=ie,p5(o,!1,u,h);try{var Ee=A(),Ke=se.S;if(Ke!==null&&Ke(ie,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var st=X(Ee,v);Hg(o,u,st,Fo(o))}else Hg(o,u,v,Fo(o))}catch(ft){Hg(o,u,{then:function(){},status:"rejected",reason:ft},Fo())}finally{ee.p=C,G!==null&&ie.types!==null&&(G.types=ie.types),se.T=G}}function cY(){}function f5(o,u,h,v){if(o.tag!==5)throw Error(n(476));var A=a3(o).queue;i3(o,A,u,fe,h===null?cY:function(){return s3(o),h(v)})}function a3(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:fe},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:h},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function s3(o){var u=a3(o);u.next===null&&(u=o.alternate.memoizedState),Hg(o,u.next.queue,{},Fo())}function h5(){return Aa(l0)}function o3(){return di().memoizedState}function l3(){return di().memoizedState}function dY(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var h=Fo();o=yr(h);var v=Or(u,o,h);v!==null&&(xo(v,u,h),hn(v,u,h)),u={cache:Md()},o.payload=u;return}u=u.return}}function fY(o,u,h){var v=Fo();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Qv(o)?c3(u,h):(h=xp(o,u,h,v),h!==null&&(xo(h,o,v),d3(h,u,v)))}function u3(o,u,h){var v=Fo();Hg(o,u,h,v)}function Hg(o,u,h,v){var A={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Qv(o))c3(u,A);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var G=u.lastRenderedState,ie=C(G,h);if(A.hasEagerState=!0,A.eagerState=ie,ba(ie,G))return Jf(o,u,A,0),Fn===null&&Zf(),!1}catch{}finally{}if(h=xp(o,u,A,v),h!==null)return xo(h,o,v),d3(h,u,v),!0}return!1}function p5(o,u,h,v){if(v={lane:2,revertLane:G5(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Qv(o)){if(u)throw Error(n(479))}else u=xp(o,h,v,2),u!==null&&xo(u,o,2)}function Qv(o){var u=o.alternate;return o===cr||u!==null&&u===cr}function c3(o,u){mo=xs=!0;var h=o.pending;h===null?u.next=u:(u.next=h.next,h.next=u),o.pending=u}function d3(o,u,h){if((h&4194048)!==0){var v=u.lanes;v&=o.pendingLanes,h|=v,u.lanes=h,$e(o,h)}}var Gg={readContext:Aa,use:Bd,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On,useHostTransitionStatus:On,useFormState:On,useActionState:On,useOptimistic:On,useMemoCache:On,useCacheRefresh:On};Gg.useEffectEvent=On;var f3={readContext:Aa,use:Bd,useCallback:function(o,u){return sa().memoizedState=[o,u===void 0?null:u],o},useContext:Aa,useEffect:YP,useImperativeHandle:function(o,u,h){h=h!=null?h.concat([o]):null,Ud(4194308,4,JP.bind(null,u,o),h)},useLayoutEffect:function(o,u){return Ud(4194308,4,o,u)},useInsertionEffect:function(o,u){Ud(4,2,o,u)},useMemo:function(o,u){var h=sa();u=u===void 0?null:u;var v=o();if(os){Ht(!0);try{o()}finally{Ht(!1)}}return h.memoizedState=[v,u],v},useReducer:function(o,u,h){var v=sa();if(h!==void 0){var A=h(u);if(os){Ht(!0);try{h(u)}finally{Ht(!1)}}}else A=u;return v.memoizedState=v.baseState=A,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:A},v.queue=o,o=o.dispatch=fY.bind(null,cr,o),[v.memoizedState,o]},useRef:function(o){var u=sa();return o={current:o},u.memoizedState=o},useState:function(o){o=Du(o);var u=o.queue,h=u3.bind(null,cr,u);return u.dispatch=h,[o.memoizedState,h]},useDebugValue:c5,useDeferredValue:function(o,u){var h=sa();return d5(h,o,u)},useTransition:function(){var o=Du(!1);return o=i3.bind(null,cr,o.queue,!0,!1),sa().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,h){var v=cr,A=sa();if(Vr){if(h===void 0)throw Error(n(407));h=h()}else{if(h=u(),Fn===null)throw Error(n(349));(Gr&127)!==0||Wl(v,u,h)}A.memoizedState=h;var C={value:h,getSnapshot:u};return A.queue=C,YP(zg.bind(null,v,C,o),[o]),v.flags|=2048,Cc(9,{destroy:void 0},Vg.bind(null,v,C,h,u),null),h},useId:function(){var o=sa(),u=Fn.identifierPrefix;if(Vr){var h=ho,v=fo;h=(v&~(1<<32-Se(v)-1)).toString(32)+h,u="_"+u+"R_"+h,h=Di++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=jp++,u="_"+u+"r_"+h.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:h5,useFormState:cl,useActionState:cl,useOptimistic:function(o){var u=sa();u.memoizedState=u.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=p5.bind(null,cr,!0,h),h.dispatch=u,[o,u]},useMemoCache:Tc,useCacheRefresh:function(){return sa().memoizedState=dY.bind(null,cr)},useEffectEvent:function(o){var u=sa(),h={impl:o};return u.memoizedState=h,function(){if((mn&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},m5={readContext:Aa,use:Bd,useCallback:t3,useContext:Aa,useEffect:u5,useImperativeHandle:e3,useInsertionEffect:QP,useLayoutEffect:ZP,useMemo:r3,useReducer:Ip,useRef:Xv,useState:function(){return Ip(ul)},useDebugValue:c5,useDeferredValue:function(o,u){var h=di();return n3(h,pr.memoizedState,o,u)},useTransition:function(){var o=Ip(ul)[0],u=di().memoizedState;return[typeof o=="boolean"?o:Iu(o),u]},useSyncExternalStore:Lp,useId:o3,useHostTransitionStatus:h5,useFormState:Kl,useActionState:Kl,useOptimistic:function(o,u){var h=di();return Gv(h,pr,o,u)},useMemoCache:Tc,useCacheRefresh:l3};m5.useEffectEvent=XP;var h3={readContext:Aa,use:Bd,useCallback:t3,useContext:Aa,useEffect:u5,useImperativeHandle:e3,useInsertionEffect:QP,useLayoutEffect:ZP,useMemo:r3,useReducer:Dp,useRef:Xv,useState:function(){return Dp(ul)},useDebugValue:c5,useDeferredValue:function(o,u){var h=di();return pr===null?d5(h,o,u):n3(h,pr.memoizedState,o,u)},useTransition:function(){var o=Dp(ul)[0],u=di().memoizedState;return[typeof o=="boolean"?o:Iu(o),u]},useSyncExternalStore:Lp,useId:o3,useHostTransitionStatus:h5,useFormState:Fp,useActionState:Fp,useOptimistic:function(o,u){var h=di();return pr!==null?Gv(h,pr,o,u):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:Tc,useCacheRefresh:l3};h3.useEffectEvent=XP;function g5(o,u,h,v){u=o.memoizedState,h=h(v,u),h=h==null?u:p({},u,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var y5={enqueueSetState:function(o,u,h){o=o._reactInternals;var v=Fo(),A=yr(v);A.payload=u,h!=null&&(A.callback=h),u=Or(o,A,v),u!==null&&(xo(u,o,v),hn(u,o,v))},enqueueReplaceState:function(o,u,h){o=o._reactInternals;var v=Fo(),A=yr(v);A.tag=1,A.payload=u,h!=null&&(A.callback=h),u=Or(o,A,v),u!==null&&(xo(u,o,v),hn(u,o,v))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var h=Fo(),v=yr(h);v.tag=2,u!=null&&(v.callback=u),u=Or(o,v,h),u!==null&&(xo(u,o,h),hn(u,o,h))}};function p3(o,u,h,v,A,C,G){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,C,G):u.prototype&&u.prototype.isPureReactComponent?!Ul(h,v)||!Ul(A,C):!0}function m3(o,u,h,v){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,v),u.state!==o&&y5.enqueueReplaceState(u,u.state,null)}function lh(o,u){var h=u;if("ref"in u){h={};for(var v in u)v!=="ref"&&(h[v]=u[v])}if(o=o.defaultProps){h===u&&(h=p({},h));for(var A in o)h[A]===void 0&&(h[A]=o[A])}return h}function g3(o){Qf(o)}function y3(o){console.error(o)}function v3(o){Qf(o)}function Zv(o,u){try{var h=o.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function b3(o,u,h){try{var v=o.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function v5(o,u,h){return h=yr(h),h.tag=3,h.payload={element:null},h.callback=function(){Zv(o,u)},h}function x3(o){return o=yr(o),o.tag=3,o}function w3(o,u,h,v){var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var C=v.value;o.payload=function(){return A(C)},o.callback=function(){b3(u,h,v)}}var G=h.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(o.callback=function(){b3(u,h,v),typeof A!="function"&&(Hd===null?Hd=new Set([this]):Hd.add(this));var ie=v.stack;this.componentDidCatch(v.value,{componentStack:ie!==null?ie:""})})}function hY(o,u,h,v,A){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=h.alternate,u!==null&&Pu(u,h,A,!0),h=Qn.current,h!==null){switch(h.tag){case 31:case 13:return en===null?c1():h.alternate===null&&Li===0&&(Li=3),h.flags&=-257,h.flags|=65536,h.lanes=A,v===Re?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([v]):u.add(v),$5(o,v,A)),!1;case 22:return h.flags|=65536,v===Re?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([v]):h.add(v)),$5(o,v,A)),!1}throw Error(n(435,h.tag))}return $5(o,v,A),c1(),!1}if(Vr)return u=Qn.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=A,v!==Lo&&(o=Error(n(422),{cause:v}),Dd(lo(o,h)))):(v!==Lo&&(u=Error(n(423),{cause:v}),Dd(lo(u,h))),o=o.current.alternate,o.flags|=65536,A&=-A,o.lanes|=A,v=lo(v,h),A=v5(o.stateNode,v,A),Wi(o,A),Li!==4&&(Li=2)),!1;var C=Error(n(520),{cause:v});if(C=lo(C,h),e0===null?e0=[C]:e0.push(C),Li!==4&&(Li=2),u===null)return!0;v=lo(v,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,o=A&-A,h.lanes|=o,o=v5(h.stateNode,v,o),Wi(h,o),!1;case 1:if(u=h.type,C=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Hd===null||!Hd.has(C))))return h.flags|=65536,A&=-A,h.lanes|=A,A=x3(A),w3(A,o,h,v),Wi(h,A),!1}h=h.return}while(h!==null);return!1}var b5=Error(n(461)),oa=!1;function ls(o,u,h,v){u.child=o===null?Nr(u,null,h,v):Bn(u,o.child,h,v)}function _3(o,u,h,v,A){h=h.render;var C=u.ref;if("ref"in v){var G={};for(var ie in v)ie!=="ref"&&(G[ie]=v[ie])}else G=v;return ju(u),v=Bg(o,u,h,G,C,A),ie=Fg(),o!==null&&!oa?(Ug(o,u,A),Nc(o,u,A)):(Vr&&ie&&Ig(u),u.flags|=1,ls(o,u,v,A),u.child)}function A3(o,u,h,v,A){if(o===null){var C=h.type;return typeof C=="function"&&!_p(C)&&C.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=C,S3(o,u,C,v,A)):(o=Rd(h.type,null,v,u,u.mode,A),o.ref=u.ref,o.return=u,u.child=o)}if(C=o.child,!k5(o,A)){var G=C.memoizedProps;if(h=h.compare,h=h!==null?h:Ul,h(G,v)&&o.ref===u.ref)return Nc(o,u,A)}return u.flags|=1,o=oo(C,v),o.ref=u.ref,o.return=u,u.child=o}function S3(o,u,h,v,A){if(o!==null){var C=o.memoizedProps;if(Ul(C,v)&&o.ref===u.ref)if(oa=!1,u.pendingProps=v=C,k5(o,A))(o.flags&131072)!==0&&(oa=!0);else return u.lanes=o.lanes,Nc(o,u,A)}return x5(o,u,h,v,A)}function E3(o,u,h,v){var A=v.children,C=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((u.flags&128)!==0){if(C=C!==null?C.baseLanes|h:h,o!==null){for(v=u.child=o.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;v=A&~C}else v=0,u.child=null;return T3(o,u,C,h,v)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&ue(u,C!==null?C.cachePool:null),C!==null?Xn(u,C):an(),Oi(u);else return v=u.lanes=536870912,T3(o,u,C!==null?C.baseLanes|h:h,h,v)}else C!==null?(ue(u,C.cachePool),Xn(u,C),Ii(),u.memoizedState=null):(o!==null&&ue(u,null),an(),Ii());return ls(o,u,A,h),u.child}function Wg(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function T3(o,u,h,v,A){var C=oe();return C=C===null?null:{parent:Si._currentValue,pool:C},u.memoizedState={baseLanes:h,cachePool:C},o!==null&&ue(u,null),an(),Oi(u),o!==null&&Pu(o,u,v,!0),u.childLanes=A,null}function Jv(o,u){return u=t1({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function k3(o,u,h){return Bn(u,o.child,null,h),o=Jv(u,u.pendingProps),o.flags|=2,An(u),u.memoizedState=null,o}function pY(o,u,h){var v=u.pendingProps,A=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(Vr){if(v.mode==="hidden")return o=Jv(u,v),u.lanes=536870912,Wg(null,o);if(pn(u),(o=Mn)?(o=Fj(o,ui),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Tu!==null?{id:fo,overflow:ho}:null,retryLane:536870912,hydrationErrors:null},h=Ap(o),h.return=u,u.child=h,wa=u,Mn=null)):o=null,o===null)throw ku(u);return u.lanes=536870912,null}return Jv(u,v)}var C=o.memoizedState;if(C!==null){var G=C.dehydrated;if(pn(u),A)if(u.flags&256)u.flags&=-257,u=k3(o,u,h);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(n(558));else if(oa||Pu(o,u,h,!1),A=(h&o.childLanes)!==0,oa||A){if(v=Fn,v!==null&&(G=et(v,h),G!==0&&G!==C.retryLane))throw C.retryLane=G,ql(o,G),xo(v,o,G),b5;c1(),u=k3(o,u,h)}else o=C.treeContext,Mn=dl(G.nextSibling),wa=u,Vr=!0,ss=null,ui=!1,o!==null&&$v(u,o),u=Jv(u,v),u.flags|=4096;return u}return o=oo(o.child,{mode:v.mode,children:v.children}),o.ref=u.ref,u.child=o,o.return=u,o}function e1(o,u){var h=u.ref;if(h===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(o===null||o.ref!==h)&&(u.flags|=4194816)}}function x5(o,u,h,v,A){return ju(u),h=Bg(o,u,h,v,void 0,A),v=Fg(),o!==null&&!oa?(Ug(o,u,A),Nc(o,u,A)):(Vr&&v&&Ig(u),u.flags|=1,ls(o,u,h,A),u.child)}function C3(o,u,h,v,A,C){return ju(u),u.updateQueue=null,h=Gl(u,v,h,A),Rp(o),v=Fg(),o!==null&&!oa?(Ug(o,u,C),Nc(o,u,C)):(Vr&&v&&Ig(u),u.flags|=1,ls(o,u,h,C),u.child)}function N3(o,u,h,v,A){if(ju(u),u.stateNode===null){var C=xa,G=h.contextType;typeof G=="object"&&G!==null&&(C=Aa(G)),C=new h(v,C),u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=y5,u.stateNode=C,C._reactInternals=u,C=u.stateNode,C.props=v,C.state=u.memoizedState,C.refs={},Tt(u),G=h.contextType,C.context=typeof G=="object"&&G!==null?Aa(G):xa,C.state=u.memoizedState,G=h.getDerivedStateFromProps,typeof G=="function"&&(g5(u,h,G,v),C.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(G=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),G!==C.state&&y5.enqueueReplaceState(C,C.state,null),ji(u,v,C,A),Rn(),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(o===null){C=u.stateNode;var ie=u.memoizedProps,Ee=lh(h,ie);C.props=Ee;var Ke=C.context,st=h.contextType;G=xa,typeof st=="object"&&st!==null&&(G=Aa(st));var ft=h.getDerivedStateFromProps;st=typeof ft=="function"||typeof C.getSnapshotBeforeUpdate=="function",ie=u.pendingProps!==ie,st||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(ie||Ke!==G)&&m3(u,C,v,G),Mt=!1;var Qe=u.memoizedState;C.state=Qe,ji(u,v,C,A),Rn(),Ke=u.memoizedState,ie||Qe!==Ke||Mt?(typeof ft=="function"&&(g5(u,h,ft,v),Ke=u.memoizedState),(Ee=Mt||p3(u,h,Ee,v,Qe,Ke,G))?(st||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=Ke),C.props=v,C.state=Ke,C.context=G,v=Ee):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{C=u.stateNode,Yn(o,u),G=u.memoizedProps,st=lh(h,G),C.props=st,ft=u.pendingProps,Qe=C.context,Ke=h.contextType,Ee=xa,typeof Ke=="object"&&Ke!==null&&(Ee=Aa(Ke)),ie=h.getDerivedStateFromProps,(Ke=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(G!==ft||Qe!==Ee)&&m3(u,C,v,Ee),Mt=!1,Qe=u.memoizedState,C.state=Qe,ji(u,v,C,A),Rn();var Ze=u.memoizedState;G!==ft||Qe!==Ze||Mt||o!==null&&o.dependencies!==null&&Cp(o.dependencies)?(typeof ie=="function"&&(g5(u,h,ie,v),Ze=u.memoizedState),(st=Mt||p3(u,h,st,v,Qe,Ze,Ee)||o!==null&&o.dependencies!==null&&Cp(o.dependencies))?(Ke||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,Ze,Ee),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,Ze,Ee)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||G===o.memoizedProps&&Qe===o.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&Qe===o.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ze),C.props=v,C.state=Ze,C.context=Ee,v=st):(typeof C.componentDidUpdate!="function"||G===o.memoizedProps&&Qe===o.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&Qe===o.memoizedState||(u.flags|=1024),v=!1)}return C=v,e1(o,u),v=(u.flags&128)!==0,C||v?(C=u.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:C.render(),u.flags|=1,o!==null&&v?(u.child=Bn(u,o.child,null,A),u.child=Bn(u,null,h,A)):ls(o,u,h,A),u.memoizedState=C.state,o=u.child):o=Nc(o,u,A),o}function P3(o,u,h,v){return Sc(),u.flags|=256,ls(o,u,h,v),u.child}var w5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _5(o){return{baseLanes:o,cachePool:ge()}}function A5(o,u,h){return o=o!==null?o.childLanes&~h:0,u&&(o|=Bo),o}function j3(o,u,h){var v=u.pendingProps,A=!1,C=(u.flags&128)!==0,G;if((G=C)||(G=o!==null&&o.memoizedState===null?!1:(Zr.current&2)!==0),G&&(A=!0,u.flags&=-129),G=(u.flags&32)!==0,u.flags&=-33,o===null){if(Vr){if(A?Ei(u):Ii(),(o=Mn)?(o=Fj(o,ui),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Tu!==null?{id:fo,overflow:ho}:null,retryLane:536870912,hydrationErrors:null},h=Ap(o),h.return=u,u.child=h,wa=u,Mn=null)):o=null,o===null)throw ku(u);return a_(o)?u.lanes=32:u.lanes=536870912,null}var ie=v.children;return v=v.fallback,A?(Ii(),A=u.mode,ie=t1({mode:"hidden",children:ie},A),v=Eu(v,A,h,null),ie.return=u,v.return=u,ie.sibling=v,u.child=ie,v=u.child,v.memoizedState=_5(h),v.childLanes=A5(o,G,h),u.memoizedState=w5,Wg(null,v)):(Ei(u),S5(u,ie))}var Ee=o.memoizedState;if(Ee!==null&&(ie=Ee.dehydrated,ie!==null)){if(C)u.flags&256?(Ei(u),u.flags&=-257,u=E5(o,u,h)):u.memoizedState!==null?(Ii(),u.child=o.child,u.flags|=128,u=null):(Ii(),ie=v.fallback,A=u.mode,v=t1({mode:"visible",children:v.children},A),ie=Eu(ie,A,h,null),ie.flags|=2,v.return=u,ie.return=u,v.sibling=ie,u.child=v,Bn(u,o.child,null,h),v=u.child,v.memoizedState=_5(h),v.childLanes=A5(o,G,h),u.memoizedState=w5,u=Wg(null,v));else if(Ei(u),a_(ie)){if(G=ie.nextSibling&&ie.nextSibling.dataset,G)var Ke=G.dgst;G=Ke,v=Error(n(419)),v.stack="",v.digest=G,Dd({value:v,source:null,stack:null}),u=E5(o,u,h)}else if(oa||Pu(o,u,h,!1),G=(h&o.childLanes)!==0,oa||G){if(G=Fn,G!==null&&(v=et(G,h),v!==0&&v!==Ee.retryLane))throw Ee.retryLane=v,ql(o,v),xo(G,o,v),b5;i_(ie)||c1(),u=E5(o,u,h)}else i_(ie)?(u.flags|=192,u.child=o.child,u=null):(o=Ee.treeContext,Mn=dl(ie.nextSibling),wa=u,Vr=!0,ss=null,ui=!1,o!==null&&$v(u,o),u=S5(u,v.children),u.flags|=4096);return u}return A?(Ii(),ie=v.fallback,A=u.mode,Ee=o.child,Ke=Ee.sibling,v=oo(Ee,{mode:"hidden",children:v.children}),v.subtreeFlags=Ee.subtreeFlags&65011712,Ke!==null?ie=oo(Ke,ie):(ie=Eu(ie,A,h,null),ie.flags|=2),ie.return=u,v.return=u,v.sibling=ie,u.child=v,Wg(null,v),v=u.child,ie=o.child.memoizedState,ie===null?ie=_5(h):(A=ie.cachePool,A!==null?(Ee=Si._currentValue,A=A.parent!==Ee?{parent:Ee,pool:Ee}:A):A=ge(),ie={baseLanes:ie.baseLanes|h,cachePool:A}),v.memoizedState=ie,v.childLanes=A5(o,G,h),u.memoizedState=w5,Wg(o.child,v)):(Ei(u),h=o.child,o=h.sibling,h=oo(h,{mode:"visible",children:v.children}),h.return=u,h.sibling=null,o!==null&&(G=u.deletions,G===null?(u.deletions=[o],u.flags|=16):G.push(o)),u.child=h,u.memoizedState=null,h)}function S5(o,u){return u=t1({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function t1(o,u){return o=Ba(22,o,null,u),o.lanes=0,o}function E5(o,u,h){return Bn(u,o.child,null,h),o=S5(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function R3(o,u,h){o.lanes|=u;var v=o.alternate;v!==null&&(v.lanes|=u),Ld(o.return,u,h)}function T5(o,u,h,v,A,C){var G=o.memoizedState;G===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:A,treeForkCount:C}:(G.isBackwards=u,G.rendering=null,G.renderingStartTime=0,G.last=v,G.tail=h,G.tailMode=A,G.treeForkCount=C)}function O3(o,u,h){var v=u.pendingProps,A=v.revealOrder,C=v.tail;v=v.children;var G=Zr.current,ie=(G&2)!==0;if(ie?(G=G&1|2,u.flags|=128):G&=1,Q(Zr,G),ls(o,u,v,h),v=Vr?nh:0,!ie&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&R3(o,h,u);else if(o.tag===19)R3(o,h,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(A){case"forwards":for(h=u.child,A=null;h!==null;)o=h.alternate,o!==null&&Ua(o)===null&&(A=h),h=h.sibling;h=A,h===null?(A=u.child,u.child=null):(A=h.sibling,h.sibling=null),T5(u,!1,A,h,C,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,A=u.child,u.child=null;A!==null;){if(o=A.alternate,o!==null&&Ua(o)===null){u.child=A;break}o=A.sibling,A.sibling=h,h=A,A=o}T5(u,!0,h,null,C,v);break;case"together":T5(u,!1,null,null,void 0,v);break;default:u.memoizedState=null}return u.child}function Nc(o,u,h){if(o!==null&&(u.dependencies=o.dependencies),qd|=u.lanes,(h&u.childLanes)===0)if(o!==null){if(Pu(o,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,h=oo(o,o.pendingProps),u.child=h,h.return=u;o.sibling!==null;)o=o.sibling,h=h.sibling=oo(o,o.pendingProps),h.return=u;h.sibling=null}return u.child}function k5(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Cp(o)))}function mY(o,u,h){switch(u.tag){case 3:Ve(u,u.stateNode.containerInfo),Nu(u,Si,o.memoizedState.cache),Sc();break;case 27:case 5:Ce(u);break;case 4:Ve(u,u.stateNode.containerInfo);break;case 10:Nu(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,pn(u),null;break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(Ei(u),u.flags|=128,null):(h&u.child.childLanes)!==0?j3(o,u,h):(Ei(u),o=Nc(o,u,h),o!==null?o.sibling:null);Ei(u);break;case 19:var A=(o.flags&128)!==0;if(v=(h&u.childLanes)!==0,v||(Pu(o,u,h,!1),v=(h&u.childLanes)!==0),A){if(v)return O3(o,u,h);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Q(Zr,Zr.current),v)break;return null;case 22:return u.lanes=0,E3(o,u,h,u.pendingProps);case 24:Nu(u,Si,o.memoizedState.cache)}return Nc(o,u,h)}function I3(o,u,h){if(o!==null)if(o.memoizedProps!==u.pendingProps)oa=!0;else{if(!k5(o,h)&&(u.flags&128)===0)return oa=!1,mY(o,u,h);oa=(o.flags&131072)!==0}else oa=!1,Vr&&(u.flags&1048576)!==0&&zv(u,nh,u.index);switch(u.lanes=0,u.tag){case 16:e:{var v=u.pendingProps;if(o=ze(u.elementType),u.type=o,typeof o=="function")_p(o)?(v=lh(o,v),u.tag=1,u=N3(null,u,o,v,h)):(u.tag=0,u=x5(null,u,o,v,h));else{if(o!=null){var A=o.$$typeof;if(A===F){u.tag=11,u=_3(null,u,o,v,h);break e}else if(A===L){u.tag=14,u=A3(null,u,o,v,h);break e}}throw u=J(o)||o,Error(n(306,u,""))}}return u;case 0:return x5(o,u,u.type,u.pendingProps,h);case 1:return v=u.type,A=lh(v,u.pendingProps),N3(o,u,v,A,h);case 3:e:{if(Ve(u,u.stateNode.containerInfo),o===null)throw Error(n(387));v=u.pendingProps;var C=u.memoizedState;A=C.element,Yn(o,u),ji(u,v,null,h);var G=u.memoizedState;if(v=G.cache,Nu(u,Si,v),v!==C.cache&&Ec(u,[Si],h,!0),Rn(),v=G.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:G.cache},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){u=P3(o,u,v,h);break e}else if(v!==A){A=lo(Error(n(424)),u),Dd(A),u=P3(o,u,v,h);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Mn=dl(o.firstChild),wa=u,Vr=!0,ss=null,ui=!0,h=Nr(u,null,v,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Sc(),v===A){u=Nc(o,u,h);break e}ls(o,u,v,h)}u=u.child}return u;case 26:return e1(o,u),o===null?(h=Hj(u.type,null,u.pendingProps,null))?u.memoizedState=h:Vr||(h=u.type,o=u.pendingProps,v=y1(ye.current).createElement(h),v[St]=u,v[Cr]=o,us(v,h,o),Kn(v),u.stateNode=v):u.memoizedState=Hj(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ce(u),o===null&&Vr&&(v=u.stateNode=zj(u.type,u.pendingProps,ye.current),wa=u,ui=!0,A=Mn,Yd(u.type)?(s_=A,Mn=dl(v.firstChild)):Mn=A),ls(o,u,u.pendingProps.children,h),e1(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Vr&&((A=v=Mn)&&(v=HY(v,u.type,u.pendingProps,ui),v!==null?(u.stateNode=v,wa=u,Mn=dl(v.firstChild),ui=!1,A=!0):A=!1),A||ku(u)),Ce(u),A=u.type,C=u.pendingProps,G=o!==null?o.memoizedProps:null,v=C.children,t_(A,C)?v=null:G!==null&&t_(A,G)&&(u.flags|=32),u.memoizedState!==null&&(A=Bg(o,u,l5,null,null,h),l0._currentValue=A),e1(o,u),ls(o,u,v,h),u.child;case 6:return o===null&&Vr&&((o=h=Mn)&&(h=GY(h,u.pendingProps,ui),h!==null?(u.stateNode=h,wa=u,Mn=null,o=!0):o=!1),o||ku(u)),null;case 13:return j3(o,u,h);case 4:return Ve(u,u.stateNode.containerInfo),v=u.pendingProps,o===null?u.child=Bn(u,null,v,h):ls(o,u,v,h),u.child;case 11:return _3(o,u,u.type,u.pendingProps,h);case 7:return ls(o,u,u.pendingProps,h),u.child;case 8:return ls(o,u,u.pendingProps.children,h),u.child;case 12:return ls(o,u,u.pendingProps.children,h),u.child;case 10:return v=u.pendingProps,Nu(u,u.type,v.value),ls(o,u,v.children,h),u.child;case 9:return A=u.type._context,v=u.pendingProps.children,ju(u),A=Aa(A),v=v(A),u.flags|=1,ls(o,u,v,h),u.child;case 14:return A3(o,u,u.type,u.pendingProps,h);case 15:return S3(o,u,u.type,u.pendingProps,h);case 19:return O3(o,u,h);case 31:return pY(o,u,h);case 22:return E3(o,u,h,u.pendingProps);case 24:return ju(u),v=Aa(Si),o===null?(A=oe(),A===null&&(A=Fn,C=Md(),A.pooledCache=C,C.refCount++,C!==null&&(A.pooledCacheLanes|=h),A=C),u.memoizedState={parent:v,cache:A},Tt(u),Nu(u,Si,A)):((o.lanes&h)!==0&&(Yn(o,u),ji(u,null,null,h),Rn()),A=o.memoizedState,C=u.memoizedState,A.parent!==v?(A={parent:v,cache:v},u.memoizedState=A,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=A),Nu(u,Si,v)):(v=C.cache,Nu(u,Si,v),v!==A.cache&&Ec(u,[Si],h,!0))),ls(o,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function Pc(o){o.flags|=4}function C5(o,u,h,v,A){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(A&335544128)===A)if(o.stateNode.complete)o.flags|=8192;else if(oj())o.flags|=8192;else throw tt=Re,qe}else o.flags&=-16777217}function D3(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Xj(u))if(oj())o.flags|=8192;else throw tt=Re,qe}function r1(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?de():536870912,o.lanes|=u,$p|=u)}function Kg(o,u){if(!Vr)switch(o.tailMode){case"hidden":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Zn(o){var u=o.alternate!==null&&o.alternate.child===o.child,h=0,v=0;if(u)for(var A=o.child;A!==null;)h|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)h|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=v,o.childLanes=h,u}function gY(o,u,h){var v=u.pendingProps;switch(Tp(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(u),null;case 1:return Zn(u),null;case 3:return h=u.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),po(Si),he(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(_a(u)?Pc(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Lg())),Zn(u),null;case 26:var A=u.type,C=u.memoizedState;return o===null?(Pc(u),C!==null?(Zn(u),D3(u,C)):(Zn(u),C5(u,A,null,v,h))):C?C!==o.memoizedState?(Pc(u),Zn(u),D3(u,C)):(Zn(u),u.flags&=-16777217):(o=o.memoizedProps,o!==v&&Pc(u),Zn(u),C5(u,A,o,v,h)),null;case 27:if(We(u),h=ye.current,A=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==v&&Pc(u);else{if(!v){if(u.stateNode===null)throw Error(n(166));return Zn(u),null}o=re.current,_a(u)?Dg(u):(o=zj(A,v,h),u.stateNode=o,Pc(u))}return Zn(u),null;case 5:if(We(u),A=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==v&&Pc(u);else{if(!v){if(u.stateNode===null)throw Error(n(166));return Zn(u),null}if(C=re.current,_a(u))Dg(u);else{var G=y1(ye.current);switch(C){case 1:C=G.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:C=G.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":C=G.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":C=G.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":C=G.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof v.is=="string"?G.createElement("select",{is:v.is}):G.createElement("select"),v.multiple?C.multiple=!0:v.size&&(C.size=v.size);break;default:C=typeof v.is=="string"?G.createElement(A,{is:v.is}):G.createElement(A)}}C[St]=u,C[Cr]=v;e:for(G=u.child;G!==null;){if(G.tag===5||G.tag===6)C.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===u)break e;for(;G.sibling===null;){if(G.return===null||G.return===u)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}u.stateNode=C;e:switch(us(C,A,v),A){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Pc(u)}}return Zn(u),C5(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,h),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==v&&Pc(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(n(166));if(o=ye.current,_a(u)){if(o=u.stateNode,h=u.memoizedProps,v=null,A=wa,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}o[St]=u,o=!!(o.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||jj(o.nodeValue,h)),o||ku(u,!0)}else o=y1(o).createTextNode(v),o[St]=u,u.stateNode=o}return Zn(u),null;case 31:if(h=u.memoizedState,o===null||o.memoizedState!==null){if(v=_a(u),h!==null){if(o===null){if(!v)throw Error(n(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[St]=u}else Sc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Zn(u),o=!1}else h=Lg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return u.flags&256?(An(u),u):(An(u),null);if((u.flags&128)!==0)throw Error(n(558))}return Zn(u),null;case 13:if(v=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(A=_a(u),v!==null&&v.dehydrated!==null){if(o===null){if(!A)throw Error(n(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[St]=u}else Sc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Zn(u),A=!1}else A=Lg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=A),A=!0;if(!A)return u.flags&256?(An(u),u):(An(u),null)}return An(u),(u.flags&128)!==0?(u.lanes=h,u):(h=v!==null,o=o!==null&&o.memoizedState!==null,h&&(v=u.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool),C=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==A&&(v.flags|=2048)),h!==o&&h&&(u.child.flags|=8192),r1(u,u.updateQueue),Zn(u),null);case 4:return he(),o===null&&X5(u.stateNode.containerInfo),Zn(u),null;case 10:return po(u.type),Zn(u),null;case 19:if(q(Zr),v=u.memoizedState,v===null)return Zn(u),null;if(A=(u.flags&128)!==0,C=v.rendering,C===null)if(A)Kg(v,!1);else{if(Li!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(C=Ua(o),C!==null){for(u.flags|=128,Kg(v,!1),o=C.updateQueue,u.updateQueue=o,r1(u,o),u.subtreeFlags=0,o=h,h=u.child;h!==null;)th(h,o),h=h.sibling;return Q(Zr,Zr.current&1|2),Vr&&qs(u,v.treeForkCount),u.child}o=o.sibling}v.tail!==null&&tr()>o1&&(u.flags|=128,A=!0,Kg(v,!1),u.lanes=4194304)}else{if(!A)if(o=Ua(C),o!==null){if(u.flags|=128,A=!0,o=o.updateQueue,u.updateQueue=o,r1(u,o),Kg(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!Vr)return Zn(u),null}else 2*tr()-v.renderingStartTime>o1&&h!==536870912&&(u.flags|=128,A=!0,Kg(v,!1),u.lanes=4194304);v.isBackwards?(C.sibling=u.child,u.child=C):(o=v.last,o!==null?o.sibling=C:u.child=C,v.last=C)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=tr(),o.sibling=null,h=Zr.current,Q(Zr,A?h&1|2:h&1),Vr&&qs(u,v.treeForkCount),o):(Zn(u),null);case 22:case 23:return An(u),Ki(),v=u.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(h&536870912)!==0&&(u.flags&128)===0&&(Zn(u),u.subtreeFlags&6&&(u.flags|=8192)):Zn(u),h=u.updateQueue,h!==null&&r1(u,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==h&&(u.flags|=2048),o!==null&&q(ne),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),po(Si),Zn(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function yY(o,u){switch(Tp(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return po(Si),he(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return We(u),null;case 31:if(u.memoizedState!==null){if(An(u),u.alternate===null)throw Error(n(340));Sc()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(An(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Sc()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return q(Zr),null;case 4:return he(),null;case 10:return po(u.type),null;case 22:case 23:return An(u),Ki(),o!==null&&q(ne),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return po(Si),null;case 25:return null;default:return null}}function L3(o,u){switch(Tp(u),u.tag){case 3:po(Si),he();break;case 26:case 27:case 5:We(u);break;case 4:he();break;case 31:u.memoizedState!==null&&An(u);break;case 13:An(u);break;case 19:q(Zr);break;case 10:po(u.type);break;case 22:case 23:An(u),Ki(),o!==null&&q(ne);break;case 24:po(Si)}}function Yg(o,u){try{var h=u.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var A=v.next;h=A;do{if((h.tag&o)===o){v=void 0;var C=h.create,G=h.inst;v=C(),G.destroy=v}h=h.next}while(h!==A)}}catch(ie){En(u,u.return,ie)}}function zd(o,u,h){try{var v=u.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var C=A.next;v=C;do{if((v.tag&o)===o){var G=v.inst,ie=G.destroy;if(ie!==void 0){G.destroy=void 0,A=u;var Ee=h,Ke=ie;try{Ke()}catch(st){En(A,Ee,st)}}}v=v.next}while(v!==C)}}catch(st){En(u,u.return,st)}}function M3(o){var u=o.updateQueue;if(u!==null){var h=o.stateNode;try{Ri(u,h)}catch(v){En(o,o.return,v)}}}function B3(o,u,h){h.props=lh(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(v){En(o,u,v)}}function Xg(o,u){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof h=="function"?o.refCleanup=h(v):h.current=v}}catch(A){En(o,u,A)}}function Lu(o,u){var h=o.ref,v=o.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(A){En(o,u,A)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(A){En(o,u,A)}else h.current=null}function F3(o){var u=o.type,h=o.memoizedProps,v=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(A){En(o,o.return,A)}}function N5(o,u,h){try{var v=o.stateNode;FY(v,o.type,h,u),v[Cr]=u}catch(A){En(o,o.return,A)}}function U3(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Yd(o.type)||o.tag===4}function P5(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||U3(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Yd(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function j5(o,u,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(o),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Ms));else if(v!==4&&(v===27&&Yd(o.type)&&(h=o.stateNode,u=null),o=o.child,o!==null))for(j5(o,u,h),o=o.sibling;o!==null;)j5(o,u,h),o=o.sibling}function n1(o,u,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?h.insertBefore(o,u):h.appendChild(o);else if(v!==4&&(v===27&&Yd(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(n1(o,u,h),o=o.sibling;o!==null;)n1(o,u,h),o=o.sibling}function V3(o){var u=o.stateNode,h=o.memoizedProps;try{for(var v=o.type,A=u.attributes;A.length;)u.removeAttributeNode(A[0]);us(u,v,h),u[St]=o,u[Cr]=h}catch(C){En(o,o.return,C)}}var jc=!1,la=!1,R5=!1,z3=typeof WeakSet=="function"?WeakSet:Set,Va=null;function vY(o,u){if(o=o.containerInfo,J5=S1,o=zl(o),sl(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var A=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var G=0,ie=-1,Ee=-1,Ke=0,st=0,ft=o,Qe=null;t:for(;;){for(var Ze;ft!==h||A!==0&&ft.nodeType!==3||(ie=G+A),ft!==C||v!==0&&ft.nodeType!==3||(Ee=G+v),ft.nodeType===3&&(G+=ft.nodeValue.length),(Ze=ft.firstChild)!==null;)Qe=ft,ft=Ze;for(;;){if(ft===o)break t;if(Qe===h&&++Ke===A&&(ie=G),Qe===C&&++st===v&&(Ee=G),(Ze=ft.nextSibling)!==null)break;ft=Qe,Qe=ft.parentNode}ft=Ze}h=ie===-1||Ee===-1?null:{start:ie,end:Ee}}else h=null}h=h||{start:0,end:0}}else h=null;for(e_={focusedElem:o,selectionRange:h},S1=!1,Va=u;Va!==null;)if(u=Va,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Va=o;else for(;Va!==null;){switch(u=Va,C=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)A=o[h],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&C!==null){o=void 0,h=u,A=C.memoizedProps,C=C.memoizedState,v=h.stateNode;try{var Kt=lh(h.type,A);o=v.getSnapshotBeforeUpdate(Kt,C),v.__reactInternalSnapshotBeforeUpdate=o}catch(vr){En(h,h.return,vr)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,h=o.nodeType,h===9)n_(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":n_(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=u.sibling,o!==null){o.return=u.return,Va=o;break}Va=u.return}}function $3(o,u,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:Oc(o,h),v&4&&Yg(5,h);break;case 1:if(Oc(o,h),v&4)if(o=h.stateNode,u===null)try{o.componentDidMount()}catch(G){En(h,h.return,G)}else{var A=lh(h.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(A,u,o.__reactInternalSnapshotBeforeUpdate)}catch(G){En(h,h.return,G)}}v&64&&M3(h),v&512&&Xg(h,h.return);break;case 3:if(Oc(o,h),v&64&&(o=h.updateQueue,o!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{Ri(o,u)}catch(G){En(h,h.return,G)}}break;case 27:u===null&&v&4&&V3(h);case 26:case 5:Oc(o,h),u===null&&v&4&&F3(h),v&512&&Xg(h,h.return);break;case 12:Oc(o,h);break;case 31:Oc(o,h),v&4&&G3(o,h);break;case 13:Oc(o,h),v&4&&W3(o,h),v&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=kY.bind(null,h),WY(o,h))));break;case 22:if(v=h.memoizedState!==null||jc,!v){u=u!==null&&u.memoizedState!==null||la,A=jc;var C=la;jc=v,(la=u)&&!C?Ic(o,h,(h.subtreeFlags&8772)!==0):Oc(o,h),jc=A,la=C}break;case 30:break;default:Oc(o,h)}}function q3(o){var u=o.alternate;u!==null&&(o.alternate=null,q3(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&zn(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var fi=null,go=!1;function Rc(o,u,h){for(h=h.child;h!==null;)H3(o,u,h),h=h.sibling}function H3(o,u,h){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ar,h)}catch{}switch(h.tag){case 26:la||Lu(h,u),Rc(o,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:la||Lu(h,u);var v=fi,A=go;Yd(h.type)&&(fi=h.stateNode,go=!1),Rc(o,u,h),a0(h.stateNode),fi=v,go=A;break;case 5:la||Lu(h,u);case 6:if(v=fi,A=go,fi=null,Rc(o,u,h),fi=v,go=A,fi!==null)if(go)try{(fi.nodeType===9?fi.body:fi.nodeName==="HTML"?fi.ownerDocument.body:fi).removeChild(h.stateNode)}catch(C){En(h,u,C)}else try{fi.removeChild(h.stateNode)}catch(C){En(h,u,C)}break;case 18:fi!==null&&(go?(o=fi,Mj(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Qp(o)):Mj(fi,h.stateNode));break;case 4:v=fi,A=go,fi=h.stateNode.containerInfo,go=!0,Rc(o,u,h),fi=v,go=A;break;case 0:case 11:case 14:case 15:zd(2,h,u),la||zd(4,h,u),Rc(o,u,h);break;case 1:la||(Lu(h,u),v=h.stateNode,typeof v.componentWillUnmount=="function"&&B3(h,u,v)),Rc(o,u,h);break;case 21:Rc(o,u,h);break;case 22:la=(v=la)||h.memoizedState!==null,Rc(o,u,h),la=v;break;default:Rc(o,u,h)}}function G3(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Qp(o)}catch(h){En(u,u.return,h)}}}function W3(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Qp(o)}catch(h){En(u,u.return,h)}}function bY(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new z3),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new z3),u;default:throw Error(n(435,o.tag))}}function i1(o,u){var h=bY(o);u.forEach(function(v){if(!h.has(v)){h.add(v);var A=CY.bind(null,o,v);v.then(A,A)}})}function yo(o,u){var h=u.deletions;if(h!==null)for(var v=0;v<h.length;v++){var A=h[v],C=o,G=u,ie=G;e:for(;ie!==null;){switch(ie.tag){case 27:if(Yd(ie.type)){fi=ie.stateNode,go=!1;break e}break;case 5:fi=ie.stateNode,go=!1;break e;case 3:case 4:fi=ie.stateNode.containerInfo,go=!0;break e}ie=ie.return}if(fi===null)throw Error(n(160));H3(C,G,A),fi=null,go=!1,C=A.alternate,C!==null&&(C.return=null),A.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)K3(u,o),u=u.sibling}var Xl=null;function K3(o,u){var h=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:yo(u,o),vo(o),v&4&&(zd(3,o,o.return),Yg(3,o),zd(5,o,o.return));break;case 1:yo(u,o),vo(o),v&512&&(la||h===null||Lu(h,h.return)),v&64&&jc&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var A=Xl;if(yo(u,o),vo(o),v&512&&(la||h===null||Lu(h,h.return)),v&4){var C=h!==null?h.memoizedState:null;if(v=o.memoizedState,h===null)if(v===null)if(o.stateNode===null){e:{v=o.type,h=o.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":C=A.getElementsByTagName("title")[0],(!C||C[si]||C[St]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=A.createElement(v),A.head.insertBefore(C,A.querySelector("head > title"))),us(C,v,h),C[St]=o,Kn(C),v=C;break e;case"link":var G=Kj("link","href",A).get(v+(h.href||""));if(G){for(var ie=0;ie<G.length;ie++)if(C=G[ie],C.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&C.getAttribute("rel")===(h.rel==null?null:h.rel)&&C.getAttribute("title")===(h.title==null?null:h.title)&&C.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){G.splice(ie,1);break t}}C=A.createElement(v),us(C,v,h),A.head.appendChild(C);break;case"meta":if(G=Kj("meta","content",A).get(v+(h.content||""))){for(ie=0;ie<G.length;ie++)if(C=G[ie],C.getAttribute("content")===(h.content==null?null:""+h.content)&&C.getAttribute("name")===(h.name==null?null:h.name)&&C.getAttribute("property")===(h.property==null?null:h.property)&&C.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&C.getAttribute("charset")===(h.charSet==null?null:h.charSet)){G.splice(ie,1);break t}}C=A.createElement(v),us(C,v,h),A.head.appendChild(C);break;default:throw Error(n(468,v))}C[St]=o,Kn(C),v=C}o.stateNode=v}else Yj(A,o.type,o.stateNode);else o.stateNode=Wj(A,v,o.memoizedProps);else C!==v?(C===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):C.count--,v===null?Yj(A,o.type,o.stateNode):Wj(A,v,o.memoizedProps)):v===null&&o.stateNode!==null&&N5(o,o.memoizedProps,h.memoizedProps)}break;case 27:yo(u,o),vo(o),v&512&&(la||h===null||Lu(h,h.return)),h!==null&&v&4&&N5(o,o.memoizedProps,h.memoizedProps);break;case 5:if(yo(u,o),vo(o),v&512&&(la||h===null||Lu(h,h.return)),o.flags&32){A=o.stateNode;try{Hi(A,"")}catch(Kt){En(o,o.return,Kt)}}v&4&&o.stateNode!=null&&(A=o.memoizedProps,N5(o,A,h!==null?h.memoizedProps:A)),v&1024&&(R5=!0);break;case 6:if(yo(u,o),vo(o),v&4){if(o.stateNode===null)throw Error(n(162));v=o.memoizedProps,h=o.stateNode;try{h.nodeValue=v}catch(Kt){En(o,o.return,Kt)}}break;case 3:if(x1=null,A=Xl,Xl=v1(u.containerInfo),yo(u,o),Xl=A,vo(o),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Qp(u.containerInfo)}catch(Kt){En(o,o.return,Kt)}R5&&(R5=!1,Y3(o));break;case 4:v=Xl,Xl=v1(o.stateNode.containerInfo),yo(u,o),vo(o),Xl=v;break;case 12:yo(u,o),vo(o);break;case 31:yo(u,o),vo(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,i1(o,v)));break;case 13:yo(u,o),vo(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(s1=tr()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,i1(o,v)));break;case 22:A=o.memoizedState!==null;var Ee=h!==null&&h.memoizedState!==null,Ke=jc,st=la;if(jc=Ke||A,la=st||Ee,yo(u,o),la=st,jc=Ke,vo(o),v&8192)e:for(u=o.stateNode,u._visibility=A?u._visibility&-2:u._visibility|1,A&&(h===null||Ee||jc||la||uh(o)),h=null,u=o;;){if(u.tag===5||u.tag===26){if(h===null){Ee=h=u;try{if(C=Ee.stateNode,A)G=C.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{ie=Ee.stateNode;var ft=Ee.memoizedProps.style,Qe=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;ie.style.display=Qe==null||typeof Qe=="boolean"?"":(""+Qe).trim()}}catch(Kt){En(Ee,Ee.return,Kt)}}}else if(u.tag===6){if(h===null){Ee=u;try{Ee.stateNode.nodeValue=A?"":Ee.memoizedProps}catch(Kt){En(Ee,Ee.return,Kt)}}}else if(u.tag===18){if(h===null){Ee=u;try{var Ze=Ee.stateNode;A?Bj(Ze,!0):Bj(Ee.stateNode,!1)}catch(Kt){En(Ee,Ee.return,Kt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=o.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,i1(o,h))));break;case 19:yo(u,o),vo(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,i1(o,v)));break;case 30:break;case 21:break;default:yo(u,o),vo(o)}}function vo(o){var u=o.flags;if(u&2){try{for(var h,v=o.return;v!==null;){if(U3(v)){h=v;break}v=v.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var A=h.stateNode,C=P5(o);n1(o,C,A);break;case 5:var G=h.stateNode;h.flags&32&&(Hi(G,""),h.flags&=-33);var ie=P5(o);n1(o,ie,G);break;case 3:case 4:var Ee=h.stateNode.containerInfo,Ke=P5(o);j5(o,Ke,Ee);break;default:throw Error(n(161))}}catch(st){En(o,o.return,st)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function Y3(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;Y3(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Oc(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)$3(o,u.alternate,u),u=u.sibling}function uh(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:zd(4,u,u.return),uh(u);break;case 1:Lu(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&B3(u,u.return,h),uh(u);break;case 27:a0(u.stateNode);case 26:case 5:Lu(u,u.return),uh(u);break;case 22:u.memoizedState===null&&uh(u);break;case 30:uh(u);break;default:uh(u)}o=o.sibling}}function Ic(o,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,A=o,C=u,G=C.flags;switch(C.tag){case 0:case 11:case 15:Ic(A,C,h),Yg(4,C);break;case 1:if(Ic(A,C,h),v=C,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Ke){En(v,v.return,Ke)}if(v=C,A=v.updateQueue,A!==null){var ie=v.stateNode;try{var Ee=A.shared.hiddenCallbacks;if(Ee!==null)for(A.shared.hiddenCallbacks=null,A=0;A<Ee.length;A++)Fa(Ee[A],ie)}catch(Ke){En(v,v.return,Ke)}}h&&G&64&&M3(C),Xg(C,C.return);break;case 27:V3(C);case 26:case 5:Ic(A,C,h),h&&v===null&&G&4&&F3(C),Xg(C,C.return);break;case 12:Ic(A,C,h);break;case 31:Ic(A,C,h),h&&G&4&&G3(A,C);break;case 13:Ic(A,C,h),h&&G&4&&W3(A,C);break;case 22:C.memoizedState===null&&Ic(A,C,h),Xg(C,C.return);break;case 30:break;default:Ic(A,C,h)}u=u.sibling}}function O5(o,u){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&ih(h))}function I5(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&ih(o))}function Ql(o,u,h,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)X3(o,u,h,v),u=u.sibling}function X3(o,u,h,v){var A=u.flags;switch(u.tag){case 0:case 11:case 15:Ql(o,u,h,v),A&2048&&Yg(9,u);break;case 1:Ql(o,u,h,v);break;case 3:Ql(o,u,h,v),A&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&ih(o)));break;case 12:if(A&2048){Ql(o,u,h,v),o=u.stateNode;try{var C=u.memoizedProps,G=C.id,ie=C.onPostCommit;typeof ie=="function"&&ie(G,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Ee){En(u,u.return,Ee)}}else Ql(o,u,h,v);break;case 31:Ql(o,u,h,v);break;case 13:Ql(o,u,h,v);break;case 23:break;case 22:C=u.stateNode,G=u.alternate,u.memoizedState!==null?C._visibility&2?Ql(o,u,h,v):Qg(o,u):C._visibility&2?Ql(o,u,h,v):(C._visibility|=2,Up(o,u,h,v,(u.subtreeFlags&10256)!==0||!1)),A&2048&&O5(G,u);break;case 24:Ql(o,u,h,v),A&2048&&I5(u.alternate,u);break;default:Ql(o,u,h,v)}}function Up(o,u,h,v,A){for(A=A&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var C=o,G=u,ie=h,Ee=v,Ke=G.flags;switch(G.tag){case 0:case 11:case 15:Up(C,G,ie,Ee,A),Yg(8,G);break;case 23:break;case 22:var st=G.stateNode;G.memoizedState!==null?st._visibility&2?Up(C,G,ie,Ee,A):Qg(C,G):(st._visibility|=2,Up(C,G,ie,Ee,A)),A&&Ke&2048&&O5(G.alternate,G);break;case 24:Up(C,G,ie,Ee,A),A&&Ke&2048&&I5(G.alternate,G);break;default:Up(C,G,ie,Ee,A)}u=u.sibling}}function Qg(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=o,v=u,A=v.flags;switch(v.tag){case 22:Qg(h,v),A&2048&&O5(v.alternate,v);break;case 24:Qg(h,v),A&2048&&I5(v.alternate,v);break;default:Qg(h,v)}u=u.sibling}}var Zg=8192;function Vp(o,u,h){if(o.subtreeFlags&Zg)for(o=o.child;o!==null;)Q3(o,u,h),o=o.sibling}function Q3(o,u,h){switch(o.tag){case 26:Vp(o,u,h),o.flags&Zg&&o.memoizedState!==null&&aX(h,Xl,o.memoizedState,o.memoizedProps);break;case 5:Vp(o,u,h);break;case 3:case 4:var v=Xl;Xl=v1(o.stateNode.containerInfo),Vp(o,u,h),Xl=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=Zg,Zg=16777216,Vp(o,u,h),Zg=v):Vp(o,u,h));break;default:Vp(o,u,h)}}function Z3(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Jg(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var v=u[h];Va=v,ej(v,o)}Z3(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)J3(o),o=o.sibling}function J3(o){switch(o.tag){case 0:case 11:case 15:Jg(o),o.flags&2048&&zd(9,o,o.return);break;case 3:Jg(o);break;case 12:Jg(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,a1(o)):Jg(o);break;default:Jg(o)}}function a1(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var v=u[h];Va=v,ej(v,o)}Z3(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:zd(8,u,u.return),a1(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,a1(u));break;default:a1(u)}o=o.sibling}}function ej(o,u){for(;Va!==null;){var h=Va;switch(h.tag){case 0:case 11:case 15:zd(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:ih(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,Va=v;else e:for(h=o;Va!==null;){v=Va;var A=v.sibling,C=v.return;if(q3(v),v===h){Va=null;break e}if(A!==null){A.return=C,Va=A;break e}Va=C}}}var xY={getCacheForType:function(o){var u=Aa(Si),h=u.data.get(o);return h===void 0&&(h=o(),u.data.set(o,h)),h},cacheSignal:function(){return Aa(Si).controller.signal}},wY=typeof WeakMap=="function"?WeakMap:Map,mn=0,Fn=null,zr=null,Gr=0,Sn=0,Mo=null,$d=!1,zp=!1,D5=!1,Dc=0,Li=0,qd=0,ch=0,L5=0,Bo=0,$p=0,e0=null,bo=null,M5=!1,s1=0,tj=0,o1=1/0,l1=null,Hd=null,Ea=0,Gd=null,qp=null,Lc=0,B5=0,F5=null,rj=null,t0=0,U5=null;function Fo(){return(mn&2)!==0&&Gr!==0?Gr&-Gr:se.T!==null?G5():Rt()}function nj(){if(Bo===0)if((Gr&536870912)===0||Vr){var o=_t;_t<<=1,(_t&3932160)===0&&(_t=262144),Bo=o}else Bo=536870912;return o=Qn.current,o!==null&&(o.flags|=32),Bo}function xo(o,u,h){(o===Fn&&(Sn===2||Sn===9)||o.cancelPendingCommit!==null)&&(Hp(o,0),Wd(o,Gr,Bo,!1)),Ae(o,h),((mn&2)===0||o!==Fn)&&(o===Fn&&((mn&2)===0&&(ch|=h),Li===4&&Wd(o,Gr,Bo,!1)),Mu(o))}function ij(o,u,h){if((mn&6)!==0)throw Error(n(327));var v=!h&&(u&127)===0&&(u&o.expiredLanes)===0||Xe(o,u),A=v?SY(o,u):z5(o,u,!0),C=v;do{if(A===0){zp&&!v&&Wd(o,u,0,!1);break}else{if(h=o.current.alternate,C&&!_Y(h)){A=z5(o,u,!1),C=!1;continue}if(A===2){if(C=u,o.errorRecoveryDisabledLanes&C)var G=0;else G=o.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){u=G;e:{var ie=o;A=e0;var Ee=ie.current.memoizedState.isDehydrated;if(Ee&&(Hp(ie,G).flags|=256),G=z5(ie,G,!1),G!==2){if(D5&&!Ee){ie.errorRecoveryDisabledLanes|=C,ch|=C,A=4;break e}C=bo,bo=A,C!==null&&(bo===null?bo=C:bo.push.apply(bo,C))}A=G}if(C=!1,A!==2)continue}}if(A===1){Hp(o,0),Wd(o,u,0,!0);break}e:{switch(v=o,C=A,C){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:Wd(v,u,Bo,!$d);break e;case 2:bo=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(A=s1+300-tr(),10<A)){if(Wd(v,u,Bo,!$d),be(v,0,!0)!==0)break e;Lc=u,v.timeoutHandle=Dj(aj.bind(null,v,h,bo,l1,M5,u,Bo,ch,$p,$d,C,"Throttled",-0,0),A);break e}aj(v,h,bo,l1,M5,u,Bo,ch,$p,$d,C,null,-0,0)}}break}while(!0);Mu(o)}function aj(o,u,h,v,A,C,G,ie,Ee,Ke,st,ft,Qe,Ze){if(o.timeoutHandle=-1,ft=u.subtreeFlags,ft&8192||(ft&16785408)===16785408){ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ms},Q3(u,C,ft);var Kt=(C&62914560)===C?s1-tr():(C&4194048)===C?tj-tr():0;if(Kt=sX(ft,Kt),Kt!==null){Lc=C,o.cancelPendingCommit=Kt(hj.bind(null,o,u,C,h,v,A,G,ie,Ee,st,ft,null,Qe,Ze)),Wd(o,C,G,!Ke);return}}hj(o,u,C,h,v,A,G,ie,Ee)}function _Y(o){for(var u=o;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var A=h[v],C=A.getSnapshot;A=A.value;try{if(!ba(C(),A))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Wd(o,u,h,v){u&=~L5,u&=~ch,o.suspendedLanes|=u,o.pingedLanes&=~u,v&&(o.warmLanes|=u),v=o.expirationTimes;for(var A=u;0<A;){var C=31-Se(A),G=1<<C;v[C]=-1,A&=~G}h!==0&&De(o,h,u)}function u1(){return(mn&6)===0?(r0(0),!1):!0}function V5(){if(zr!==null){if(Sn===0)var o=zr.return;else o=zr,ll=Cu=null,Op(o),ht=null,Qt=0,o=zr;for(;o!==null;)L3(o.alternate,o),o=o.return;zr=null}}function Hp(o,u){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,zY(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Lc=0,V5(),Fn=o,zr=h=oo(o.current,null),Gr=u,Sn=0,Mo=null,$d=!1,zp=Xe(o,u),D5=!1,$p=Bo=L5=ch=qd=Li=0,bo=e0=null,M5=!1,(u&8)!==0&&(u|=u&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=u;0<v;){var A=31-Se(v),C=1<<A;u|=o[A],v&=~C}return Dc=u,Zf(),h}function sj(o,u){cr=null,se.H=Gg,u===Ne||u===pe?(u=ot(),Sn=3):u===qe?(u=ot(),Sn=4):Sn=u===b5?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Mo=u,zr===null&&(Li=1,Zv(o,lo(u,o.current)))}function oj(){var o=Qn.current;return o===null?!0:(Gr&4194048)===Gr?en===null:(Gr&62914560)===Gr||(Gr&536870912)!==0?o===en:!1}function lj(){var o=se.H;return se.H=Gg,o===null?Gg:o}function uj(){var o=se.A;return se.A=xY,o}function c1(){Li=4,$d||(Gr&4194048)!==Gr&&Qn.current!==null||(zp=!0),(qd&134217727)===0&&(ch&134217727)===0||Fn===null||Wd(Fn,Gr,Bo,!1)}function z5(o,u,h){var v=mn;mn|=2;var A=lj(),C=uj();(Fn!==o||Gr!==u)&&(l1=null,Hp(o,u)),u=!1;var G=Li;e:do try{if(Sn!==0&&zr!==null){var ie=zr,Ee=Mo;switch(Sn){case 8:V5(),G=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(u=!0);var Ke=Sn;if(Sn=0,Mo=null,Gp(o,ie,Ee,Ke),h&&zp){G=0;break e}break;default:Ke=Sn,Sn=0,Mo=null,Gp(o,ie,Ee,Ke)}}AY(),G=Li;break}catch(st){sj(o,st)}while(!0);return u&&o.shellSuspendCounter++,ll=Cu=null,mn=v,se.H=A,se.A=C,zr===null&&(Fn=null,Gr=0,Zf()),G}function AY(){for(;zr!==null;)cj(zr)}function SY(o,u){var h=mn;mn|=2;var v=lj(),A=uj();Fn!==o||Gr!==u?(l1=null,o1=tr()+500,Hp(o,u)):zp=Xe(o,u);e:do try{if(Sn!==0&&zr!==null){u=zr;var C=Mo;t:switch(Sn){case 1:Sn=0,Mo=null,Gp(o,u,C,1);break;case 2:case 9:if(Ue(C)){Sn=0,Mo=null,dj(u);break}u=function(){Sn!==2&&Sn!==9||Fn!==o||(Sn=7),Mu(o)},C.then(u,u);break e;case 3:Sn=7;break e;case 4:Sn=5;break e;case 7:Ue(C)?(Sn=0,Mo=null,dj(u)):(Sn=0,Mo=null,Gp(o,u,C,7));break;case 5:var G=null;switch(zr.tag){case 26:G=zr.memoizedState;case 5:case 27:var ie=zr;if(G?Xj(G):ie.stateNode.complete){Sn=0,Mo=null;var Ee=ie.sibling;if(Ee!==null)zr=Ee;else{var Ke=ie.return;Ke!==null?(zr=Ke,d1(Ke)):zr=null}break t}}Sn=0,Mo=null,Gp(o,u,C,5);break;case 6:Sn=0,Mo=null,Gp(o,u,C,6);break;case 8:V5(),Li=6;break e;default:throw Error(n(462))}}EY();break}catch(st){sj(o,st)}while(!0);return ll=Cu=null,se.H=v,se.A=A,mn=h,zr!==null?0:(Fn=null,Gr=0,Zf(),Li)}function EY(){for(;zr!==null&&!lt();)cj(zr)}function cj(o){var u=I3(o.alternate,o,Dc);o.memoizedProps=o.pendingProps,u===null?d1(o):zr=u}function dj(o){var u=o,h=u.alternate;switch(u.tag){case 15:case 0:u=C3(h,u,u.pendingProps,u.type,void 0,Gr);break;case 11:u=C3(h,u,u.pendingProps,u.type.render,u.ref,Gr);break;case 5:Op(u);default:L3(h,u),u=zr=th(u,Dc),u=I3(h,u,Dc)}o.memoizedProps=o.pendingProps,u===null?d1(o):zr=u}function Gp(o,u,h,v){ll=Cu=null,Op(u),ht=null,Qt=0;var A=u.return;try{if(hY(o,A,u,h,Gr)){Li=1,Zv(o,lo(h,o.current)),zr=null;return}}catch(C){if(A!==null)throw zr=A,C;Li=1,Zv(o,lo(h,o.current)),zr=null;return}u.flags&32768?(Vr||v===1?o=!0:zp||(Gr&536870912)!==0?o=!1:($d=o=!0,(v===2||v===9||v===3||v===6)&&(v=Qn.current,v!==null&&v.tag===13&&(v.flags|=16384))),fj(u,o)):d1(u)}function d1(o){var u=o;do{if((u.flags&32768)!==0){fj(u,$d);return}o=u.return;var h=gY(u.alternate,u,Dc);if(h!==null){zr=h;return}if(u=u.sibling,u!==null){zr=u;return}zr=u=o}while(u!==null);Li===0&&(Li=5)}function fj(o,u){do{var h=yY(o.alternate,o);if(h!==null){h.flags&=32767,zr=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(o=o.sibling,o!==null)){zr=o;return}zr=o=h}while(o!==null);Li=6,zr=null}function hj(o,u,h,v,A,C,G,ie,Ee){o.cancelPendingCommit=null;do f1();while(Ea!==0);if((mn&6)!==0)throw Error(n(327));if(u!==null){if(u===o.current)throw Error(n(177));if(C=u.lanes|u.childLanes,C|=bp,je(o,h,C,G,ie,Ee),o===Fn&&(zr=Fn=null,Gr=0),qp=u,Gd=o,Lc=h,B5=C,F5=A,rj=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,NY(rr,function(){return vj(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=se.T,se.T=null,A=ee.p,ee.p=2,G=mn,mn|=4;try{vY(o,u,h)}finally{mn=G,ee.p=A,se.T=v}}Ea=1,pj(),mj(),gj()}}function pj(){if(Ea===1){Ea=0;var o=Gd,u=qp,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=se.T,se.T=null;var v=ee.p;ee.p=2;var A=mn;mn|=4;try{K3(u,o);var C=e_,G=zl(o.containerInfo),ie=C.focusedElem,Ee=C.selectionRange;if(G!==ie&&ie&&ie.ownerDocument&&Vl(ie.ownerDocument.documentElement,ie)){if(Ee!==null&&sl(ie)){var Ke=Ee.start,st=Ee.end;if(st===void 0&&(st=Ke),"selectionStart"in ie)ie.selectionStart=Ke,ie.selectionEnd=Math.min(st,ie.value.length);else{var ft=ie.ownerDocument||document,Qe=ft&&ft.defaultView||window;if(Qe.getSelection){var Ze=Qe.getSelection(),Kt=ie.textContent.length,vr=Math.min(Ee.start,Kt),Dn=Ee.end===void 0?vr:Math.min(Ee.end,Kt);!Ze.extend&&vr>Dn&&(G=Dn,Dn=vr,vr=G);var Me=jd(ie,vr),Pe=jd(ie,Dn);if(Me&&Pe&&(Ze.rangeCount!==1||Ze.anchorNode!==Me.node||Ze.anchorOffset!==Me.offset||Ze.focusNode!==Pe.node||Ze.focusOffset!==Pe.offset)){var Ge=ft.createRange();Ge.setStart(Me.node,Me.offset),Ze.removeAllRanges(),vr>Dn?(Ze.addRange(Ge),Ze.extend(Pe.node,Pe.offset)):(Ge.setEnd(Pe.node,Pe.offset),Ze.addRange(Ge))}}}}for(ft=[],Ze=ie;Ze=Ze.parentNode;)Ze.nodeType===1&&ft.push({element:Ze,left:Ze.scrollLeft,top:Ze.scrollTop});for(typeof ie.focus=="function"&&ie.focus(),ie=0;ie<ft.length;ie++){var ut=ft[ie];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}S1=!!J5,e_=J5=null}finally{mn=A,ee.p=v,se.T=h}}o.current=u,Ea=2}}function mj(){if(Ea===2){Ea=0;var o=Gd,u=qp,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=se.T,se.T=null;var v=ee.p;ee.p=2;var A=mn;mn|=4;try{$3(o,u.alternate,u)}finally{mn=A,ee.p=v,se.T=h}}Ea=3}}function gj(){if(Ea===4||Ea===3){Ea=0,It();var o=Gd,u=qp,h=Lc,v=rj;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Ea=5:(Ea=0,qp=Gd=null,yj(o,o.pendingLanes));var A=o.pendingLanes;if(A===0&&(Hd=null),xt(h),u=u.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ar,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=se.T,A=ee.p,ee.p=2,se.T=null;try{for(var C=o.onRecoverableError,G=0;G<v.length;G++){var ie=v[G];C(ie.value,{componentStack:ie.stack})}}finally{se.T=u,ee.p=A}}(Lc&3)!==0&&f1(),Mu(o),A=o.pendingLanes,(h&261930)!==0&&(A&42)!==0?o===U5?t0++:(t0=0,U5=o):t0=0,r0(0)}}function yj(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,ih(u)))}function f1(){return pj(),mj(),gj(),vj()}function vj(){if(Ea!==5)return!1;var o=Gd,u=B5;B5=0;var h=xt(Lc),v=se.T,A=ee.p;try{ee.p=32>h?32:h,se.T=null,h=F5,F5=null;var C=Gd,G=Lc;if(Ea=0,qp=Gd=null,Lc=0,(mn&6)!==0)throw Error(n(331));var ie=mn;if(mn|=4,J3(C.current),X3(C,C.current,G,h),mn=ie,r0(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ar,C)}catch{}return!0}finally{ee.p=A,se.T=v,yj(o,u)}}function bj(o,u,h){u=lo(h,u),u=v5(o.stateNode,u,2),o=Or(o,u,2),o!==null&&(Ae(o,2),Mu(o))}function En(o,u,h){if(o.tag===3)bj(o,o,h);else for(;u!==null;){if(u.tag===3){bj(u,o,h);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Hd===null||!Hd.has(v))){o=lo(h,o),h=x3(2),v=Or(u,h,2),v!==null&&(w3(h,v,u,o),Ae(v,2),Mu(v));break}}u=u.return}}function $5(o,u,h){var v=o.pingCache;if(v===null){v=o.pingCache=new wY;var A=new Set;v.set(u,A)}else A=v.get(u),A===void 0&&(A=new Set,v.set(u,A));A.has(h)||(D5=!0,A.add(h),o=TY.bind(null,o,u,h),u.then(o,o))}function TY(o,u,h){var v=o.pingCache;v!==null&&v.delete(u),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Fn===o&&(Gr&h)===h&&(Li===4||Li===3&&(Gr&62914560)===Gr&&300>tr()-s1?(mn&2)===0&&Hp(o,0):L5|=h,$p===Gr&&($p=0)),Mu(o)}function xj(o,u){u===0&&(u=de()),o=ql(o,u),o!==null&&(Ae(o,u),Mu(o))}function kY(o){var u=o.memoizedState,h=0;u!==null&&(h=u.retryLane),xj(o,h)}function CY(o,u){var h=0;switch(o.tag){case 31:case 13:var v=o.stateNode,A=o.memoizedState;A!==null&&(h=A.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(u),xj(o,h)}function NY(o,u){return Nt(o,u)}var h1=null,Wp=null,q5=!1,p1=!1,H5=!1,Kd=0;function Mu(o){o!==Wp&&o.next===null&&(Wp===null?h1=Wp=o:Wp=Wp.next=o),p1=!0,q5||(q5=!0,jY())}function r0(o,u){if(!H5&&p1){H5=!0;do for(var h=!1,v=h1;v!==null;){if(o!==0){var A=v.pendingLanes;if(A===0)var C=0;else{var G=v.suspendedLanes,ie=v.pingedLanes;C=(1<<31-Se(42|o)+1)-1,C&=A&~(G&~ie),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(h=!0,Sj(v,C))}else C=Gr,C=be(v,v===Fn?C:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(C&3)===0||Xe(v,C)||(h=!0,Sj(v,C));v=v.next}while(h);H5=!1}}function PY(){wj()}function wj(){p1=q5=!1;var o=0;Kd!==0&&VY()&&(o=Kd);for(var u=tr(),h=null,v=h1;v!==null;){var A=v.next,C=_j(v,u);C===0?(v.next=null,h===null?h1=A:h.next=A,A===null&&(Wp=h)):(h=v,(o!==0||(C&3)!==0)&&(p1=!0)),v=A}Ea!==0&&Ea!==5||r0(o),Kd!==0&&(Kd=0)}function _j(o,u){for(var h=o.suspendedLanes,v=o.pingedLanes,A=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var G=31-Se(C),ie=1<<G,Ee=A[G];Ee===-1?((ie&h)===0||(ie&v)!==0)&&(A[G]=xe(ie,u)):Ee<=u&&(o.expiredLanes|=ie),C&=~ie}if(u=Fn,h=Gr,h=be(o,o===u?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,h===0||o===u&&(Sn===2||Sn===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&kt(v),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Xe(o,h)){if(u=h&-h,u===o.callbackPriority)return u;switch(v!==null&&kt(v),xt(h)){case 2:case 8:h=ir;break;case 32:h=rr;break;case 268435456:h=er;break;default:h=rr}return v=Aj.bind(null,o),h=Nt(h,v),o.callbackPriority=u,o.callbackNode=h,u}return v!==null&&v!==null&&kt(v),o.callbackPriority=2,o.callbackNode=null,2}function Aj(o,u){if(Ea!==0&&Ea!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(f1()&&o.callbackNode!==h)return null;var v=Gr;return v=be(o,o===Fn?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(ij(o,v,u),_j(o,tr()),o.callbackNode!=null&&o.callbackNode===h?Aj.bind(null,o):null)}function Sj(o,u){if(f1())return null;ij(o,u,!0)}function jY(){$Y(function(){(mn&6)!==0?Nt(qt,PY):wj()})}function G5(){if(Kd===0){var o=b;o===0&&(o=bt,bt<<=1,(bt&261888)===0&&(bt=256)),Kd=o}return Kd}function Ej(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ia(""+o)}function Tj(o,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,o.id&&h.setAttribute("form",o.id),u.parentNode.insertBefore(h,u),o=new FormData(o),h.parentNode.removeChild(h),o}function RY(o,u,h,v,A){if(u==="submit"&&h&&h.stateNode===A){var C=Ej((A[Cr]||null).action),G=v.submitter;G&&(u=(u=G[Cr]||null)?Ej(u.formAction):G.getAttribute("formAction"),u!==null&&(C=u,G=null));var ie=new ia("action","action",null,v,A);o.push({event:ie,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Kd!==0){var Ee=G?Tj(A,G):new FormData(A);f5(h,{pending:!0,data:Ee,method:A.method,action:C},null,Ee)}}else typeof C=="function"&&(ie.preventDefault(),Ee=G?Tj(A,G):new FormData(A),f5(h,{pending:!0,data:Ee,method:A.method,action:C},C,Ee))},currentTarget:A}]})}}for(var W5=0;W5<wc.length;W5++){var K5=wc[W5],OY=K5.toLowerCase(),IY=K5[0].toUpperCase()+K5.slice(1);so(OY,"on"+IY)}so(xc,"onAnimationEnd"),so(Xf,"onAnimationIteration"),so(jg,"onAnimationStart"),so("dblclick","onDoubleClick"),so("focusin","onFocus"),so("focusout","onBlur"),so(Fv,"onTransitionRun"),so(Uv,"onTransitionStart"),so(Vv,"onTransitionCancel"),so(Rg,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var n0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(n0));function kj(o,u){u=(u&4)!==0;for(var h=0;h<o.length;h++){var v=o[h],A=v.event;v=v.listeners;e:{var C=void 0;if(u)for(var G=v.length-1;0<=G;G--){var ie=v[G],Ee=ie.instance,Ke=ie.currentTarget;if(ie=ie.listener,Ee!==C&&A.isPropagationStopped())break e;C=ie,A.currentTarget=Ke;try{C(A)}catch(st){Qf(st)}A.currentTarget=null,C=Ee}else for(G=0;G<v.length;G++){if(ie=v[G],Ee=ie.instance,Ke=ie.currentTarget,ie=ie.listener,Ee!==C&&A.isPropagationStopped())break e;C=ie,A.currentTarget=Ke;try{C(A)}catch(st){Qf(st)}A.currentTarget=null,C=Ee}}}}function $r(o,u){var h=u[gn];h===void 0&&(h=u[gn]=new Set);var v=o+"__bubble";h.has(v)||(Cj(u,o,2,!1),h.add(v))}function Y5(o,u,h){var v=0;u&&(v|=4),Cj(h,o,v,u)}var m1="_reactListening"+Math.random().toString(36).slice(2);function X5(o){if(!o[m1]){o[m1]=!0,gu.forEach(function(h){h!=="selectionchange"&&(DY.has(h)||Y5(h,!1,o),Y5(h,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[m1]||(u[m1]=!0,Y5("selectionchange",!1,u))}}function Cj(o,u,h,v){switch(nR(u)){case 2:var A=uX;break;case 8:A=cX;break;default:A=d_}h=A.bind(null,u,h,o),A=void 0,!Il||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),v?A!==void 0?o.addEventListener(u,h,{capture:!0,passive:A}):o.addEventListener(u,h,!0):A!==void 0?o.addEventListener(u,h,{passive:A}):o.addEventListener(u,h,!1)}function Q5(o,u,h,v,A){var C=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var G=v.tag;if(G===3||G===4){var ie=v.stateNode.containerInfo;if(ie===A)break;if(G===4)for(G=v.return;G!==null;){var Ee=G.tag;if((Ee===3||Ee===4)&&G.stateNode.containerInfo===A)return;G=G.return}for(;ie!==null;){if(G=bi(ie),G===null)return;if(Ee=G.tag,Ee===5||Ee===6||Ee===26||Ee===27){v=C=G;continue e}ie=ie.parentNode}}v=v.return}Zo(function(){var Ke=C,st=Da(h),ft=[];e:{var Qe=Og.get(o);if(Qe!==void 0){var Ze=ia,Kt=o;switch(o){case"keypress":if(ts(h)===0)break e;case"keydown":case"keyup":Ze=Fr;break;case"focusin":Kt="focus",Ze=Fs;break;case"focusout":Kt="blur",Ze=Fs;break;case"beforeblur":case"afterblur":Ze=Fs;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=io;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=U;break;case xc:case Xf:case jg:Ze=R;break;case Rg:Ze=le;break;case"scroll":case"scrollend":Ze=Jo;break;case"wheel":Ze=Ye;break;case"copy":case"cut":case"paste":Ze=me;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=yn;break;case"toggle":case"beforetoggle":Ze=wr}var vr=(u&4)!==0,Dn=!vr&&(o==="scroll"||o==="scrollend"),Me=vr?Qe!==null?Qe+"Capture":null:Qe;vr=[];for(var Pe=Ke,Ge;Pe!==null;){var ut=Pe;if(Ge=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||Ge===null||Me===null||(ut=Gi(Pe,Me),ut!=null&&vr.push(i0(Pe,ut,Ge))),Dn)break;Pe=Pe.return}0<vr.length&&(Qe=new Ze(Qe,Kt,null,h,st),ft.push({event:Qe,listeners:vr}))}}if((u&7)===0){e:{if(Qe=o==="mouseover"||o==="pointerover",Ze=o==="mouseout"||o==="pointerout",Qe&&h!==jo&&(Kt=h.relatedTarget||h.fromElement)&&(bi(Kt)||Kt[fn]))break e;if((Ze||Qe)&&(Qe=st.window===st?st:(Qe=st.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,Ze?(Kt=h.relatedTarget||h.toElement,Ze=Ke,Kt=Kt?bi(Kt):null,Kt!==null&&(Dn=a(Kt),vr=Kt.tag,Kt!==Dn||vr!==5&&vr!==27&&vr!==6)&&(Kt=null)):(Ze=null,Kt=Ke),Ze!==Kt)){if(vr=_u,ut="onMouseLeave",Me="onMouseEnter",Pe="mouse",(o==="pointerout"||o==="pointerover")&&(vr=yn,ut="onPointerLeave",Me="onPointerEnter",Pe="pointer"),Dn=Ze==null?Qe:Za(Ze),Ge=Kt==null?Qe:Za(Kt),Qe=new vr(ut,Pe+"leave",Ze,h,st),Qe.target=Dn,Qe.relatedTarget=Ge,ut=null,bi(st)===Ke&&(vr=new vr(Me,Pe+"enter",Kt,h,st),vr.target=Ge,vr.relatedTarget=Dn,ut=vr),Dn=ut,Ze&&Kt)t:{for(vr=LY,Me=Ze,Pe=Kt,Ge=0,ut=Me;ut;ut=vr(ut))Ge++;ut=0;for(var mr=Pe;mr;mr=vr(mr))ut++;for(;0<Ge-ut;)Me=vr(Me),Ge--;for(;0<ut-Ge;)Pe=vr(Pe),ut--;for(;Ge--;){if(Me===Pe||Pe!==null&&Me===Pe.alternate){vr=Me;break t}Me=vr(Me),Pe=vr(Pe)}vr=null}else vr=null;Ze!==null&&Nj(ft,Qe,Ze,vr,!1),Kt!==null&&Dn!==null&&Nj(ft,Dn,Kt,vr,!0)}}e:{if(Qe=Ke?Za(Ke):window,Ze=Qe.nodeName&&Qe.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&Qe.type==="file")var un=Su;else if(Kf(Qe))if(bs)un=il;else{un=_i;var nr=Nd}else Ze=Qe.nodeName,!Ze||Ze.toLowerCase()!=="input"||Qe.type!=="checkbox"&&Qe.type!=="radio"?Ke&&bu(Ke.elementType)&&(un=Su):un=vp;if(un&&(un=un(o,Ke))){Vs(ft,un,h,st);break e}nr&&nr(o,Qe,Ke),o==="focusout"&&Ke&&Qe.type==="number"&&Ke.memoizedProps.value!=null&&hc(Qe,"number",Qe.value)}switch(nr=Ke?Za(Ke):window,o){case"focusin":(Kf(nr)||nr.contentEditable==="true")&&(zs=nr,$l=Ke,La=null);break;case"focusout":La=$l=zs=null;break;case"mousedown":ao=!0;break;case"contextmenu":case"mouseup":case"dragend":ao=!1,nn(ft,h,st);break;case"selectionchange":if(bc)break;case"keydown":case"keyup":nn(ft,h,st)}var Ir;if(Dr)e:{switch(o){case"compositionstart":var Wr="onCompositionStart";break e;case"compositionend":Wr="onCompositionEnd";break e;case"compositionupdate":Wr="onCompositionUpdate";break e}Wr=void 0}else tl?Us(o,h)&&(Wr="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Wr="onCompositionStart");Wr&&(ya&&h.locale!=="ko"&&(tl||Wr!=="onCompositionStart"?Wr==="onCompositionEnd"&&tl&&(Ir=yc()):(es=st,Dl="value"in es?es.value:es.textContent,tl=!0)),nr=g1(Ke,Wr),0<nr.length&&(Wr=new Oe(Wr,o,null,h,st),ft.push({event:Wr,listeners:nr}),Ir?Wr.data=Ir:(Ir=el(h),Ir!==null&&(Wr.data=Ir)))),(Ir=aa?is(o,h):Ml(o,h))&&(Wr=g1(Ke,"onBeforeInput"),0<Wr.length&&(nr=new Oe("onBeforeInput","beforeinput",null,h,st),ft.push({event:nr,listeners:Wr}),nr.data=Ir)),RY(ft,o,Ke,h,st)}kj(ft,u)})}function i0(o,u,h){return{instance:o,listener:u,currentTarget:h}}function g1(o,u){for(var h=u+"Capture",v=[];o!==null;){var A=o,C=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||C===null||(A=Gi(o,h),A!=null&&v.unshift(i0(o,A,C)),A=Gi(o,u),A!=null&&v.push(i0(o,A,C))),o.tag===3)return v;o=o.return}return[]}function LY(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Nj(o,u,h,v,A){for(var C=u._reactName,G=[];h!==null&&h!==v;){var ie=h,Ee=ie.alternate,Ke=ie.stateNode;if(ie=ie.tag,Ee!==null&&Ee===v)break;ie!==5&&ie!==26&&ie!==27||Ke===null||(Ee=Ke,A?(Ke=Gi(h,C),Ke!=null&&G.unshift(i0(h,Ke,Ee))):A||(Ke=Gi(h,C),Ke!=null&&G.push(i0(h,Ke,Ee)))),h=h.return}G.length!==0&&o.push({event:u,listeners:G})}var MY=/\r\n?/g,BY=/\u0000|\uFFFD/g;function Pj(o){return(typeof o=="string"?o:""+o).replace(MY,`
`).replace(BY,"")}function jj(o,u){return u=Pj(u),Pj(o)===u}function In(o,u,h,v,A,C){switch(h){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||Hi(o,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&Hi(o,""+v);break;case"className":na(o,"class",v);break;case"tabIndex":na(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":na(o,h,v);break;case"style":gc(o,v,C);break;case"data":if(u!=="object"){na(o,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||h!=="href")){o.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(h);break}v=Ia(""+v),o.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(h==="formAction"?(u!=="input"&&In(o,u,"name",A.name,A,null),In(o,u,"formEncType",A.formEncType,A,null),In(o,u,"formMethod",A.formMethod,A,null),In(o,u,"formTarget",A.formTarget,A,null)):(In(o,u,"encType",A.encType,A,null),In(o,u,"method",A.method,A,null),In(o,u,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(h);break}v=Ia(""+v),o.setAttribute(h,v);break;case"onClick":v!=null&&(o.onclick=Ms);break;case"onScroll":v!=null&&$r("scroll",o);break;case"onScrollEnd":v!=null&&$r("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(h=v.__html,h!=null){if(A.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}h=Ia(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,""+v):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":v===!0?o.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,v):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(h,v):o.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(h):o.setAttribute(h,v);break;case"popover":$r("beforetoggle",o),$r("toggle",o),Ja(o,"popover",v);break;case"xlinkActuate":oi(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":oi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":oi(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":oi(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":oi(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":oi(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":oi(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":oi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":oi(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Ja(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=xu.get(h)||h,Ja(o,h,v))}}function Z5(o,u,h,v,A,C){switch(h){case"style":gc(o,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(h=v.__html,h!=null){if(A.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"children":typeof v=="string"?Hi(o,v):(typeof v=="number"||typeof v=="bigint")&&Hi(o,""+v);break;case"onScroll":v!=null&&$r("scroll",o);break;case"onScrollEnd":v!=null&&$r("scrollend",o);break;case"onClick":v!=null&&(o.onclick=Ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oa.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(A=h.endsWith("Capture"),u=h.slice(2,A?h.length-7:void 0),C=o[Cr]||null,C=C!=null?C[h]:null,typeof C=="function"&&o.removeEventListener(u,C,A),typeof v=="function")){typeof C!="function"&&C!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(u,v,A);break e}h in o?o[h]=v:v===!0?o.setAttribute(h,""):Ja(o,h,v)}}}function us(o,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$r("error",o),$r("load",o);var v=!1,A=!1,C;for(C in h)if(h.hasOwnProperty(C)){var G=h[C];if(G!=null)switch(C){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:In(o,u,C,G,h,null)}}A&&In(o,u,"srcSet",h.srcSet,h,null),v&&In(o,u,"src",h.src,h,null);return;case"input":$r("invalid",o);var ie=C=G=A=null,Ee=null,Ke=null;for(v in h)if(h.hasOwnProperty(v)){var st=h[v];if(st!=null)switch(v){case"name":A=st;break;case"type":G=st;break;case"checked":Ee=st;break;case"defaultChecked":Ke=st;break;case"value":C=st;break;case"defaultValue":ie=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(n(137,u));break;default:In(o,u,v,st,h,null)}}Td(o,C,ie,Ee,Ke,G,A,!1);return;case"select":$r("invalid",o),v=G=C=null;for(A in h)if(h.hasOwnProperty(A)&&(ie=h[A],ie!=null))switch(A){case"value":C=ie;break;case"defaultValue":G=ie;break;case"multiple":v=ie;default:In(o,u,A,ie,h,null)}u=C,h=G,o.multiple=!!v,u!=null?ga(o,!!v,u,!1):h!=null&&ga(o,!!v,h,!0);return;case"textarea":$r("invalid",o),C=A=v=null;for(G in h)if(h.hasOwnProperty(G)&&(ie=h[G],ie!=null))switch(G){case"value":v=ie;break;case"defaultValue":A=ie;break;case"children":C=ie;break;case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(91));break;default:In(o,u,G,ie,h,null)}No(o,v,A,C);return;case"option":for(Ee in h)if(h.hasOwnProperty(Ee)&&(v=h[Ee],v!=null))switch(Ee){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:In(o,u,Ee,v,h,null)}return;case"dialog":$r("beforetoggle",o),$r("toggle",o),$r("cancel",o),$r("close",o);break;case"iframe":case"object":$r("load",o);break;case"video":case"audio":for(v=0;v<n0.length;v++)$r(n0[v],o);break;case"image":$r("error",o),$r("load",o);break;case"details":$r("toggle",o);break;case"embed":case"source":case"link":$r("error",o),$r("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ke in h)if(h.hasOwnProperty(Ke)&&(v=h[Ke],v!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:In(o,u,Ke,v,h,null)}return;default:if(bu(u)){for(st in h)h.hasOwnProperty(st)&&(v=h[st],v!==void 0&&Z5(o,u,st,v,h,void 0));return}}for(ie in h)h.hasOwnProperty(ie)&&(v=h[ie],v!=null&&In(o,u,ie,v,h,null))}function FY(o,u,h,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,C=null,G=null,ie=null,Ee=null,Ke=null,st=null;for(Ze in h){var ft=h[Ze];if(h.hasOwnProperty(Ze)&&ft!=null)switch(Ze){case"checked":break;case"value":break;case"defaultValue":Ee=ft;default:v.hasOwnProperty(Ze)||In(o,u,Ze,null,v,ft)}}for(var Qe in v){var Ze=v[Qe];if(ft=h[Qe],v.hasOwnProperty(Qe)&&(Ze!=null||ft!=null))switch(Qe){case"type":C=Ze;break;case"name":A=Ze;break;case"checked":Ke=Ze;break;case"defaultChecked":st=Ze;break;case"value":G=Ze;break;case"defaultValue":ie=Ze;break;case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(n(137,u));break;default:Ze!==ft&&In(o,u,Qe,Ze,v,ft)}}Rl(o,G,ie,Ee,Ke,st,C,A);return;case"select":Ze=G=ie=Qe=null;for(C in h)if(Ee=h[C],h.hasOwnProperty(C)&&Ee!=null)switch(C){case"value":break;case"multiple":Ze=Ee;default:v.hasOwnProperty(C)||In(o,u,C,null,v,Ee)}for(A in v)if(C=v[A],Ee=h[A],v.hasOwnProperty(A)&&(C!=null||Ee!=null))switch(A){case"value":Qe=C;break;case"defaultValue":ie=C;break;case"multiple":G=C;default:C!==Ee&&In(o,u,A,C,v,Ee)}u=ie,h=G,v=Ze,Qe!=null?ga(o,!!h,Qe,!1):!!v!=!!h&&(u!=null?ga(o,!!h,u,!0):ga(o,!!h,h?[]:"",!1));return;case"textarea":Ze=Qe=null;for(ie in h)if(A=h[ie],h.hasOwnProperty(ie)&&A!=null&&!v.hasOwnProperty(ie))switch(ie){case"value":break;case"children":break;default:In(o,u,ie,null,v,A)}for(G in v)if(A=v[G],C=h[G],v.hasOwnProperty(G)&&(A!=null||C!=null))switch(G){case"value":Qe=A;break;case"defaultValue":Ze=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:A!==C&&In(o,u,G,A,v,C)}pc(o,Qe,Ze);return;case"option":for(var Kt in h)if(Qe=h[Kt],h.hasOwnProperty(Kt)&&Qe!=null&&!v.hasOwnProperty(Kt))switch(Kt){case"selected":o.selected=!1;break;default:In(o,u,Kt,null,v,Qe)}for(Ee in v)if(Qe=v[Ee],Ze=h[Ee],v.hasOwnProperty(Ee)&&Qe!==Ze&&(Qe!=null||Ze!=null))switch(Ee){case"selected":o.selected=Qe&&typeof Qe!="function"&&typeof Qe!="symbol";break;default:In(o,u,Ee,Qe,v,Ze)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vr in h)Qe=h[vr],h.hasOwnProperty(vr)&&Qe!=null&&!v.hasOwnProperty(vr)&&In(o,u,vr,null,v,Qe);for(Ke in v)if(Qe=v[Ke],Ze=h[Ke],v.hasOwnProperty(Ke)&&Qe!==Ze&&(Qe!=null||Ze!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(n(137,u));break;default:In(o,u,Ke,Qe,v,Ze)}return;default:if(bu(u)){for(var Dn in h)Qe=h[Dn],h.hasOwnProperty(Dn)&&Qe!==void 0&&!v.hasOwnProperty(Dn)&&Z5(o,u,Dn,void 0,v,Qe);for(st in v)Qe=v[st],Ze=h[st],!v.hasOwnProperty(st)||Qe===Ze||Qe===void 0&&Ze===void 0||Z5(o,u,st,Qe,v,Ze);return}}for(var Me in h)Qe=h[Me],h.hasOwnProperty(Me)&&Qe!=null&&!v.hasOwnProperty(Me)&&In(o,u,Me,null,v,Qe);for(ft in v)Qe=v[ft],Ze=h[ft],!v.hasOwnProperty(ft)||Qe===Ze||Qe==null&&Ze==null||In(o,u,ft,Qe,v,Ze)}function Rj(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UY(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var A=h[v],C=A.transferSize,G=A.initiatorType,ie=A.duration;if(C&&ie&&Rj(G)){for(G=0,ie=A.responseEnd,v+=1;v<h.length;v++){var Ee=h[v],Ke=Ee.startTime;if(Ke>ie)break;var st=Ee.transferSize,ft=Ee.initiatorType;st&&Rj(ft)&&(Ee=Ee.responseEnd,G+=st*(Ee<ie?1:(ie-Ke)/(Ee-Ke)))}if(--v,u+=8*(C+G)/(A.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var J5=null,e_=null;function y1(o){return o.nodeType===9?o:o.ownerDocument}function Oj(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ij(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function t_(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var r_=null;function VY(){var o=window.event;return o&&o.type==="popstate"?o===r_?!1:(r_=o,!0):(r_=null,!1)}var Dj=typeof setTimeout=="function"?setTimeout:void 0,zY=typeof clearTimeout=="function"?clearTimeout:void 0,Lj=typeof Promise=="function"?Promise:void 0,$Y=typeof queueMicrotask=="function"?queueMicrotask:typeof Lj<"u"?function(o){return Lj.resolve(null).then(o).catch(qY)}:Dj;function qY(o){setTimeout(function(){throw o})}function Yd(o){return o==="head"}function Mj(o,u){var h=u,v=0;do{var A=h.nextSibling;if(o.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"||h==="/&"){if(v===0){o.removeChild(A),Qp(u);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")a0(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,a0(h);for(var C=h.firstChild;C;){var G=C.nextSibling,ie=C.nodeName;C[si]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=G}}else h==="body"&&a0(o.ownerDocument.body);h=A}while(h);Qp(u)}function Bj(o,u){var h=o;o=0;do{var v=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=v}while(h)}function n_(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":n_(h),zn(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function HY(o,u,h,v){for(;o.nodeType===1;){var A=h;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[si])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(C=o.getAttribute("rel"),C==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(C!==A.rel||o.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||o.getAttribute("title")!==(A.title==null?null:A.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(C=o.getAttribute("src"),(C!==(A.src==null?null:A.src)||o.getAttribute("type")!==(A.type==null?null:A.type)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&C&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var C=A.name==null?null:""+A.name;if(A.type==="hidden"&&o.getAttribute("name")===C)return o}else return o;if(o=dl(o.nextSibling),o===null)break}return null}function GY(o,u,h){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=dl(o.nextSibling),o===null))return null;return o}function Fj(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=dl(o.nextSibling),o===null))return null;return o}function i_(o){return o.data==="$?"||o.data==="$~"}function a_(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function WY(o,u){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||h.readyState!=="loading")u();else{var v=function(){u(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function dl(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var s_=null;function Uj(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(u===0)return dl(o.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}o=o.nextSibling}return null}function Vj(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return o;u--}else h!=="/$"&&h!=="/&"||u++}o=o.previousSibling}return null}function zj(o,u,h){switch(u=y1(h),o){case"html":if(o=u.documentElement,!o)throw Error(n(452));return o;case"head":if(o=u.head,!o)throw Error(n(453));return o;case"body":if(o=u.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function a0(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);zn(o)}var fl=new Map,$j=new Set;function v1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Mc=ee.d;ee.d={f:KY,r:YY,D:XY,C:QY,L:ZY,m:JY,X:tX,S:eX,M:rX};function KY(){var o=Mc.f(),u=u1();return o||u}function YY(o){var u=qi(o);u!==null&&u.tag===5&&u.type==="form"?s3(u):Mc.r(o)}var Kp=typeof document>"u"?null:document;function qj(o,u,h){var v=Kp;if(v&&typeof u=="string"&&u){var A=li(u);A='link[rel="'+o+'"][href="'+A+'"]',typeof h=="string"&&(A+='[crossorigin="'+h+'"]'),$j.has(A)||($j.add(A),o={rel:o,crossOrigin:h,href:u},v.querySelector(A)===null&&(u=v.createElement("link"),us(u,"link",o),Kn(u),v.head.appendChild(u)))}}function XY(o){Mc.D(o),qj("dns-prefetch",o,null)}function QY(o,u){Mc.C(o,u),qj("preconnect",o,u)}function ZY(o,u,h){Mc.L(o,u,h);var v=Kp;if(v&&o&&u){var A='link[rel="preload"][as="'+li(u)+'"]';u==="image"&&h&&h.imageSrcSet?(A+='[imagesrcset="'+li(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(A+='[imagesizes="'+li(h.imageSizes)+'"]')):A+='[href="'+li(o)+'"]';var C=A;switch(u){case"style":C=Yp(o);break;case"script":C=Xp(o)}fl.has(C)||(o=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:o,as:u},h),fl.set(C,o),v.querySelector(A)!==null||u==="style"&&v.querySelector(s0(C))||u==="script"&&v.querySelector(o0(C))||(u=v.createElement("link"),us(u,"link",o),Kn(u),v.head.appendChild(u)))}}function JY(o,u){Mc.m(o,u);var h=Kp;if(h&&o){var v=u&&typeof u.as=="string"?u.as:"script",A='link[rel="modulepreload"][as="'+li(v)+'"][href="'+li(o)+'"]',C=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Xp(o)}if(!fl.has(C)&&(o=p({rel:"modulepreload",href:o},u),fl.set(C,o),h.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(o0(C)))return}v=h.createElement("link"),us(v,"link",o),Kn(v),h.head.appendChild(v)}}}function eX(o,u,h){Mc.S(o,u,h);var v=Kp;if(v&&o){var A=ms(v).hoistableStyles,C=Yp(o);u=u||"default";var G=A.get(C);if(!G){var ie={loading:0,preload:null};if(G=v.querySelector(s0(C)))ie.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":u},h),(h=fl.get(C))&&o_(o,h);var Ee=G=v.createElement("link");Kn(Ee),us(Ee,"link",o),Ee._p=new Promise(function(Ke,st){Ee.onload=Ke,Ee.onerror=st}),Ee.addEventListener("load",function(){ie.loading|=1}),Ee.addEventListener("error",function(){ie.loading|=2}),ie.loading|=4,b1(G,u,v)}G={type:"stylesheet",instance:G,count:1,state:ie},A.set(C,G)}}}function tX(o,u){Mc.X(o,u);var h=Kp;if(h&&o){var v=ms(h).hoistableScripts,A=Xp(o),C=v.get(A);C||(C=h.querySelector(o0(A)),C||(o=p({src:o,async:!0},u),(u=fl.get(A))&&l_(o,u),C=h.createElement("script"),Kn(C),us(C,"link",o),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(A,C))}}function rX(o,u){Mc.M(o,u);var h=Kp;if(h&&o){var v=ms(h).hoistableScripts,A=Xp(o),C=v.get(A);C||(C=h.querySelector(o0(A)),C||(o=p({src:o,async:!0,type:"module"},u),(u=fl.get(A))&&l_(o,u),C=h.createElement("script"),Kn(C),us(C,"link",o),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(A,C))}}function Hj(o,u,h,v){var A=(A=ye.current)?v1(A):null;if(!A)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Yp(h.href),h=ms(A).hoistableStyles,v=h.get(u),v||(v={type:"style",instance:null,count:0,state:null},h.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Yp(h.href);var C=ms(A).hoistableStyles,G=C.get(o);if(G||(A=A.ownerDocument||A,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(o,G),(C=A.querySelector(s0(o)))&&!C._p&&(G.instance=C,G.state.loading=5),fl.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},fl.set(o,h),C||nX(A,o,h,G.state))),u&&v===null)throw Error(n(528,""));return G}if(u&&v!==null)throw Error(n(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Xp(h),h=ms(A).hoistableScripts,v=h.get(u),v||(v={type:"script",instance:null,count:0,state:null},h.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Yp(o){return'href="'+li(o)+'"'}function s0(o){return'link[rel="stylesheet"]['+o+"]"}function Gj(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function nX(o,u,h,v){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=o.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),us(u,"link",h),Kn(u),o.head.appendChild(u))}function Xp(o){return'[src="'+li(o)+'"]'}function o0(o){return"script[async]"+o}function Wj(o,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var v=o.querySelector('style[data-href~="'+li(h.href)+'"]');if(v)return u.instance=v,Kn(v),v;var A=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),Kn(v),us(v,"style",A),b1(v,h.precedence,o),u.instance=v;case"stylesheet":A=Yp(h.href);var C=o.querySelector(s0(A));if(C)return u.state.loading|=4,u.instance=C,Kn(C),C;v=Gj(h),(A=fl.get(A))&&o_(v,A),C=(o.ownerDocument||o).createElement("link"),Kn(C);var G=C;return G._p=new Promise(function(ie,Ee){G.onload=ie,G.onerror=Ee}),us(C,"link",v),u.state.loading|=4,b1(C,h.precedence,o),u.instance=C;case"script":return C=Xp(h.src),(A=o.querySelector(o0(C)))?(u.instance=A,Kn(A),A):(v=h,(A=fl.get(C))&&(v=p({},h),l_(v,A)),o=o.ownerDocument||o,A=o.createElement("script"),Kn(A),us(A,"link",v),o.head.appendChild(A),u.instance=A);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,b1(v,h.precedence,o));return u.instance}function b1(o,u,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,C=A,G=0;G<v.length;G++){var ie=v[G];if(ie.dataset.precedence===u)C=ie;else if(C!==A)break}C?C.parentNode.insertBefore(o,C.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(o,u.firstChild))}function o_(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function l_(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var x1=null;function Kj(o,u,h){if(x1===null){var v=new Map,A=x1=new Map;A.set(h,v)}else A=x1,v=A.get(h),v||(v=new Map,A.set(h,v));if(v.has(o))return v;for(v.set(o,null),h=h.getElementsByTagName(o),A=0;A<h.length;A++){var C=h[A];if(!(C[si]||C[St]||o==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var G=C.getAttribute(u)||"";G=o+G;var ie=v.get(G);ie?ie.push(C):v.set(G,[C])}}return v}function Yj(o,u,h){o=o.ownerDocument||o,o.head.insertBefore(h,u==="title"?o.querySelector("head > title"):null)}function iX(o,u,h){if(h===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Xj(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function aX(o,u,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var A=Yp(v.href),C=u.querySelector(s0(A));if(C){u=C._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=w1.bind(o),u.then(o,o)),h.state.loading|=4,h.instance=C,Kn(C);return}C=u.ownerDocument||u,v=Gj(v),(A=fl.get(A))&&o_(v,A),C=C.createElement("link"),Kn(C);var G=C;G._p=new Promise(function(ie,Ee){G.onload=ie,G.onerror=Ee}),us(C,"link",v),h.instance=C}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=w1.bind(o),u.addEventListener("load",h),u.addEventListener("error",h))}}var u_=0;function sX(o,u){return o.stylesheets&&o.count===0&&A1(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var v=setTimeout(function(){if(o.stylesheets&&A1(o,o.stylesheets),o.unsuspend){var C=o.unsuspend;o.unsuspend=null,C()}},6e4+u);0<o.imgBytes&&u_===0&&(u_=62500*UY());var A=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&A1(o,o.stylesheets),o.unsuspend)){var C=o.unsuspend;o.unsuspend=null,C()}},(o.imgBytes>u_?50:800)+u);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(A)}}:null}function w1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)A1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var _1=null;function A1(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,_1=new Map,u.forEach(oX,o),_1=null,w1.call(o))}function oX(o,u){if(!(u.state.loading&4)){var h=_1.get(o);if(h)var v=h.get(null);else{h=new Map,_1.set(o,h);for(var A=o.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<A.length;C++){var G=A[C];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(h.set(G.dataset.precedence,G),v=G)}v&&h.set(null,v)}A=u.instance,G=A.getAttribute("data-precedence"),C=h.get(G)||v,C===v&&h.set(null,A),h.set(G,A),this.count++,v=w1.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),C?C.parentNode.insertBefore(A,C.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(A,o.firstChild)),u.state.loading|=4}}var l0={$$typeof:P,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function lX(o,u,h,v,A,C,G,ie,Ee){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ve(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ve(0),this.hiddenUpdates=ve(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=C,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function Qj(o,u,h,v,A,C,G,ie,Ee,Ke,st,ft){return o=new lX(o,u,h,G,Ee,Ke,st,ft,ie),u=1,C===!0&&(u|=24),C=Ba(3,null,null,u),o.current=C,C.stateNode=o,u=Md(),u.refCount++,o.pooledCache=u,u.refCount++,C.memoizedState={element:v,isDehydrated:h,cache:u},Tt(C),o}function Zj(o){return o?(o=xa,o):xa}function Jj(o,u,h,v,A,C){A=Zj(A),v.context===null?v.context=A:v.pendingContext=A,v=yr(u),v.payload={element:h},C=C===void 0?null:C,C!==null&&(v.callback=C),h=Or(o,v,u),h!==null&&(xo(h,o,u),hn(h,o,u))}function eR(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<u?h:u}}function c_(o,u){eR(o,u),(o=o.alternate)&&eR(o,u)}function tR(o){if(o.tag===13||o.tag===31){var u=ql(o,67108864);u!==null&&xo(u,o,67108864),c_(o,67108864)}}function rR(o){if(o.tag===13||o.tag===31){var u=Fo();u=it(u);var h=ql(o,u);h!==null&&xo(h,o,u),c_(o,u)}}var S1=!0;function uX(o,u,h,v){var A=se.T;se.T=null;var C=ee.p;try{ee.p=2,d_(o,u,h,v)}finally{ee.p=C,se.T=A}}function cX(o,u,h,v){var A=se.T;se.T=null;var C=ee.p;try{ee.p=8,d_(o,u,h,v)}finally{ee.p=C,se.T=A}}function d_(o,u,h,v){if(S1){var A=f_(v);if(A===null)Q5(o,u,v,E1,h),iR(o,v);else if(fX(A,o,u,h,v))v.stopPropagation();else if(iR(o,v),u&4&&-1<dX.indexOf(o)){for(;A!==null;){var C=qi(A);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var G=W(C.pendingLanes);if(G!==0){var ie=C;for(ie.pendingLanes|=2,ie.entangledLanes|=2;G;){var Ee=1<<31-Se(G);ie.entanglements[1]|=Ee,G&=~Ee}Mu(C),(mn&6)===0&&(o1=tr()+500,r0(0))}}break;case 31:case 13:ie=ql(C,2),ie!==null&&xo(ie,C,2),u1(),c_(C,2)}if(C=f_(v),C===null&&Q5(o,u,v,E1,h),C===A)break;A=C}A!==null&&v.stopPropagation()}else Q5(o,u,v,null,h)}}function f_(o){return o=Da(o),h_(o)}var E1=null;function h_(o){if(E1=null,o=bi(o),o!==null){var u=a(o);if(u===null)o=null;else{var h=u.tag;if(h===13){if(o=s(u),o!==null)return o;o=null}else if(h===31){if(o=l(u),o!==null)return o;o=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return E1=o,null}function nR(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case qt:return 2;case ir:return 8;case rr:case Pt:return 32;case er:return 268435456;default:return 32}default:return 32}}var p_=!1,Xd=null,Qd=null,Zd=null,u0=new Map,c0=new Map,Jd=[],dX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iR(o,u){switch(o){case"focusin":case"focusout":Xd=null;break;case"dragenter":case"dragleave":Qd=null;break;case"mouseover":case"mouseout":Zd=null;break;case"pointerover":case"pointerout":u0.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":c0.delete(u.pointerId)}}function d0(o,u,h,v,A,C){return o===null||o.nativeEvent!==C?(o={blockedOn:u,domEventName:h,eventSystemFlags:v,nativeEvent:C,targetContainers:[A]},u!==null&&(u=qi(u),u!==null&&tR(u)),o):(o.eventSystemFlags|=v,u=o.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),o)}function fX(o,u,h,v,A){switch(u){case"focusin":return Xd=d0(Xd,o,u,h,v,A),!0;case"dragenter":return Qd=d0(Qd,o,u,h,v,A),!0;case"mouseover":return Zd=d0(Zd,o,u,h,v,A),!0;case"pointerover":var C=A.pointerId;return u0.set(C,d0(u0.get(C)||null,o,u,h,v,A)),!0;case"gotpointercapture":return C=A.pointerId,c0.set(C,d0(c0.get(C)||null,o,u,h,v,A)),!0}return!1}function aR(o){var u=bi(o.target);if(u!==null){var h=a(u);if(h!==null){if(u=h.tag,u===13){if(u=s(h),u!==null){o.blockedOn=u,Ut(o.priority,function(){rR(h)});return}}else if(u===31){if(u=l(h),u!==null){o.blockedOn=u,Ut(o.priority,function(){rR(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function T1(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var h=f_(o.nativeEvent);if(h===null){h=o.nativeEvent;var v=new h.constructor(h.type,h);jo=v,h.target.dispatchEvent(v),jo=null}else return u=qi(h),u!==null&&tR(u),o.blockedOn=h,!1;u.shift()}return!0}function sR(o,u,h){T1(o)&&h.delete(u)}function hX(){p_=!1,Xd!==null&&T1(Xd)&&(Xd=null),Qd!==null&&T1(Qd)&&(Qd=null),Zd!==null&&T1(Zd)&&(Zd=null),u0.forEach(sR),c0.forEach(sR)}function k1(o,u){o.blockedOn===u&&(o.blockedOn=null,p_||(p_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hX)))}var C1=null;function oR(o){C1!==o&&(C1=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){C1===o&&(C1=null);for(var u=0;u<o.length;u+=3){var h=o[u],v=o[u+1],A=o[u+2];if(typeof v!="function"){if(h_(v||h)===null)continue;break}var C=qi(h);C!==null&&(o.splice(u,3),u-=3,f5(C,{pending:!0,data:A,method:h.method,action:v},v,A))}}))}function Qp(o){function u(Ee){return k1(Ee,o)}Xd!==null&&k1(Xd,o),Qd!==null&&k1(Qd,o),Zd!==null&&k1(Zd,o),u0.forEach(u),c0.forEach(u);for(var h=0;h<Jd.length;h++){var v=Jd[h];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Jd.length&&(h=Jd[0],h.blockedOn===null);)aR(h),h.blockedOn===null&&Jd.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var A=h[v],C=h[v+1],G=A[Cr]||null;if(typeof C=="function")G||oR(h);else if(G){var ie=null;if(C&&C.hasAttribute("formAction")){if(A=C,G=C[Cr]||null)ie=G.formAction;else if(h_(A)!==null)continue}else ie=G.action;typeof ie=="function"?h[v+1]=ie:(h.splice(v,3),v-=3),oR(h)}}}function lR(){function o(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(G){return A=G})},focusReset:"manual",scroll:"manual"})}function u(){A!==null&&(A(),A=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,A=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),A!==null&&(A(),A=null)}}}function m_(o){this._internalRoot=o}N1.prototype.render=m_.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));var h=u.current,v=Fo();Jj(h,v,o,u,null,null)},N1.prototype.unmount=m_.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Jj(o.current,2,null,o,null,null),u1(),u[fn]=null}};function N1(o){this._internalRoot=o}N1.prototype.unstable_scheduleHydration=function(o){if(o){var u=Rt();o={blockedOn:null,target:o,priority:u};for(var h=0;h<Jd.length&&u!==0&&u<Jd[h].priority;h++);Jd.splice(h,0,o),h===0&&aR(o)}};var uR=e.version;if(uR!=="19.2.1")throw Error(n(527,uR,"19.2.1"));ee.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=d(u),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var pX={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var P1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!P1.isDisabled&&P1.supportsFiber)try{ar=P1.inject(pX),jt=P1}catch{}}return h0.createRoot=function(o,u){if(!i(o))throw Error(n(299));var h=!1,v="",A=g3,C=y3,G=v3;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(A=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(G=u.onRecoverableError)),u=Qj(o,1,!1,null,null,h,v,null,A,C,G,lR),o[fn]=u.current,X5(o),new m_(u)},h0.hydrateRoot=function(o,u,h){if(!i(o))throw Error(n(299));var v=!1,A="",C=g3,G=y3,ie=v3,Ee=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(C=h.onUncaughtError),h.onCaughtError!==void 0&&(G=h.onCaughtError),h.onRecoverableError!==void 0&&(ie=h.onRecoverableError),h.formState!==void 0&&(Ee=h.formState)),u=Qj(o,1,!0,u,h??null,v,A,Ee,C,G,ie,lR),u.context=Zj(null),h=u.current,v=Fo(),v=it(v),A=yr(v),A.callback=null,Or(h,A,v),h=v,u.current.lanes=h,Ae(u,h),Mu(u),o[fn]=u.current,X5(o),new N1(u)},h0.version="19.2.1",h0}var bR;function EX(){if(bR)return v_.exports;bR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),v_.exports=SX(),v_.exports}var TX=EX();var xR="popstate";function kX(t={}){function e(n,i){let{pathname:a,search:s,hash:l}=n.location;return sE("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ey(i)}return NX(e,r,null,t)}function ki(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CX(){return Math.random().toString(36).substring(2,10)}function wR(t,e){return{usr:t.state,key:t.key,idx:e}}function sE(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ig(e):e,state:r,key:e&&e.key||n||CX()}}function ey({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ig(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function NX(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l="POP",c=null,d=f();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function f(){return(s.state||{idx:null}).idx}function p(){l="POP";let _=f(),k=_==null?null:_-d;d=_,c&&c({action:l,location:S.location,delta:k})}function g(_,k){l="PUSH";let N=sE(S.location,_,k);d=f()+1;let P=wR(N,d),F=S.createHref(N);try{s.pushState(P,"",F)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(F)}a&&c&&c({action:l,location:S.location,delta:1})}function m(_,k){l="REPLACE";let N=sE(S.location,_,k);d=f();let P=wR(N,d),F=S.createHref(N);s.replaceState(P,"",F),a&&c&&c({action:l,location:S.location,delta:0})}function w(_){return PX(_)}let S={get action(){return l},get location(){return t(i,s)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(xR,p),c=_,()=>{i.removeEventListener(xR,p),c=null}},createHref(_){return e(i,_)},createURL:w,encodeLocation(_){let k=w(_);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:m,go(_){return s.go(_)}};return S}function PX(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ki(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:ey(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function A9(t,e,r="/"){return jX(t,e,r,!1)}function jX(t,e,r,n){let i=typeof e=="string"?ig(e):e,a=rd(i.pathname||"/",r);if(a==null)return null;let s=S9(t);RX(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let d=$X(a);l=VX(s[c],d,n)}return l}function S9(t,e=[],r=[],n="",i=!1){let a=(s,l,c=i,d)=>{let f={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;ki(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=Xc([n,f.relativePath]),g=r.concat(f);s.children&&s.children.length>0&&(ki(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),S9(s.children,e,g,p,c)),!(s.path==null&&!s.index)&&e.push({path:p,score:FX(p,s.index),routesMeta:g})};return t.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))a(s,l);else for(let c of E9(s.path))a(s,l,!0,c)}),e}function E9(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=E9(n.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function RX(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:UX(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var OX=/^:[\w-]+$/,IX=3,DX=2,LX=1,MX=10,BX=-2,_R=t=>t==="*";function FX(t,e){let r=t.split("/"),n=r.length;return r.some(_R)&&(n+=BX),e&&(n+=DX),r.filter(i=>!_R(i)).reduce((i,a)=>i+(OX.test(a)?IX:a===""?LX:MX),n)}function UX(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function VX(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=a==="/"?e:e.slice(a.length)||"/",p=Qb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),g=c.route;if(!p&&d&&r&&!n[n.length-1].route.index&&(p=Qb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Xc([a,p.pathname]),pathnameBase:KX(Xc([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=Xc([a,p.pathnameBase]))}return s}function Qb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=zX(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let w=l[g]||"";s=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const m=l[g];return p&&!m?d[f]=void 0:d[f]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:t}}function zX(t,e=!1,r=!0){Sl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function $X(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function rd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var qX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HX=t=>qX.test(t);function GX(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ig(t):t,a;if(r)if(HX(r))a=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),Sl(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${r}`)}r.startsWith("/")?a=AR(r.substring(1),"/"):a=AR(r,e)}else a=e;return{pathname:a,search:YX(n),hash:XX(i)}}function AR(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function __(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WX(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function T9(t){let e=WX(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function k9(t,e,r,n=!1){let i;typeof t=="string"?i=ig(t):(i={...t},ki(!i.pathname||!i.pathname.includes("?"),__("?","pathname","search",i)),ki(!i.pathname||!i.pathname.includes("#"),__("#","pathname","hash",i)),ki(!i.search||!i.search.includes("#"),__("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let p=e.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let c=GX(i,l),d=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var Xc=t=>t.join("/").replace(/\/\/+/g,"/"),KX=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YX=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XX=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QX(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function ZX(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var C9=["POST","PUT","PATCH","DELETE"];new Set(C9);var JX=["GET",...C9];new Set(JX);var ag=E.createContext(null);ag.displayName="DataRouter";var C2=E.createContext(null);C2.displayName="DataRouterState";E.createContext(!1);var N9=E.createContext({isTransitioning:!1});N9.displayName="ViewTransition";var eQ=E.createContext(new Map);eQ.displayName="Fetchers";var tQ=E.createContext(null);tQ.displayName="Await";var fu=E.createContext(null);fu.displayName="Navigation";var My=E.createContext(null);My.displayName="Location";var yd=E.createContext({outlet:null,matches:[],isDataRoute:!1});yd.displayName="Route";var D4=E.createContext(null);D4.displayName="RouteError";function rQ(t,{relative:e}={}){ki(By(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=E.useContext(fu),{hash:i,pathname:a,search:s}=Fy(t,{relative:e}),l=a;return r!=="/"&&(l=a==="/"?r:Xc([r,a])),n.createHref({pathname:l,search:s,hash:i})}function By(){return E.useContext(My)!=null}function Mf(){return ki(By(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(My).location}var P9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j9(t){E.useContext(fu).static||E.useLayoutEffect(t)}function sp(){let{isDataRoute:t}=E.useContext(yd);return t?mQ():nQ()}function nQ(){ki(By(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(ag),{basename:e,navigator:r}=E.useContext(fu),{matches:n}=E.useContext(yd),{pathname:i}=Mf(),a=JSON.stringify(T9(n)),s=E.useRef(!1);return j9(()=>{s.current=!0}),E.useCallback((c,d={})=>{if(Sl(s.current,P9),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=k9(c,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xc([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,i,t])}E.createContext(null);function Fy(t,{relative:e}={}){let{matches:r}=E.useContext(yd),{pathname:n}=Mf(),i=JSON.stringify(T9(r));return E.useMemo(()=>k9(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function iQ(t,e){return R9(t,e)}function R9(t,e,r,n,i){ki(By(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(fu),{matches:s}=E.useContext(yd),l=s[s.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let N=p&&p.path||"";O9(d,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=Mf(),m;if(e){let N=typeof e=="string"?ig(e):e;ki(f==="/"||N.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${N.pathname}" was given in the \`location\` prop.`),m=N}else m=g;let w=m.pathname||"/",S=w;if(f!=="/"){let N=f.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=A9(t,{pathname:S});Sl(p||_!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Sl(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=uQ(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Xc([f,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:Xc([f,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),s,r,n,i);return e&&k?E.createElement(My.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},k):k}function aQ(){let t=pQ(),e=QX(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:i},r):null,s)}var sQ=E.createElement(aQ,null),oQ=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(yd.Provider,{value:this.props.routeContext},E.createElement(D4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lQ({routeContext:t,match:e,children:r}){let n=E.useContext(ag);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(yd.Provider,{value:t},r)}function uQ(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=r?.errors;if(s!=null){let f=a.findIndex(p=>p.route.id&&s?.[p.route.id]!==void 0);ki(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,c=-1;if(r)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:m}=r,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!m||m[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let d=r&&n?(f,p)=>{n(f,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:ZX(r.matches),errorInfo:p})}:void 0;return a.reduceRight((f,p,g)=>{let m,w=!1,S=null,_=null;r&&(m=s&&p.route.id?s[p.route.id]:void 0,S=p.route.errorElement||sQ,l&&(c<0&&g===0?(O9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):c===g&&(w=!0,_=p.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,g+1)),N=()=>{let P;return m?P=S:w?P=_:p.route.Component?P=E.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=f,E.createElement(lQ,{match:p,routeContext:{outlet:f,matches:k,isDataRoute:r!=null},children:P})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?E.createElement(oQ,{location:r.location,revalidation:r.revalidation,component:S,error:m,children:N(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:d}):N()},null)}function L4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cQ(t){let e=E.useContext(ag);return ki(e,L4(t)),e}function dQ(t){let e=E.useContext(C2);return ki(e,L4(t)),e}function fQ(t){let e=E.useContext(yd);return ki(e,L4(t)),e}function M4(t){let e=fQ(t),r=e.matches[e.matches.length-1];return ki(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function hQ(){return M4("useRouteId")}function pQ(){let t=E.useContext(D4),e=dQ("useRouteError"),r=M4("useRouteError");return t!==void 0?t:e.errors?.[r]}function mQ(){let{router:t}=cQ("useNavigate"),e=M4("useNavigate"),r=E.useRef(!1);return j9(()=>{r.current=!0}),E.useCallback(async(i,a={})=>{Sl(r.current,P9),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var SR={};function O9(t,e,r){!e&&!SR[t]&&(SR[t]=!0,Sl(!1,r))}E.memo(gQ);function gQ({routes:t,future:e,state:r,unstable_onError:n}){return R9(t,void 0,r,n,e)}function im(t){ki(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yQ({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){ki(!By(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[l,i,a,s]);typeof r=="string"&&(r=ig(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:m="default"}=r,w=E.useMemo(()=>{let S=rd(d,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:g,key:m},navigationType:n}},[l,d,f,p,g,m,n]);return Sl(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(fu.Provider,{value:c},E.createElement(My.Provider,{children:e,value:w}))}function vQ({children:t,location:e}){return iQ(oE(t),e)}function oE(t,e=[]){let r=[];return E.Children.forEach(t,(n,i)=>{if(!E.isValidElement(n))return;let a=[...e,i];if(n.type===E.Fragment){r.push.apply(r,oE(n.props.children,a));return}ki(n.type===im,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ki(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=oE(n.props.children,a)),r.push(s)}),r}var bb="get",xb="application/x-www-form-urlencoded";function N2(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function bQ(t){return N2(t)&&t.tagName.toLowerCase()==="button"}function xQ(t){return N2(t)&&t.tagName.toLowerCase()==="form"}function wQ(t){return N2(t)&&t.tagName.toLowerCase()==="input"}function _Q(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AQ(t,e){return t.button===0&&(!e||e==="_self")&&!_Q(t)}function lE(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function SQ(t,e){let r=lE(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}var j1=null;function EQ(){if(j1===null)try{new FormData(document.createElement("form"),0),j1=!1}catch{j1=!0}return j1}var TQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function A_(t){return t!=null&&!TQ.has(t)?(Sl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xb}"`),null):t}function kQ(t,e){let r,n,i,a,s;if(xQ(t)){let l=t.getAttribute("action");n=l?rd(l,e):null,r=t.getAttribute("method")||bb,i=A_(t.getAttribute("enctype"))||xb,a=new FormData(t)}else if(bQ(t)||wQ(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?rd(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||bb,i=A_(t.getAttribute("formenctype"))||A_(l.getAttribute("enctype"))||xb,a=new FormData(l,t),!EQ()){let{name:d,type:f,value:p}=t;if(f==="image"){let g=d?`${d}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else d&&a.append(d,p)}}else{if(N2(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=bb,n=null,i=xb,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function B4(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CQ(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&rd(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function NQ(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PQ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jQ(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await NQ(a,r);return s.links?s.links():[]}return[]}));return DQ(n.flat(1).filter(PQ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ER(t,e,r,n,i,a){let s=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>r[d].pathname!==c.pathname||r[d].route.path?.endsWith("*")&&r[d].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,d)=>s(c,d)||l(c,d)):a==="data"?e.filter((c,d)=>{let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function RQ(t,e,{includeHydrateFallback:r}={}){return OQ(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function OQ(t){return[...new Set(t)]}function IQ(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function DQ(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(IQ(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function I9(){let t=E.useContext(ag);return B4(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function LQ(){let t=E.useContext(C2);return B4(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var F4=E.createContext(void 0);F4.displayName="FrameworkContext";function D9(){let t=E.useContext(F4);return B4(t,"You must render this element inside a <HydratedRouter> element"),t}function MQ(t,e){let r=E.useContext(F4),[n,i]=E.useState(!1),[a,s]=E.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,g=E.useRef(null);E.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let S=k=>{k.forEach(N=>{s(N.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[t]),E.useEffect(()=>{if(n){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[n]);let m=()=>{i(!0)},w=()=>{i(!1),s(!1)};return r?t!=="intent"?[a,g,{}]:[a,g,{onFocus:p0(l,m),onBlur:p0(c,w),onMouseEnter:p0(d,m),onMouseLeave:p0(f,w),onTouchStart:p0(p,m)}]:[!1,g,{}]}function p0(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function BQ({page:t,...e}){let{router:r}=I9(),n=E.useMemo(()=>A9(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?E.createElement(UQ,{page:t,matches:n,...e}):null}function FQ(t){let{manifest:e,routeModules:r}=D9(),[n,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return jQ(t,e,r).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,r]),n}function UQ({page:t,matches:e,...r}){let n=Mf(),{manifest:i,routeModules:a}=D9(),{basename:s}=I9(),{loaderData:l,matches:c}=LQ(),d=E.useMemo(()=>ER(t,e,c,i,n,"data"),[t,e,c,i,n]),f=E.useMemo(()=>ER(t,e,c,i,n,"assets"),[t,e,c,i,n]),p=E.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,S=!1;if(e.forEach(k=>{let N=i.routes[k.route.id];!N||!N.hasLoader||(!d.some(P=>P.route.id===k.route.id)&&k.route.id in l&&a[k.route.id]?.shouldRevalidate||N.hasClientLoader?S=!0:w.add(k.route.id))}),w.size===0)return[];let _=CQ(t,s,"data");return S&&w.size>0&&_.searchParams.set("_routes",e.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[_.pathname+_.search]},[s,l,n,i,d,e,t,a]),g=E.useMemo(()=>RQ(f,i),[f,i]),m=FQ(f);return E.createElement(E.Fragment,null,p.map(w=>E.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),g.map(w=>E.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),m.map(({key:w,link:S})=>E.createElement("link",{key:w,nonce:r.nonce,...S})))}function VQ(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var L9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L9&&(window.__reactRouterVersion="7.10.1")}catch{}function zQ({basename:t,children:e,unstable_useTransitions:r,window:n}){let i=E.useRef();i.current==null&&(i.current=kX({window:n,v5Compat:!0}));let a=i.current,[s,l]=E.useState({action:a.action,location:a.location}),c=E.useCallback(d=>{r===!1?l(d):E.startTransition(()=>l(d))},[r]);return E.useLayoutEffect(()=>a.listen(c),[a,c]),E.createElement(yQ,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:r===!0})}var M9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B9=E.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:d,preventScrollReset:f,viewTransition:p,...g},m){let{basename:w,unstable_useTransitions:S}=E.useContext(fu),_=typeof d=="string"&&M9.test(d),k,N=!1;if(typeof d=="string"&&_&&(k=d,L9))try{let $=new URL(window.location.href),j=d.startsWith("//")?new URL($.protocol+d):new URL(d),V=rd(j.pathname,w);j.origin===$.origin&&V!=null?d=V+j.search+j.hash:N=!0}catch{Sl(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=rQ(d,{relative:i}),[F,O,z]=MQ(n,g),L=GQ(d,{replace:s,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:p,unstable_useTransitions:S});function I($){e&&e($),$.defaultPrevented||L($)}let D=E.createElement("a",{...g,...z,href:k||P,onClick:N||a?e:I,ref:VQ(m,O),target:c,"data-discover":!_&&r==="render"?"true":void 0});return F&&!_?E.createElement(E.Fragment,null,D,E.createElement(BQ,{page:P})):D});B9.displayName="Link";var $Q=E.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...d},f){let p=Fy(s,{relative:d.relative}),g=Mf(),m=E.useContext(C2),{navigator:w,basename:S}=E.useContext(fu),_=m!=null&&ZQ(p)&&l===!0,k=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,N=g.pathname,P=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(N=N.toLowerCase(),P=P?P.toLowerCase():null,k=k.toLowerCase()),P&&S&&(P=rd(P,S)||P);const F=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=N===k||!i&&N.startsWith(k)&&N.charAt(F)==="/",z=P!=null&&(P===k||!i&&P.startsWith(k)&&P.charAt(k.length)==="/"),L={isActive:O,isPending:z,isTransitioning:_},I=O?e:void 0,D;typeof n=="function"?D=n(L):D=[n,O?"active":null,z?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let $=typeof a=="function"?a(L):a;return E.createElement(B9,{...d,"aria-current":I,className:D,ref:f,style:$,to:s,viewTransition:l},typeof c=="function"?c(L):c)});$Q.displayName="NavLink";var qQ=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:s=bb,action:l,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:p,...g},m)=>{let{unstable_useTransitions:w}=E.useContext(fu),S=XQ(),_=QQ(l,{relative:d}),k=s.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&M9.test(l),P=F=>{if(c&&c(F),F.defaultPrevented)return;F.preventDefault();let O=F.nativeEvent.submitter,z=O?.getAttribute("formmethod")||s,L=()=>S(O||F.currentTarget,{fetcherKey:e,method:z,navigate:r,replace:i,state:a,relative:d,preventScrollReset:f,viewTransition:p});w&&r!==!1?E.startTransition(()=>L()):L()};return E.createElement("form",{ref:m,method:k,action:_,onSubmit:n?c:P,...g,"data-discover":!N&&t==="render"?"true":void 0})});qQ.displayName="Form";function HQ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F9(t){let e=E.useContext(ag);return ki(e,HQ(t)),e}function GQ(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_useTransitions:l}={}){let c=sp(),d=Mf(),f=Fy(t,{relative:a});return E.useCallback(p=>{if(AQ(p,e)){p.preventDefault();let g=r!==void 0?r:ey(d)===ey(f),m=()=>c(t,{replace:g,state:n,preventScrollReset:i,relative:a,viewTransition:s});l?E.startTransition(()=>m()):m()}},[d,c,f,r,n,e,t,i,a,s,l])}function WQ(t){Sl(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=E.useRef(lE(t)),r=E.useRef(!1),n=Mf(),i=E.useMemo(()=>SQ(n.search,r.current?null:e.current),[n.search]),a=sp(),s=E.useCallback((l,c)=>{const d=lE(typeof l=="function"?l(new URLSearchParams(i)):l);r.current=!0,a("?"+d,c)},[a,i]);return[i,s]}var KQ=0,YQ=()=>`__${String(++KQ)}__`;function XQ(){let{router:t}=F9("useSubmit"),{basename:e}=E.useContext(fu),r=hQ(),n=t.fetch,i=t.navigate;return E.useCallback(async(a,s={})=>{let{action:l,method:c,encType:d,formData:f,body:p}=kQ(a,e);if(s.navigate===!1){let g=s.fetcherKey||YQ();await n(g,r,s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await i(s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,i,e,r])}function QQ(t,{relative:e}={}){let{basename:r}=E.useContext(fu),n=E.useContext(yd);ki(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Fy(t||".",{relative:e})},s=Mf();if(t==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Xc([r,a.pathname])),ey(a)}function ZQ(t,{relative:e}={}){let r=E.useContext(N9);ki(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=F9("useViewTransitionState"),i=Fy(t,{relative:e});if(!r.isTransitioning)return!1;let a=rd(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=rd(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Qb(i.pathname,s)!=null||Qb(i.pathname,a)!=null}var op=_9();const JQ="modulepreload",eZ=function(t){return"/"+t},TR={},Wa=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let c=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=c(r.map(d=>{if(d=eZ(d),d in TR)return;TR[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":JQ,f||(g.as="script"),g.crossOrigin="",g.href=d,l&&g.setAttribute("nonce",l),document.head.appendChild(g),f)return new Promise((m,w)=>{g.addEventListener("load",m),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},tZ=()=>{};var kR={};const U9=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},rZ=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},V9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=a>>2,p=(a&3)<<4|l>>4;let g=(l&15)<<2|d>>6,m=d&63;c||(m=64,s||(g=64)),n.push(r[f],r[p],r[g],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rZ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||p==null)throw new nZ;const g=a<<2|l>>4;if(n.push(g),d!==64){const m=l<<4&240|d>>2;if(n.push(m),p!==64){const w=d<<6&192|p;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iZ=function(t){const e=U9(t);return V9.encodeByteArray(e,!0)},Zb=function(t){return iZ(t).replace(/\./g,"")},z9=function(t){try{return V9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sZ=()=>aZ().__FIREBASE_DEFAULTS__,oZ=()=>{if(typeof process>"u"||typeof kR>"u")return;const t=kR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lZ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z9(t[1]);return e&&JSON.parse(e)},P2=()=>{try{return tZ()||sZ()||oZ()||lZ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$9=t=>P2()?.emulatorHosts?.[t],q9=t=>{const e=$9(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},H9=()=>P2()?.config,G9=t=>P2()?.[`_${t}`];class uZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}function Bf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U4(t){return(await fetch(t,{credentials:"include"})).ok}function W9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zb(JSON.stringify(r)),Zb(JSON.stringify(s)),""].join(".")}const F0={};function cZ(){const t={prod:[],emulator:[]};for(const e of Object.keys(F0))F0[e]?t.emulator.push(e):t.prod.push(e);return t}function dZ(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let CR=!1;function V4(t,e){if(typeof window>"u"||typeof document>"u"||!Bf(window.location.host)||F0[t]===e||F0[t]||CR)return;F0[t]=e;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",a=cZ().prod.length>0;function s(){const g=document.getElementById(n);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{CR=!0,s()},g}function f(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=dZ(n),m=r("text"),w=document.getElementById(m)||document.createElement("span"),S=r("learnmore"),_=document.getElementById(S)||document.createElement("a"),k=r("preprendIcon"),N=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const P=g.element;l(P),f(_,S);const F=d();c(N,k),P.append(N,w,_,F),document.body.appendChild(P)}a?(w.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Os(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Os())}function hZ(){const t=P2()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pZ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mZ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gZ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yZ(){const t=Os();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vZ(){return!hZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bZ(){try{return typeof indexedDB=="object"}catch{return!1}}function xZ(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(r){e(r)}})}const wZ="FirebaseError";class uc extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=wZ,Object.setPrototypeOf(this,uc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uy.prototype.create)}}class Uy{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?_Z(a,n):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new uc(i,l,n)}}function _Z(t,e){return t.replace(AZ,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const AZ=/\{\$([^}]+)}/g;function SZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qh(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(NR(a)&&NR(s)){if(!qh(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function NR(t){return t!==null&&typeof t=="object"}function Vy(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function EZ(t,e){const r=new TZ(t,e);return r.subscribe.bind(r)}class TZ{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");kZ(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=S_),i.error===void 0&&(i.error=S_),i.complete===void 0&&(i.complete=S_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kZ(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function S_(){}function ii(t){return t&&t._delegate?t._delegate:t}class wf{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const gh="[DEFAULT]";let CZ=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new uZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PZ(e))try{this.getOrInitializeService({instanceIdentifier:gh})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=gh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gh){return this.instances.has(e)}getOptions(e=gh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&s.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:NZ(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=gh){return this.component?this.component.multipleInstances?e:gh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function NZ(t){return t===gh?void 0:t}function PZ(t){return t.instantiationMode==="EAGER"}class jZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new CZ(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}var Kr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Kr||(Kr={}));const RZ={debug:Kr.DEBUG,verbose:Kr.VERBOSE,info:Kr.INFO,warn:Kr.WARN,error:Kr.ERROR,silent:Kr.SILENT},OZ=Kr.INFO,IZ={[Kr.DEBUG]:"log",[Kr.VERBOSE]:"log",[Kr.INFO]:"info",[Kr.WARN]:"warn",[Kr.ERROR]:"error"},DZ=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=IZ[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z4{constructor(e){this.name=e,this._logLevel=OZ,this._logHandler=DZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kr.DEBUG,...e),this._logHandler(this,Kr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kr.VERBOSE,...e),this._logHandler(this,Kr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kr.INFO,...e),this._logHandler(this,Kr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kr.WARN,...e),this._logHandler(this,Kr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kr.ERROR,...e),this._logHandler(this,Kr.ERROR,...e)}}const LZ=(t,e)=>e.some(r=>t instanceof r);let PR,jR;function MZ(){return PR||(PR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BZ(){return jR||(jR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K9=new WeakMap,uE=new WeakMap,Y9=new WeakMap,E_=new WeakMap,$4=new WeakMap;function FZ(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(mf(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&K9.set(r,t)}).catch(()=>{}),$4.set(e,t),e}function UZ(t){if(uE.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});uE.set(t,e)}let cE={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return uE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y9.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return mf(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VZ(t){cE=t(cE)}function zZ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(T_(this),e,...r);return Y9.set(n,e.sort?e.sort():[e]),mf(n)}:BZ().includes(t)?function(...e){return t.apply(T_(this),e),mf(K9.get(this))}:function(...e){return mf(t.apply(T_(this),e))}}function $Z(t){return typeof t=="function"?zZ(t):(t instanceof IDBTransaction&&UZ(t),LZ(t,MZ())?new Proxy(t,cE):t)}function mf(t){if(t instanceof IDBRequest)return FZ(t);if(E_.has(t))return E_.get(t);const e=$Z(t);return e!==t&&(E_.set(t,e),$4.set(e,t)),e}const T_=t=>$4.get(t);function qZ(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=mf(s);return n&&s.addEventListener("upgradeneeded",c=>{n(mf(s.result),c.oldVersion,c.newVersion,mf(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const HZ=["get","getKey","getAll","getAllKeys","count"],GZ=["put","add","delete","clear"],k_=new Map;function RR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(k_.get(e))return k_.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=GZ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||HZ.includes(r)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),i&&c.done]))[0]};return k_.set(e,a),a}VZ(t=>({...t,get:(e,r,n)=>RR(e,r)||t.get(e,r,n),has:(e,r)=>!!RR(e,r)||t.has(e,r)}));class WZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(KZ(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function KZ(t){return t.getComponent()?.type==="VERSION"}const dE="@firebase/app",OR="0.14.6";const nd=new z4("@firebase/app"),YZ="@firebase/app-compat",XZ="@firebase/analytics-compat",QZ="@firebase/analytics",ZZ="@firebase/app-check-compat",JZ="@firebase/app-check",eJ="@firebase/auth",tJ="@firebase/auth-compat",rJ="@firebase/database",nJ="@firebase/data-connect",iJ="@firebase/database-compat",aJ="@firebase/functions",sJ="@firebase/functions-compat",oJ="@firebase/installations",lJ="@firebase/installations-compat",uJ="@firebase/messaging",cJ="@firebase/messaging-compat",dJ="@firebase/performance",fJ="@firebase/performance-compat",hJ="@firebase/remote-config",pJ="@firebase/remote-config-compat",mJ="@firebase/storage",gJ="@firebase/storage-compat",yJ="@firebase/firestore",vJ="@firebase/ai",bJ="@firebase/firestore-compat",xJ="firebase",wJ="12.6.0";const fE="[DEFAULT]",_J={[dE]:"fire-core",[YZ]:"fire-core-compat",[QZ]:"fire-analytics",[XZ]:"fire-analytics-compat",[JZ]:"fire-app-check",[ZZ]:"fire-app-check-compat",[eJ]:"fire-auth",[tJ]:"fire-auth-compat",[rJ]:"fire-rtdb",[nJ]:"fire-data-connect",[iJ]:"fire-rtdb-compat",[aJ]:"fire-fn",[sJ]:"fire-fn-compat",[oJ]:"fire-iid",[lJ]:"fire-iid-compat",[uJ]:"fire-fcm",[cJ]:"fire-fcm-compat",[dJ]:"fire-perf",[fJ]:"fire-perf-compat",[hJ]:"fire-rc",[pJ]:"fire-rc-compat",[mJ]:"fire-gcs",[gJ]:"fire-gcs-compat",[yJ]:"fire-fst",[bJ]:"fire-fst-compat",[vJ]:"fire-vertex","fire-js":"fire-js",[xJ]:"fire-js-all"};const Jb=new Map,AJ=new Map,hE=new Map;function IR(t,e){try{t.container.addComponent(e)}catch(r){nd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Hh(t){const e=t.name;if(hE.has(e))return nd.debug(`There were multiple attempts to register component ${e}.`),!1;hE.set(e,t);for(const r of Jb.values())IR(r,t);for(const r of AJ.values())IR(r,t);return!0}function j2(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function vl(t){return t==null?!1:t.settings!==void 0}const SJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gf=new Uy("app","Firebase",SJ);class EJ{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new wf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gf.create("app-deleted",{appName:this._name})}}const lp=wJ;function X9(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:fE,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw gf.create("bad-app-name",{appName:String(i)});if(r||(r=H9()),!r)throw gf.create("no-options");const a=Jb.get(i);if(a){if(qh(r,a.options)&&qh(n,a.config))return a;throw gf.create("duplicate-app",{appName:i})}const s=new jZ(i);for(const c of hE.values())s.addComponent(c);const l=new EJ(r,n,s);return Jb.set(i,l),l}function q4(t=fE){const e=Jb.get(t);if(!e&&t===fE&&H9())return X9();if(!e)throw gf.create("no-app",{appName:t});return e}function Wu(t,e,r){let n=_J[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nd.warn(s.join(" "));return}Hh(new wf(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}const TJ="firebase-heartbeat-database",kJ=1,ty="firebase-heartbeat-store";let C_=null;function Q9(){return C_||(C_=qZ(TJ,kJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ty)}catch(r){console.warn(r)}}}}).catch(t=>{throw gf.create("idb-open",{originalErrorMessage:t.message})})),C_}async function CJ(t){try{const r=(await Q9()).transaction(ty),n=await r.objectStore(ty).get(Z9(t));return await r.done,n}catch(e){if(e instanceof uc)nd.warn(e.message);else{const r=gf.create("idb-get",{originalErrorMessage:e?.message});nd.warn(r.message)}}}async function DR(t,e){try{const n=(await Q9()).transaction(ty,"readwrite");await n.objectStore(ty).put(e,Z9(t)),await n.done}catch(r){if(r instanceof uc)nd.warn(r.message);else{const n=gf.create("idb-set",{originalErrorMessage:r?.message});nd.warn(n.message)}}}function Z9(t){return`${t.name}!${t.options.appId}`}const NJ=1024,PJ=30;class jJ{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new OJ(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=LR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>PJ){const i=IJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){nd.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=LR(),{heartbeatsToSend:r,unsentEntries:n}=RJ(this._heartbeatsCache.heartbeats),i=Zb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return nd.warn(e),""}}}function LR(){return new Date().toISOString().substring(0,10)}function RJ(t,e=NJ){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),MR(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),MR(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class OJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bZ()?xZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await CJ(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return DR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return DR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function MR(t){return Zb(JSON.stringify({version:2,heartbeats:t})).length}function IJ(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}function DJ(t){Hh(new wf("platform-logger",e=>new WZ(e),"PRIVATE")),Hh(new wf("heartbeat",e=>new jJ(e),"PRIVATE")),Wu(dE,OR,t),Wu(dE,OR,"esm2020"),Wu("fire-js","")}DJ("");function J9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LJ=J9,eB=new Uy("auth","Firebase",J9());const ex=new z4("@firebase/auth");function MJ(t,...e){ex.logLevel<=Kr.WARN&&ex.warn(`Auth (${lp}): ${t}`,...e)}function wb(t,...e){ex.logLevel<=Kr.ERROR&&ex.error(`Auth (${lp}): ${t}`,...e)}function rc(t,...e){throw G4(t,...e)}function ou(t,...e){return G4(t,...e)}function H4(t,e,r){const n={...LJ(),[e]:r};return new Uy("auth","Firebase",n).create(e,{appName:t.name})}function jh(t){return H4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BJ(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&rc(t,"argument-error"),H4(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function G4(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return eB.create(t,...e)}function Tr(t,e,...r){if(!t)throw G4(e,...r)}function Gc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wb(e),new Error(e)}function id(t,e){t||Gc(e)}function pE(){return typeof self<"u"&&self.location?.href||""}function FJ(){return BR()==="http:"||BR()==="https:"}function BR(){return typeof self<"u"&&self.location?.protocol||null}function UJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FJ()||mZ()||"connection"in navigator)?navigator.onLine:!0}function VJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class zy{constructor(e,r){this.shortDelay=e,this.longDelay=r,id(r>e,"Short delay should be less than long delay!"),this.isMobile=fZ()||gZ()}get(){return UJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function W4(t,e){id(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}class tB{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $J=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qJ=new zy(3e4,6e4);function K4(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sg(t,e,r,n,i={}){return rB(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const l=Vy({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...a};return pZ()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Bf(t.emulatorConfig.host)&&(d.credentials="include"),tB.fetch()(await nB(t,t.config.apiHost,r,l),d)})}async function rB(t,e,r){t._canInitEmulator=!1;const n={...zJ,...e};try{const i=new GJ(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw R1(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw R1(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw R1(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw R1(t,"user-disabled",s);const f=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw H4(t,f,d);rc(t,f)}}catch(i){if(i instanceof uc)throw i;rc(t,"network-request-failed",{message:String(i)})}}async function HJ(t,e,r,n,i={}){const a=await sg(t,e,r,n,i);return"mfaPendingCredential"in a&&rc(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function nB(t,e,r,n){const i=`${e}${r}?${n}`,a=t,s=a.config.emulator?W4(t.config,i):`${t.config.apiScheme}://${i}`;return $J.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class GJ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ou(this.auth,"network-request-failed")),qJ.get())})}}function R1(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ou(t,e,n);return i.customData._tokenResponse=r,i}async function WJ(t,e){return sg(t,"POST","/v1/accounts:delete",e)}async function tx(t,e){return sg(t,"POST","/v1/accounts:lookup",e)}function U0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KJ(t,e=!1){const r=ii(t),n=await r.getIdToken(e),i=Y4(n);Tr(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:n,authTime:U0(N_(i.auth_time)),issuedAtTime:U0(N_(i.iat)),expirationTime:U0(N_(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function N_(t){return Number(t)*1e3}function Y4(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return wb("JWT malformed, contained fewer than 3 sections"),null;try{const i=z9(r);return i?JSON.parse(i):(wb("Failed to decode base64 JWT payload"),null)}catch(i){return wb("Caught error parsing JWT payload as JSON",i?.toString()),null}}function FR(t){const e=Y4(t);return Tr(e,"internal-error"),Tr(typeof e.exp<"u","internal-error"),Tr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ry(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof uc&&YJ(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function YJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class XJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mE{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=U0(this.lastLoginAt),this.creationTime=U0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rx(t){const e=t.auth,r=await t.getIdToken(),n=await ry(t,tx(e,{idToken:r}));Tr(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?iB(i.providerUserInfo):[],s=ZJ(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!s?.length,d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new mE(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function QJ(t){const e=ii(t);await rx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZJ(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function iB(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function JJ(t,e){const r=await rB(t,{},async()=>{const n=Vy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await nB(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&Bf(t.emulatorConfig.host)&&(c.credentials="include"),tB.fetch()(s,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function eee(t,e){return sg(t,"POST","/v2/accounts:revokeToken",K4(t,e))}class Tm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tr(e.idToken,"internal-error"),Tr(typeof e.idToken<"u","internal-error"),Tr(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Tr(e.length!==0,"internal-error");const r=FR(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Tr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await JJ(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Tm;return n&&(Tr(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Tr(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Tr(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tm,this.toJSON())}_performRefresh(){return Gc("not implemented")}}function tf(t,e){Tr(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class su{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new XJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await ry(this,this.stsTokenManager.getToken(this.auth,e));return Tr(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return KJ(this,e)}reload(){return QJ(this)}_assign(e){this!==e&&(Tr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new su({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Tr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await rx(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vl(this.auth.app))return Promise.reject(jh(this.auth));const e=await this.getIdToken();return await ry(this,WJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,s=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,d=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:m,providerData:w,stsTokenManager:S}=r;Tr(p&&S,e,"internal-error");const _=Tm.fromJSON(this.name,S);Tr(typeof p=="string",e,"internal-error"),tf(n,e.name),tf(i,e.name),Tr(typeof g=="boolean",e,"internal-error"),Tr(typeof m=="boolean",e,"internal-error"),tf(a,e.name),tf(s,e.name),tf(l,e.name),tf(c,e.name),tf(d,e.name),tf(f,e.name);const k=new su({uid:p,auth:e,email:i,emailVerified:g,displayName:n,isAnonymous:m,photoURL:s,phoneNumber:a,tenantId:l,stsTokenManager:_,createdAt:d,lastLoginAt:f});return w&&Array.isArray(w)&&(k.providerData=w.map(N=>({...N}))),c&&(k._redirectEventId=c),k}static async _fromIdTokenResponse(e,r,n=!1){const i=new Tm;i.updateFromServerResponse(r);const a=new su({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await rx(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Tr(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?iB(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,l=new Tm;l.updateFromIdToken(n);const c=new su({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new mE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,d),c}}const UR=new Map;function Wc(t){id(t instanceof Function,"Expected a class definition");let e=UR.get(t);return e?(id(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UR.set(t,e),e)}class aB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}aB.type="NONE";const VR=aB;function _b(t,e,r){return`firebase:${t}:${e}:${r}`}class km{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=_b(this.userKey,i.apiKey,a),this.fullPersistenceKey=_b("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await tx(this.auth,{idToken:e}).catch(()=>{});return r?su._fromGetAccountInfoResponse(this.auth,r,e):null}return su._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new km(Wc(VR),e,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Wc(VR);const s=_b(n,e.config.apiKey,e.name);let l=null;for(const d of r)try{const f=await d._get(s);if(f){let p;if(typeof f=="string"){const g=await tx(e,{idToken:f}).catch(()=>{});if(!g)break;p=await su._fromGetAccountInfoResponse(e,g,f)}else p=su._fromJSON(e,f);d!==a&&(l=p),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new km(a,e,n):(a=c[0],l&&await a._set(s,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==a)try{await d._remove(s)}catch{}})),new km(a,e,n))}}function zR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dB(e))return"Blackberry";if(fB(e))return"Webos";if(oB(e))return"Safari";if((e.includes("chrome/")||lB(e))&&!e.includes("edge/"))return"Chrome";if(cB(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function sB(t=Os()){return/firefox\//i.test(t)}function oB(t=Os()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lB(t=Os()){return/crios\//i.test(t)}function uB(t=Os()){return/iemobile/i.test(t)}function cB(t=Os()){return/android/i.test(t)}function dB(t=Os()){return/blackberry/i.test(t)}function fB(t=Os()){return/webos/i.test(t)}function X4(t=Os()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tee(t=Os()){return X4(t)&&!!window.navigator?.standalone}function ree(){return yZ()&&document.documentMode===10}function hB(t=Os()){return X4(t)||cB(t)||fB(t)||dB(t)||/windows phone/i.test(t)||uB(t)}function pB(t,e=[]){let r;switch(t){case"Browser":r=zR(Os());break;case"Worker":r=`${zR(Os())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${lp}/${n}`}class nee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,l)=>{try{const c=e(a);s(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function iee(t,e={}){return sg(t,"GET","/v2/passwordPolicy",K4(t,e))}const aee=6;class see{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??aee,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class oee{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $R(this),this.idTokenSubscription=new $R(this),this.beforeStateQueue=new nee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Wc(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await km.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await tx(this,{idToken:e}),n=await su._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vl(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,s=n?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&l?.user&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Tr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await rx(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vl(this.app))return Promise.reject(jh(this));const r=e?ii(e):null;return r&&Tr(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Tr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vl(this.app)?Promise.reject(jh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vl(this.app)?Promise.reject(jh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iee(this),r=new see(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uy("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await eee(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Wc(e)||this._popupRedirectResolver;Tr(r,this,"argument-error"),this.redirectPersistenceManager=await km.create(this,[Wc(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tr(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(vl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&MJ(`Error while retrieving App Check token: ${e.error}`),e?.token}}function R2(t){return ii(t)}class $R{constructor(e){this.auth=e,this.observer=null,this.addObserver=EZ(r=>this.observer=r)}get next(){return Tr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Q4={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lee(t){Q4=t}function uee(t){return Q4.loadJS(t)}function cee(){return Q4.gapiScript}function dee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function fee(t,e){const r=j2(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(qh(a,e??{}))return i;rc(i,"already-initialized")}return r.initialize({options:e})}function hee(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Wc);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function pee(t,e,r){const n=R2(t);Tr(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=mB(e),{host:s,port:l}=mee(e),c=l===null?"":`:${l}`,d={url:`${a}//${s}${c}/`},f=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Tr(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Tr(qh(d,n.config.emulator)&&qh(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,Bf(s)?(U4(`${a}//${s}${c}`),V4("Auth",!0)):gee()}function mB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mee(t){const e=mB(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:qR(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:qR(s)}}}function qR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gee(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class gB{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Gc("not implemented")}_getIdTokenResponse(e){return Gc("not implemented")}_linkToIdToken(e,r){return Gc("not implemented")}_getReauthenticationResolver(e){return Gc("not implemented")}}async function Cm(t,e){return HJ(t,"POST","/v1/accounts:signInWithIdp",K4(t,e))}const yee="http://localhost";class Gh extends gB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Gh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):rc("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const s=new Gh(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Cm(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Cm(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Cm(e,r)}buildRequest(){const e={requestUri:yee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Vy(r)}return e}}class Z4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $y extends Z4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lf extends $y{constructor(){super("facebook.com")}static credential(e){return Gh._fromParams({providerId:lf.PROVIDER_ID,signInMethod:lf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lf.credentialFromTaggedObject(e)}static credentialFromError(e){return lf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lf.credential(e.oauthAccessToken)}catch{return null}}}lf.FACEBOOK_SIGN_IN_METHOD="facebook.com";lf.PROVIDER_ID="facebook.com";class $c extends $y{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Gh._fromParams({providerId:$c.PROVIDER_ID,signInMethod:$c.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return $c.credentialFromTaggedObject(e)}static credentialFromError(e){return $c.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return $c.credential(r,n)}catch{return null}}}$c.GOOGLE_SIGN_IN_METHOD="google.com";$c.PROVIDER_ID="google.com";class uf extends $y{constructor(){super("github.com")}static credential(e){return Gh._fromParams({providerId:uf.PROVIDER_ID,signInMethod:uf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uf.credentialFromTaggedObject(e)}static credentialFromError(e){return uf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uf.credential(e.oauthAccessToken)}catch{return null}}}uf.GITHUB_SIGN_IN_METHOD="github.com";uf.PROVIDER_ID="github.com";class cf extends $y{constructor(){super("twitter.com")}static credential(e,r){return Gh._fromParams({providerId:cf.PROVIDER_ID,signInMethod:cf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return cf.credentialFromTaggedObject(e)}static credentialFromError(e){return cf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return cf.credential(r,n)}catch{return null}}}cf.TWITTER_SIGN_IN_METHOD="twitter.com";cf.PROVIDER_ID="twitter.com";class Fm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await su._fromIdTokenResponse(e,n,i),s=HR(n);return new Fm({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=HR(n);return new Fm({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function HR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class nx extends uc{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,nx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new nx(e,r,n,i)}}function yB(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nx._fromErrorAndOperation(t,a,e,n):a})}async function vee(t,e,r=!1){const n=await ry(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Fm._forOperation(t,"link",n)}async function bee(t,e,r=!1){const{auth:n}=t;if(vl(n.app))return Promise.reject(jh(n));const i="reauthenticate";try{const a=await ry(t,yB(n,i,e,t),r);Tr(a.idToken,n,"internal-error");const s=Y4(a.idToken);Tr(s,n,"internal-error");const{sub:l}=s;return Tr(t.uid===l,n,"user-mismatch"),Fm._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&rc(n,"user-mismatch"),a}}async function xee(t,e,r=!1){if(vl(t.app))return Promise.reject(jh(t));const n="signIn",i=await yB(t,n,e),a=await Fm._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}function wee(t,e,r,n){return ii(t).onIdTokenChanged(e,r,n)}function _ee(t,e,r){return ii(t).beforeAuthStateChanged(e,r)}function Aee(t,e,r,n){return ii(t).onAuthStateChanged(e,r,n)}function See(t){return ii(t).signOut()}const ix="__sak";class vB{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(ix,"1"),this.storage.removeItem(ix),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Eee=1e3,Tee=10;class bB extends vB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);ree()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Tee):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Eee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}bB.type="LOCAL";const kee=bB;class xB extends vB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}xB.type="SESSION";const wB=xB;function Cee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}class O2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new O2(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(s).map(async d=>d(r.origin,a)),c=await Cee(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}O2.receivers=[];function J4(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}class Nee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,c)=>{const d=J4("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(g.data.response);break;default:clearTimeout(f),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Ku(){return window}function Pee(t){Ku().location.href=t}function _B(){return typeof Ku().WorkerGlobalScope<"u"&&typeof Ku().importScripts=="function"}async function jee(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ree(){return navigator?.serviceWorker?.controller||null}function Oee(){return _B()?self:null}const AB="firebaseLocalStorageDb",Iee=1,ax="firebaseLocalStorage",SB="fbase_key";class qy{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function I2(t,e){return t.transaction([ax],e?"readwrite":"readonly").objectStore(ax)}function Dee(){const t=indexedDB.deleteDatabase(AB);return new qy(t).toPromise()}function gE(){const t=indexedDB.open(AB,Iee);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(ax,{keyPath:SB})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(ax)?e(n):(n.close(),await Dee(),e(await gE()))})})}async function GR(t,e,r){const n=I2(t,!0).put({[SB]:e,value:r});return new qy(n).toPromise()}async function Lee(t,e){const r=I2(t,!1).get(e),n=await new qy(r).toPromise();return n===void 0?null:n.value}function WR(t,e){const r=I2(t,!0).delete(e);return new qy(r).toPromise()}const Mee=800,Bee=3;class EB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gE(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Bee)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _B()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=O2._getInstance(Oee()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jee(),!this.activeServiceWorker)return;this.sender=new Nee(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ree()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gE();return await GR(e,ix,"1"),await WR(e,ix),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>GR(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Lee(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>WR(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=I2(i,!1).getAll();return new qy(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EB.type="LOCAL";const Fee=EB;new zy(3e4,6e4);function TB(t,e){return e?Wc(e):(Tr(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class ek extends gB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cm(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Cm(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Cm(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Uee(t){return xee(t.auth,new ek(t),t.bypassAuthState)}function Vee(t){const{auth:e,user:r}=t;return Tr(r,e,"internal-error"),bee(r,new ek(t),t.bypassAuthState)}async function zee(t){const{auth:e,user:r}=t;return Tr(r,e,"internal-error"),vee(r,new ek(t),t.bypassAuthState)}class kB{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uee;case"linkViaPopup":case"linkViaRedirect":return zee;case"reauthViaPopup":case"reauthViaRedirect":return Vee;default:rc(this.auth,"internal-error")}}resolve(e){id(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){id(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $ee=new zy(2e3,1e4);async function qee(t,e,r){if(vl(t.app))return Promise.reject(ou(t,"operation-not-supported-in-this-environment"));const n=R2(t);BJ(t,e,Z4);const i=TB(n,r);return new Sh(n,"signInViaPopup",e,i).executeNotNull()}class Sh extends kB{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Sh.currentPopupAction&&Sh.currentPopupAction.cancel(),Sh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tr(e,this.auth,"internal-error"),e}async onExecution(){id(this.filter.length===1,"Popup operations only handle one event");const e=J4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ou(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ou(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ou(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$ee.get())};e()}}Sh.currentPopupAction=null;const Hee="pendingRedirect",Ab=new Map;class Gee extends kB{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Ab.get(this.auth._key());if(!e){try{const n=await Wee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Ab.set(this.auth._key(),e)}return this.bypassAuthState||Ab.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Wee(t,e){const r=Xee(e),n=Yee(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Kee(t,e){Ab.set(t._key(),e)}function Yee(t){return Wc(t._redirectPersistence)}function Xee(t){return _b(Hee,t.config.apiKey,t.name)}async function Qee(t,e,r=!1){if(vl(t.app))return Promise.reject(jh(t));const n=R2(t),i=TB(n,e),s=await new Gee(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}const Zee=600*1e3;class Jee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ete(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!CB(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(ou(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zee&&this.cachedEventUids.clear(),this.cachedEventUids.has(KR(e))}saveEventToCache(e){this.cachedEventUids.add(KR(e)),this.lastProcessedEventTime=Date.now()}}function KR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CB({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function ete(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CB(t);default:return!1}}async function tte(t,e={}){return sg(t,"GET","/v1/projects",e)}const rte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nte=/^https?/;async function ite(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tte(t);for(const r of e)try{if(ate(r))return}catch{}rc(t,"unauthorized-domain")}function ate(t){const e=pE(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!nte.test(r))return!1;if(rte.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const ste=new zy(3e4,6e4);function YR(){const t=Ku().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function ote(t){return new Promise((e,r)=>{function n(){YR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YR(),r(ou(t,"network-request-failed"))},timeout:ste.get()})}if(Ku().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ku().gapi?.load)n();else{const i=dee("iframefcb");return Ku()[i]=()=>{gapi.load?n():r(ou(t,"network-request-failed"))},uee(`${cee()}?onload=${i}`).catch(a=>r(a))}}).catch(e=>{throw Sb=null,e})}let Sb=null;function lte(t){return Sb=Sb||ote(t),Sb}const ute=new zy(5e3,15e3),cte="__/auth/iframe",dte="emulator/auth/iframe",fte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pte(t){const e=t.config;Tr(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?W4(e,dte):`https://${t.config.authDomain}/${cte}`,n={apiKey:e.apiKey,appName:t.name,v:lp},i=hte.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Vy(n).slice(1)}`}async function mte(t){const e=await lte(t),r=Ku().gapi;return Tr(r,t,"internal-error"),e.open({where:document.body,url:pte(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fte,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=ou(t,"network-request-failed"),l=Ku().setTimeout(()=>{a(s)},ute.get());function c(){Ku().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(s)})}))}const gte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yte=500,vte=600,bte="_blank",xte="http://localhost";class XR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wte(t,e,r,n=yte,i=vte){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...gte,width:n.toString(),height:i.toString(),top:a,left:s},d=Os().toLowerCase();r&&(l=lB(d)?bte:r),sB(d)&&(e=e||xte,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[m,w])=>`${g}${m}=${w},`,"");if(tee(d)&&l!=="_self")return _te(e||"",l),new XR(null);const p=window.open(e||"",l,f);Tr(p,t,"popup-blocked");try{p.focus()}catch{}return new XR(p)}function _te(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}const Ate="__/auth/handler",Ste="emulator/auth/handler",Ete=encodeURIComponent("fac");async function QR(t,e,r,n,i,a){Tr(t.config.authDomain,t,"auth-domain-config-required"),Tr(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:lp,eventId:i};if(e instanceof Z4){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",SZ(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))s[f]=p}if(e instanceof $y){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${Ete}=${encodeURIComponent(c)}`:"";return`${Tte(t)}?${Vy(l).slice(1)}${d}`}function Tte({config:t}){return t.emulator?W4(t,Ste):`https://${t.authDomain}/${Ate}`}const P_="webStorageSupport";class kte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wB,this._completeRedirectFn=Qee,this._overrideRedirectResult=Kee}async _openPopup(e,r,n,i){id(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await QR(e,r,n,pE(),i);return wte(e,a,J4())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await QR(e,r,n,pE(),i);return Pee(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(id(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await mte(e),n=new Jee(e);return r.register("authEvent",i=>(Tr(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(P_,{type:P_},i=>{const a=i?.[0]?.[P_];a!==void 0&&r(!!a),rc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=ite(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return hB()||oB()||X4()}}const Cte=kte;var ZR="@firebase/auth",JR="1.11.1";class Nte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Tr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jte(t){Hh(new wf("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=n.options;Tr(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pB(t)},d=new oee(n,i,a,c);return hee(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Hh(new wf("auth-internal",e=>{const r=R2(e.getProvider("auth").getImmediate());return(n=>new Nte(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wu(ZR,JR,Pte(t)),Wu(ZR,JR,"esm2020")}const Rte=300,Ote=G9("authIdTokenMaxAge")||Rte;let eO=null;const Ite=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Ote)return;const i=r?.token;eO!==i&&(eO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Dte(t=q4()){const e=j2(t,"auth");if(e.isInitialized())return e.getImmediate();const r=fee(t,{popupRedirectResolver:Cte,persistence:[Fee,kee,wB]}),n=G9("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=Ite(a.toString());_ee(r,s,()=>s(r.currentUser)),wee(r,l=>s(l))}}const i=$9("auth");return i&&pee(r,`http://${i}`),r}function Lte(){return document.getElementsByTagName("head")?.[0]??document}lee({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=ou("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",Lte().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jte("Browser");var tO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yf,NB;(function(){var t;function e(L,I){function D(){}D.prototype=I.prototype,L.F=I.prototype,L.prototype=new D,L.prototype.constructor=L,L.D=function($,j,V){for(var M=Array(arguments.length-2),J=2;J<arguments.length;J++)M[J-2]=arguments[J];return I.prototype[j].apply($,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,I,D){D||(D=0);const $=Array(16);if(typeof I=="string")for(var j=0;j<16;++j)$[j]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(j=0;j<16;++j)$[j]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=L.g[0],D=L.g[1],j=L.g[2];let V=L.g[3],M;M=I+(V^D&(j^V))+$[0]+3614090360&4294967295,I=D+(M<<7&4294967295|M>>>25),M=V+(j^I&(D^j))+$[1]+3905402710&4294967295,V=I+(M<<12&4294967295|M>>>20),M=j+(D^V&(I^D))+$[2]+606105819&4294967295,j=V+(M<<17&4294967295|M>>>15),M=D+(I^j&(V^I))+$[3]+3250441966&4294967295,D=j+(M<<22&4294967295|M>>>10),M=I+(V^D&(j^V))+$[4]+4118548399&4294967295,I=D+(M<<7&4294967295|M>>>25),M=V+(j^I&(D^j))+$[5]+1200080426&4294967295,V=I+(M<<12&4294967295|M>>>20),M=j+(D^V&(I^D))+$[6]+2821735955&4294967295,j=V+(M<<17&4294967295|M>>>15),M=D+(I^j&(V^I))+$[7]+4249261313&4294967295,D=j+(M<<22&4294967295|M>>>10),M=I+(V^D&(j^V))+$[8]+1770035416&4294967295,I=D+(M<<7&4294967295|M>>>25),M=V+(j^I&(D^j))+$[9]+2336552879&4294967295,V=I+(M<<12&4294967295|M>>>20),M=j+(D^V&(I^D))+$[10]+4294925233&4294967295,j=V+(M<<17&4294967295|M>>>15),M=D+(I^j&(V^I))+$[11]+2304563134&4294967295,D=j+(M<<22&4294967295|M>>>10),M=I+(V^D&(j^V))+$[12]+1804603682&4294967295,I=D+(M<<7&4294967295|M>>>25),M=V+(j^I&(D^j))+$[13]+4254626195&4294967295,V=I+(M<<12&4294967295|M>>>20),M=j+(D^V&(I^D))+$[14]+2792965006&4294967295,j=V+(M<<17&4294967295|M>>>15),M=D+(I^j&(V^I))+$[15]+1236535329&4294967295,D=j+(M<<22&4294967295|M>>>10),M=I+(j^V&(D^j))+$[1]+4129170786&4294967295,I=D+(M<<5&4294967295|M>>>27),M=V+(D^j&(I^D))+$[6]+3225465664&4294967295,V=I+(M<<9&4294967295|M>>>23),M=j+(I^D&(V^I))+$[11]+643717713&4294967295,j=V+(M<<14&4294967295|M>>>18),M=D+(V^I&(j^V))+$[0]+3921069994&4294967295,D=j+(M<<20&4294967295|M>>>12),M=I+(j^V&(D^j))+$[5]+3593408605&4294967295,I=D+(M<<5&4294967295|M>>>27),M=V+(D^j&(I^D))+$[10]+38016083&4294967295,V=I+(M<<9&4294967295|M>>>23),M=j+(I^D&(V^I))+$[15]+3634488961&4294967295,j=V+(M<<14&4294967295|M>>>18),M=D+(V^I&(j^V))+$[4]+3889429448&4294967295,D=j+(M<<20&4294967295|M>>>12),M=I+(j^V&(D^j))+$[9]+568446438&4294967295,I=D+(M<<5&4294967295|M>>>27),M=V+(D^j&(I^D))+$[14]+3275163606&4294967295,V=I+(M<<9&4294967295|M>>>23),M=j+(I^D&(V^I))+$[3]+4107603335&4294967295,j=V+(M<<14&4294967295|M>>>18),M=D+(V^I&(j^V))+$[8]+1163531501&4294967295,D=j+(M<<20&4294967295|M>>>12),M=I+(j^V&(D^j))+$[13]+2850285829&4294967295,I=D+(M<<5&4294967295|M>>>27),M=V+(D^j&(I^D))+$[2]+4243563512&4294967295,V=I+(M<<9&4294967295|M>>>23),M=j+(I^D&(V^I))+$[7]+1735328473&4294967295,j=V+(M<<14&4294967295|M>>>18),M=D+(V^I&(j^V))+$[12]+2368359562&4294967295,D=j+(M<<20&4294967295|M>>>12),M=I+(D^j^V)+$[5]+4294588738&4294967295,I=D+(M<<4&4294967295|M>>>28),M=V+(I^D^j)+$[8]+2272392833&4294967295,V=I+(M<<11&4294967295|M>>>21),M=j+(V^I^D)+$[11]+1839030562&4294967295,j=V+(M<<16&4294967295|M>>>16),M=D+(j^V^I)+$[14]+4259657740&4294967295,D=j+(M<<23&4294967295|M>>>9),M=I+(D^j^V)+$[1]+2763975236&4294967295,I=D+(M<<4&4294967295|M>>>28),M=V+(I^D^j)+$[4]+1272893353&4294967295,V=I+(M<<11&4294967295|M>>>21),M=j+(V^I^D)+$[7]+4139469664&4294967295,j=V+(M<<16&4294967295|M>>>16),M=D+(j^V^I)+$[10]+3200236656&4294967295,D=j+(M<<23&4294967295|M>>>9),M=I+(D^j^V)+$[13]+681279174&4294967295,I=D+(M<<4&4294967295|M>>>28),M=V+(I^D^j)+$[0]+3936430074&4294967295,V=I+(M<<11&4294967295|M>>>21),M=j+(V^I^D)+$[3]+3572445317&4294967295,j=V+(M<<16&4294967295|M>>>16),M=D+(j^V^I)+$[6]+76029189&4294967295,D=j+(M<<23&4294967295|M>>>9),M=I+(D^j^V)+$[9]+3654602809&4294967295,I=D+(M<<4&4294967295|M>>>28),M=V+(I^D^j)+$[12]+3873151461&4294967295,V=I+(M<<11&4294967295|M>>>21),M=j+(V^I^D)+$[15]+530742520&4294967295,j=V+(M<<16&4294967295|M>>>16),M=D+(j^V^I)+$[2]+3299628645&4294967295,D=j+(M<<23&4294967295|M>>>9),M=I+(j^(D|~V))+$[0]+4096336452&4294967295,I=D+(M<<6&4294967295|M>>>26),M=V+(D^(I|~j))+$[7]+1126891415&4294967295,V=I+(M<<10&4294967295|M>>>22),M=j+(I^(V|~D))+$[14]+2878612391&4294967295,j=V+(M<<15&4294967295|M>>>17),M=D+(V^(j|~I))+$[5]+4237533241&4294967295,D=j+(M<<21&4294967295|M>>>11),M=I+(j^(D|~V))+$[12]+1700485571&4294967295,I=D+(M<<6&4294967295|M>>>26),M=V+(D^(I|~j))+$[3]+2399980690&4294967295,V=I+(M<<10&4294967295|M>>>22),M=j+(I^(V|~D))+$[10]+4293915773&4294967295,j=V+(M<<15&4294967295|M>>>17),M=D+(V^(j|~I))+$[1]+2240044497&4294967295,D=j+(M<<21&4294967295|M>>>11),M=I+(j^(D|~V))+$[8]+1873313359&4294967295,I=D+(M<<6&4294967295|M>>>26),M=V+(D^(I|~j))+$[15]+4264355552&4294967295,V=I+(M<<10&4294967295|M>>>22),M=j+(I^(V|~D))+$[6]+2734768916&4294967295,j=V+(M<<15&4294967295|M>>>17),M=D+(V^(j|~I))+$[13]+1309151649&4294967295,D=j+(M<<21&4294967295|M>>>11),M=I+(j^(D|~V))+$[4]+4149444226&4294967295,I=D+(M<<6&4294967295|M>>>26),M=V+(D^(I|~j))+$[11]+3174756917&4294967295,V=I+(M<<10&4294967295|M>>>22),M=j+(I^(V|~D))+$[2]+718787259&4294967295,j=V+(M<<15&4294967295|M>>>17),M=D+(V^(j|~I))+$[9]+3951481745&4294967295,L.g[0]=L.g[0]+I&4294967295,L.g[1]=L.g[1]+(j+(M<<21&4294967295|M>>>11))&4294967295,L.g[2]=L.g[2]+j&4294967295,L.g[3]=L.g[3]+V&4294967295}n.prototype.v=function(L,I){I===void 0&&(I=L.length);const D=I-this.blockSize,$=this.C;let j=this.h,V=0;for(;V<I;){if(j==0)for(;V<=D;)i(this,L,V),V+=this.blockSize;if(typeof L=="string"){for(;V<I;)if($[j++]=L.charCodeAt(V++),j==this.blockSize){i(this,$),j=0;break}}else for(;V<I;)if($[j++]=L[V++],j==this.blockSize){i(this,$),j=0;break}}this.h=j,this.o+=I},n.prototype.A=function(){var L=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);L[0]=128;for(var I=1;I<L.length-8;++I)L[I]=0;I=this.o*8;for(var D=L.length-8;D<L.length;++D)L[D]=I&255,I/=256;for(this.v(L),L=Array(16),I=0,D=0;D<4;++D)for(let $=0;$<32;$+=8)L[I++]=this.g[D]>>>$&255;return L};function a(L,I){var D=l;return Object.prototype.hasOwnProperty.call(D,L)?D[L]:D[L]=I(L)}function s(L,I){this.h=I;const D=[];let $=!0;for(let j=L.length-1;j>=0;j--){const V=L[j]|0;$&&V==I||(D[j]=V,$=!1)}this.g=D}var l={};function c(L){return-128<=L&&L<128?a(L,function(I){return new s([I|0],I<0?-1:0)}):new s([L|0],L<0?-1:0)}function d(L){if(isNaN(L)||!isFinite(L))return p;if(L<0)return _(d(-L));const I=[];let D=1;for(let $=0;L>=D;$++)I[$]=L/D|0,D*=4294967296;return new s(I,0)}function f(L,I){if(L.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(L.charAt(0)=="-")return _(f(L.substring(1),I));if(L.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(I,8));let $=p;for(let V=0;V<L.length;V+=8){var j=Math.min(8,L.length-V);const M=parseInt(L.substring(V,V+j),I);j<8?(j=d(Math.pow(I,j)),$=$.j(j).add(d(M))):($=$.j(D),$=$.add(d(M)))}return $}var p=c(0),g=c(1),m=c(16777216);t=s.prototype,t.m=function(){if(S(this))return-_(this).m();let L=0,I=1;for(let D=0;D<this.g.length;D++){const $=this.i(D);L+=($>=0?$:4294967296+$)*I,I*=4294967296}return L},t.toString=function(L){if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(w(this))return"0";if(S(this))return"-"+_(this).toString(L);const I=d(Math.pow(L,6));var D=this;let $="";for(;;){const j=F(D,I).g;D=k(D,j.j(I));let V=((D.g.length>0?D.g[0]:D.h)>>>0).toString(L);if(D=j,w(D))return V+$;for(;V.length<6;)V="0"+V;$=V+$}},t.i=function(L){return L<0?0:L<this.g.length?this.g[L]:this.h};function w(L){if(L.h!=0)return!1;for(let I=0;I<L.g.length;I++)if(L.g[I]!=0)return!1;return!0}function S(L){return L.h==-1}t.l=function(L){return L=k(this,L),S(L)?-1:w(L)?0:1};function _(L){const I=L.g.length,D=[];for(let $=0;$<I;$++)D[$]=~L.g[$];return new s(D,~L.h).add(g)}t.abs=function(){return S(this)?_(this):this},t.add=function(L){const I=Math.max(this.g.length,L.g.length),D=[];let $=0;for(let j=0;j<=I;j++){let V=$+(this.i(j)&65535)+(L.i(j)&65535),M=(V>>>16)+(this.i(j)>>>16)+(L.i(j)>>>16);$=M>>>16,V&=65535,M&=65535,D[j]=M<<16|V}return new s(D,D[D.length-1]&-2147483648?-1:0)};function k(L,I){return L.add(_(I))}t.j=function(L){if(w(this)||w(L))return p;if(S(this))return S(L)?_(this).j(_(L)):_(_(this).j(L));if(S(L))return _(this.j(_(L)));if(this.l(m)<0&&L.l(m)<0)return d(this.m()*L.m());const I=this.g.length+L.g.length,D=[];for(var $=0;$<2*I;$++)D[$]=0;for($=0;$<this.g.length;$++)for(let j=0;j<L.g.length;j++){const V=this.i($)>>>16,M=this.i($)&65535,J=L.i(j)>>>16,_e=L.i(j)&65535;D[2*$+2*j]+=M*_e,N(D,2*$+2*j),D[2*$+2*j+1]+=V*_e,N(D,2*$+2*j+1),D[2*$+2*j+1]+=M*J,N(D,2*$+2*j+1),D[2*$+2*j+2]+=V*J,N(D,2*$+2*j+2)}for(L=0;L<I;L++)D[L]=D[2*L+1]<<16|D[2*L];for(L=I;L<2*I;L++)D[L]=0;return new s(D,0)};function N(L,I){for(;(L[I]&65535)!=L[I];)L[I+1]+=L[I]>>>16,L[I]&=65535,I++}function P(L,I){this.g=L,this.h=I}function F(L,I){if(w(I))throw Error("division by zero");if(w(L))return new P(p,p);if(S(L))return I=F(_(L),I),new P(_(I.g),_(I.h));if(S(I))return I=F(L,_(I)),new P(_(I.g),I.h);if(L.g.length>30){if(S(L)||S(I))throw Error("slowDivide_ only works with positive integers.");for(var D=g,$=I;$.l(L)<=0;)D=O(D),$=O($);var j=z(D,1),V=z($,1);for($=z($,2),D=z(D,2);!w($);){var M=V.add($);M.l(L)<=0&&(j=j.add(D),V=M),$=z($,1),D=z(D,1)}return I=k(L,j.j(I)),new P(j,I)}for(j=p;L.l(I)>=0;){for(D=Math.max(1,Math.floor(L.m()/I.m())),$=Math.ceil(Math.log(D)/Math.LN2),$=$<=48?1:Math.pow(2,$-48),V=d(D),M=V.j(I);S(M)||M.l(L)>0;)D-=$,V=d(D),M=V.j(I);w(V)&&(V=g),j=j.add(V),L=k(L,M)}return new P(j,L)}t.B=function(L){return F(this,L).h},t.and=function(L){const I=Math.max(this.g.length,L.g.length),D=[];for(let $=0;$<I;$++)D[$]=this.i($)&L.i($);return new s(D,this.h&L.h)},t.or=function(L){const I=Math.max(this.g.length,L.g.length),D=[];for(let $=0;$<I;$++)D[$]=this.i($)|L.i($);return new s(D,this.h|L.h)},t.xor=function(L){const I=Math.max(this.g.length,L.g.length),D=[];for(let $=0;$<I;$++)D[$]=this.i($)^L.i($);return new s(D,this.h^L.h)};function O(L){const I=L.g.length+1,D=[];for(let $=0;$<I;$++)D[$]=L.i($)<<1|L.i($-1)>>>31;return new s(D,L.h)}function z(L,I){const D=I>>5;I%=32;const $=L.g.length-D,j=[];for(let V=0;V<$;V++)j[V]=I>0?L.i(V+D)>>>I|L.i(V+D+1)<<32-I:L.i(V+D);return new s(j,L.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,NB=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,yf=s}).apply(typeof tO<"u"?tO:typeof self<"u"?self:typeof window<"u"?window:{});var O1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var PB,N0,jB,Eb,yE,RB,OB,IB;(function(){var t,e=Object.defineProperty;function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof O1=="object"&&O1];for(var U=0;U<x.length;++U){var K=x[U];if(K&&K.Math==Math)return K}throw Error("Cannot find global object")}var n=r(this);function i(x,U){if(U)e:{var K=n;x=x.split(".");for(var le=0;le<x.length-1;le++){var Fe=x[le];if(!(Fe in K))break e;K=K[Fe]}x=x[x.length-1],le=K[x],U=U(le),U!=le&&U!=null&&e(K,x,{configurable:!0,writable:!0,value:U})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(U){var K=[],le;for(le in U)Object.prototype.hasOwnProperty.call(U,le)&&K.push([le,U[le]]);return K}});var a=a||{},s=this||self;function l(x){var U=typeof x;return U=="object"&&x!=null||U=="function"}function c(x,U,K){return x.call.apply(x.bind,arguments)}function d(x,U,K){return d=c,d.apply(null,arguments)}function f(x,U){var K=Array.prototype.slice.call(arguments,1);return function(){var le=K.slice();return le.push.apply(le,arguments),x.apply(this,le)}}function p(x,U){function K(){}K.prototype=U.prototype,x.Z=U.prototype,x.prototype=new K,x.prototype.constructor=x,x.Ob=function(le,Fe,Ye){for(var At=Array(arguments.length-2),wr=2;wr<arguments.length;wr++)At[wr-2]=arguments[wr];return U.prototype[Fe].apply(le,At)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function m(x){const U=x.length;if(U>0){const K=Array(U);for(let le=0;le<U;le++)K[le]=x[le];return K}return[]}function w(x,U){for(let le=1;le<arguments.length;le++){const Fe=arguments[le];var K=typeof Fe;if(K=K!="object"?K:Fe?Array.isArray(Fe)?"array":K:"null",K=="array"||K=="object"&&typeof Fe.length=="number"){K=x.length||0;const Ye=Fe.length||0;x.length=K+Ye;for(let At=0;At<Ye;At++)x[K+At]=Fe[At]}else x.push(Fe)}}class S{constructor(U,K){this.i=U,this.j=K,this.h=0,this.g=null}get(){let U;return this.h>0?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function _(x){s.setTimeout(()=>{throw x},0)}function k(){var x=L;let U=null;return x.g&&(U=x.g,x.g=x.g.next,x.g||(x.h=null),U.next=null),U}class N{constructor(){this.h=this.g=null}add(U,K){const le=P.get();le.set(U,K),this.h?this.h.next=le:this.g=le,this.h=le}}var P=new S(()=>new F,x=>x.reset());class F{constructor(){this.next=this.g=this.h=null}set(U,K){this.h=U,this.g=K,this.next=null}reset(){this.next=this.g=this.h=null}}let O,z=!1,L=new N,I=()=>{const x=Promise.resolve(void 0);O=()=>{x.then(D)}};function D(){for(var x;x=k();){try{x.h.call(x.g)}catch(K){_(K)}var U=P;U.j(x),U.h<100&&(U.h++,x.next=U.g,U.g=x)}z=!1}function $(){this.u=this.u,this.C=this.C}$.prototype.u=!1,$.prototype.dispose=function(){this.u||(this.u=!0,this.N())},$.prototype[Symbol.dispose]=function(){this.dispose()},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(x,U){this.type=x,this.g=this.target=U,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var x=!1,U=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const K=()=>{};s.addEventListener("test",K,U),s.removeEventListener("test",K,U)}catch{}return x})();function M(x){return/^[\s\xa0]*$/.test(x)}function J(x,U){j.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,U)}p(J,j),J.prototype.init=function(x,U){const K=this.type=x.type,le=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=U,U=x.relatedTarget,U||(K=="mouseover"?U=x.fromElement:K=="mouseout"&&(U=x.toElement)),this.relatedTarget=U,le?(this.clientX=le.clientX!==void 0?le.clientX:le.pageX,this.clientY=le.clientY!==void 0?le.clientY:le.pageY,this.screenX=le.screenX||0,this.screenY=le.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),se=0;function ee(x,U,K,le,Fe){this.listener=x,this.proxy=null,this.src=U,this.type=K,this.capture=!!le,this.ha=Fe,this.key=++se,this.da=this.fa=!1}function fe(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function we(x,U,K){for(const le in x)U.call(K,x[le],le,x)}function Be(x,U){for(const K in x)U.call(void 0,x[K],K,x)}function Z(x){const U={};for(const K in x)U[K]=x[K];return U}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(x,U){let K,le;for(let Fe=1;Fe<arguments.length;Fe++){le=arguments[Fe];for(K in le)x[K]=le[K];for(let Ye=0;Ye<q.length;Ye++)K=q[Ye],Object.prototype.hasOwnProperty.call(le,K)&&(x[K]=le[K])}}function re(x){this.src=x,this.g={},this.h=0}re.prototype.add=function(x,U,K,le,Fe){const Ye=x.toString();x=this.g[Ye],x||(x=this.g[Ye]=[],this.h++);const At=ye(x,U,le,Fe);return At>-1?(U=x[At],K||(U.fa=!1)):(U=new ee(U,this.src,Ye,!!le,Fe),U.fa=K,x.push(U)),U};function ae(x,U){const K=U.type;if(K in x.g){var le=x.g[K],Fe=Array.prototype.indexOf.call(le,U,void 0),Ye;(Ye=Fe>=0)&&Array.prototype.splice.call(le,Fe,1),Ye&&(fe(U),x.g[K].length==0&&(delete x.g[K],x.h--))}}function ye(x,U,K,le){for(let Fe=0;Fe<x.length;++Fe){const Ye=x[Fe];if(!Ye.da&&Ye.listener==U&&Ye.capture==!!K&&Ye.ha==le)return Fe}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),Ve={};function he(x,U,K,le,Fe){if(Array.isArray(U)){for(let Ye=0;Ye<U.length;Ye++)he(x,U[Ye],K,le,Fe);return null}return K=Ft(K),x&&x[_e]?x.J(U,K,l(le)?!!le.capture:!1,Fe):Ce(x,U,K,!1,le,Fe)}function Ce(x,U,K,le,Fe,Ye){if(!U)throw Error("Invalid event type");const At=l(Fe)?!!Fe.capture:!!Fe;let wr=yt(x);if(wr||(x[Te]=wr=new re(x)),K=wr.add(U,K,le,At,Ye),K.proxy)return K;if(le=We(),K.proxy=le,le.src=x,le.listener=K,x.addEventListener)V||(Fe=At),Fe===void 0&&(Fe=!1),x.addEventListener(U.toString(),le,Fe);else if(x.attachEvent)x.attachEvent(vt(U.toString()),le);else if(x.addListener&&x.removeListener)x.addListener(le);else throw Error("addEventListener and attachEvent are unavailable.");return K}function We(){function x(K){return U.call(x.src,x.listener,K)}const U=ce;return x}function Ie(x,U,K,le,Fe){if(Array.isArray(U))for(var Ye=0;Ye<U.length;Ye++)Ie(x,U[Ye],K,le,Fe);else le=l(le)?!!le.capture:!!le,K=Ft(K),x&&x[_e]?(x=x.i,Ye=String(U).toString(),Ye in x.g&&(U=x.g[Ye],K=ye(U,K,le,Fe),K>-1&&(fe(U[K]),Array.prototype.splice.call(U,K,1),U.length==0&&(delete x.g[Ye],x.h--)))):x&&(x=yt(x))&&(U=x.g[U.toString()],x=-1,U&&(x=ye(U,K,le,Fe)),(K=x>-1?U[x]:null)&&dt(K))}function dt(x){if(typeof x!="number"&&x&&!x.da){var U=x.src;if(U&&U[_e])ae(U.i,x);else{var K=x.type,le=x.proxy;U.removeEventListener?U.removeEventListener(K,le,x.capture):U.detachEvent?U.detachEvent(vt(K),le):U.addListener&&U.removeListener&&U.removeListener(le),(K=yt(U))?(ae(K,x),K.h==0&&(K.src=null,U[Te]=null)):fe(x)}}}function vt(x){return x in Ve?Ve[x]:Ve[x]="on"+x}function ce(x,U){if(x.da)x=!0;else{U=new J(U,this);const K=x.listener,le=x.ha||x.src;x.fa&&dt(x),x=K.call(le,U)}return x}function yt(x){return x=x[Te],x instanceof re?x:null}var Yt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ft(x){return typeof x=="function"?x:(x[Yt]||(x[Yt]=function(U){return x.handleEvent(U)}),x[Yt])}function Je(){$.call(this),this.i=new re(this),this.M=this,this.G=null}p(Je,$),Je.prototype[_e]=!0,Je.prototype.removeEventListener=function(x,U,K,le){Ie(this,x,U,K,le)};function Nt(x,U){var K,le=x.G;if(le)for(K=[];le;le=le.G)K.push(le);if(x=x.M,le=U.type||U,typeof U=="string")U=new j(U,x);else if(U instanceof j)U.target=U.target||x;else{var Fe=U;U=new j(le,x),Q(U,Fe)}Fe=!0;let Ye,At;if(K)for(At=K.length-1;At>=0;At--)Ye=U.g=K[At],Fe=kt(Ye,le,!0,U)&&Fe;if(Ye=U.g=x,Fe=kt(Ye,le,!0,U)&&Fe,Fe=kt(Ye,le,!1,U)&&Fe,K)for(At=0;At<K.length;At++)Ye=U.g=K[At],Fe=kt(Ye,le,!1,U)&&Fe}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var x=this.i;for(const U in x.g){const K=x.g[U];for(let le=0;le<K.length;le++)fe(K[le]);delete x.g[U],x.h--}}this.G=null},Je.prototype.J=function(x,U,K,le){return this.i.add(String(x),U,!1,K,le)},Je.prototype.K=function(x,U,K,le){return this.i.add(String(x),U,!0,K,le)};function kt(x,U,K,le){if(U=x.i.g[String(U)],!U)return!0;U=U.concat();let Fe=!0;for(let Ye=0;Ye<U.length;++Ye){const At=U[Ye];if(At&&!At.da&&At.capture==K){const wr=At.listener,Pn=At.ha||At.src;At.fa&&ae(x.i,At),Fe=wr.call(Pn,le)!==!1&&Fe}}return Fe&&!le.defaultPrevented}function lt(x,U){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=d(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(U)>2147483647?-1:s.setTimeout(x,U||0)}function It(x){x.g=lt(()=>{x.g=null,x.i&&(x.i=!1,It(x))},x.l);const U=x.h;x.h=null,x.m.apply(null,U)}class tr extends ${constructor(U,K){super(),this.m=U,this.l=K,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jt(x){$.call(this),this.h=x,this.g={}}p(Jt,$);var qt=[];function ir(x){we(x.g,function(U,K){this.g.hasOwnProperty(K)&&dt(U)},x),x.g={}}Jt.prototype.N=function(){Jt.Z.N.call(this),ir(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=s.JSON.stringify,Pt=s.JSON.parse,er=class{stringify(x){return s.JSON.stringify(x,void 0)}parse(x){return s.JSON.parse(x,void 0)}};function Ct(){}function Ar(){}var ar={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){j.call(this,"d")}p(jt,j);function Ht(){j.call(this,"c")}p(Ht,j);var Se={},Le=null;function Et(){return Le=Le||new Je}Se.Ia="serverreachability";function rt(x){j.call(this,Se.Ia,x)}p(rt,j);function bt(x){const U=Et();Nt(U,new rt(U))}Se.STAT_EVENT="statevent";function _t(x,U){j.call(this,Se.STAT_EVENT,x),this.stat=U}p(_t,j);function gt(x){const U=Et();Nt(U,new _t(U,x))}Se.Ja="timingevent";function W(x,U){j.call(this,Se.Ja,x),this.size=U}p(W,j);function be(x,U){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){x()},U)}function Xe(){this.g=!0}Xe.prototype.ua=function(){this.g=!1};function xe(x,U,K,le,Fe,Ye){x.info(function(){if(x.g)if(Ye){var At="",wr=Ye.split("&");for(let Dr=0;Dr<wr.length;Dr++){var Pn=wr[Dr].split("=");if(Pn.length>1){const ln=Pn[0];Pn=Pn[1];const aa=ln.split("_");At=aa.length>=2&&aa[1]=="type"?At+(ln+"="+Pn+"&"):At+(ln+"=redacted&")}}}else At=null;else At=Ye;return"XMLHTTP REQ ("+le+") [attempt "+Fe+"]: "+U+`
`+K+`
`+At})}function de(x,U,K,le,Fe,Ye,At){x.info(function(){return"XMLHTTP RESP ("+le+") [ attempt "+Fe+"]: "+U+`
`+K+`
`+Ye+" "+At})}function ve(x,U,K,le){x.info(function(){return"XMLHTTP TEXT ("+U+"): "+je(x,K)+(le?" "+le:"")})}function Ae(x,U){x.info(function(){return"TIMEOUT: "+U})}Xe.prototype.info=function(){};function je(x,U){if(!x.g)return U;if(!U)return null;try{const Ye=JSON.parse(U);if(Ye){for(x=0;x<Ye.length;x++)if(Array.isArray(Ye[x])){var K=Ye[x];if(!(K.length<2)){var le=K[1];if(Array.isArray(le)&&!(le.length<1)){var Fe=le[0];if(Fe!="noop"&&Fe!="stop"&&Fe!="close")for(let At=1;At<le.length;At++)le[At]=""}}}}return rr(Ye)}catch{return U}}var De={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$e={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},et;function it(){}p(it,Ct),it.prototype.g=function(){return new XMLHttpRequest},et=new it;function xt(x){return encodeURIComponent(String(x))}function Rt(x){var U=1;x=x.split(":");const K=[];for(;U>0&&x.length;)K.push(x.shift()),U--;return x.length&&K.push(x.join(":")),K}function Ut(x,U,K,le){this.j=x,this.i=U,this.l=K,this.S=le||1,this.V=new Jt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new br}function br(){this.i=null,this.g="",this.h=!1}var St={},Cr={};function fn(x,U,K){x.M=1,x.A=Yo(oi(U)),x.u=K,x.R=!0,gn(x,null)}function gn(x,U){x.F=Date.now(),si(x),x.B=oi(x.A);var K=x.B,le=x.S;Array.isArray(le)||(le=[String(le)]),bu(K.i,"t",le),x.C=0,K=x.j.L,x.h=new br,x.g=Vt(x.j,K?U:null,!x.u),x.P>0&&(x.O=new tr(d(x.Y,x,x.g),x.P)),U=x.V,K=x.g,le=x.ba;var Fe="readystatechange";Array.isArray(Fe)||(Fe&&(qt[0]=Fe.toString()),Fe=qt);for(let Ye=0;Ye<Fe.length;Ye++){const At=he(K,Fe[Ye],le||U.handleEvent,!1,U.h||U);if(!At)break;U.g[At.key]=At}U=x.J?Z(x.J):{},x.u?(x.v||(x.v="POST"),U["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,U)):(x.v="GET",x.g.ea(x.B,x.v,null,U)),bt(),xe(x.i,x.v,x.B,x.l,x.S,x.u)}Ut.prototype.ba=function(x){x=x.target;const U=this.O;U&&rs(x)==3?U.j():this.Y(x)},Ut.prototype.Y=function(x){try{if(x==this.g)e:{const wr=rs(this.g),Pn=this.g.ya(),Dr=this.g.ca();if(!(wr<3)&&(wr!=3||this.g&&(this.h.h||this.g.la()||wi(this.g)))){this.K||wr!=4||Pn==7||(Pn==8||Dr<=0?bt(3):bt(2)),bi(this);var U=this.g.ca();this.X=U;var K=Dt(this);if(this.o=U==200,de(this.i,this.v,this.B,this.l,this.S,wr,U),this.o){if(this.U&&!this.L){t:{if(this.g){var le,Fe=this.g;if((le=Fe.g?Fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(le)){var Ye=le;break t}}Ye=null}if(x=Ye)ve(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ms(this,x);else{this.o=!1,this.m=3,gt(12),Za(this),qi(this);break e}}if(this.R){x=!0;let ln;for(;!this.K&&this.C<K.length;)if(ln=Mr(this,K),ln==Cr){wr==4&&(this.m=4,gt(14),x=!1),ve(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==St){this.m=4,gt(15),ve(this.i,this.l,K,"[Invalid Chunk]"),x=!1;break}else ve(this.i,this.l,ln,null),ms(this,ln);if(fr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wr!=4||K.length!=0||this.h.h||(this.m=1,gt(16),x=!1),this.o=this.o&&x,!x)ve(this.i,this.l,K,"[Invalid Chunked Response]"),Za(this),qi(this);else if(K.length>0&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.aa&&!At.P&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Au(At),At.P=!0,gt(11))}}else ve(this.i,this.l,K,null),ms(this,K);wr==4&&Za(this),this.o&&!this.K&&(wr==4?me(this.j,this):(this.o=!1,si(this)))}else eo(this.g),U==400&&K.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),Za(this),qi(this)}}}catch{}finally{}};function Dt(x){if(!fr(x))return x.g.la();const U=wi(x.g);if(U==="")return"";let K="";const le=U.length,Fe=rs(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return Za(x),qi(x),"";x.h.i=new s.TextDecoder}for(let Ye=0;Ye<le;Ye++)x.h.h=!0,K+=x.h.i.decode(U[Ye],{stream:!(Fe&&Ye==le-1)});return U.length=0,x.h.g+=K,x.C=0,x.h.g}function fr(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function Mr(x,U){var K=x.C,le=U.indexOf(`
`,K);return le==-1?Cr:(K=Number(U.substring(K,le)),isNaN(K)?St:(le+=1,le+K>U.length?Cr:(U=U.slice(le,le+K),x.C=le+K,U)))}Ut.prototype.cancel=function(){this.K=!0,Za(this)};function si(x){x.T=Date.now()+x.H,zn(x,x.H)}function zn(x,U){if(x.D!=null)throw Error("WatchDog timer not null");x.D=be(d(x.aa,x),U)}function bi(x){x.D&&(s.clearTimeout(x.D),x.D=null)}Ut.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(Ae(this.i,this.B),this.M!=2&&(bt(),gt(17)),Za(this),this.m=2,qi(this)):zn(this,this.T-x)};function qi(x){x.j.I==0||x.K||me(x.j,x)}function Za(x){bi(x);var U=x.O;U&&typeof U.dispose=="function"&&U.dispose(),x.O=null,ir(x.V),x.g&&(U=x.g,x.g=null,U.abort(),U.dispose())}function ms(x,U){try{var K=x.j;if(K.I!=0&&(K.g==x||Ls(K.h,x))){if(!x.L&&Ls(K.h,x)&&K.I==3){try{var le=K.Ba.g.parse(U)}catch{le=null}if(Array.isArray(le)&&le.length==3){var Fe=le;if(Fe[0]==0){e:if(!K.v){if(K.g)if(K.g.F+3e3<x.F)Y(K),ro(K);else break e;Fs(K),gt(18)}}else K.xa=Fe[1],0<K.xa-K.K&&Fe[2]<37500&&K.F&&K.A==0&&!K.C&&(K.C=be(d(K.Va,K),6e3));gs(K.h)<=1&&K.ta&&(K.ta=void 0)}else Oe(K,11)}else if((x.L||K.g==x)&&Y(K),!M(U))for(Fe=K.Ba.g.parse(U),U=0;U<Fe.length;U++){let Dr=Fe[U];const ln=Dr[0];if(!(ln<=K.K))if(K.K=ln,Dr=Dr[1],K.I==2)if(Dr[0]=="c"){K.M=Dr[1],K.ba=Dr[2];const aa=Dr[3];aa!=null&&(K.ka=aa,K.j.info("VER="+K.ka));const ya=Dr[4];ya!=null&&(K.za=ya,K.j.info("SVER="+K.za));const _n=Dr[5];_n!=null&&typeof _n=="number"&&_n>0&&(le=1.5*_n,K.O=le,K.j.info("backChannelRequestTimeoutMs_="+le)),le=K;const va=x.g;if(va){const Us=va.g?va.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var Ye=le.h;Ye.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(Ye.j=Ye.l,Ye.g=new Set,Ye.h&&(jl(Ye,Ye.h),Ye.h=null))}if(le.G){const el=va.g?va.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(le.wa=el,Hr(le.J,le.G,el))}}K.I=3,K.l&&K.l.ra(),K.aa&&(K.T=Date.now()-x.F,K.j.info("Handshake RTT: "+K.T+"ms")),le=K;var At=x;if(le.na=pt(le,le.L?le.ba:null,le.W),At.L){yu(le.h,At);var wr=At,Pn=le.O;Pn&&(wr.H=Pn),wr.D&&(bi(wr),si(wr)),le.g=At}else vc(le);K.i.length>0&&vs(K)}else Dr[0]!="stop"&&Dr[0]!="close"||Oe(K,7);else K.I==3&&(Dr[0]=="stop"||Dr[0]=="close"?Dr[0]=="stop"?Oe(K,7):Jo(K):Dr[0]!="noop"&&K.l&&K.l.qa(Dr),K.A=0)}}bt(4)}catch{}}var Kn=class{constructor(x,U){this.g=x,this.map=U}};function gu(x){this.l=x||10,s.PerformanceNavigationTiming?(x=s.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oa(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function gs(x){return x.h?1:x.g?x.g.size:0}function Ls(x,U){return x.h?x.h==U:x.g?x.g.has(U):!1}function jl(x,U){x.g?x.g.add(U):x.h=U}function yu(x,U){x.h&&x.h==U?x.h=null:x.g&&x.g.has(U)&&x.g.delete(U)}gu.prototype.cancel=function(){if(this.i=vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function vu(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let U=x.i;for(const K of x.g.values())U=U.concat(K.G);return U}return m(x.i)}var fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(x,U){if(x){x=x.split("&");for(let K=0;K<x.length;K++){const le=x[K].indexOf("=");let Fe,Ye=null;le>=0?(Fe=x[K].substring(0,le),Ye=x[K].substring(le+1)):Fe=x[K],U(Fe,Ye?decodeURIComponent(Ye.replace(/\+/g," ")):"")}}}function na(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let U;x instanceof na?(this.l=x.l,Br(this,x.j),this.o=x.o,this.g=x.g,Co(this,x.u),this.h=x.h,ys(this,xu(x.i)),this.m=x.m):x&&(U=String(x).match(fc))?(this.l=!1,Br(this,U[1]||"",!0),this.o=xi(U[2]||""),this.g=xi(U[3]||"",!0),Co(this,U[4]),this.h=xi(U[5]||"",!0),ys(this,U[6]||"",!0),this.m=xi(U[7]||"")):(this.l=!1,this.i=new No(null,this.l))}na.prototype.toString=function(){const x=[];var U=this.j;U&&x.push(Ln(U,Rl,!0),":");var K=this.g;return(K||U=="file")&&(x.push("//"),(U=this.o)&&x.push(Ln(U,Rl,!0),"@"),x.push(xt(K).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),K=this.u,K!=null&&x.push(":",String(K))),(K=this.h)&&(this.g&&K.charAt(0)!="/"&&x.push("/"),x.push(Ln(K,K.charAt(0)=="/"?hc:Td,!0))),(K=this.i.toString())&&x.push("?",K),(K=this.m)&&x.push("#",Ln(K,pc)),x.join("")},na.prototype.resolve=function(x){const U=oi(this);let K=!!x.j;K?Br(U,x.j):K=!!x.o,K?U.o=x.o:K=!!x.g,K?U.g=x.g:K=x.u!=null;var le=x.h;if(K)Co(U,x.u);else if(K=!!x.h){if(le.charAt(0)!="/")if(this.g&&!this.h)le="/"+le;else{var Fe=U.h.lastIndexOf("/");Fe!=-1&&(le=U.h.slice(0,Fe+1)+le)}if(Fe=le,Fe==".."||Fe==".")le="";else if(Fe.indexOf("./")!=-1||Fe.indexOf("/.")!=-1){le=Fe.lastIndexOf("/",0)==0,Fe=Fe.split("/");const Ye=[];for(let At=0;At<Fe.length;){const wr=Fe[At++];wr=="."?le&&At==Fe.length&&Ye.push(""):wr==".."?((Ye.length>1||Ye.length==1&&Ye[0]!="")&&Ye.pop(),le&&At==Fe.length&&Ye.push("")):(Ye.push(wr),le=!0)}le=Ye.join("/")}else le=Fe}return K?U.h=le:K=x.i.toString()!=="",K?ys(U,xu(x.i)):K=!!x.m,K&&(U.m=x.m),U};function oi(x){return new na(x)}function Br(x,U,K){x.j=K?xi(U,!0):U,x.j&&(x.j=x.j.replace(/:$/,""))}function Co(x,U){if(U){if(U=Number(U),isNaN(U)||U<0)throw Error("Bad port number "+U);x.u=U}else x.u=null}function ys(x,U,K){U instanceof No?(x.i=U,Ia(x.i,x.l)):(K||(U=Ln(U,ga)),x.i=new No(U,x.l))}function Hr(x,U,K){x.i.set(U,K)}function Yo(x){return Hr(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function xi(x,U){return x?U?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Ln(x,U,K){return typeof x=="string"?(x=encodeURI(x).replace(U,li),K&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function li(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Rl=/[#\/\?@]/g,Td=/[#\?:]/g,hc=/[#\?]/g,ga=/[#\?@]/g,pc=/#/g;function No(x,U){this.h=this.g=null,this.i=x||null,this.j=!!U}function Hi(x){x.g||(x.g=new Map,x.h=0,x.i&&Ja(x.i,function(U,K){x.add(decodeURIComponent(U.replace(/\+/g," ")),K)}))}t=No.prototype,t.add=function(x,U){Hi(this),this.i=null,x=Po(this,x);let K=this.g.get(x);return K||this.g.set(x,K=[]),K.push(U),this.h+=1,this};function Xo(x,U){Hi(x),U=Po(x,U),x.g.has(U)&&(x.i=null,x.h-=x.g.get(U).length,x.g.delete(U))}function mc(x,U){return Hi(x),U=Po(x,U),x.g.has(U)}t.forEach=function(x,U){Hi(this),this.g.forEach(function(K,le){K.forEach(function(Fe){x.call(U,Fe,le,this)},this)},this)};function gc(x,U){Hi(x);let K=[];if(typeof U=="string")mc(x,U)&&(K=K.concat(x.g.get(Po(x,U))));else for(x=Array.from(x.g.values()),U=0;U<x.length;U++)K=K.concat(x[U]);return K}t.set=function(x,U){return Hi(this),this.i=null,x=Po(this,x),mc(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[U]),this.h+=1,this},t.get=function(x,U){return x?(x=gc(this,x),x.length>0?String(x[0]):U):U};function bu(x,U,K){Xo(x,U),K.length>0&&(x.i=null,x.g.set(Po(x,U),m(K)),x.h+=K.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],U=Array.from(this.g.keys());for(let le=0;le<U.length;le++){var K=U[le];const Fe=xt(K);K=gc(this,K);for(let Ye=0;Ye<K.length;Ye++){let At=Fe;K[Ye]!==""&&(At+="="+xt(K[Ye])),x.push(At)}}return this.i=x.join("&")};function xu(x){const U=new No;return U.i=x.i,x.g&&(U.g=new Map(x.g),U.h=x.h),U}function Po(x,U){return U=String(U),x.j&&(U=U.toLowerCase()),U}function Ia(x,U){U&&!x.j&&(Hi(x),x.i=null,x.g.forEach(function(K,le){const Fe=le.toLowerCase();le!=Fe&&(Xo(this,le),bu(this,Fe,K))},x)),x.j=U}function Ms(x,U){const K=new Xe;if(s.Image){const le=new Image;le.onload=f(Da,K,"TestLoadImage: loaded",!0,U,le),le.onerror=f(Da,K,"TestLoadImage: error",!1,U,le),le.onabort=f(Da,K,"TestLoadImage: abort",!1,U,le),le.ontimeout=f(Da,K,"TestLoadImage: timeout",!1,U,le),s.setTimeout(function(){le.ontimeout&&le.ontimeout()},1e4),le.src=x}else U(!1)}function jo(x,U){const K=new Xe,le=new AbortController,Fe=setTimeout(()=>{le.abort(),Da(K,"TestPingServer: timeout",!1,U)},1e4);fetch(x,{signal:le.signal}).then(Ye=>{clearTimeout(Fe),Ye.ok?Da(K,"TestPingServer: ok",!0,U):Da(K,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(Fe),Da(K,"TestPingServer: error",!1,U)})}function Da(x,U,K,le,Fe){try{Fe&&(Fe.onload=null,Fe.onerror=null,Fe.onabort=null,Fe.ontimeout=null),le(K)}catch{}}function Qo(){this.g=new er}function ur(x){this.i=x.Sb||null,this.h=x.ab||!1}p(ur,Ct),ur.prototype.g=function(){return new Ol(this.i,this.h)};function Ol(x,U){Je.call(this),this.H=x,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Ol,Je),t=Ol.prototype,t.open=function(x,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=U,this.readyState=1,Gi(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const U={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(U.body=x),(this.H||s).fetch(new Request(this.D,U)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zo(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wu(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function wu(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var U=x.value?x.value:new Uint8Array(0);(U=this.B.decode(U,{stream:!x.done}))&&(this.response=this.responseText+=U)}x.done?Zo(this):Gi(this),this.readyState==3&&wu(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,Zo(this))},t.Na=function(x){this.g&&(this.response=x,Zo(this))},t.ga=function(){this.g&&Zo(this)};function Zo(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Gi(x)}t.setRequestHeader=function(x,U){this.A.append(x,U)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],U=this.h.entries();for(var K=U.next();!K.done;)K=K.value,x.push(K[0]+": "+K[1]),K=U.next();return x.join(`\r
`)};function Gi(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Pi(x){let U="";return we(x,function(K,le){U+=le,U+=":",U+=K,U+=`\r
`}),U}function Il(x,U,K){e:{for(le in K){var le=!1;break e}le=!0}le||(K=Pi(K),typeof x=="string"?K!=null&&xt(K):Hr(x,U,K))}function on(x){Je.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(on,Je);var es=/^https?$/i,Dl=["POST","PUT"];t=on.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,U,K,le){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);U=U?U.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():et.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(U,String(x),!0),this.B=!1}catch(Ye){Bs(this,Ye);return}if(x=K||"",K=new Map(this.headers),le)if(Object.getPrototypeOf(le)===Object.prototype)for(var Fe in le)K.set(Fe,le[Fe]);else if(typeof le.keys=="function"&&typeof le.get=="function")for(const Ye of le.keys())K.set(Ye,le.get(Ye));else throw Error("Unknown input type for opt_headers: "+String(le));le=Array.from(K.keys()).find(Ye=>Ye.toLowerCase()=="content-type"),Fe=s.FormData&&x instanceof s.FormData,!(Array.prototype.indexOf.call(Dl,U,void 0)>=0)||le||Fe||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ye,At]of K)this.g.setRequestHeader(Ye,At);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(Ye){Bs(this,Ye)}};function Bs(x,U){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=U,x.o=5,yc(x),Ro(x)}function yc(x){x.A||(x.A=!0,Nt(x,"complete"),Nt(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,Nt(this,"complete"),Nt(this,"abort"),Ro(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ro(this,!0)),on.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ts(this):this.Xa())},t.Xa=function(){ts(this)};function ts(x){if(x.h&&typeof a<"u"){if(x.v&&rs(x)==4)setTimeout(x.Ca.bind(x),0);else if(Nt(x,"readystatechange"),rs(x)==4){x.h=!1;try{const Ye=x.ca();e:switch(Ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var K;if(!(K=U)){var le;if(le=Ye===0){let At=String(x.D).match(fc)[1]||null;!At&&s.self&&s.self.location&&(At=s.self.location.protocol.slice(0,-1)),le=!es.test(At?At.toLowerCase():"")}K=le}if(K)Nt(x,"complete"),Nt(x,"success");else{x.o=6;try{var Fe=rs(x)>2?x.g.statusText:""}catch{Fe=""}x.l=Fe+" ["+x.ca()+"]",yc(x)}}finally{Ro(x)}}}}function Ro(x,U){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const K=x.g;x.g=null,U||Nt(x,"ready");try{K.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function rs(x){return x.g?x.g.readyState:0}t.ca=function(){try{return rs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var U=this.g.responseText;return x&&U.indexOf(x)==0&&(U=U.substring(x.length)),Pt(U)}};function wi(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function eo(x){const U={};x=(x.g&&rs(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let le=0;le<x.length;le++){if(M(x[le]))continue;var K=Rt(x[le]);const Fe=K[0];if(K=K[1],typeof K!="string")continue;K=K.trim();const Ye=U[Fe]||[];U[Fe]=Ye,Ye.push(K)}Be(U,function(le){return le.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(x,U,K){return K&&K.internalChannelParams&&K.internalChannelParams[x]||U}function to(x){this.za=0,this.i=[],this.j=new Xe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ia("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ia("baseRetryDelayMs",5e3,x),this.Za=ia("retryDelaySeedMs",1e4,x),this.Ta=ia("forwardChannelMaxRetries",2,x),this.va=ia("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new gu(x&&x.concurrentRequestLimit),this.Ba=new Qo,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=to.prototype,t.ka=8,t.I=1,t.connect=function(x,U,K,le){gt(0),this.W=x,this.H=U||{},K&&le!==void 0&&(this.H.OSID=K,this.H.OAID=le),this.F=this.X,this.J=pt(this,null,this.W),vs(this)};function Jo(x){if(no(x),x.I==3){var U=x.V++,K=oi(x.J);if(Hr(K,"SID",x.M),Hr(K,"RID",U),Hr(K,"TYPE","terminate"),ns(x,K),U=new Ut(x,x.j,U),U.M=2,U.A=Yo(oi(K)),K=!1,s.navigator&&s.navigator.sendBeacon)try{K=s.navigator.sendBeacon(U.A.toString(),"")}catch{}!K&&s.Image&&(new Image().src=U.A,K=!0),K||(U.g=Vt(U.j,null),U.g.ea(U.A)),U.F=Date.now(),si(U)}at(x)}function ro(x){x.g&&(Au(x),x.g.cancel(),x.g=null)}function no(x){ro(x),x.v&&(s.clearTimeout(x.v),x.v=null),Y(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&s.clearTimeout(x.m),x.m=null)}function vs(x){if(!Oa(x.h)&&!x.m){x.m=!0;var U=x.Ea;O||I(),z||(O(),z=!0),L.add(U,x),x.D=0}}function Ll(x,U){return gs(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=U.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=be(d(x.Ea,x,U),ke(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const Fe=new Ut(this,this.j,x);let Ye=this.o;if(this.U&&(Ye?(Ye=Z(Ye),Q(Ye,this.U)):Ye=this.U),this.u!==null||this.R||(Fe.J=Ye,Ye=null),this.S)e:{for(var U=0,K=0;K<this.i.length;K++){t:{var le=this.i[K];if("__data__"in le.map&&(le=le.map.__data__,typeof le=="string")){le=le.length;break t}le=void 0}if(le===void 0)break;if(U+=le,U>4096){U=K;break e}if(U===4096||K===this.i.length-1){U=K+1;break e}}U=1e3}else U=1e3;U=io(this,Fe,U),K=oi(this.J),Hr(K,"RID",x),Hr(K,"CVER",22),this.G&&Hr(K,"X-HTTP-Session-Id",this.G),ns(this,K),Ye&&(this.R?U="headers="+xt(Pi(Ye))+"&"+U:this.u&&Il(K,this.u,Ye)),jl(this.h,Fe),this.Ra&&Hr(K,"TYPE","init"),this.S?(Hr(K,"$req",U),Hr(K,"SID","null"),Fe.U=!0,fn(Fe,K,null)):fn(Fe,K,U),this.I=2}}else this.I==3&&(x?_u(this,x):this.i.length==0||Oa(this.h)||_u(this))};function _u(x,U){var K;U?K=U.l:K=x.V++;const le=oi(x.J);Hr(le,"SID",x.M),Hr(le,"RID",K),Hr(le,"AID",x.K),ns(x,le),x.u&&x.o&&Il(le,x.u,x.o),K=new Ut(x,x.j,K,x.D+1),x.u===null&&(K.J=x.o),U&&(x.i=U.G.concat(x.i)),U=io(x,K,1e3),K.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),jl(x.h,K),fn(K,le,U)}function ns(x,U){x.H&&we(x.H,function(K,le){Hr(U,le,K)}),x.l&&we({},function(K,le){Hr(U,le,K)})}function io(x,U,K){K=Math.min(x.i.length,K);const le=x.l?d(x.l.Ka,x.l,x):null;e:{var Fe=x.i;let wr=-1;for(;;){const Pn=["count="+K];wr==-1?K>0?(wr=Fe[0].g,Pn.push("ofs="+wr)):wr=0:Pn.push("ofs="+wr);let Dr=!0;for(let ln=0;ln<K;ln++){var Ye=Fe[ln].g;const aa=Fe[ln].map;if(Ye-=wr,Ye<0)wr=Math.max(0,Fe[ln].g-100),Dr=!1;else try{Ye="req"+Ye+"_"||"";try{var At=aa instanceof Map?aa:Object.entries(aa);for(const[ya,_n]of At){let va=_n;l(_n)&&(va=rr(_n)),Pn.push(Ye+ya+"="+encodeURIComponent(va))}}catch(ya){throw Pn.push(Ye+"type="+encodeURIComponent("_badmap")),ya}}catch{le&&le(aa)}}if(Dr){At=Pn.join("&");break e}}At=void 0}return x=x.i.splice(0,K),U.G=x,At}function vc(x){if(!x.g&&!x.v){x.Y=1;var U=x.Da;O||I(),z||(O(),z=!0),L.add(U,x),x.A=0}}function Fs(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=be(d(x.Da,x),ke(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,R(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=be(d(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),ro(this),R(this))};function Au(x){x.B!=null&&(s.clearTimeout(x.B),x.B=null)}function R(x){x.g=new Ut(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var U=oi(x.na);Hr(U,"RID","rpc"),Hr(U,"SID",x.M),Hr(U,"AID",x.K),Hr(U,"CI",x.F?"0":"1"),!x.F&&x.ia&&Hr(U,"TO",x.ia),Hr(U,"TYPE","xmlhttp"),ns(x,U),x.u&&x.o&&Il(U,x.u,x.o),x.O&&(x.g.H=x.O);var K=x.g;x=x.ba,K.M=1,K.A=Yo(oi(U)),K.u=null,K.R=!0,gn(K,x)}t.Va=function(){this.C!=null&&(this.C=null,ro(this),Fs(this),gt(19))};function Y(x){x.C!=null&&(s.clearTimeout(x.C),x.C=null)}function me(x,U){var K=null;if(x.g==U){Y(x),Au(x),x.g=null;var le=2}else if(Ls(x.h,U))K=U.G,yu(x.h,U),le=1;else return;if(x.I!=0){if(U.o)if(le==1){K=U.u?U.u.length:0,U=Date.now()-U.F;var Fe=x.D;le=Et(),Nt(le,new W(le,K)),vs(x)}else vc(x);else if(Fe=U.m,Fe==3||Fe==0&&U.X>0||!(le==1&&Ll(x,U)||le==2&&Fs(x)))switch(K&&K.length>0&&(U=x.h,U.i=U.i.concat(K)),Fe){case 1:Oe(x,5);break;case 4:Oe(x,10);break;case 3:Oe(x,6);break;default:Oe(x,2)}}}function ke(x,U){let K=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(K*=2),K*U}function Oe(x,U){if(x.j.info("Error code "+U),U==2){var K=d(x.bb,x),le=x.Ua;const Fe=!le;le=new na(le||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Br(le,"https"),Yo(le),Fe?Ms(le.toString(),K):jo(le.toString(),K)}else gt(2);x.I=0,x.l&&x.l.pa(U),at(x),no(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function at(x){if(x.I=0,x.ja=[],x.l){const U=vu(x.h);(U.length!=0||x.i.length!=0)&&(w(x.ja,U),w(x.ja,x.i),x.h.i.length=0,m(x.i),x.i.length=0),x.l.oa()}}function pt(x,U,K){var le=K instanceof na?oi(K):new na(K);if(le.g!="")U&&(le.g=U+"."+le.g),Co(le,le.u);else{var Fe=s.location;le=Fe.protocol,U=U?U+"."+Fe.hostname:Fe.hostname,Fe=+Fe.port;const Ye=new na(null);le&&Br(Ye,le),U&&(Ye.g=U),Fe&&Co(Ye,Fe),K&&(Ye.h=K),le=Ye}return K=x.G,U=x.wa,K&&U&&Hr(le,K,U),Hr(le,"VER",x.ka),ns(x,le),le}function Vt(x,U,K){if(U&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return U=x.Aa&&!x.ma?new on(new ur({ab:K})):new on(x.ma),U.Fa(x.L),U}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xt(){}t=Xt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hr(){}hr.prototype.g=function(x,U){return new or(x,U)};function or(x,U){Je.call(this),this.g=new to(U),this.l=x,this.h=U&&U.messageUrlParams||null,x=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(x?x["X-WebChannel-Content-Type"]=U.messageContentType:x={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.sa&&(x?x["X-WebChannel-Client-Profile"]=U.sa:x={"X-WebChannel-Client-Profile":U.sa}),this.g.U=x,(x=U&&U.Qb)&&!M(x)&&(this.g.u=x),this.A=U&&U.supportsCrossDomainXhr||!1,this.v=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!M(U)&&(this.g.G=U,x=this.h,x!==null&&U in x&&(x=this.h,U in x&&delete x[U])),this.j=new yn(this)}p(or,Je),or.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){Jo(this.g)},or.prototype.o=function(x){var U=this.g;if(typeof x=="string"){var K={};K.__data__=x,x=K}else this.v&&(K={},K.__data__=rr(x),x=K);U.i.push(new Kn(U.Ya++,x)),U.I==3&&vs(U)},or.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,or.Z.N.call(this)};function Fr(x){jt.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var U=x.__sm__;if(U){e:{for(const K in U){x=K;break e}x=void 0}(this.i=x)&&(x=this.i,U=U!==null&&x in U?U[x]:void 0),this.data=U}else this.data=x}p(Fr,jt);function Nn(){Ht.call(this),this.status=1}p(Nn,Ht);function yn(x){this.g=x}p(yn,Xt),yn.prototype.ra=function(){Nt(this.g,"a")},yn.prototype.qa=function(x){Nt(this.g,new Fr(x))},yn.prototype.pa=function(x){Nt(this.g,new Nn)},yn.prototype.oa=function(){Nt(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,IB=function(){return new hr},OB=function(){return Et()},RB=Se,yE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,Eb=De,$e.COMPLETE="complete",jB=$e,Ar.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",Je.prototype.listen=Je.prototype.J,N0=Ar,on.prototype.listenOnce=on.prototype.K,on.prototype.getLastError=on.prototype.Ha,on.prototype.getLastErrorCode=on.prototype.ya,on.prototype.getStatus=on.prototype.ca,on.prototype.getResponseJson=on.prototype.La,on.prototype.getResponseText=on.prototype.la,on.prototype.send=on.prototype.ea,on.prototype.setWithCredentials=on.prototype.Fa,PB=on}).apply(typeof O1<"u"?O1:typeof self<"u"?self:typeof window<"u"?window:{});const rO="@firebase/firestore",nO="4.9.2";let Cs=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Cs.UNAUTHENTICATED=new Cs(null),Cs.GOOGLE_CREDENTIALS=new Cs("google-credentials-uid"),Cs.FIRST_PARTY=new Cs("first-party-uid"),Cs.MOCK_USER=new Cs("mock-user");let og="12.3.0";const Wh=new z4("@firebase/firestore");function am(){return Wh.logLevel}function zt(t,...e){if(Wh.logLevel<=Kr.DEBUG){const r=e.map(tk);Wh.debug(`Firestore (${og}): ${t}`,...r)}}function ad(t,...e){if(Wh.logLevel<=Kr.ERROR){const r=e.map(tk);Wh.error(`Firestore (${og}): ${t}`,...r)}}function Um(t,...e){if(Wh.logLevel<=Kr.WARN){const r=e.map(tk);Wh.warn(`Firestore (${og}): ${t}`,...r)}}function tk(t){if(typeof t=="string")return t;try{return(function(r){return JSON.stringify(r)})(t)}catch{return t}}function xr(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,DB(t,n,r)}function DB(t,e,r){let n=`FIRESTORE (${og}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw ad(n),new Error(n)}function xn(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||DB(e,i,n)}function Rr(t,e){return t}const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends uc{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qc{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}class LB{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Cs.UNAUTHENTICATED)))}shutdown(){}}class Bte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Fte{constructor(e){this.t=e,this.currentUser=Cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){xn(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Qc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qc,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qc)}}),0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(xn(typeof n.accessToken=="string",31837,{l:n}),new LB(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xn(e===null||typeof e=="string",2055,{h:e}),new Cs(e)}}class Ute{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Cs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Vte{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Ute(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Cs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zte{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){xn(this.o===void 0,3512);const n=a=>{a.error!=null&&zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,zt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(xn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new iO(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $te(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}class rk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=$te(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Yr(t,e){return t<e?-1:t>e?1:0}function vE(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return j_(i)===j_(a)?Yr(i,a):j_(i)?1:-1}return Yr(t.length,e.length)}const qte=55296,Hte=57343;function j_(t){const e=t.charCodeAt(0);return e>=qte&&e<=Hte}function Vm(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}const aO="__name__";class Uu{constructor(e,r,n){r===void 0?r=0:r>e.length&&xr(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&xr(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Uu.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Uu?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Uu.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Yr(e.length,r.length)}static compareSegments(e,r){const n=Uu.isNumericId(e),i=Uu.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Uu.extractNumericId(e).compare(Uu.extractNumericId(r)):vE(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yf.fromString(e.substring(4,e.length-2))}}class Hn extends Uu{construct(e,r,n){return new Hn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ot(ct.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Hn(r)}static emptyPath(){return new Hn([])}}const Gte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hs extends Uu{construct(e,r,n){return new hs(e,r,n)}static isValidIdentifier(e){return Gte.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aO}static keyField(){return new hs([aO])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ot(ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ot(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ot(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(n+=l,i++):(a(),i++)}if(a(),s)throw new Ot(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hs(r)}static emptyPath(){return new hs([])}}class gr{constructor(e){this.path=e}static fromPath(e){return new gr(Hn.fromString(e))}static fromName(e){return new gr(Hn.fromString(e).popFirst(5))}static empty(){return new gr(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Hn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gr(new Hn(e.slice()))}}function MB(t,e,r){if(!r)throw new Ot(ct.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Wte(t,e,r,n){if(e===!0&&n===!0)throw new Ot(ct.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function sO(t){if(!gr.isDocumentKey(t))throw new Ot(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oO(t){if(gr.isDocumentKey(t))throw new Ot(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BB(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function D2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xr(12329,{type:typeof t})}function El(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ot(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=D2(t);throw new Ot(ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function ha(t,e){const r={typeString:t};return e&&(r.value=e),r}function Hy(t,e){if(!BB(t))throw new Ot(ct.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Ot(ct.INVALID_ARGUMENT,r);return!0}const lO=-62135596800,uO=1e6;class ei{static now(){return ei.fromMillis(Date.now())}static fromDate(e){return ei.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*uO);return new ei(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ot(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ot(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<lO)throw new Ot(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ot(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uO}_compareTo(e){return this.seconds===e.seconds?Yr(this.nanoseconds,e.nanoseconds):Yr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ei._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hy(e,ei._jsonSchema))return new ei(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ei._jsonSchemaVersion="firestore/timestamp/1.0",ei._jsonSchema={type:ha("string",ei._jsonSchemaVersion),seconds:ha("number"),nanoseconds:ha("number")};class kr{static fromTimestamp(e){return new kr(e)}static min(){return new kr(new ei(0,0))}static max(){return new kr(new ei(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ny=-1;function Kte(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=kr.fromTimestamp(n===1e9?new ei(r+1,0):new ei(r,n));return new _f(i,gr.empty(),e)}function Yte(t){return new _f(t.readTime,t.key,ny)}class _f{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new _f(kr.min(),gr.empty(),ny)}static max(){return new _f(kr.max(),gr.empty(),ny)}}function Xte(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=gr.comparator(t.documentKey,e.documentKey),r!==0?r:Yr(t.largestBatchId,e.largestBatchId))}const Qte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lg(t){if(t.code!==ct.FAILED_PRECONDITION||t.message!==Qte)throw t;zt("LocalStore","Unexpectedly lost primary lease")}class mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&xr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new mt(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof mt?r:mt.resolve(r)}catch(r){return mt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):mt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):mt.reject(r)}static resolve(e){return new mt(((r,n)=>{r(e)}))}static reject(e){return new mt(((r,n)=>{n(e)}))}static waitFor(e){return new mt(((r,n)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&r()}),(c=>n(c)))})),s=!0,a===i&&r()}))}static or(e){let r=mt.resolve(!1);for(const n of e)r=r.next((i=>i?mt.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new mt(((n,i)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;r(e[d]).next((f=>{s[d]=f,++l,l===a&&n(s)}),(f=>i(f)))}}))}static doWhile(e,r){return new mt(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function Jte(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ug(t){return t.name==="IndexedDbTransactionError"}class L2{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}L2.ce=-1;const nk=-1;function M2(t){return t==null}function sx(t){return t===0&&1/t==-1/0}function ere(t){return typeof t=="number"&&Number.isInteger(t)&&!sx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const FB="";function tre(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=cO(e)),e=rre(t.get(r),e);return cO(e)}function rre(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case FB:r+="";break;default:r+=a}}return r}function cO(t){return t+FB+""}function dO(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ff(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function UB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ci{constructor(e,r){this.comparator=e,this.root=r||fs.EMPTY}insert(e,r){return new Ci(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(e){return new Ci(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new I1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new I1(this.root,e,this.comparator,!1)}getReverseIterator(){return new I1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new I1(this.root,e,this.comparator,!0)}}class I1{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fs{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??fs.RED,this.left=i??fs.EMPTY,this.right=a??fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new fs(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return fs.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xr(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xr(27949);return e+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1;fs.EMPTY=new class{constructor(){this.size=0}get key(){throw xr(57766)}get value(){throw xr(16141)}get color(){throw xr(16727)}get left(){throw xr(29726)}get right(){throw xr(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new fs(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ca{constructor(e){this.comparator=e,this.data=new Ci(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new fO(this.data.getIterator())}getIteratorFrom(e){return new fO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Ca(this.comparator);return r.data=e,r}}class fO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qo{constructor(e){this.fields=e,e.sort(hs.comparator)}static empty(){return new qo([])}unionWith(e){let r=new Ca(hs.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new qo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Vm(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}class VB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ps{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new VB("Invalid base64 string: "+a):a}})(e);return new ps(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new ps(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ps.EMPTY_BYTE_STRING=new ps("");const nre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Af(t){if(xn(!!t,39018),typeof t=="string"){let e=0;const r=nre.exec(t);if(xn(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Xi(t.seconds),nanos:Xi(t.nanos)}}function Xi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sf(t){return typeof t=="string"?ps.fromBase64String(t):ps.fromUint8Array(t)}const zB="server_timestamp",$B="__type__",qB="__previous_value__",HB="__local_write_time__";function ik(t){return(t?.mapValue?.fields||{})[$B]?.stringValue===zB}function B2(t){const e=t.mapValue.fields[qB];return ik(e)?B2(e):e}function iy(t){const e=Af(t.mapValue.fields[HB].timestampValue);return new ei(e.seconds,e.nanos)}class ire{constructor(e,r,n,i,a,s,l,c,d,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const ox="(default)";class ay{constructor(e,r){this.projectId=e,this.database=r||ox}static empty(){return new ay("","")}get isDefaultDatabase(){return this.database===ox}isEqual(e){return e instanceof ay&&e.projectId===this.projectId&&e.database===this.database}}const GB="__type__",are="__max__",D1={mapValue:{}},WB="__vector__",lx="value";function Ef(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ik(t)?4:ore(t)?9007199254740991:sre(t)?10:11:xr(28295,{value:t})}function nc(t,e){if(t===e)return!0;const r=Ef(t);if(r!==Ef(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return iy(t).isEqual(iy(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Af(i.timestampValue),l=Af(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Sf(i.bytesValue).isEqual(Sf(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Xi(i.geoPointValue.latitude)===Xi(a.geoPointValue.latitude)&&Xi(i.geoPointValue.longitude)===Xi(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Xi(i.integerValue)===Xi(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Xi(i.doubleValue),l=Xi(a.doubleValue);return s===l?sx(s)===sx(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return Vm(t.arrayValue.values||[],e.arrayValue.values||[],nc);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(dO(s)!==dO(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!nc(s[c],l[c])))return!1;return!0})(t,e);default:return xr(52216,{left:t})}}function sy(t,e){return(t.values||[]).find((r=>nc(r,e)))!==void 0}function zm(t,e){if(t===e)return 0;const r=Ef(t),n=Ef(e);if(r!==n)return Yr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Yr(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=Xi(a.integerValue||a.doubleValue),c=Xi(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return hO(t.timestampValue,e.timestampValue);case 4:return hO(iy(t),iy(e));case 5:return vE(t.stringValue,e.stringValue);case 6:return(function(a,s){const l=Sf(a),c=Sf(s);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),c=s.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=Yr(l[d],c[d]);if(f!==0)return f}return Yr(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=Yr(Xi(a.latitude),Xi(s.latitude));return l!==0?l:Yr(Xi(a.longitude),Xi(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return pO(t.arrayValue,e.arrayValue);case 10:return(function(a,s){const l=a.fields||{},c=s.fields||{},d=l[lx]?.arrayValue,f=c[lx]?.arrayValue,p=Yr(d?.values?.length||0,f?.values?.length||0);return p!==0?p:pO(d,f)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===D1.mapValue&&s===D1.mapValue)return 0;if(a===D1.mapValue)return 1;if(s===D1.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=s.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const g=vE(c[p],f[p]);if(g!==0)return g;const m=zm(l[c[p]],d[f[p]]);if(m!==0)return m}return Yr(c.length,f.length)})(t.mapValue,e.mapValue);default:throw xr(23264,{he:r})}}function hO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Yr(t,e);const r=Af(t),n=Af(e),i=Yr(r.seconds,n.seconds);return i!==0?i:Yr(r.nanos,n.nanos)}function pO(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=zm(r[i],n[i]);if(a)return a}return Yr(r.length,n.length)}function $m(t){return bE(t)}function bE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Af(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Sf(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return gr.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=bE(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${bE(r.fields[s])}`;return i+"}"})(t.mapValue):xr(61005,{value:t})}function Tb(t){switch(Ef(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=B2(t);return e?16+Tb(e):16;case 5:return 2*t.stringValue.length;case 6:return Sf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+Tb(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return Ff(n.fields,((a,s)=>{i+=a.length+Tb(s)})),i})(t.mapValue);default:throw xr(13486,{value:t})}}function mO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xE(t){return!!t&&"integerValue"in t}function ak(t){return!!t&&"arrayValue"in t}function gO(t){return!!t&&"nullValue"in t}function yO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kb(t){return!!t&&"mapValue"in t}function sre(t){return(t?.mapValue?.fields||{})[GB]?.stringValue===WB}function V0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ff(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=V0(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=V0(t.arrayValue.values[r]);return e}return{...t}}function ore(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===are}class Ao{constructor(e){this.value=e}static empty(){return new Ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!kb(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=V0(r)}setAll(e){let r=hs.emptyPath(),n={},i=[];e.forEach(((s,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}s?n[l.lastSegment()]=V0(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());kb(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return nc(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];kb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Ff(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new Ao(V0(this.value))}}function KB(t){const e=[];return Ff(t.fields,((r,n)=>{const i=new hs([r]);if(kb(n)){const a=KB(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new qo(e)}class Ns{constructor(e,r,n,i,a,s,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Ns(e,0,kr.min(),kr.min(),kr.min(),Ao.empty(),0)}static newFoundDocument(e,r,n,i){return new Ns(e,1,r,kr.min(),n,i,0)}static newNoDocument(e,r){return new Ns(e,2,r,kr.min(),kr.min(),Ao.empty(),0)}static newUnknownDocument(e,r){return new Ns(e,3,r,kr.min(),kr.min(),Ao.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(kr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ns&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ns(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ux{constructor(e,r){this.position=e,this.inclusive=r}}function vO(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=gr.comparator(gr.fromName(s.referenceValue),r.key):n=zm(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function bO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!nc(t.position[r],e.position[r]))return!1;return!0}class oy{constructor(e,r="asc"){this.field=e,this.dir=r}}function lre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class YB{}class fa extends YB{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new cre(e,r,n):r==="array-contains"?new hre(e,n):r==="in"?new pre(e,n):r==="not-in"?new mre(e,n):r==="array-contains-any"?new gre(e,n):new fa(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new dre(e,n):new fre(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(zm(r,this.value)):r!==null&&Ef(this.value)===Ef(r)&&this.matchesComparison(zm(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class uu extends YB{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new uu(e,r)}matches(e){return XB(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XB(t){return t.op==="and"}function QB(t){return ure(t)&&XB(t)}function ure(t){for(const e of t.filters)if(e instanceof uu)return!1;return!0}function wE(t){if(t instanceof fa)return t.field.canonicalString()+t.op.toString()+$m(t.value);if(QB(t))return t.filters.map((e=>wE(e))).join(",");{const e=t.filters.map((r=>wE(r))).join(",");return`${t.op}(${e})`}}function ZB(t,e){return t instanceof fa?(function(n,i){return i instanceof fa&&n.op===i.op&&n.field.isEqual(i.field)&&nc(n.value,i.value)})(t,e):t instanceof uu?(function(n,i){return i instanceof uu&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,s,l)=>a&&ZB(s,i.filters[l])),!0):!1})(t,e):void xr(19439)}function JB(t){return t instanceof fa?(function(r){return`${r.field.canonicalString()} ${r.op} ${$m(r.value)}`})(t):t instanceof uu?(function(r){return r.op.toString()+" {"+r.getFilters().map(JB).join(" ,")+"}"})(t):"Filter"}class cre extends fa{constructor(e,r,n){super(e,r,n),this.key=gr.fromName(n.referenceValue)}matches(e){const r=gr.comparator(e.key,this.key);return this.matchesComparison(r)}}class dre extends fa{constructor(e,r){super(e,"in",r),this.keys=eF("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class fre extends fa{constructor(e,r){super(e,"not-in",r),this.keys=eF("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function eF(t,e){return(e.arrayValue?.values||[]).map((r=>gr.fromName(r.referenceValue)))}class hre extends fa{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ak(r)&&sy(r.arrayValue,this.value)}}class pre extends fa{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&sy(this.value.arrayValue,r)}}class mre extends fa{constructor(e,r){super(e,"not-in",r)}matches(e){if(sy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!sy(this.value.arrayValue,r)}}class gre extends fa{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ak(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>sy(this.value.arrayValue,n)))}}class yre{constructor(e,r=null,n=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Te=null}}function xO(t,e=null,r=[],n=[],i=null,a=null,s=null){return new yre(t,e,r,n,i,a,s)}function sk(t){const e=Rr(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>wE(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),M2(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>$m(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>$m(n))).join(",")),e.Te=r}return e.Te}function ok(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!lre(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!ZB(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bO(t.startAt,e.startAt)&&bO(t.endAt,e.endAt)}function _E(t){return gr.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class cg{constructor(e,r=null,n=[],i=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vre(t,e,r,n,i,a,s,l){return new cg(t,e,r,n,i,a,s,l)}function lk(t){return new cg(t)}function wO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tF(t){return t.collectionGroup!==null}function z0(t){const e=Rr(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Ca(hs.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new oy(a,n))})),r.has(hs.keyField().canonicalString())||e.Ie.push(new oy(hs.keyField(),n))}return e.Ie}function Yu(t){const e=Rr(t);return e.Ee||(e.Ee=bre(e,z0(t))),e.Ee}function bre(t,e){if(t.limitType==="F")return xO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new oy(i.field,a)}));const r=t.endAt?new ux(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ux(t.startAt.position,t.startAt.inclusive):null;return xO(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function AE(t,e){const r=t.filters.concat([e]);return new cg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function SE(t,e,r){return new cg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function F2(t,e){return ok(Yu(t),Yu(e))&&t.limitType===e.limitType}function rF(t){return`${sk(Yu(t))}|lt:${t.limitType}`}function sm(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>JB(i))).join(", ")}]`),M2(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>$m(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>$m(i))).join(",")),`Target(${n})`})(Yu(t))}; limitType=${t.limitType})`}function U2(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):gr.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of z0(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(s,l,c){const d=vO(s,l,c);return s.inclusive?d<=0:d<0})(n.startAt,z0(n),i)||n.endAt&&!(function(s,l,c){const d=vO(s,l,c);return s.inclusive?d>=0:d>0})(n.endAt,z0(n),i))})(t,e)}function xre(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nF(t){return(e,r)=>{let n=!1;for(const i of z0(t)){const a=wre(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function wre(t,e,r){const n=t.field.isKeyField()?gr.comparator(e.key,r.key):(function(a,s,l){const c=s.data.field(a),d=l.data.field(a);return c!==null&&d!==null?zm(c,d):xr(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return xr(19790,{direction:t.dir})}}class up{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ff(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return UB(this.inner)}size(){return this.innerSize}}const _re=new Ci(gr.comparator);function sd(){return _re}const iF=new Ci(gr.comparator);function P0(...t){let e=iF;for(const r of t)e=e.insert(r.key,r);return e}function aF(t){let e=iF;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Eh(){return $0()}function sF(){return $0()}function $0(){return new up((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Are=new Ci(gr.comparator),Sre=new Ca(gr.comparator);function Xr(...t){let e=Sre;for(const r of t)e=e.add(r);return e}const Ere=new Ca(Yr);function Tre(){return Ere}function uk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sx(e)?"-0":e}}function oF(t){return{integerValue:""+t}}function kre(t,e){return ere(e)?oF(e):uk(t,e)}class V2{constructor(){this._=void 0}}function Cre(t,e,r){return t instanceof ly?(function(i,a){const s={fields:{[$B]:{stringValue:zB},[HB]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ik(a)&&(a=B2(a)),a&&(s.fields[qB]=a),{mapValue:s}})(r,e):t instanceof uy?uF(t,e):t instanceof cy?cF(t,e):(function(i,a){const s=lF(i,a),l=_O(s)+_O(i.Ae);return xE(s)&&xE(i.Ae)?oF(l):uk(i.serializer,l)})(t,e)}function Nre(t,e,r){return t instanceof uy?uF(t,e):t instanceof cy?cF(t,e):r}function lF(t,e){return t instanceof cx?(function(n){return xE(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class ly extends V2{}class uy extends V2{constructor(e){super(),this.elements=e}}function uF(t,e){const r=dF(e);for(const n of t.elements)r.some((i=>nc(i,n)))||r.push(n);return{arrayValue:{values:r}}}class cy extends V2{constructor(e){super(),this.elements=e}}function cF(t,e){let r=dF(e);for(const n of t.elements)r=r.filter((i=>!nc(i,n)));return{arrayValue:{values:r}}}class cx extends V2{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function _O(t){return Xi(t.integerValue||t.doubleValue)}function dF(t){return ak(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Pre{constructor(e,r){this.field=e,this.transform=r}}function jre(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof uy&&i instanceof uy||n instanceof cy&&i instanceof cy?Vm(n.elements,i.elements,nc):n instanceof cx&&i instanceof cx?nc(n.Ae,i.Ae):n instanceof ly&&i instanceof ly})(t.transform,e.transform)}class Rre{constructor(e,r){this.version=e,this.transformResults=r}}class Xs{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Xs}static exists(e){return new Xs(void 0,e)}static updateTime(e){return new Xs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class z2{}function fF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $2(t.key,Xs.none()):new Gy(t.key,t.data,Xs.none());{const r=t.data,n=Ao.empty();let i=new Ca(hs.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Uf(t.key,n,new qo(i.toArray()),Xs.none())}}function Ore(t,e,r){t instanceof Gy?(function(i,a,s){const l=i.value.clone(),c=SO(i.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,r):t instanceof Uf?(function(i,a,s){if(!Cb(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=SO(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(hF(i)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,r):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,r)}function q0(t,e,r,n){return t instanceof Gy?(function(a,s,l,c){if(!Cb(a.precondition,s))return l;const d=a.value.clone(),f=EO(a.fieldTransforms,c,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(t,e,r,n):t instanceof Uf?(function(a,s,l,c){if(!Cb(a.precondition,s))return l;const d=EO(a.fieldTransforms,c,s),f=s.data;return f.setAll(hF(a)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(a,s,l){return Cb(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,r)}function Ire(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=lF(n.transform,i||null);a!=null&&(r===null&&(r=Ao.empty()),r.set(n.field,a))}return r||null}function AO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Vm(n,i,((a,s)=>jre(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gy extends z2{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uf extends z2{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hF(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function SO(t,e,r){const n=new Map;xn(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);n.set(a.field,Nre(s,l,r[i]))}return n}function EO(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,Cre(a,s,e))}return n}class $2 extends z2{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dre extends z2{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lre{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Ore(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=q0(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=q0(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=sF();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=r.has(i.key)?null:l;const c=fF(s,l);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(kr.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Xr())}isEqual(e){return this.batchId===e.batchId&&Vm(this.mutations,e.mutations,((r,n)=>AO(r,n)))&&Vm(this.baseMutations,e.baseMutations,((r,n)=>AO(r,n)))}}class ck{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){xn(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return Are})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new ck(e,r,n,i)}}class Mre{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Bre{constructor(e,r){this.count=e,this.unchangedNames=r}}var ua,rn;function Fre(t){switch(t){case ct.OK:return xr(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return xr(15467,{code:t})}}function pF(t){if(t===void 0)return ad("GRPC error has no .code"),ct.UNKNOWN;switch(t){case ua.OK:return ct.OK;case ua.CANCELLED:return ct.CANCELLED;case ua.UNKNOWN:return ct.UNKNOWN;case ua.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case ua.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case ua.INTERNAL:return ct.INTERNAL;case ua.UNAVAILABLE:return ct.UNAVAILABLE;case ua.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case ua.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case ua.NOT_FOUND:return ct.NOT_FOUND;case ua.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case ua.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case ua.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case ua.ABORTED:return ct.ABORTED;case ua.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case ua.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case ua.DATA_LOSS:return ct.DATA_LOSS;default:return xr(39323,{code:t})}}(rn=ua||(ua={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";function Ure(){return new TextEncoder}const Vre=new yf([4294967295,4294967295],0);function TO(t){const e=Ure().encode(t),r=new NB;return r.update(e),new Uint8Array(r.digest())}function kO(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new yf([r,n],0),new yf([i,a],0)]}class dk{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new j0(`Invalid padding: ${r}`);if(n<0)throw new j0(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new j0(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new j0(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=yf.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(yf.fromNumber(n)));return i.compare(Vre)===1&&(i=new yf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=TO(e),[n,i]=kO(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new dk(a,i,r);return n.forEach((l=>s.insert(l))),s}insert(e){if(this.ge===0)return;const r=TO(e),[n,i]=kO(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class j0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class q2{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Wy.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new q2(kr.min(),i,new Ci(Yr),sd(),Xr())}}class Wy{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Wy(n,r,Xr(),Xr(),Xr())}}class Nb{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class mF{constructor(e,r){this.targetId=e,this.Ce=r}}class gF{constructor(e,r,n=ps.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class CO{constructor(){this.ve=0,this.Fe=NO(),this.Me=ps.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xr(),r=Xr(),n=Xr();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:xr(38017,{changeType:a})}})),new Wy(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=NO()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zre{constructor(e){this.Ge=e,this.ze=new Map,this.je=sd(),this.Je=L1(),this.He=L1(),this.Ye=new Ci(Yr)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:xr(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(_E(a))if(n===0){const s=new gr(a.path);this.et(r,s,Ns.newNoDocument(s,kr.min()))}else xn(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const l=this.ut(e),c=l?this.ct(l,e,s):1;if(c!==0){this.it(r);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,d)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,l;try{s=Sf(n).toUint8Array()}catch(c){if(c instanceof VB)return Um("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new dk(s,i,a)}catch(c){return Um(c instanceof j0?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(r,a,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((a,s)=>{const l=this.ot(s);if(l){if(a.current&&_E(l.target)){const c=new gr(l.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Ns.newNoDocument(c,e))}a.Be&&(r.set(s,a.ke()),a.qe())}}));let n=Xr();this.He.forEach(((a,s)=>{let l=!0;s.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new q2(e,r,this.Ye,this.je,n);return this.je=sd(),this.Je=L1(),this.He=L1(),this.Ye=new Ci(Yr),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new CO,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Ca(Yr),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Ca(Yr),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||zt("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new CO),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function L1(){return new Ci(gr.comparator)}function NO(){return new Ci(gr.comparator)}const $re={asc:"ASCENDING",desc:"DESCENDING"},qre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hre={and:"AND",or:"OR"};class Gre{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function EE(t,e){return t.useProto3Json||M2(e)?e:{value:e}}function dx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wre(t,e){return dx(t,e.toTimestamp())}function Xu(t){return xn(!!t,49232),kr.fromTimestamp((function(r){const n=Af(r);return new ei(n.seconds,n.nanos)})(t))}function fk(t,e){return TE(t,e).canonicalString()}function TE(t,e){const r=(function(i){return new Hn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function vF(t){const e=Hn.fromString(t);return xn(AF(e),10190,{key:e.toString()}),e}function kE(t,e){return fk(t.databaseId,e.path)}function R_(t,e){const r=vF(e);if(r.get(1)!==t.databaseId.projectId)throw new Ot(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ot(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new gr(xF(r))}function bF(t,e){return fk(t.databaseId,e)}function Kre(t){const e=vF(t);return e.length===4?Hn.emptyPath():xF(e)}function CE(t){return new Hn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xF(t){return xn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function PO(t,e,r){return{name:kE(t,e),fields:r.value.mapValue.fields}}function Yre(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:xr(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,f){return d.useProto3Json?(xn(f===void 0||typeof f=="string",58123),ps.fromBase64String(f||"")):(xn(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ps.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(d){const f=d.code===void 0?ct.UNKNOWN:pF(d.code);return new Ot(f,d.message||"")})(s);r=new gF(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=R_(t,n.document.name),a=Xu(n.document.updateTime),s=n.document.createTime?Xu(n.document.createTime):kr.min(),l=new Ao({mapValue:{fields:n.document.fields}}),c=Ns.newFoundDocument(i,a,s,l),d=n.targetIds||[],f=n.removedTargetIds||[];r=new Nb(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=R_(t,n.document),a=n.readTime?Xu(n.readTime):kr.min(),s=Ns.newNoDocument(i,a),l=n.removedTargetIds||[];r=new Nb([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=R_(t,n.document),a=n.removedTargetIds||[];r=new Nb([],a,i,null)}else{if(!("filter"in e))return xr(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new Bre(i,a),l=n.targetId;r=new mF(l,s)}}return r}function Xre(t,e){let r;if(e instanceof Gy)r={update:PO(t,e.key,e.value)};else if(e instanceof $2)r={delete:kE(t,e.key)};else if(e instanceof Uf)r={update:PO(t,e.key,e.data),updateMask:ane(e.fieldMask)};else{if(!(e instanceof Dre))return xr(16599,{Vt:e.type});r={verify:kE(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,s){const l=s.transform;if(l instanceof ly)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof uy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof cy)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof cx)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw xr(20930,{transform:s.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Wre(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xr(27497)})(t,e.precondition)),r}function Qre(t,e){return t&&t.length>0?(xn(e!==void 0,14353),t.map((r=>(function(i,a){let s=i.updateTime?Xu(i.updateTime):Xu(a);return s.isEqual(kr.min())&&(s=Xu(a)),new Rre(s,i.transformResults||[])})(r,e)))):[]}function Zre(t,e){return{documents:[bF(t,e.path)]}}function Jre(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=bF(t,i);const a=(function(d){if(d.length!==0)return _F(uu.create(d,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const s=(function(d){if(d.length!==0)return d.map((f=>(function(g){return{field:om(g.field),direction:rne(g.dir)}})(f)))})(e.orderBy);s&&(r.structuredQuery.orderBy=s);const l=EE(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:r,parent:i}}function ene(t){let e=Kre(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){xn(n===1,65062);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];r.where&&(a=(function(p){const g=wF(p);return g instanceof uu&&QB(g)?g.getFilters():[g]})(r.where));let s=[];r.orderBy&&(s=(function(p){return p.map((g=>(function(w){return new oy(lm(w.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(g)))})(r.orderBy));let l=null;r.limit&&(l=(function(p){let g;return g=typeof p=="object"?p.value:p,M2(g)?null:g})(r.limit));let c=null;r.startAt&&(c=(function(p){const g=!!p.before,m=p.values||[];return new ux(m,g)})(r.startAt));let d=null;return r.endAt&&(d=(function(p){const g=!p.before,m=p.values||[];return new ux(m,g)})(r.endAt)),vre(e,i,s,a,l,"F",c,d)}function tne(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xr(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function wF(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=lm(r.unaryFilter.field);return fa.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=lm(r.unaryFilter.field);return fa.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=lm(r.unaryFilter.field);return fa.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=lm(r.unaryFilter.field);return fa.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xr(61313);default:return xr(60726)}})(t):t.fieldFilter!==void 0?(function(r){return fa.create(lm(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xr(58110);default:return xr(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return uu.create(r.compositeFilter.filters.map((n=>wF(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xr(1026)}})(r.compositeFilter.op))})(t):xr(30097,{filter:t})}function rne(t){return $re[t]}function nne(t){return qre[t]}function ine(t){return Hre[t]}function om(t){return{fieldPath:t.canonicalString()}}function lm(t){return hs.fromServerFormat(t.fieldPath)}function _F(t){return t instanceof fa?(function(r){if(r.op==="=="){if(yO(r.value))return{unaryFilter:{field:om(r.field),op:"IS_NAN"}};if(gO(r.value))return{unaryFilter:{field:om(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(yO(r.value))return{unaryFilter:{field:om(r.field),op:"IS_NOT_NAN"}};if(gO(r.value))return{unaryFilter:{field:om(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:om(r.field),op:nne(r.op),value:r.value}}})(t):t instanceof uu?(function(r){const n=r.getFilters().map((i=>_F(i)));return n.length===1?n[0]:{compositeFilter:{op:ine(r.op),filters:n}}})(t):xr(54877,{filter:t})}function ane(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function AF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class hf{constructor(e,r,n,i,a=kr.min(),s=kr.min(),l=ps.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new hf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new hf(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sne{constructor(e){this.yt=e}}function one(t){const e=ene({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?SE(e,e.limit,"L"):e}class lne{constructor(){this.Cn=new une}addToCollectionParentIndex(e,r){return this.Cn.add(r),mt.resolve()}getCollectionParents(e,r){return mt.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return mt.resolve()}deleteFieldIndex(e,r){return mt.resolve()}deleteAllFieldIndexes(e){return mt.resolve()}createTargetIndexes(e,r){return mt.resolve()}getDocumentsMatchingTarget(e,r){return mt.resolve(null)}getIndexType(e,r){return mt.resolve(0)}getFieldIndexes(e,r){return mt.resolve([])}getNextCollectionGroupToUpdate(e){return mt.resolve(null)}getMinOffset(e,r){return mt.resolve(_f.min())}getMinOffsetFromCollectionGroup(e,r){return mt.resolve(_f.min())}updateCollectionGroup(e,r,n){return mt.resolve()}updateIndexEntries(e,r){return mt.resolve()}}class une{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Ca(Hn.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ca(Hn.comparator)).toArray()}}const jO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SF=41943040;class _o{static withCacheSize(e){return new _o(e,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(SF,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);class qm{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qm(0)}static cr(){return new qm(-1)}}const RO="LruGarbageCollector",cne=1048576;function OO([t,e],[r,n]){const i=Yr(t,r);return i===0?Yr(e,n):i}class dne{constructor(e){this.Ir=e,this.buffer=new Ca(OO),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();OO(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class fne{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){zt(RO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ug(r)?zt(RO,"Ignoring IndexedDB error during garbage collection: ",r):await lg(r)}await this.Vr(3e5)}))}}class hne{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return mt.resolve(L2.ce);const n=new dne(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(zt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(jO)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jO):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,s,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,l=Date.now(),this.removeTargets(e,n,r)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(d=Date.now(),am()<=Kr.DEBUG&&zt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function pne(t,e){return new hne(t,e)}class mne{constructor(){this.changes=new up((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ns.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?mt.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gne{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class yne{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&q0(n.mutation,i,qo.empty(),ei.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Xr()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Xr()){const i=Eh();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let s=P0();return a.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,r){const n=Eh();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Xr())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{r.set(s,l)}))}))}computeViews(e,r,n,i){let a=sd();const s=$0(),l=(function(){return $0()})();return r.forEach(((c,d)=>{const f=n.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Uf)?a=a.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),q0(f.mutation,d,f.mutation.getFieldMask(),ei.now())):s.set(d.key,qo.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((d,f)=>s.set(d,f))),r.forEach(((d,f)=>l.set(d,new gne(f,s.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,r){const n=$0();let i=new Ci(((s,l)=>s-l)),a=Xr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((s=>{for(const l of s)l.keys().forEach((c=>{const d=r.get(c);if(d===null)return;let f=n.get(c)||qo.empty();f=l.applyToLocalView(d,f),n.set(c,f);const p=(i.get(l.batchId)||Xr()).add(c);i=i.insert(l.batchId,p)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,p=sF();f.forEach((g=>{if(!a.has(g)){const m=fF(r.get(g),n.get(g));m!==null&&p.set(g,m),a=a.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return mt.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(s){return gr.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):tF(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):mt.resolve(Eh());let l=ny,c=a;return s.next((d=>mt.forEach(d,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(f)?mt.resolve():this.remoteDocumentCache.getEntry(e,f).next((g=>{c=c.insert(f,g)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,c,d,Xr()))).next((f=>({batchId:l,changes:aF(f)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new gr(r)).next((n=>{let i=P0();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=P0();return this.indexManager.getCollectionParents(e,a).next((l=>mt.forEach(l,(c=>{const d=(function(p,g){return new cg(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((f=>{f.forEach(((p,g)=>{s=s.insert(p,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((s=>{a.forEach(((c,d)=>{const f=d.getKey();s.get(f)===null&&(s=s.insert(f,Ns.newInvalidDocument(f)))}));let l=P0();return s.forEach(((c,d)=>{const f=a.get(c);f!==void 0&&q0(f.mutation,d,qo.empty(),ei.now()),U2(r,d)&&(l=l.insert(c,d))})),l}))}}class vne{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return mt.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Xu(i.createTime)}})(r)),mt.resolve()}getNamedQuery(e,r){return mt.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:one(i.bundledQuery),readTime:Xu(i.readTime)}})(r)),mt.resolve()}}class bne{constructor(){this.overlays=new Ci(gr.comparator),this.qr=new Map}getOverlay(e,r){return mt.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Eh();return mt.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.St(e,r,a)})),mt.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),mt.resolve()}getOverlaysForCollection(e,r,n){const i=Eh(),a=r.length+1,s=new gr(r.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return mt.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Ci(((d,f)=>d-f));const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let f=a.get(d.largestBatchId);f===null&&(f=Eh(),a=a.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Eh(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return mt.resolve(l)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Mre(r,n));let a=this.qr.get(r);a===void 0&&(a=Xr(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}class xne{constructor(){this.sessionToken=ps.EMPTY_BYTE_STRING}getSessionToken(e){return mt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,mt.resolve()}}class hk{constructor(){this.Qr=new Ca(qa.$r),this.Ur=new Ca(qa.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new qa(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new qa(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new gr(new Hn([])),n=new qa(r,e),i=new qa(r,e+1),a=[];return this.Ur.forEachInRange([n,i],(s=>{this.Gr(s),a.push(s.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new gr(new Hn([])),n=new qa(r,e),i=new qa(r,e+1);let a=Xr();return this.Ur.forEachInRange([n,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const r=new qa(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class qa{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return gr.comparator(e.key,r.key)||Yr(e.Yr,r.Yr)}static Kr(e,r){return Yr(e.Yr,r.Yr)||gr.comparator(e.key,r.key)}}class wne{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Ca(qa.$r)}checkEmpty(e){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Lre(a,r,n,i);this.mutationQueue.push(s);for(const l of i)this.Zr=this.Zr.add(new qa(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return mt.resolve(s)}lookupMutationBatch(e,r){return mt.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return mt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?nk:this.tr-1)}getAllMutationBatches(e){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new qa(r,0),i=new qa(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],(s=>{const l=this.Xr(s.Yr);a.push(l)})),mt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ca(Yr);return r.forEach((i=>{const a=new qa(i,0),s=new qa(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],(l=>{n=n.add(l.Yr)}))})),mt.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;gr.isDocumentKey(a)||(a=a.child(""));const s=new qa(new gr(a),0);let l=new Ca(Yr);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Yr)),!0)}),s),mt.resolve(this.ti(l))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){xn(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return mt.forEach(r.mutations,(i=>{const a=new qa(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new qa(r,0),i=this.Zr.firstAfterOrEqual(n);return mt.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,mt.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class _ne{constructor(e){this.ri=e,this.docs=(function(){return new Ci(gr.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return mt.resolve(n?n.document.mutableCopy():Ns.newInvalidDocument(r))}getEntries(e,r){let n=sd();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ns.newInvalidDocument(i))})),mt.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=sd();const s=r.path,l=new gr(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||Xte(Yte(f),n)<=0||(i.has(f.key)||U2(r,f))&&(a=a.insert(f.key,f.mutableCopy()))}return mt.resolve(a)}getAllFromCollectionGroup(e,r,n,i){xr(9500)}ii(e,r){return mt.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new Ane(this)}getSize(e){return mt.resolve(this.size)}}class Ane extends mne{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),mt.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}class Sne{constructor(e){this.persistence=e,this.si=new up((r=>sk(r)),ok),this.lastRemoteSnapshotVersion=kr.min(),this.highestTargetId=0,this.oi=0,this._i=new hk,this.targetCount=0,this.ai=qm.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),mt.resolve()}getLastRemoteSnapshotVersion(e){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),mt.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new qm(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,mt.resolve()}updateTargetData(e,r){return this.Pr(r),mt.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,mt.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach(((s,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),mt.waitFor(a).next((()=>i))}getTargetCount(e){return mt.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return mt.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),mt.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),mt.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),mt.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return mt.resolve(n)}containsKey(e,r){return mt.resolve(this._i.containsKey(r))}}class EF{constructor(e,r){this.ui={},this.overlays={},this.ci=new L2(0),this.li=!1,this.li=!0,this.hi=new xne,this.referenceDelegate=e(this),this.Pi=new Sne(this),this.indexManager=new lne,this.remoteDocumentCache=(function(i){return new _ne(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new sne(r),this.Ii=new vne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new bne,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new wne(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){zt("MemoryPersistence","Starting transaction:",e);const i=new Ene(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,r){return mt.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class Ene extends Zte{constructor(e){super(),this.currentSequenceNumber=e}}class pk{constructor(e){this.persistence=e,this.Ri=new hk,this.Vi=null}static mi(e){return new pk(e)}get fi(){if(this.Vi)return this.Vi;throw xr(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),mt.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),mt.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),mt.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.fi,(n=>{const i=gr.fromPath(n);return this.gi(e,i).next((a=>{a||r.removeEntry(i,kr.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return mt.or([()=>mt.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class fx{constructor(e,r){this.persistence=e,this.pi=new up((n=>tre(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=pne(this,r)}static mi(e,r){return new fx(e,r)}Ei(){}di(e){return mt.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return mt.forEach(this.pi,((n,i)=>this.br(e,n,i).next((a=>a?mt.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,r).next((l=>{l||(n++,a.removeEntry(s,kr.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),mt.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),mt.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),mt.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),mt.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Tb(e.data.value)),r}br(e,r,n){return mt.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return mt.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mk{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Xr(),i=Xr();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new mk(e,r.fromCache,n,i)}}class Tne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kne{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vZ()?8:Jte(Os())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ws(e,r,i,n).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new Tne;return this.Ss(e,r,s).next((l=>{if(a.result=l,this.Vs)return this.bs(e,r,s,l.size)}))})).next((()=>a.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(am()<=Kr.DEBUG&&zt("QueryEngine","SDK will not create cache indexes for query:",sm(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),mt.resolve()):(am()<=Kr.DEBUG&&zt("QueryEngine","Query:",sm(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(am()<=Kr.DEBUG&&zt("QueryEngine","The SDK decides to create cache indexes for query:",sm(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yu(r))):mt.resolve())}ys(e,r){if(wO(r))return mt.resolve(null);let n=Yu(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=SE(r,null,"F"),n=Yu(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const s=Xr(...a);return this.ps.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,n).next((c=>{const d=this.Ds(r,l);return this.Cs(r,d,s,c.readTime)?this.ys(e,SE(r,null,"F")):this.vs(e,d,r,c)}))))})))))}ws(e,r,n,i){return wO(r)||i.isEqual(kr.min())?mt.resolve(null):this.ps.getDocuments(e,n).next((a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?mt.resolve(null):(am()<=Kr.DEBUG&&zt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sm(r)),this.vs(e,s,r,Kte(i,ny)).next((l=>l)))}))}Ds(e,r){let n=new Ca(nF(e));return r.forEach(((i,a)=>{U2(e,a)&&(n=n.add(a))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return am()<=Kr.DEBUG&&zt("QueryEngine","Using full collection scan to execute query:",sm(r)),this.ps.getDocumentsMatchingQuery(e,r,_f.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((s=>{a=a.insert(s.key,s)})),a)))}}const gk="LocalStore",Cne=3e8;class Nne{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Ci(Yr),this.xs=new up((a=>sk(a)),ok),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yne(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function Pne(t,e,r,n){return new Nne(t,e,r,n)}async function TF(t,e){const r=Rr(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const s=[],l=[];let c=Xr();for(const d of i){s.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of a){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return r.localDocuments.getDocuments(n,c).next((d=>({Ls:d,removedBatchIds:s,addedBatchIds:l})))}))}))}function jne(t,e){const r=Rr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,f){const p=d.batch,g=p.keys();let m=mt.resolve();return g.forEach((w=>{m=m.next((()=>f.getEntry(c,w))).next((S=>{const _=d.docVersions.get(w);xn(_!==null,48541),S.version.compareTo(_)<0&&(p.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),f.addEntry(S)))}))})),m.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=Xr();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function kF(t){const e=Rr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function Rne(t,e){const r=Rr(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const l=[];e.targetChanges.forEach(((f,p)=>{const g=i.get(p);if(!g)return;l.push(r.Pi.removeMatchingKeys(a,f.removedDocuments,p).next((()=>r.Pi.addMatchingKeys(a,f.addedDocuments,p))));let m=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(ps.EMPTY_BYTE_STRING,kr.min()).withLastLimboFreeSnapshotVersion(kr.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,n)),i=i.insert(p,m),(function(S,_,k){return S.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Cne?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(g,m,f)&&l.push(r.Pi.updateTargetData(a,m))}));let c=sd(),d=Xr();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,f))})),l.push(One(a,s,e.documentUpdates).next((f=>{c=f.ks,d=f.qs}))),!n.isEqual(kr.min())){const f=r.Pi.getLastRemoteSnapshotVersion(a).next((p=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));l.push(f)}return mt.waitFor(l).next((()=>s.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,d))).next((()=>c))})).then((a=>(r.Ms=i,a)))}function One(t,e,r){let n=Xr(),i=Xr();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let s=sd();return r.forEach(((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(kr.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):zt(gk,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{ks:s,qs:i}}))}function Ine(t,e){const r=Rr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=nk),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function Dne(t,e){const r=Rr(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((a=>a?(i=a,mt.resolve(i)):r.Pi.allocateTargetId(n).next((s=>(i=new hf(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function NE(t,e,r){const n=Rr(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ug(s))throw s;zt(gk,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function IO(t,e,r){const n=Rr(t);let i=kr.min(),a=Xr();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,d,f){const p=Rr(c),g=p.xs.get(f);return g!==void 0?mt.resolve(p.Ms.get(g)):p.Pi.getTargetData(d,f)})(n,s,Yu(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,l.targetId).next((c=>{a=c}))})).next((()=>n.Fs.getDocumentsMatchingQuery(s,e,r?i:kr.min(),r?a:Xr()))).next((l=>(Lne(n,xre(e),l),{documents:l,Qs:a})))))}function Lne(t,e,r){let n=t.Os.get(e)||kr.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Os.set(e,n)}class DO{constructor(){this.activeTargetIds=Tre()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mne{constructor(){this.Mo=new DO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new DO,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bne{Oo(e){}shutdown(){}}const LO="ConnectivityMonitor";class MO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){zt(LO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){zt(LO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let M1=null;function PE(){return M1===null?M1=(function(){return 268435456+Math.round(2147483648*Math.random())})():M1++,"0x"+M1.toString(16)}const O_="RestConnection",Fne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Une{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===ox?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const s=PE(),l=this.zo(e,r.toUriEncodedString());zt(O_,`Sending RPC '${e}' ${s}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:d}=new URL(l),f=Bf(d);return this.Jo(e,l,c,n,f).then((p=>(zt(O_,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw Um(O_,`RPC '${e}' ${s} failed with error: `,p,"url: ",l,"request:",n),p}))}Ho(e,r,n,i,a,s){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+og})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}zo(e,r){const n=Fne[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}class Vne{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _s="WebChannelConnection";class zne extends Une{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const s=PE();return new Promise(((l,c)=>{const d=new PB;d.setWithCredentials(!0),d.listenOnce(jB.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Eb.NO_ERROR:const p=d.getResponseJson();zt(_s,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case Eb.TIMEOUT:zt(_s,`RPC '${e}' ${s} timed out`),c(new Ot(ct.DEADLINE_EXCEEDED,"Request time out"));break;case Eb.HTTP_ERROR:const g=d.getStatus();if(zt(_s,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let m=d.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m?.error;if(w&&w.status&&w.message){const S=(function(k){const N=k.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(N)>=0?N:ct.UNKNOWN})(w.status);c(new Ot(S,w.message))}else c(new Ot(ct.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ot(ct.UNAVAILABLE,"Connection failed."));break;default:xr(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{zt(_s,`RPC '${e}' ${s} completed.`)}}));const f=JSON.stringify(i);zt(_s,`RPC '${e}' ${s} sending request:`,i),d.send(r,"POST",f,n,15)}))}T_(e,r,n){const i=PE(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=IB(),l=OB(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const f=a.join("");zt(_s,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=s.createWebChannel(f,c);this.I_(p);let g=!1,m=!1;const w=new Vne({Yo:_=>{m?zt(_s,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(g||(zt(_s,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),zt(_s,`RPC '${e}' stream ${i} sending:`,_),p.send(_))},Zo:()=>p.close()}),S=(_,k,N)=>{_.listen(k,(P=>{try{N(P)}catch(F){setTimeout((()=>{throw F}),0)}}))};return S(p,N0.EventType.OPEN,(()=>{m||(zt(_s,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),S(p,N0.EventType.CLOSE,(()=>{m||(m=!0,zt(_s,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))})),S(p,N0.EventType.ERROR,(_=>{m||(m=!0,Um(_s,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),w.a_(new Ot(ct.UNAVAILABLE,"The operation could not be completed")))})),S(p,N0.EventType.MESSAGE,(_=>{if(!m){const k=_.data[0];xn(!!k,16349);const N=k,P=N?.error||N[0]?.error;if(P){zt(_s,`RPC '${e}' stream ${i} received error:`,P);const F=P.status;let O=(function(I){const D=ua[I];if(D!==void 0)return pF(D)})(F),z=P.message;O===void 0&&(O=ct.INTERNAL,z="Unknown error status: "+F+" with message "+P.message),m=!0,w.a_(new Ot(O,z)),p.close()}else zt(_s,`RPC '${e}' stream ${i} received:`,k),w.u_(k)}})),S(l,RB.STAT_EVENT,(_=>{_.stat===yE.PROXY?zt(_s,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===yE.NOPROXY&&zt(_s,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function I_(){return typeof document<"u"?document:null}function H2(t){return new Gre(t,!0)}class CF{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&zt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const BO="PersistentStream";class NF{constructor(e,r,n,i,a,s,l,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CF(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===ct.RESOURCE_EXHAUSTED?(ad(r.toString()),ad("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new Ot(ct.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return zt(BO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(zt(BO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $ne extends NF{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Yre(this.serializer,e),n=(function(a){if(!("targetChange"in a))return kr.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?kr.min():s.readTime?Xu(s.readTime):kr.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=CE(this.serializer),r.addTarget=(function(a,s){let l;const c=s.target;if(l=_E(c)?{documents:Zre(a,c)}:{query:Jre(a,c).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=yF(a,s.resumeToken);const d=EE(a,s.expectedCount);d!==null&&(l.expectedCount=d)}else if(s.snapshotVersion.compareTo(kr.min())>0){l.readTime=dx(a,s.snapshotVersion.toTimestamp());const d=EE(a,s.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const n=tne(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=CE(this.serializer),r.removeTarget=e,this.q_(r)}}class qne extends NF{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return xn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Qre(e.writeResults,e.commitTime),n=Xu(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=CE(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>Xre(this.serializer,n)))};this.q_(r)}}class Hne{}class Gne extends Hne{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ot(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Go(e,TE(r,n),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ot(ct.UNKNOWN,a.toString())}))}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Ho(e,TE(r,n),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ot(ct.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Wne{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ad(r),this.aa=!1):zt("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kh="RemoteStore";class Kne{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((s=>{n.enqueueAndForget((async()=>{cp(this)&&(zt(Kh,"Restarting streams for network reachability change."),await(async function(c){const d=Rr(c);d.Ea.add(4),await Ky(d),d.Ra.set("Unknown"),d.Ea.delete(4),await G2(d)})(this))}))})),this.Ra=new Wne(n,i)}}async function G2(t){if(cp(t))for(const e of t.da)await e(!0)}async function Ky(t){for(const e of t.da)await e(!1)}function PF(t,e){const r=Rr(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),xk(r)?bk(r):dg(r).O_()&&vk(r,e))}function yk(t,e){const r=Rr(t),n=dg(r);r.Ia.delete(e),n.O_()&&jF(r,e),r.Ia.size===0&&(n.O_()?n.L_():cp(r)&&r.Ra.set("Unknown"))}function vk(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}dg(t).Y_(e)}function jF(t,e){t.Va.Ue(e),dg(t).Z_(e)}function bk(t){t.Va=new zre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),dg(t).start(),t.Ra.ua()}function xk(t){return cp(t)&&!dg(t).x_()&&t.Ia.size>0}function cp(t){return Rr(t).Ea.size===0}function RF(t){t.Va=void 0}async function Yne(t){t.Ra.set("Online")}async function Xne(t){t.Ia.forEach(((e,r)=>{vk(t,e)}))}async function Qne(t,e){RF(t),xk(t)?(t.Ra.ha(e),bk(t)):t.Ra.set("Unknown")}async function Zne(t,e,r){if(t.Ra.set("Online"),e instanceof gF&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(n){zt(Kh,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await hx(t,n)}else if(e instanceof Nb?t.Va.Ze(e):e instanceof mF?t.Va.st(e):t.Va.tt(e),!r.isEqual(kr.min()))try{const n=await kF(t.localStore);r.compareTo(n)>=0&&await(function(a,s){const l=a.Va.Tt(s);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=a.Ia.get(d);f&&a.Ia.set(d,f.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,d)=>{const f=a.Ia.get(c);if(!f)return;a.Ia.set(c,f.withResumeToken(ps.EMPTY_BYTE_STRING,f.snapshotVersion)),jF(a,c);const p=new hf(f.target,c,d,f.sequenceNumber);vk(a,p)})),a.remoteSyncer.applyRemoteEvent(l)})(t,r)}catch(n){zt(Kh,"Failed to raise snapshot:",n),await hx(t,n)}}async function hx(t,e,r){if(!ug(e))throw e;t.Ea.add(1),await Ky(t),t.Ra.set("Offline"),r||(r=()=>kF(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{zt(Kh,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await G2(t)}))}function OF(t,e){return e().catch((r=>hx(t,r,e)))}async function W2(t){const e=Rr(t),r=Tf(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:nk;for(;Jne(e);)try{const i=await Ine(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,eie(e,i)}catch(i){await hx(e,i)}IF(e)&&DF(e)}function Jne(t){return cp(t)&&t.Ta.length<10}function eie(t,e){t.Ta.push(e);const r=Tf(t);r.O_()&&r.X_&&r.ea(e.mutations)}function IF(t){return cp(t)&&!Tf(t).x_()&&t.Ta.length>0}function DF(t){Tf(t).start()}async function tie(t){Tf(t).ra()}async function rie(t){const e=Tf(t);for(const r of t.Ta)e.ea(r.mutations)}async function nie(t,e,r){const n=t.Ta.shift(),i=ck.from(n,e,r);await OF(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await W2(t)}async function iie(t,e){e&&Tf(t).X_&&await(async function(n,i){if((function(s){return Fre(s)&&s!==ct.ABORTED})(i.code)){const a=n.Ta.shift();Tf(n).B_(),await OF(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await W2(n)}})(t,e),IF(t)&&DF(t)}async function FO(t,e){const r=Rr(t);r.asyncQueue.verifyOperationInProgress(),zt(Kh,"RemoteStore received new credentials");const n=cp(r);r.Ea.add(3),await Ky(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await G2(r)}async function aie(t,e){const r=Rr(t);e?(r.Ea.delete(2),await G2(r)):e||(r.Ea.add(2),await Ky(r),r.Ra.set("Unknown"))}function dg(t){return t.ma||(t.ma=(function(r,n,i){const a=Rr(r);return a.sa(),new $ne(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Yne.bind(null,t),t_:Xne.bind(null,t),r_:Qne.bind(null,t),H_:Zne.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),xk(t)?bk(t):t.Ra.set("Unknown")):(await t.ma.stop(),RF(t))}))),t.ma}function Tf(t){return t.fa||(t.fa=(function(r,n,i){const a=Rr(r);return a.sa(),new qne(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:tie.bind(null,t),r_:iie.bind(null,t),ta:rie.bind(null,t),na:nie.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await W2(t)):(await t.fa.stop(),t.Ta.length>0&&(zt(Kh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class wk{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Qc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,l=new wk(e,r,s,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ot(ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _k(t,e){if(ad("AsyncQueue",`${e}: ${t}`),ug(t))return new Ot(ct.UNAVAILABLE,`${e}: ${t}`);throw t}class Nm{static emptySet(e){return new Nm(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||gr.comparator(r.key,n.key):(r,n)=>gr.comparator(r.key,n.key),this.keyedMap=P0(),this.sortedSet=new Ci(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Nm)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Nm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}class UO{constructor(){this.ga=new Ci(gr.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):xr(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Hm{constructor(e,r,n,i,a,s,l,c,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach((l=>{s.push({type:0,doc:l})})),new Hm(e,r,Nm.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&F2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}class sie{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oie{constructor(){this.queries=VO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Rr(r),a=i.queries;i.queries=VO(),a.forEach(((s,l)=>{for(const c of l.Sa)c.onError(n)}))})(this,new Ot(ct.ABORTED,"Firestore shutting down"))}}function VO(){return new up((t=>rF(t)),F2)}async function LF(t,e){const r=Rr(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new sie,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const l=_k(s,`Initialization of query '${sm(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&Ak(r)}async function MF(t,e){const r=Rr(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function lie(t,e){const r=Rr(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const l of s.Sa)l.Fa(i)&&(n=!0);s.wa=i}}n&&Ak(r)}function uie(t,e,r){const n=Rr(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function Ak(t){t.Ca.forEach((e=>{e.next()}))}var jE,zO;(zO=jE||(jE={})).Ma="default",zO.Cache="cache";class BF{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Hm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Hm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jE.Cache}}class FF{constructor(e){this.key=e}}class UF{constructor(e){this.key=e}}class cie{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xr(),this.mutatedKeys=Xr(),this.eu=nF(e),this.tu=new Nm(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new UO,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,p)=>{const g=i.get(f),m=U2(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),S=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;g&&m?g.data.isEqual(m.data)?w!==S&&(n.track({type:3,doc:m}),_=!0):this.su(g,m)||(n.track({type:2,doc:m}),_=!0,(c&&this.eu(m,c)>0||d&&this.eu(m,d)<0)&&(l=!0)):!g&&m?(n.track({type:0,doc:m}),_=!0):g&&!m&&(n.track({type:1,doc:g}),_=!0,(c||d)&&(l=!0)),_&&(m?(s=s.add(m),a=S?a.add(f):a.delete(f)):(s=s.delete(f),a=a.delete(f)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),a=a.delete(f.key),n.track({type:1,doc:f})}return{tu:s,iu:n,Cs:l,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((f,p)=>(function(m,w){const S=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xr(20277,{Rt:_})}};return S(m)-S(w)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(n),i=i??!1;const l=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,s.length!==0||d?{snapshot:new Hm(this.query,e.tu,a,s,e.mutatedKeys,c===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new UO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new UF(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new FF(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=Xr();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Hm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sk="SyncEngine";class die{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class fie{constructor(e){this.key=e,this.hu=!1}}class hie{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new up((l=>rF(l)),F2),this.Iu=new Map,this.Eu=new Set,this.du=new Ci(gr.comparator),this.Au=new Map,this.Ru=new hk,this.Vu={},this.mu=new Map,this.fu=qm.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pie(t,e,r=!0){const n=GF(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await VF(n,e,r,!0),i}async function mie(t,e){const r=GF(t);await VF(r,e,!0,!1)}async function VF(t,e,r,n){const i=await Dne(t.localStore,Yu(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await gie(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&PF(t.remoteStore,i),l}async function gie(t,e,r,n,i){t.pu=(p,g,m)=>(async function(S,_,k,N){let P=_.view.ru(k);P.Cs&&(P=await IO(S.localStore,_.query,!1).then((({documents:L})=>_.view.ru(L,P))));const F=N&&N.targetChanges.get(_.targetId),O=N&&N.targetMismatches.get(_.targetId)!=null,z=_.view.applyChanges(P,S.isPrimaryClient,F,O);return qO(S,_.targetId,z.au),z.snapshot})(t,p,g,m);const a=await IO(t.localStore,e,!0),s=new cie(e,a.Qs),l=s.ru(a.documents),c=Wy.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),d=s.applyChanges(l,t.isPrimaryClient,c);qO(t,r,d.au);const f=new die(e,r,s);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),d.snapshot}async function yie(t,e,r){const n=Rr(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((s=>!F2(s,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await NE(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&yk(n.remoteStore,i.targetId),RE(n,i.targetId)})).catch(lg)):(RE(n,i.targetId),await NE(n.localStore,i.targetId,!0))}async function vie(t,e){const r=Rr(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),yk(r.remoteStore,n.targetId))}async function bie(t,e,r){const n=Tie(t);try{const i=await(function(s,l){const c=Rr(s),d=ei.now(),f=l.reduce(((m,w)=>m.add(w.key)),Xr());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let w=sd(),S=Xr();return c.Ns.getEntries(m,f).next((_=>{w=_,w.forEach(((k,N)=>{N.isValidDocument()||(S=S.add(k))}))})).next((()=>c.localDocuments.getOverlayedDocuments(m,w))).next((_=>{p=_;const k=[];for(const N of l){const P=Ire(N,p.get(N.key).overlayedDocument);P!=null&&k.push(new Uf(N.key,P,KB(P.value.mapValue),Xs.exists(!0)))}return c.mutationQueue.addMutationBatch(m,d,k,l)})).next((_=>{g=_;const k=_.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(m,_.batchId,k)}))})).then((()=>({batchId:g.batchId,changes:aF(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let d=s.Vu[s.currentUser.toKey()];d||(d=new Ci(Yr)),d=d.insert(l,c),s.Vu[s.currentUser.toKey()]=d})(n,i.batchId,r),await Yy(n,i.changes),await W2(n.remoteStore)}catch(i){const a=_k(i,"Failed to persist write");r.reject(a)}}async function zF(t,e){const r=Rr(t);try{const n=await Rne(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=r.Au.get(a);s&&(xn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?xn(s.hu,14607):i.removedDocuments.size>0&&(xn(s.hu,42227),s.hu=!1))})),await Yy(r,n,e)}catch(n){await lg(n)}}function $O(t,e,r){const n=Rr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=Rr(s);c.onlineState=l;let d=!1;c.queries.forEach(((f,p)=>{for(const g of p.Sa)g.va(l)&&(d=!0)})),d&&Ak(c)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function xie(t,e,r){const n=Rr(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new Ci(gr.comparator);s=s.insert(a,Ns.newNoDocument(a,kr.min()));const l=Xr().add(a),c=new q2(kr.min(),new Map,new Ci(Yr),s,l);await zF(n,c),n.du=n.du.remove(a),n.Au.delete(e),Ek(n)}else await NE(n.localStore,e,!1).then((()=>RE(n,e,r))).catch(lg)}async function wie(t,e){const r=Rr(t),n=e.batch.batchId;try{const i=await jne(r.localStore,e);qF(r,n,null),$F(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Yy(r,i)}catch(i){await lg(i)}}async function _ie(t,e,r){const n=Rr(t);try{const i=await(function(s,l){const c=Rr(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next((p=>(xn(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(d,p)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>c.localDocuments.getDocuments(d,f)))}))})(n.localStore,e);qF(n,e,r),$F(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Yy(n,i)}catch(i){await lg(i)}}function $F(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function qF(t,e,r){const n=Rr(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function RE(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||HF(t,n)}))}function HF(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(yk(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),Ek(t))}function qO(t,e,r){for(const n of r)n instanceof FF?(t.Ru.addReference(n.key,e),Aie(t,n)):n instanceof UF?(zt(Sk,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||HF(t,n.key)):xr(19791,{wu:n})}function Aie(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(zt(Sk,"New document in limbo: "+r),t.Eu.add(n),Ek(t))}function Ek(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new gr(Hn.fromString(e)),n=t.fu.next();t.Au.set(n,new fie(r)),t.du=t.du.insert(r,n),PF(t.remoteStore,new hf(Yu(lk(r.path)),n,"TargetPurposeLimboResolution",L2.ce))}}async function Yy(t,e,r){const n=Rr(t),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,c)=>{s.push(n.pu(c,e,r).then((d=>{if((d||r)&&n.isPrimaryClient){const f=d?!d.fromCache:r?.targetChanges.get(c.targetId)?.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=mk.As(c.targetId,d);a.push(f)}})))})),await Promise.all(s),n.Pu.H_(i),await(async function(c,d){const f=Rr(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>mt.forEach(d,(g=>mt.forEach(g.Es,(m=>f.persistence.referenceDelegate.addReference(p,g.targetId,m))).next((()=>mt.forEach(g.ds,(m=>f.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))))))}catch(p){if(!ug(p))throw p;zt(gk,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const m=f.Ms.get(g),w=m.snapshotVersion,S=m.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(g,S)}}})(n.localStore,a))}async function Sie(t,e){const r=Rr(t);if(!r.currentUser.isEqual(e)){zt(Sk,"User change. New user:",e.toKey());const n=await TF(r.localStore,e);r.currentUser=e,(function(a,s){a.mu.forEach((l=>{l.forEach((c=>{c.reject(new Ot(ct.CANCELLED,s))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Yy(r,n.Ls)}}function Eie(t,e){const r=Rr(t),n=r.Au.get(e);if(n&&n.hu)return Xr().add(n.key);{let i=Xr();const a=r.Iu.get(e);if(!a)return i;for(const s of a){const l=r.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}function GF(t){const e=Rr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xie.bind(null,e),e.Pu.H_=lie.bind(null,e.eventManager),e.Pu.yu=uie.bind(null,e.eventManager),e}function Tie(t){const e=Rr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_ie.bind(null,e),e}class px{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=H2(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Pne(this.persistence,new kne,e.initialUser,this.serializer)}Cu(e){return new EF(pk.mi,this.serializer)}Du(e){return new Mne}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}px.provider={build:()=>new px};class kie extends px{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){xn(this.persistence.referenceDelegate instanceof fx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new fne(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?_o.withCacheSize(this.cacheSizeBytes):_o.DEFAULT;return new EF((n=>fx.mi(n,r)),this.serializer)}}class OE{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>$O(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sie.bind(null,this.syncEngine),await aie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oie})()}createDatastore(e){const r=H2(e.databaseInfo.databaseId),n=(function(a){return new zne(a)})(e.databaseInfo);return(function(a,s,l,c){return new Gne(a,s,l,c)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,s,l){return new Kne(n,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(r=>$O(this.syncEngine,r,0)),(function(){return MO.v()?new MO:new Bne})())}createSyncEngine(e,r){return(function(i,a,s,l,c,d,f){const p=new hie(i,a,s,l,c,d);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=Rr(r);zt(Kh,"RemoteStore shutting down."),n.Ea.add(5),await Ky(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}OE.provider={build:()=>new OE};class WF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ad("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}const kf="FirestoreClient";class Cie{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Cs.UNAUTHENTICATED,this.clientId=rk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async s=>{zt(kf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(zt(kf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=_k(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function D_(t,e){t.asyncQueue.verifyOperationInProgress(),zt(kf,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await TF(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function HO(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Nie(t);zt(kf,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>FO(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>FO(e.remoteStore,i))),t._onlineComponents=e}async function Nie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){zt(kf,"Using user provided OfflineComponentProvider");try{await D_(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ct.FAILED_PRECONDITION||i.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Um("Error using user provided cache. Falling back to memory cache: "+r),await D_(t,new px)}}else zt(kf,"Using default OfflineComponentProvider"),await D_(t,new kie(void 0));return t._offlineComponents}async function KF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(zt(kf,"Using user provided OnlineComponentProvider"),await HO(t,t._uninitializedComponentsProvider._online)):(zt(kf,"Using default OnlineComponentProvider"),await HO(t,new OE))),t._onlineComponents}function Pie(t){return KF(t).then((e=>e.syncEngine))}async function YF(t){const e=await KF(t),r=e.eventManager;return r.onListen=pie.bind(null,e.syncEngine),r.onUnlisten=yie.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=mie.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=vie.bind(null,e.syncEngine),r}function jie(t,e,r={}){const n=new Qc;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,c,d){const f=new WF({next:g=>{f.Nu(),s.enqueueAndForget((()=>MF(a,p)));const m=g.docs.has(l);!m&&g.fromCache?d.reject(new Ot(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&c&&c.source==="server"?d.reject(new Ot(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new BF(lk(l.path),f,{includeMetadataChanges:!0,qa:!0});return LF(a,p)})(await YF(t),t.asyncQueue,e,r,n))),n.promise}function Rie(t,e,r={}){const n=new Qc;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,c,d){const f=new WF({next:g=>{f.Nu(),s.enqueueAndForget((()=>MF(a,p))),g.fromCache&&c.source==="server"?d.reject(new Ot(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new BF(l,f,{includeMetadataChanges:!0,qa:!0});return LF(a,p)})(await YF(t),t.asyncQueue,e,r,n))),n.promise}function XF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const GO=new Map;const QF="firestore.googleapis.com",WO=!0;class KO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ot(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QF,this.ssl=WO}else this.host=e.host,this.ssl=e.ssl??WO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cne)throw new Ot(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XF(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Ot(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Ot(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Ot(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class K2{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ot(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ot(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Mte;switch(n.type){case"firstParty":return new Vte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ot(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=GO.get(r);n&&(zt("ComponentProvider","Removing Datastore"),GO.delete(r),n.terminate())})(this),Promise.resolve()}}function Oie(t,e,r,n={}){t=El(t,K2);const i=Bf(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${r}`;i&&(U4(`https://${l}`),V4("Firestore",!0)),a.host!==QF&&a.host!==l&&Um("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:n};if(!qh(c,s)&&(t._setSettings(c),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=Cs.MOCK_USER;else{d=W9(n.mockUserToken,t._app?.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Ot(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Cs(p)}t._authCredentials=new Bte(new LB(d,f))}}class dp{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new dp(this.firestore,e,this._query)}}class ta{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ta(this.firestore,e,this._key)}toJSON(){return{type:ta._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Hy(r,ta._jsonSchema))return new ta(e,n||null,new gr(Hn.fromString(r.referencePath)))}}ta._jsonSchemaVersion="firestore/documentReference/1.0",ta._jsonSchema={type:ha("string",ta._jsonSchemaVersion),referencePath:ha("string")};class vf extends dp{constructor(e,r,n){super(e,r,lk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ta(this.firestore,null,new gr(e))}withConverter(e){return new vf(this.firestore,e,this._path)}}function ti(t,e,...r){if(t=ii(t),MB("collection","path",e),t instanceof K2){const n=Hn.fromString(e,...r);return oO(n),new vf(t,null,n)}{if(!(t instanceof ta||t instanceof vf))throw new Ot(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Hn.fromString(e,...r));return oO(n),new vf(t.firestore,null,n)}}function wn(t,e,...r){if(t=ii(t),arguments.length===1&&(e=rk.newId()),MB("doc","path",e),t instanceof K2){const n=Hn.fromString(e,...r);return sO(n),new ta(t,null,new gr(n))}{if(!(t instanceof ta||t instanceof vf))throw new Ot(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Hn.fromString(e,...r));return sO(n),new ta(t.firestore,t instanceof vf?t.converter:null,new gr(n))}}const YO="AsyncQueue";class XO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CF(this,"async_queue_retry"),this._c=()=>{const n=I_();n&&zt(YO,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=I_();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=I_();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Qc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ug(e))throw e;zt(YO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,ad("INTERNAL UNHANDLED ERROR: ",QO(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=wk.createAndSchedule(this,e,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&xr(47125,{Pc:QO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function QO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Vf extends K2{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new XO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XO(e),this._firestoreClient=void 0,await e}}}function Iie(t,e){const r=typeof t=="object"?t:q4(),n=typeof t=="string"?t:ox,i=j2(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=q9("firestore");a&&Oie(i,...a)}return i}function Y2(t){if(t._terminated)throw new Ot(ct.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Die(t),t._firestoreClient}function Die(t){const e=t._freezeSettings(),r=(function(i,a,s,l){return new ire(i,a,s,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,XF(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Cie(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}class bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bl(ps.fromBase64String(e))}catch(r){throw new Ot(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new bl(ps.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hy(e,bl._jsonSchema))return bl.fromBase64String(e.bytes)}}bl._jsonSchemaVersion="firestore/bytes/1.0",bl._jsonSchema={type:ha("string",bl._jsonSchemaVersion),bytes:ha("string")};class Xy{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ot(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class X2{constructor(e){this._methodName=e}}class Qu{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ot(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ot(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Yr(this._lat,e._lat)||Yr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qu._jsonSchemaVersion}}static fromJSON(e){if(Hy(e,Qu._jsonSchema))return new Qu(e.latitude,e.longitude)}}Qu._jsonSchemaVersion="firestore/geoPoint/1.0",Qu._jsonSchema={type:ha("string",Qu._jsonSchemaVersion),latitude:ha("number"),longitude:ha("number")};class Zu{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zu._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hy(e,Zu._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Zu(e.vectorValues);throw new Ot(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zu._jsonSchemaVersion="firestore/vectorValue/1.0",Zu._jsonSchema={type:ha("string",Zu._jsonSchemaVersion),vectorValues:ha("object")};const Lie=/^__.*__$/;class Mie{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Uf(e,this.data,this.fieldMask,r,this.fieldTransforms):new Gy(e,this.data,r,this.fieldTransforms)}}class ZF{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Uf(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function JF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xr(40011,{Ac:t})}}class Tk{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tk({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JF(this.Ac)&&Lie.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Bie{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||H2(e)}Cc(e,r,n,i=!1){return new Tk({Ac:e,methodName:r,Dc:n,path:hs.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qy(t){const e=t._freezeSettings(),r=H2(t._databaseId);return new Bie(t._databaseId,!!e.ignoreUndefinedProperties,r)}function kk(t,e,r,n,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);Nk("Data must be an object, but it was:",s,n);const l=rU(n,s);let c,d;if(a.merge)c=new qo(s.fieldMask),d=s.fieldTransforms;else if(a.mergeFields){const f=[];for(const p of a.mergeFields){const g=IE(e,p,r);if(!s.contains(g))throw new Ot(ct.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);iU(f,g)||f.push(g)}c=new qo(f),d=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,d=s.fieldTransforms;return new Mie(new Ao(l),c,d)}class Zy extends X2{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zy}}class Ck extends X2{_toFieldTransform(e){return new Pre(e.path,new ly)}isEqual(e){return e instanceof Ck}}function eU(t,e,r,n){const i=t.Cc(1,e,r);Nk("Data must be an object, but it was:",i,n);const a=[],s=Ao.empty();Ff(n,((c,d)=>{const f=Pk(e,c,r);d=ii(d);const p=i.yc(f);if(d instanceof Zy)a.push(f);else{const g=Jy(d,p);g!=null&&(a.push(f),s.set(f,g))}}));const l=new qo(a);return new ZF(s,l,i.fieldTransforms)}function tU(t,e,r,n,i,a){const s=t.Cc(1,e,r),l=[IE(e,n,r)],c=[i];if(a.length%2!=0)throw new Ot(ct.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)l.push(IE(e,a[g])),c.push(a[g+1]);const d=[],f=Ao.empty();for(let g=l.length-1;g>=0;--g)if(!iU(d,l[g])){const m=l[g];let w=c[g];w=ii(w);const S=s.yc(m);if(w instanceof Zy)d.push(m);else{const _=Jy(w,S);_!=null&&(d.push(m),f.set(m,_))}}const p=new qo(d);return new ZF(f,p,s.fieldTransforms)}function Fie(t,e,r,n=!1){return Jy(r,t.Cc(n?4:3,e))}function Jy(t,e){if(nU(t=ii(t)))return Nk("Unsupported field value:",e,t),rU(t,e);if(t instanceof X2)return(function(n,i){if(!JF(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const a=[];let s=0;for(const l of n){let c=Jy(l,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=ii(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return kre(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=ei.fromDate(n);return{timestampValue:dx(i.serializer,a)}}if(n instanceof ei){const a=new ei(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:dx(i.serializer,a)}}if(n instanceof Qu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof bl)return{bytesValue:yF(i.serializer,n._byteString)};if(n instanceof ta){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fk(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Zu)return(function(s,l){return{mapValue:{fields:{[GB]:{stringValue:WB},[lx]:{arrayValue:{values:s.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return uk(l.serializer,d)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${D2(n)}`)})(t,e)}function rU(t,e){const r={};return UB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ff(t,((n,i)=>{const a=Jy(i,e.mc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function nU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ei||t instanceof Qu||t instanceof bl||t instanceof ta||t instanceof X2||t instanceof Zu)}function Nk(t,e,r){if(!nU(r)||!BB(r)){const n=D2(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function IE(t,e,r){if((e=ii(e))instanceof Xy)return e._internalPath;if(typeof e=="string")return Pk(t,e);throw mx("Field path arguments must be of type string or ",t,!1,void 0,r)}const Uie=new RegExp("[~\\*/\\[\\]]");function Pk(t,e,r){if(e.search(Uie)>=0)throw mx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Xy(...e.split("."))._internalPath}catch{throw mx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function mx(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Ot(ct.INVALID_ARGUMENT,l+t+c)}function iU(t,e){return t.some((r=>r.isEqual(e)))}class aU{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ta(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Q2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Vie extends aU{data(){return super.data()}}function Q2(t,e){return typeof e=="string"?Pk(t,e):e instanceof Xy?e._internalPath:e._delegate._internalPath}function zie(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ot(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jk{}class sU extends jk{}function fg(t,e,...r){let n=[];e instanceof jk&&n.push(e),n=n.concat(r),(function(a){const s=a.filter((c=>c instanceof Rk)).length,l=a.filter((c=>c instanceof Z2)).length;if(s>1||s>0&&l>0)throw new Ot(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class Z2 extends sU{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Z2(e,r,n)}_apply(e){const r=this._parse(e);return oU(e._query,r),new dp(e.firestore,e.converter,AE(e._query,r))}_parse(e){const r=Qy(e.firestore);return(function(a,s,l,c,d,f,p){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ot(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){JO(p,f);const w=[];for(const S of p)w.push(ZO(c,a,S));g={arrayValue:{values:w}}}else g=ZO(c,a,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||JO(p,f),g=Fie(l,s,p,f==="in"||f==="not-in");return fa.create(d,f,g)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function $ie(t,e,r){const n=e,i=Q2("where",t);return Z2._create(i,n,r)}class Rk extends jk{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Rk(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:uu.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let s=i;const l=a.getFlattenedFilters();for(const c of l)oU(s,c),s=AE(s,c)})(e._query,r),new dp(e.firestore,e.converter,AE(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ok extends sU{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Ok(e,r)}_apply(e){const r=(function(i,a,s){if(i.startAt!==null)throw new Ot(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ot(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oy(a,s)})(e._query,this._field,this._direction);return new dp(e.firestore,e.converter,(function(i,a){const s=i.explicitOrderBy.concat([a]);return new cg(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function ev(t,e="asc"){const r=e,n=Q2("orderBy",t);return Ok._create(n,r)}function ZO(t,e,r){if(typeof(r=ii(r))=="string"){if(r==="")throw new Ot(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tF(e)&&r.indexOf("/")!==-1)throw new Ot(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Hn.fromString(r));if(!gr.isDocumentKey(n))throw new Ot(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return mO(t,new gr(n))}if(r instanceof ta)return mO(t,r._key);throw new Ot(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${D2(r)}.`)}function JO(t,e){if(!Array.isArray(t)||t.length===0)throw new Ot(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oU(t,e){const r=(function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Ot(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ot(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class qie{convertValue(e,r="none"){switch(Ef(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Sf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw xr(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ff(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){const r=e.fields?.[lx].arrayValue?.values?.map((n=>Xi(n.doubleValue)));return new Zu(r)}convertGeoPoint(e){return new Qu(Xi(e.latitude),Xi(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=B2(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(iy(e));default:return null}}convertTimestamp(e){const r=Af(e);return new ei(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Hn.fromString(e);xn(AF(n),9688,{name:e});const i=new ay(n.get(1),n.get(3)),a=new gr(n.popFirst(5));return i.isEqual(r)||ad(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}function Ik(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class R0{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rh extends aU{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Pb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Q2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ot(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Rh._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Rh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rh._jsonSchema={type:ha("string",Rh._jsonSchemaVersion),bundleSource:ha("string","DocumentSnapshot"),bundleName:ha("string"),bundle:ha("string")};class Pb extends Rh{data(e={}){return super.data(e)}}class Pm{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new R0(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Pb(this._firestore,this._userDataWriter,n.key,n,new R0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ot(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new Pb(i._firestore,i._userDataWriter,l.doc.key,l.doc,new R0(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new Pb(i._firestore,i._userDataWriter,l.doc.key,l.doc,new R0(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:Hie(l.type),doc:c,oldIndex:d,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ot(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pm._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rk.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Hie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xr(61501,{type:t})}}function hg(t){t=El(t,ta);const e=El(t.firestore,Vf);return jie(Y2(e),t._key).then((r=>Gie(e,t,r)))}Pm._jsonSchemaVersion="firestore/querySnapshot/1.0",Pm._jsonSchema={type:ha("string",Pm._jsonSchemaVersion),bundleSource:ha("string","QuerySnapshot"),bundleName:ha("string"),bundle:ha("string")};class lU extends qie{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ta(this.firestore,null,r)}}function ea(t){t=El(t,dp);const e=El(t.firestore,Vf),r=Y2(e),n=new lU(e);return zie(t._query),Rie(r,t._query).then((i=>new Pm(e,n,t,i)))}function pg(t,e,r){t=El(t,ta);const n=El(t.firestore,Vf),i=Ik(t.converter,e,r);return rv(n,[kk(Qy(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Xs.none())])}function vd(t,e,r,...n){t=El(t,ta);const i=El(t.firestore,Vf),a=Qy(i);let s;return s=typeof(e=ii(e))=="string"||e instanceof Xy?tU(a,"updateDoc",t._key,e,r,n):eU(a,"updateDoc",t._key,e),rv(i,[s.toMutation(t._key,Xs.exists(!0))])}function fp(t){return rv(El(t.firestore,Vf),[new $2(t._key,Xs.none())])}function tv(t,e){const r=El(t.firestore,Vf),n=wn(t),i=Ik(t.converter,e);return rv(r,[kk(Qy(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Xs.exists(!1))]).then((()=>n))}function rv(t,e){return(function(n,i){const a=new Qc;return n.asyncQueue.enqueueAndForget((async()=>bie(await Pie(n),i,a))),a.promise})(Y2(t),e)}function Gie(t,e,r){const n=r.docs.get(e._key),i=new lU(t);return new Rh(t,i,e._key,n,new R0(r.hasPendingWrites,r.fromCache),e.converter)}class Wie{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Qy(e)}set(e,r,n){this._verifyNotCommitted();const i=L_(e,this._firestore),a=Ik(i.converter,r,n),s=kk(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,Xs.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=L_(e,this._firestore);let s;return s=typeof(r=ii(r))=="string"||r instanceof Xy?tU(this._dataReader,"WriteBatch.update",a._key,r,n,i):eU(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,Xs.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=L_(e,this._firestore);return this._mutations=this._mutations.concat(new $2(r._key,Xs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ot(ct.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function L_(t,e){if((t=ii(t)).firestore!==e)throw new Ot(ct.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Kie(){return new Zy("deleteField")}function Gn(){return new Ck("serverTimestamp")}function uU(t){return Y2(t=El(t,Vf)),new Wie(t,(e=>rv(t,e)))}(function(e,r=!0){(function(i){og=i})(lp),Hh(new wf("firestore",((n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),l=new Vf(new Fte(n.getProvider("auth-internal")),new zte(s,n.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ot(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ay(d.options.projectId,f)})(s,i),s);return a={useFetchStreams:r,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),Wu(rO,nO,e),Wu(rO,nO,"esm2020")})();var Yie="firebase",Xie="12.6.0";Wu(Yie,Xie,"app");const cU="firebasestorage.googleapis.com",dU="storageBucket",Qie=120*1e3,Zie=600*1e3;class zi extends uc{constructor(e,r,n=0){super(M_(e),`Firebase Storage: ${r} (${M_(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return M_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ui;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ui||(Ui={}));function M_(t){return"storage/"+t}function Dk(){const t="An unknown error occurred, please check the error payload for server response.";return new zi(Ui.UNKNOWN,t)}function Jie(t){return new zi(Ui.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function eae(t){return new zi(Ui.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tae(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new zi(Ui.UNAUTHENTICATED,t)}function rae(){return new zi(Ui.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function nae(t){return new zi(Ui.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function iae(){return new zi(Ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aae(){return new zi(Ui.CANCELED,"User canceled the upload/download.")}function sae(t){return new zi(Ui.INVALID_URL,"Invalid URL '"+t+"'.")}function oae(t){return new zi(Ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function lae(){return new zi(Ui.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dU+"' property when initializing the app?")}function uae(){return new zi(Ui.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cae(){return new zi(Ui.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function dae(t){return new zi(Ui.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function DE(t){return new zi(Ui.INVALID_ARGUMENT,t)}function fU(){return new zi(Ui.APP_DELETED,"The Firebase app was deleted.")}function fae(t){return new zi(Ui.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function H0(t,e){return new zi(Ui.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function m0(t){throw new zi(Ui.INTERNAL_ERROR,"Internal error: "+t)}class Ws{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Ws.makeFromUrl(e,r)}catch{return new Ws(e,"")}if(n.path==="")return n;throw oae(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function d(F){F.path_=decodeURIComponent(F.path)}const f="v[A-Za-z0-9_]+",p=r.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${f}/b/${i}/o${g}`,"i"),w={bucket:1,path:3},S=r===cU?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",k=new RegExp(`^https?://${S}/${i}/${_}`,"i"),P=[{regex:l,indices:c,postModify:a},{regex:m,indices:w,postModify:d},{regex:k,indices:{bucket:1,path:2},postModify:d}];for(let F=0;F<P.length;F++){const O=P[F],z=O.regex.exec(e);if(z){const L=z[O.indices.bucket];let I=z[O.indices.path];I||(I=""),n=new Ws(L,I),O.postModify(n);break}}if(n==null)throw sae(e);return n}}class hae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function pae(t,e,r){let n=1,i=null,a=null,s=!1,l=0;function c(){return l===2}let d=!1;function f(..._){d||(d=!0,e.apply(null,_))}function p(_){i=setTimeout(()=>{i=null,t(m,c())},_)}function g(){a&&clearTimeout(a)}function m(_,...k){if(d){g();return}if(_){g(),f.call(null,_,...k);return}if(c()||s){g(),f.call(null,_,...k);return}n<64&&(n*=2);let P;l===1?(l=2,P=0):P=(n+Math.random())*1e3,p(P)}let w=!1;function S(_){w||(w=!0,g(),!d&&(i!==null?(_||(l=2),clearTimeout(i),p(0)):_||(l=1)))}return p(0),a=setTimeout(()=>{s=!0,S(!0)},r),S}function mae(t){t(!1)}function gae(t){return t!==void 0}function yae(t){return typeof t=="object"&&!Array.isArray(t)}function Lk(t){return typeof t=="string"||t instanceof String}function e6(t){return Mk()&&t instanceof Blob}function Mk(){return typeof Blob<"u"}function LE(t,e,r,n){if(n<e)throw DE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw DE(`Invalid value for '${t}'. Expected ${r} or less.`)}function nv(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function hU(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Oh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Oh||(Oh={}));function vae(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}class bae{constructor(e,r,n,i,a,s,l,c,d,f,p,g=!0,m=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,S)=>{this.resolve_=w,this.reject_=S,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new B1(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const l=a.getErrorCode()===Oh.NO_ERROR,c=a.getStatus();if(!l||vae(c,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===Oh.ABORT;n(!1,new B1(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;n(!0,new B1(d,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());gae(c)?a(c):a()}catch(c){s(c)}else if(l!==null){const c=Dk();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?fU():aae();s(c)}else{const c=iae();s(c)}};this.canceled_?r(!1,new B1(!1,null,!0)):this.backoffId_=pae(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class B1{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function xae(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function wae(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _ae(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Aae(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Sae(t,e,r,n,i,a,s=!0,l=!1){const c=hU(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return _ae(f,e),xae(f,r),wae(f,a),Aae(f,n),new bae(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,l)}function Eae(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Tae(...t){const e=Eae();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(Mk())return new Blob(t);throw new zi(Ui.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kae(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}function Cae(t){if(typeof atob>"u")throw dae("base-64");return atob(t)}const $u={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class B_{constructor(e,r){this.data=e,this.contentType=r||null}}function Nae(t,e){switch(t){case $u.RAW:return new B_(pU(e));case $u.BASE64:case $u.BASE64URL:return new B_(mU(t,e));case $u.DATA_URL:return new B_(jae(e),Rae(e))}throw Dk()}function pU(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,s=t.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Pae(t){let e;try{e=decodeURIComponent(t)}catch{throw H0($u.DATA_URL,"Malformed data URL.")}return pU(e)}function mU(t,e){switch(t){case $u.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw H0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case $u.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw H0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Cae(e)}catch(i){throw i.message.includes("polyfill")?i:H0(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class gU{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw H0($u.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Oae(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function jae(t){const e=new gU(t);return e.base64?mU($u.BASE64,e.rest):Pae(e.rest)}function Rae(t){return new gU(t).contentType}function Oae(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class df{constructor(e,r){let n=0,i="";e6(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(e6(this.data_)){const n=this.data_,i=kae(n,e,r);return i===null?null:new df(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new df(n,!0)}}static getBlob(...e){if(Mk()){const r=e.map(n=>n instanceof df?n.data_:n);return new df(Tae.apply(null,r))}else{const r=e.map(s=>Lk(s)?Nae($u.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let l=0;l<s.length;l++)i[a++]=s[l]}),new df(i,!0)}}uploadData(){return this.data_}}function Bk(t){let e;try{e=JSON.parse(t)}catch{return null}return yae(e)?e:null}function Iae(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Dae(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function yU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Lae(t,e){return e}class Hs{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Lae}}let F1=null;function Mae(t){return!Lk(t)||t.length<2?t:yU(t)}function vU(){if(F1)return F1;const t=[];t.push(new Hs("bucket")),t.push(new Hs("generation")),t.push(new Hs("metageneration")),t.push(new Hs("name","fullPath",!0));function e(a,s){return Mae(s)}const r=new Hs("name");r.xform=e,t.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new Hs("size");return i.xform=n,t.push(i),t.push(new Hs("timeCreated")),t.push(new Hs("updated")),t.push(new Hs("md5Hash",null,!0)),t.push(new Hs("cacheControl",null,!0)),t.push(new Hs("contentDisposition",null,!0)),t.push(new Hs("contentEncoding",null,!0)),t.push(new Hs("contentLanguage",null,!0)),t.push(new Hs("contentType",null,!0)),t.push(new Hs("metadata","customMetadata",!0)),F1=t,F1}function Bae(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Ws(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function Fae(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,e[s.server])}return Bae(n,t),n}function bU(t,e,r){const n=Bk(e);return n===null?null:Fae(t,n,r)}function Uae(t,e,r,n){const i=Bk(e);if(i===null||!Lk(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(d=>{const f=t.bucket,p=t.fullPath,g="/b/"+s(f)+"/o/"+s(p),m=nv(g,r,n),w=hU({alt:"media",token:d});return m+w})[0]}function Vae(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}const t6="prefixes",r6="items";function zae(t,e,r){const n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[t6])for(const i of r[t6]){const a=i.replace(/\/$/,""),s=t._makeStorageReference(new Ws(e,a));n.prefixes.push(s)}if(r[r6])for(const i of r[r6]){const a=t._makeStorageReference(new Ws(e,i.name));n.items.push(a)}return n}function $ae(t,e,r){const n=Bk(r);return n===null?null:zae(t,e,n)}class J2{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Fk(t){if(!t)throw Dk()}function qae(t,e){function r(n,i){const a=bU(t,i,e);return Fk(a!==null),a}return r}function Hae(t,e){function r(n,i){const a=$ae(t,e,i);return Fk(a!==null),a}return r}function Gae(t,e){function r(n,i){const a=bU(t,i,e);return Fk(a!==null),Uae(a,i,t.host,t._protocol)}return r}function Uk(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=rae():i=tae():r.getStatus()===402?i=eae(t.bucket):r.getStatus()===403?i=nae(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function xU(t){const e=Uk(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=Jie(t.path)),a.serverResponse=i.serverResponse,a}return r}function Wae(t,e,r,n,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",r.length>0&&(a.delimiter=r),n&&(a.pageToken=n),i&&(a.maxResults=i);const s=e.bucketOnlyServerUrl(),l=nv(s,t.host,t._protocol),c="GET",d=t.maxOperationRetryTime,f=new J2(l,c,Hae(t,e.bucket),d);return f.urlParams=a,f.errorHandler=Uk(e),f}function Kae(t,e,r){const n=e.fullServerUrl(),i=nv(n,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,l=new J2(i,a,Gae(t,r),s);return l.errorHandler=xU(e),l}function Yae(t,e){const r=e.fullServerUrl(),n=nv(r,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function s(c,d){}const l=new J2(n,i,s,a);return l.successCodes=[200,204],l.errorHandler=xU(e),l}function Xae(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Qae(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Xae(null,e)),n}function Zae(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let P="";for(let F=0;F<2;F++)P=P+Math.random().toString().slice(2);return P}const c=l();s["Content-Type"]="multipart/related; boundary="+c;const d=Qae(e,n,i),f=Vae(d,r),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+c+"--",m=df.getBlob(p,n,g);if(m===null)throw uae();const w={name:d.fullPath},S=nv(a,t.host,t._protocol),_="POST",k=t.maxUploadRetryTime,N=new J2(S,_,qae(t,r),k);return N.urlParams=w,N.headers=s,N.body=m.uploadData(),N.errorHandler=Uk(e),N}class Jae{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,a){if(this.sent_)throw m0("cannot .send() more than once");if(Bf(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw m0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw m0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw m0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw m0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ese extends Jae{initXhr(){this.xhr_.responseType="text"}}function ew(){return new ese}class Yh{constructor(e,r){this._service=e,r instanceof Ws?this._location=r:this._location=Ws.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Yh(e,r)}get root(){const e=new Ws(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yU(this._location.path)}get storage(){return this._service}get parent(){const e=Iae(this._location.path);if(e===null)return null;const r=new Ws(this._location.bucket,e);return new Yh(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw fae(e)}}function tse(t,e,r){t._throwIfRoot("uploadBytes");const n=Zae(t.storage,t._location,vU(),new df(e,!0),r);return t.storage.makeRequestWithTokens(n,ew).then(i=>({metadata:i,ref:t}))}function rse(t){const e={prefixes:[],items:[]};return wU(t,e).then(()=>e)}async function wU(t,e,r){const i=await nse(t,{pageToken:r});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await wU(t,e,i.nextPageToken)}function nse(t,e){e!=null&&typeof e.maxResults=="number"&&LE("options.maxResults",1,1e3,e.maxResults);const r=e||{},n=Wae(t.storage,t._location,"/",r.pageToken,r.maxResults);return t.storage.makeRequestWithTokens(n,ew)}function ise(t){t._throwIfRoot("getDownloadURL");const e=Kae(t.storage,t._location,vU());return t.storage.makeRequestWithTokens(e,ew).then(r=>{if(r===null)throw cae();return r})}function ase(t){t._throwIfRoot("deleteObject");const e=Yae(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ew)}function sse(t,e){const r=Dae(t._location.path,e),n=new Ws(t._location.bucket,r);return new Yh(t.storage,n)}function ose(t){return/^[A-Za-z]+:\/\//.test(t)}function lse(t,e){return new Yh(t,e)}function _U(t,e){if(t instanceof Vk){const r=t;if(r._bucket==null)throw lae();const n=new Yh(r,r._bucket);return e!=null?_U(n,e):n}else return e!==void 0?sse(t,e):t}function use(t,e){if(e&&ose(e)){if(t instanceof Vk)return lse(t,e);throw DE("To use ref(service, url), the first argument must be a Storage instance.")}else return _U(t,e)}function n6(t,e){const r=e?.[dU];return r==null?null:Ws.makeFromBucketSpec(r,t)}function cse(t,e,r,n={}){t.host=`${e}:${r}`;const i=Bf(e);i&&(U4(`https://${t.host}/b`),V4("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:W9(a,t.app.options.projectId))}class Vk{constructor(e,r,n,i,a,s=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=cU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Qie,this._maxUploadRetryTime=Zie,this._requests=new Set,i!=null?this._bucket=Ws.makeFromBucketSpec(i,this._host):this._bucket=n6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ws.makeFromBucketSpec(this._url,e):this._bucket=n6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(vl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yh(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new hae(fU());{const s=Sae(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const i6="@firebase/storage",a6="0.14.0";const AU="storage";function zk(t,e,r){return t=ii(t),tse(t,e,r)}function ME(t){return t=ii(t),rse(t)}function $k(t){return t=ii(t),ise(t)}function SU(t){return t=ii(t),ase(t)}function iv(t,e){return t=ii(t),use(t,e)}function dse(t=q4(),e){t=ii(t);const n=j2(t,AU).getImmediate({identifier:e}),i=q9("storage");return i&&fse(n,...i),n}function fse(t,e,r,n={}){cse(t,e,r,n)}function hse(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Vk(r,n,i,e,lp)}function pse(){Hh(new wf(AU,hse,"PUBLIC").setMultipleInstances(!0)),Wu(i6,a6,""),Wu(i6,a6,"esm2020")}pse();const mse={apiKey:"AIzaSyA63ET1bNMnxY3ZVmnaa8FCUuvkMOVls5k",authDomain:"cellulai.firebaseapp.com",projectId:"cellulai",storageBucket:"cellulai.firebasestorage.app",messagingSenderId:"857760697765",appId:"1:857760697765:web:74605f6e0667d0feebec4c",measurementId:"G-NBGFZ6T90R"},qk=X9(mse),bd=Dte(qk),dr=Iie(qk),av=dse(qk),Hk=new $c;Hk.addScope("email");Hk.addScope("profile");async function gse(){try{const e=(await qee(bd,Hk)).user;return(await hg(wn(dr,"users",e.uid))).exists()||await pg(wn(dr,"users",e.uid),{email:e.email,displayName:e.displayName,photoURL:e.photoURL,createdAt:new Date,subscription:"free",subscriptionStatus:"active",role:"user",isAdmin:!1,credits:{current:50,total:50,lastReset:new Date,nextReset:new Date(Date.now()+720*60*60*1e3)},stripeCustomerId:null,stripeSubscriptionId:null,usage:{apiCalls:0,storageUsed:0,sheetsCreated:0}},{merge:!0}),{success:!0,user:e}}catch(t){let e=t.message;return t.code==="auth/popup-closed-by-user"?e="Sign-in was cancelled. Please try again.":t.code==="auth/popup-blocked"&&(e="Popup was blocked by browser. Please allow popups and try again."),{success:!1,error:e}}}async function EU(){try{return await See(bd),{success:!0}}catch(t){return{success:!1,error:t.message}}}function yse(){return bd.currentUser}function TU(t){return Aee(bd,t)}async function kU(){try{const t=bd.currentUser;if(!t)return!1;const e=await hg(wn(dr,"users",t.uid));if(e.exists()){const r=e.data();return r.isAdmin===!0||r.role==="admin"}return!1}catch{return!1}}function vse(){return window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`http://${window.location.hostname}:3000`:"https://gpt-cells-app-production.up.railway.app"}async function Gk(t,e){try{return{success:!0,projectId:(await tv(ti(dr,"users",t,"projects"),{...e,createdAt:Gn(),updatedAt:Gn()})).id}}catch(r){return{success:!1,error:r.message}}}async function Wk(t){try{const e=await ea(fg(ti(dr,"users",t,"projects"),ev("createdAt","desc"))),r=[];return e.forEach(n=>{r.push({id:n.id,...n.data()})}),{success:!0,projects:r}}catch(e){return{success:!1,error:e.message}}}async function CU(t,e,r){try{return await vd(wn(dr,"users",t,"projects",e),{...r,updatedAt:Gn()}),{success:!0}}catch(n){return{success:!1,error:n.message}}}async function Kk(t,e){try{const r=await ea(ti(dr,"users",t,"projects",e,"sheets"));for(const n of r.docs){const i=n.id,a=await PU(t,e,i);a.success||console.warn(` Failed to delete sheet ${i}:`,a.error)}return await fp(wn(dr,"users",t,"projects",e)),{success:!0}}catch(r){return{success:!1,error:r.message}}}async function jb(t,e,r){try{return{success:!0,sheetId:(await tv(ti(dr,"users",t,"projects",e,"sheets"),{...r,createdAt:Gn(),updatedAt:Gn()})).id}}catch(n){return{success:!1,error:n.message}}}async function NU(t,e){try{const r=await ea(fg(ti(dr,"users",t,"projects",e,"sheets"),ev("order","asc"))),n=[];return r.forEach(i=>{n.push({id:i.id,...i.data()})}),{success:!0,sheets:n}}catch(r){return{success:!1,error:r.message}}}async function BE(t,e,r,n){try{return await vd(wn(dr,"users",t,"projects",e,"sheets",r),{...n,updatedAt:Gn()}),{success:!0}}catch(i){return{success:!1,error:i.message}}}async function PU(t,e,r){try{const n=await ea(ti(dr,"users",t,"projects",e,"sheets",r,"cells")),i=[];n.forEach(c=>{i.push(c.id)});for(const c of i){const d=await tw(t,e,r,c);d.success||console.warn(` Failed to delete generations for cell ${c}:`,d.error)}const{deleteSheetAssets:a}=await Wa(async()=>{const{deleteSheetAssets:c}=await Promise.resolve().then(()=>eV);return{deleteSheetAssets:c}},[]),s=await a(t,e,r,i);s.success?console.log(` Deleted ${s.deletedCount||0} assets for sheet ${r}`):console.warn(` Failed to delete assets for sheet ${r}:`,s.error);const l=uU(dr);return n.forEach(c=>{l.delete(c.ref)}),l.delete(wn(dr,"users",t,"projects",e,"sheets",r)),await l.commit(),{success:!0}}catch(n){return{success:!1,error:n.message}}}async function Ka(t,e,r,n,i){try{return await pg(wn(dr,"users",t,"projects",e,"sheets",r,"cells",n),{...i,updatedAt:Gn()},{merge:!0}),{success:!0}}catch(a){return{success:!1,error:a.message}}}async function FE(t,e,r){try{const n=await ea(ti(dr,"users",t,"projects",e,"sheets",r,"cells")),i=[];return n.forEach(a=>{i.push({cell_id:a.id,...a.data()})}),{success:!0,cells:i}}catch(n){return{success:!1,error:n.message}}}async function jU(t,e,r,n){try{const i=await tw(t,e,r,n);i.success||console.warn(` Failed to delete generations for cell ${n}:`,i.error);const{deleteCellAssets:a}=await Wa(async()=>{const{deleteCellAssets:l}=await Promise.resolve().then(()=>eV);return{deleteCellAssets:l}},void 0),s=await a(t,e,r,n);return s.success?console.log(` Deleted ${s.deletedCount||0} assets for cell ${n}`):console.warn(` Failed to delete assets for cell ${n}:`,s.error),await fp(wn(dr,"users",t,"projects",e,"sheets",r,"cells",n)),{success:!0}}catch(i){return{success:!1,error:i.message}}}async function gm(t,e,r,n,i){try{return await tv(ti(dr,"users",t,"projects",e,"sheets",r,"cells",n,"generations"),{...i,timestamp:Gn()}),{success:!0}}catch(a){return{success:!1,error:a.message}}}async function RU(t,e,r,n){try{const i=await ea(fg(ti(dr,"users",t,"projects",e,"sheets",r,"cells",n,"generations"),ev("timestamp","desc"))),a=[];return i.forEach(s=>{a.push({id:s.id,...s.data()})}),{success:!0,generations:a}}catch(i){return{success:!1,error:i.message}}}async function OU(t,e,r,n,i){try{return await fp(wn(dr,"users",t,"projects",e,"sheets",r,"cells",n,"generations",i)),{success:!0}}catch(a){return{success:!1,error:a.message}}}async function tw(t,e,r,n){try{const i=ti(dr,"users",t,"projects",e,"sheets",r,"cells",n,"generations"),a=await ea(i),s=a.docs.map(l=>fp(l.ref));return await Promise.all(s),{success:!0,count:a.docs.length}}catch(i){return{success:!1,error:i.message}}}async function IU(){try{const t=await ea(ti(dr,"users")),e=[];for(const r of t.docs){const n=r.id,i=await ea(ti(dr,"users",n,"projects"));for(const a of i.docs){const s=a.id,l=await ea(ti(dr,"users",n,"projects",s,"sheets"));for(const c of l.docs){const d=c.id,f=await ea(ti(dr,"users",n,"projects",s,"sheets",d,"cells"));for(const p of f.docs){const g=p.id;(await ea(ti(dr,"users",n,"projects",s,"sheets",d,"cells",g,"generations"))).forEach(w=>{e.push({id:w.id,userId:n,projectId:s,sheetId:d,cellId:g,...w.data()})})}}}}return{success:!0,data:e}}catch(t){return{success:!1,error:t.message}}}async function Yk(){try{const t=await ea(fg(ti(dr,"models"),$ie("isActive","==",!0))),e=[];return t.forEach(r=>{const n=r.data();e.push({id:r.id,name:n.name||r.id,type:n.type||"text",provider:n.provider||"unknown",active:!0,description:n.description||"",originalId:n.originalId||r.id})}),{success:!0,models:e}}catch(t){try{return{success:!0,models:(await(await fetch(`${vse()}/api/models`)).json()).models||[]}}catch{return{success:!1,error:t.message}}}}async function Rb(){try{const t=await ea(ti(dr,"users")),e=[];return t.forEach(r=>{e.push({id:r.id,...r.data()})}),{success:!0,data:e}}catch(t){return{success:!1,error:t.message}}}async function UE(t,e){try{return await vd(wn(dr,"users",t),{...e,updatedAt:Gn()}),{success:!0}}catch(r){return{success:!1,error:r.message}}}async function DU(t){try{const e=await ea(ti(dr,"users",t,"projects")),r=uU(dr);return e.forEach(n=>{r.delete(n.ref)}),r.delete(wn(dr,"users",t)),await r.commit(),{success:!0}}catch(e){return{success:!1,error:e.message}}}async function LU(){try{const t=await ea(ti(dr,"users")),e=[];for(const r of t.docs)(await ea(ti(dr,"users",r.id,"projects"))).forEach(i=>{e.push({id:i.id,userId:r.id,userEmail:r.data().email,...i.data()})});return{success:!0,data:e}}catch(t){return{success:!1,error:t.message}}}async function MU(){try{const t=await ea(ti(dr,"models")),e=[];return t.forEach(r=>{e.push({id:r.id,...r.data()})}),{success:!0,data:e}}catch(t){return{success:!1,error:t.message}}}async function O0(t,e){try{return await vd(wn(dr,"models",t),{...e,updatedAt:Gn()}),{success:!0}}catch(r){return{success:!1,error:r.message}}}async function Ob(t){try{const e=t.id||t.originalId?.replace(/\//g,"-")||`model-${Date.now()}`;return await pg(wn(dr,"models",e),{...t,id:e,createdAt:Gn(),updatedAt:Gn()}),{success:!0,modelId:e}}catch(e){return{success:!1,error:e.message}}}async function BU(t){try{return await fp(wn(dr,"models",t)),{success:!0}}catch(e){return{success:!1,error:e.message}}}async function FU(t){try{const e=await hg(wn(dr,"users",t));return e.exists()?{success:!0,data:e.data()}:{success:!1,error:"User not found"}}catch(e){return{success:!1,error:e.message}}}async function UU(t,e){try{return await vd(wn(dr,"users",t),{...e,updatedAt:Gn()}),{success:!0}}catch(r){return{success:!1,error:r.message}}}async function VU(t,e){try{const r=await hg(wn(dr,"users",t));if(!r.exists())return{success:!1,error:"User not found"};const n=r.data(),i=n.credits?.current||0,a=n.credits?.total||0,s=i+e,l=a+e;return await vd(wn(dr,"users",t),{"credits.current":s,"credits.total":l,updatedAt:Gn()}),{success:!0,newCredits:s,newTotal:l}}catch(r){return{success:!1,error:r.message}}}async function zU(t,e){try{const r=await hg(wn(dr,"users",t));if(!r.exists())return{success:!1,error:"User not found"};const i=r.data().credits?.current||0;return i<e?{success:!1,error:"Insufficient credits"}:(await vd(wn(dr,"users",t),{"credits.current":i-e,updatedAt:Gn()}),{success:!0,remainingCredits:i-e})}catch(r){return{success:!1,error:r.message}}}async function Xk(t,e,r){try{const n=new Date,i=new Date(n.getTime()+720*60*60*1e3);return await pg(wn(dr,"users",t),{"credits.current":r,"credits.total":r,"credits.lastReset":n,"credits.nextReset":i,updatedAt:Gn()},{merge:!0}),{success:!0}}catch(n){return{success:!1,error:n.message}}}async function Cf(t){try{const e=await hg(wn(dr,"users",t));if(!e.exists())return{success:!1,error:"User not found"};const r=e.data();return{success:!0,data:{subscription:r.subscription||"free",subscriptionStatus:r.subscriptionStatus||"active",credits:r.credits||{current:0,total:0},stripeCustomerId:r.stripeCustomerId,stripeSubscriptionId:r.stripeSubscriptionId}}}catch(e){return{success:!1,error:e.message}}}async function Qk(){try{const t=ti(dr,"packages");let e;try{e=await ea(fg(t,ev("price","asc")))}catch(n){console.warn("Could not order packages by price, fetching without order:",n),e=await ea(t)}const r=[];return e.forEach(n=>{const i=n.data();r.push({...i,id:n.id})}),r.sort((n,i)=>(n.price||0)-(i.price||0)),{success:!0,data:r}}catch(t){return console.error("Error getting packages:",t),{success:!1,error:t.message}}}async function VE(t){try{const e=t.id;if(e){const r=wn(dr,"packages",e),n={...t,createdAt:Gn(),updatedAt:Gn()};return await pg(r,n),{success:!0,id:e}}else{const r=ti(dr,"packages"),n={...t,createdAt:Gn(),updatedAt:Gn()};return{success:!0,id:(await tv(r,n)).id}}}catch(e){return{success:!1,error:e.message}}}async function $U(t,e){try{const r=wn(dr,"packages",t);return await vd(r,{...e,updatedAt:Gn()}),{success:!0}}catch(r){return{success:!1,error:r.message}}}async function qU(t){try{const e=wn(dr,"packages",t);return await fp(e),{success:!0}}catch(e){return{success:!1,error:e.message}}}async function Zk(){try{const t=ti(dr,"templates"),e=await ea(fg(t,ev("createdAt","desc"))),r=[];return e.forEach(n=>{const i=n.data();r.push({...i,id:n.id})}),{success:!0,data:r}}catch(t){return console.error("Error getting templates:",t),{success:!1,error:t.message}}}async function gx(t){try{const e=t.id;if(e){const r=wn(dr,"templates",e),n={...t,createdAt:Gn(),updatedAt:Gn()};return await pg(r,n),{success:!0,id:e}}else{const r=ti(dr,"templates"),n={...t,createdAt:Gn(),updatedAt:Gn()};return{success:!0,id:(await tv(r,n)).id}}}catch(e){return{success:!1,error:e.message}}}async function HU(t,e){try{const r=wn(dr,"templates",t);return await vd(r,{...e,updatedAt:Gn()}),{success:!0}}catch(r){return{success:!1,error:r.message}}}async function GU(t){try{const e=wn(dr,"templates",t);return await fp(e),{success:!0}}catch(e){return{success:!1,error:e.message}}}const dy=Object.freeze(Object.defineProperty({__proto__:null,addCredits:VU,createModel:Ob,createPackage:VE,createProject:Gk,createSheet:jb,createTemplate:gx,deductCredits:zU,deleteAllGenerations:tw,deleteCell:jU,deleteGeneration:OU,deleteModel:BU,deletePackage:qU,deleteProject:Kk,deleteSheet:PU,deleteTemplate:GU,deleteUser:DU,getActiveModels:Yk,getAllGenerations:IU,getAllModels:MU,getAllPackages:Qk,getAllProjects:LU,getAllTemplates:Zk,getAllUsers:Rb,getGenerations:RU,getProjects:Wk,getSheetCells:FE,getSheets:NU,getUserProfile:FU,getUserSubscription:Cf,resetMonthlyCredits:Xk,saveCell:Ka,saveGeneration:gm,updateModel:O0,updatePackage:$U,updateProject:CU,updateSheet:BE,updateTemplate:HU,updateUser:UE,updateUserProfile:UU},Symbol.toStringTag,{value:"Module"}));async function yx(){try{const t=bd.currentUser;if(!t)return{};const e=await t.getIdToken();return e?{Authorization:`Bearer ${e}`}:{}}catch{return{}}}function WU(){return window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"":"https://gpt-cells-app-production.up.railway.app"}const zE=WU();async function Jk(t,e,r=.7,n=void 0,i=void 0,a=void 0,s=void 0){try{const l={prompt:t,model:e,temperature:r};if(n!==void 0&&n>0&&(l.max_tokens=n),i){if(i.seconds!==void 0&&i.seconds!==null){const g=String(i.seconds),m=["4","8","12"];l.videoSeconds=m.includes(g)?g:"8",console.log(` Frontend: Setting videoSeconds to "${l.videoSeconds}" (type: ${typeof l.videoSeconds})`)}i.resolution&&(l.videoResolution=i.resolution),i.aspectRatio&&(l.videoAspectRatio=i.aspectRatio)}a&&(a.voice&&(l.audioVoice=a.voice),a.speed!==void 0&&a.speed!==null&&(l.audioSpeed=a.speed),a.format&&(l.audioFormat=a.format),console.log(" Frontend: Audio settings:",{voice:l.audioVoice,speed:l.audioSpeed,format:l.audioFormat})),l.videoSeconds!==void 0&&(console.log(` FINAL seconds sent to server: "${l.videoSeconds}", TYPE: ${typeof l.videoSeconds}`),typeof l.videoSeconds!="string"&&(console.error(` BUG: videoSeconds is ${typeof l.videoSeconds} in request body!`),console.error(`   Value: ${l.videoSeconds}`),l.videoSeconds=String(l.videoSeconds),console.error(`    Fixed to: "${l.videoSeconds}" (type: ${typeof l.videoSeconds})`)));const c=JSON.stringify(l);console.log(` JSON body being sent: ${c}`);const d=JSON.parse(c);if(d.videoSeconds!==void 0&&(console.log(` Verification - videoSeconds in JSON: "${d.videoSeconds}", TYPE: ${typeof d.videoSeconds}`),typeof d.videoSeconds!="string")){console.error(" CRITICAL: JSON.stringify converted it to a number!"),console.error(`   This means the JSON will have "videoSeconds":${d.videoSeconds} instead of "videoSeconds":"${d.videoSeconds}"`);const g={...l,videoSeconds:String(l.videoSeconds)},m=JSON.stringify(g);console.error(`    Fixed JSON: ${m}`);const w=await fetch(`${zE}/api/llm`,{method:"POST",headers:{"Content-Type":"application/json",...await yx()},body:m});if(!w.ok){const _=await w.json().catch(()=>({error:"Unknown error"}));throw new Error(_.error||`API error: ${w.status}`)}const S=await w.json();return{success:!0,output:S.text||S.output||""}}const f=await fetch(`${zE}/api/llm`,{method:"POST",headers:{"Content-Type":"application/json",...await yx()},body:c});if(!f.ok){const g=await f.json().catch(()=>({error:"Unknown error"}));throw new Error(g.error||`API error: ${f.status}`)}const p=await f.json();return p.jobId&&p.status?{success:!0,jobId:p.jobId,status:p.status,type:p.type||"video",output:null}:{success:!0,output:p.text||p.output||""}}catch(l){return{success:!1,error:l.message}}}async function KU(t,e=null){try{const r=WU(),n=e?`${r}/api/job-status/${t}?userId=${encodeURIComponent(e)}`:`${r}/api/job-status/${t}`,i=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",...await yx()}});if(!i.ok){const s=await i.json().catch(()=>({error:"Unknown error"})),l=typeof s.error=="string"?s.error:s.error?.message||JSON.stringify(s.error)||`API error: ${i.status}`;throw new Error(l)}const a=await i.json();return{success:!0,status:a.status,videoUrl:a.videoUrl||null,jobId:a.jobId}}catch(r){return{success:!1,error:r?.message||(typeof r=="string"?r:JSON.stringify(r))}}}async function bse(){try{const t=await fetch(`${zE}/api/models`,{headers:{...await yx()}});if(!t.ok)throw new Error("Failed to fetch models");return{success:!0,models:(await t.json()).models||[]}}catch(t){return{success:!1,error:t.message,models:[]}}}function Vo(t){if(!t)return"text";const e=t.toLowerCase();return e.includes("dall-e")||e.includes("imagen")?"image":e.includes("sora")?"video":e.includes("tts")?"audio":"text"}const xse=Object.freeze(Object.defineProperty({__proto__:null,checkJobStatus:KU,generateAI:Jk,getAvailableModels:bse,getModelType:Vo},Symbol.toStringTag,{value:"Module"}));function vx(t){if(!t||typeof t!="string")return null;t=t.trim();const e=[{op:"!=",name:"notEquals"},{op:"==",name:"equals"},{op:">=",name:"greaterThanOrEqual"},{op:"<=",name:"lessThanOrEqual"},{op:">",name:"greaterThan"},{op:"<",name:"lessThan"},{op:" contains ",name:"contains"},{op:" startsWith ",name:"startsWith"},{op:" endsWith ",name:"endsWith"},{op:"=",name:"equals"}];for(const{op:r,name:n}of e){const i=t.indexOf(r);if(i!==-1){const a=t.substring(0,i).trim(),s=t.substring(i+r.length).trim();let l=s;return(s.startsWith('"')&&s.endsWith('"')||s.startsWith("'")&&s.endsWith("'"))&&(l=s.slice(1,-1)),{left:a.trim(),operator:n,right:l,original:t}}}return{left:t,operator:"truthy",right:null,original:t}}async function $E(t,e){if(!t)return!1;try{let r=await e(t.left);if(t.operator==="truthy")return!!r&&r!==""&&r!=="null"&&r!=="undefined";let n=t.right;n&&qE(n)&&(n=await e(n));const i=s6(r),a=s6(n);switch(t.operator){case"equals":return i==a;case"notEquals":return i!=a;case"greaterThan":return Number(i)>Number(a);case"lessThan":return Number(i)<Number(a);case"greaterThanOrEqual":return Number(i)>=Number(a);case"lessThanOrEqual":return Number(i)<=Number(a);case"contains":return String(i).toLowerCase().includes(String(a).toLowerCase());case"startsWith":return String(i).toLowerCase().startsWith(String(a).toLowerCase());case"endsWith":return String(i).toLowerCase().endsWith(String(a).toLowerCase());default:return!1}}catch{return!1}}function s6(t){return t==null?"":typeof t=="number"||typeof t=="boolean"?t:String(t)}function qE(t){if(!t||typeof t!="string")return!1;let e=t.trim();return e.includes("!")&&(e=e.split("!")[e.split("!").length-1]),e.includes(":")&&(e=e.split(":")[e.split(":").length-1]),/^[A-Za-z]+\d+$/.test(e)}function YU(t){if(!t||typeof t!="string")return[];const e=[],r=/\{\{if:([^}]+)\}\}then:([^{]+?)(?:\{\{else:([^}]+)\}\})?/g;let n,i=0;for(;(n=r.exec(t))!==null;)n.index>i&&e.push({type:"text",content:t.substring(i,n.index)}),e.push({type:"conditional",condition:n[1].trim(),thenValue:n[2].trim(),elseValue:n[3]?n[3].trim():null,fullMatch:n[0]}),i=n.index+n[0].length;return i<t.length&&e.push({type:"text",content:t.substring(i)}),e.length>0?e:[{type:"text",content:t}]}async function wse(t,e){if(!t||typeof t!="string")return t||"";const r=YU(t),n=[];for(const i of r)if(i.type==="text")n.push(i.content);else if(i.type==="conditional"){const a=vx(i.condition);if(a){const l=await $E(a,e)?i.thenValue:i.elseValue||"";if(l)if(l.match(/^\{\{[^}]+\}\}$/)){const c=l.slice(2,-2),d=await e(c);n.push(d||"")}else{let c=l;const d=/\{\{([^}]+)\}\}/g;let f;for(;(f=d.exec(l))!==null;){const p=f[1],g=await e(p);c=c.replace(f[0],g||"")}n.push(c)}}else n.push(i.elseValue||"")}return n.join("")}function _se(t){if(!t||typeof t!="string")return[];const e=[],r=vx(t);return r&&(qE(r.left)&&e.push(r.left),r.right&&qE(r.right)&&e.push(r.right)),e}async function Ase(t,e){if(!t)return!0;if(t.condition&&typeof t.condition=="string"){const r=vx(t.condition);if(r)return await $E(r,e)}if(t.prompt&&typeof t.prompt=="string"){const r=/\{\{if:([^}]+)\}\}run(?:\{\{else:skip\}\})?/i,n=t.prompt.match(r);if(n){const i=vx(n[1]);if(i)return await $E(i,e)}}return!0}function HE(t){if(!t||typeof t!="string")return!1;let e=t;return e.includes("-")&&(e=e.split("-")[0]),e.includes(":")&&(e.startsWith("prompt:")||e.startsWith("output:")?e=e.split(":")[1]:e=e.split(":")[e.split(":").length-1]),e.includes("!")&&(e=e.split("!")[e.split("!").length-1]),/^[A-Za-z]+\d+$/.test(e)}function Zc(t){if(!t||typeof t!="string")return[];const e=[],r=/\{\{if:([^}]+)\}\}then:([^{]+?)(?:\{\{else:([^}]+)\}\})?/g;let n;for(;(n=r.exec(t))!==null;){const s=n[1],l=n[2],c=n[3],d=_se(s);e.push(...d);const f=o6(l),p=c?o6(c):[];e.push(...f,...p)}const i=/\{\{([^}]+)\}\}/g;let a;for(;(a=i.exec(t))!==null;){const s=a[1];!s.startsWith("if:")&&!s.startsWith("then:")&&!s.startsWith("else:")&&e.push(s)}return[...new Set(e)]}function o6(t){if(!t||typeof t!="string")return[];const e=[],r=/\{\{([^}]+)\}\}/g;let n;for(;(n=r.exec(t))!==null;)e.push(n[1]);return e}async function l6(t,e){const{sheets:r,currentSheet:n,getCell:i,loadSheetCells:a,userId:s,projectId:l}=e;t.includes("!");try{let c=t,d=!1;if(t.includes(":")&&(t.startsWith("prompt:")||t.startsWith("output:"))&&(c=t.split(":")[1],d=!0),c.includes("!")&&(c=c.split("!")[c.split("!").length-1]),c.includes("-")&&(c=c.split("-")[0]),c.includes(":")&&(c=c.split(":")[0]),!HE(c))return t;let f=n,p=t,g="output",m=null,w=!1,S=t;if(t.includes(":")&&(t.startsWith("prompt:")||t.startsWith("output:"))){const z=t.indexOf(":");g=t.substring(0,z),S=t.substring(z+1)}if(S.includes("!")){w=!0,t.startsWith("prompt:")||t.startsWith("output:")||(g="prompt");const L=S.indexOf("!"),I=S.substring(0,L),D=S.substring(L+1);if(f=r.find($=>$.name===I||$.name?.toLowerCase()===I?.toLowerCase()),!f)return console.warn(` Cross-sheet reference failed: Sheet "${I}" not found. Available sheets:`,r.map($=>$.name)),`[Sheet "${I}" not found]`;console.log(` Found target sheet "${I}" (ID: ${f.id}) for cross-sheet reference`),!f.cells||Object.keys(f.cells).length===0?(console.log(` Loading cells for cross-sheet reference: sheet "${I}" (ID: ${f.id})`),a?(await a(f.id),f=r.find($=>$.id===f.id),f&&f.cells?console.log(` Loaded ${Object.keys(f.cells).length} cells for sheet "${I}"`):console.warn(` Cells not loaded for sheet "${I}" after loadSheetCells call`)):console.warn(" loadSheetCells function not provided in context")):console.log(` Cells already loaded for sheet "${I}" (${Object.keys(f.cells).length} cells)`),p=D}else p=S;if(p.includes("-")||p.includes(":")){if(p.includes("-")&&!p.includes(":")){const z=p.split("-");z.length===2&&!isNaN(parseInt(z[1]))&&(p=z[0],m={type:"single",index:parseInt(z[1])-1})}else if(p.includes(":")){const z=p.split(":");if(z.length===2){const L=z[1];if(L.includes("-")){const[I,D]=L.split("-").map($=>parseInt($)-1);!isNaN(I)&&!isNaN(D)&&(p=z[0],m={type:"range",start:I,end:D})}else{const I=parseInt(L);isNaN(I)||(p=z[0],m={type:"single",index:I-1})}}}}if(f.id!==n.id){const z=r.find(L=>L.id===f.id);z&&(f=z)}let _;if(i?(_=await i(f.id,p),!_&&f.cells&&f.cells[p]&&(_=f.cells[p])):_=f.cells?.[p],!_)if(HE(p)){const z=f.id!==n.id?` in sheet "${f.name}"`:"",L=`Cell "${p}"${z} not found`;return console.warn(` ${L}`),alert(L),""}else return t;const k=_.output&&_.output.trim()!==""&&!_.output.includes("No generations yet")&&!_.output.includes("ERROR")&&!_.output.includes("[ERROR");let N=_.generations||[];const P=N.length>0?N[N.length-1]:null,F=P&&P.status==="completed";if(m&&(!N||N.length===0))try{const{getGenerations:z}=await Wa(async()=>{const{getGenerations:L}=await Promise.resolve().then(()=>dy);return{getGenerations:L}},void 0);if(s&&l){const L=await z(s,l,f.id,p);L.success&&L.generations&&(N=L.generations.sort((I,D)=>{const $=I.timestamp?.toDate?I.timestamp.toDate():new Date(I.timestamp||I.createdAt||0);return(D.timestamp?.toDate?D.timestamp.toDate():new Date(D.timestamp||D.createdAt||0))-$}),_.generations=N)}}catch{}let O;if(m){if(!N||N.length===0)O=`[ERROR: Cell ${p} has no generations]`;else if(m.type==="single"){const z=m.index,L=N.length-1-z;L>=0&&L<N.length?O=N[L].output||"":O=`[ERROR: Cell ${p} generation ${z+1} not found (has ${N.length} generations)]`}else if(m.type==="range"){const{start:z,end:L}=m,I=N.length-1-L,D=N.length-1-z;I>=0&&D<N.length&&I<=D?O=N.slice(I,D+1).reverse().map(j=>j.output||"").join(`

---

`):O=`[ERROR: Cell ${p} generation range ${z+1}-${L+1} not found (has ${N.length} generations)]`}}else if(g==="prompt"){if(O=_.prompt||"",!O||O.trim()===""){const z=f.id!==n.id?` in sheet "${f.name}"`:"",L=`Cell ${p}${z} has no prompt text available`;console.warn(` ${L}`),alert(L),O=""}}else{const z=_.output||"";if(!z||z.trim()===""||z==="No generations yet"||z.includes(" No generations yet")||z.includes("No generations yet")&&z.includes("Run"))if(_.prompt&&_.prompt.trim()!=="")O=_.prompt;else{const I=f.id!==n.id?` in sheet "${f.name}"`:"",D=`Cell ${p}${I} has no output or prompt available`;console.warn(` ${D}`),alert(D),O=""}else{const I=z.match(/<img[^>]+src=["']([^"']+)["'][^>]*>/i);if(I&&I[1])O=I[1];else if(z.match(/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp|svg)/i))O=z.trim();else{const D=document.createElement("div");D.innerHTML=z,O=D.textContent||D.innerText||z}}}return O||""}catch(c){return`[ERROR: ${c.message}]`}}async function Sse(t,e){if(!t||typeof t!="string")return t;let n=await wse(t,async s=>HE(s)?await l6(s,e):s);const i=Zc(n);if(i.length===0)return n;for(const s of i){const l=await l6(s,e),c=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),d=new RegExp(`\\{\\{${c}\\}\\}`,"g");n=n.replace(d,l)}const a=n.match(new RegExp("\\{\\{[^}]+(?<!if:)(?<!then:)(?<!else:)\\}\\}","g"));if(a&&a.length>0){const s=a.filter(l=>!l.includes("if:")&&!l.includes("then:")&&!l.includes("else:"));s.length>0&&s.forEach(l=>{n=n.replace(l,"")})}return n}function F_(t,e){const r=[];for(const n of e)if(n.cells)for(const[i,a]of Object.entries(n.cells)){if(!a.prompt)continue;Zc(a.prompt).some(l=>{let c=l;return c.includes(":")&&(c=c.split(":")[1]),c.includes("!")&&(c=c.split("!")[1]),c.includes("-")&&(c=c.split("-")[0]),c.includes(":")&&(c=c.split(":")[0]),c===t})&&r.push({sheetId:n.id,cellId:i,sheetName:n.name})}return r}function Ese(t){if(!t||typeof t!="string")return t;let e=t.trim();return e=e.replace(/\s+/g," "),[/\b(please\s+)?(kindly\s+)?(can\s+you\s+)?(could\s+you\s+)?(would\s+you\s+)?(i\s+would\s+like\s+you\s+to\s+)?(i\s+want\s+you\s+to\s+)?(i\s+need\s+you\s+to\s+)?/gi,/\b(please\s+)?(make\s+sure\s+to\s+)?(be\s+sure\s+to\s+)?(ensure\s+that\s+)?/gi,/\b(very\s+)?(really\s+)?(quite\s+)?(extremely\s+)?(incredibly\s+)?/gi,/\b(i\s+think\s+)?(i\s+believe\s+)?(i\s+feel\s+)?(in\s+my\s+opinion\s+)?/gi,/\b(that\s+is\s+)?(which\s+is\s+)?(that\s+are\s+)?/gi,/\b(and\s+also\s+)/gi,/\b(but\s+however\s+)/gi,/\b(in\s+order\s+to\s+)/gi,/\b(so\s+that\s+)/gi,/\b(as\s+well\s+as\s+)/gi].forEach(i=>{e=e.replace(i," ")}),[{pattern:/\bcreate\s+a\s+/gi,replacement:"create "},{pattern:/\bwrite\s+a\s+/gi,replacement:"write "},{pattern:/\bgenerate\s+a\s+/gi,replacement:"generate "},{pattern:/\bmake\s+a\s+/gi,replacement:"make "},{pattern:/\bprovide\s+me\s+with\s+/gi,replacement:"provide "},{pattern:/\bgive\s+me\s+a\s+/gi,replacement:"give "},{pattern:/\bshow\s+me\s+a\s+/gi,replacement:"show "},{pattern:/\btell\s+me\s+about\s+/gi,replacement:"describe "},{pattern:/\bexplain\s+to\s+me\s+/gi,replacement:"explain "},{pattern:/\bhelp\s+me\s+(to\s+)?/gi,replacement:""},{pattern:/\bi\s+am\s+looking\s+for\s+/gi,replacement:"find "},{pattern:/\bi\s+want\s+to\s+/gi,replacement:""},{pattern:/\bi\s+need\s+to\s+/gi,replacement:""},{pattern:/\bwith\s+the\s+following\s+requirements?\s*:/gi,replacement:": "},{pattern:/\bthe\s+following\s+are\s+the\s+requirements?\s*:/gi,replacement:"requirements: "},{pattern:/\bhere\s+are\s+the\s+details?\s*:/gi,replacement:""},{pattern:/\bdetails?\s+are\s+as\s+follows?\s*:/gi,replacement:": "}].forEach(({pattern:i,replacement:a})=>{e=e.replace(i,a)}),e=e.replace(/\.{2,}/g,"."),e=e.replace(/!{2,}/g,"!"),e=e.replace(/\?{2,}/g,"?"),e=e.replace(/,{2,}/g,","),e=e.replace(/^[,\s.]+/,""),e=e.replace(/[,\s.]+$/,""),e=e.replace(/\(\s*\)/g,""),e=e.replace(/\[\s*\]/g,""),e=e.replace(/\{\s*\}/g,""),e=e.replace(/\s+/g," ").trim(),e=e.replace(/^(so\s+|and\s+|but\s+|then\s+|now\s+)/i,""),e.length>0&&e[0]!==e[0].toUpperCase()&&(e=e[0].toUpperCase()+e.slice(1)),e.length>10&&!/[.!?]$/.test(e)&&!e.includes("{{")&&!e.match(/^[A-Z]/)&&(e+="."),e.trim()}function Tse(t,e=100){return!t||typeof t!="string"?!1:t.trim().length>e}const XU={free:0,starter:0,pro:5*1024*1024*1024,enterprise:-1};async function fy(t,e=0){try{const r=await Cf(t);if(!r.success)return{allowed:!1,reason:"Unable to verify subscription status"};const n=r.data.subscription||"free",i=XU[n]||0;if(n==="free"||n==="starter")return{allowed:!1,reason:"Storage not available on Free/Starter plan",subscription:n,limit:0};if(n==="enterprise")return{allowed:!0,subscription:n,limit:-1,used:0};if(n==="pro"){if(i>0&&0+e>i){const s=0 .toFixed(2),l=(i/(1024*1024*1024)).toFixed(0);return{allowed:!1,reason:`Storage limit exceeded. You've used ${s}GB of ${l}GB. Please delete some files or upgrade to Enterprise for unlimited storage.`,subscription:n,limit:i,used:0}}return{allowed:!0,subscription:n,limit:i,used:0}}return{allowed:!1,reason:"Storage not available for your subscription plan",subscription:n}}catch(r){return console.error("Error checking storage permission:",r),{allowed:!1,reason:"Error checking storage permissions"}}}function kse(t){const e=XU[t]||0;return t==="free"||t==="starter"?"Free/Starter users cannot save media to Firebase Storage. Please download copies of your images and videos.":t==="pro"?`Pro users have ${(e/1073741824).toFixed(0)}GB storage limit. Upgrade to Enterprise for unlimited storage.`:t==="enterprise"?"Enterprise users have unlimited storage.":"Storage limits vary by subscription plan."}const u6=Object.freeze(Object.defineProperty({__proto__:null,checkStoragePermission:fy,getStorageLimitMessage:kse},Symbol.toStringTag,{value:"Module"}));async function QU(){try{const t=bd.currentUser;if(!t)return{};const e=await t.getIdToken();return e?{Authorization:`Bearer ${e}`}:{}}catch{return{}}}async function ZU(t,e){try{const r=iv(av,`users/${e}/profile/${t.name}`);return await zk(r,t),{success:!0,url:await $k(r)}}catch(r){return{success:!1,error:r.message}}}async function eC(t,e,r,n,i){try{console.log(` Starting image upload from URL: ${t.substring(0,100)}...`);const a=await fetch("/api/proxy-image",{method:"POST",headers:{"Content-Type":"application/json",...await QU()},body:JSON.stringify({url:t})});if(!a.ok){let k=`Failed to proxy image: ${a.statusText} (${a.status})`;try{const N=await a.json();k=N.error||N.message||N.details||k,console.error(" Proxy error response:",N)}catch{const P=await a.text().catch(()=>"");k=P||k,console.error(" Proxy error (non-JSON):",P)}throw a.status===500&&k.includes("Unknown error")&&(k="Server error: The backend server may not be running. Please ensure the Node.js server is running on port 3000."),new Error(k)}const s=await a.json();if(!s.success||!s.dataUrl)throw console.error(" Invalid proxy response:",s),new Error(s.error||"Invalid response from proxy endpoint");const c=await(await fetch(s.dataUrl)).blob(),d=await fy(e,c.size);if(!d.allowed){const k=d.reason||"Storage not available for your subscription plan";return console.warn(` Storage upload blocked: ${k}`),{success:!1,error:k,blocked:!0,subscription:d.subscription}}let f="jpg";const p=t.toLowerCase();p.includes(".png")?f="png":p.includes(".gif")?f="gif":p.includes(".webp")?f="webp":c.type==="image/png"?f="png":c.type==="image/gif"?f="gif":c.type==="image/webp"&&(f="webp");const g=Date.now(),m=`images/${e}/${r}/${n}/${i}/${g}.${f}`,w=iv(av,m),S={contentType:c.type||"image/jpeg",cacheControl:"public, max-age=31536000"};await zk(w,c,S);const _=await $k(w);return console.log(` Image uploaded, download URL: ${_}`),{success:!0,url:_}}catch(a){return console.error("Error uploading image to Firebase Storage:",a),{success:!1,error:a.message}}}async function rw(t,e,r,n,i){try{console.log(" Starting video upload:",{videoUrl:t.substring(0,100),userId:e,projectId:r,sheetId:n,cellId:i});const a=bd.currentUser;if(!a){const p="User not authenticated. Cannot upload video to Firebase Storage.";return console.error(` ${p}`),{success:!1,error:p}}if(a.uid!==e){const p=`User ID mismatch. Authenticated as ${a.uid}, but trying to upload for ${e}`;return console.error(` ${p}`),{success:!1,error:p}}console.log(` User authenticated: ${a.uid}`);const s=await fy(e);if(!s.allowed){const p=s.reason||"Storage not available for your subscription plan";return console.warn(` Storage upload blocked: ${p}`),{success:!1,error:p,blocked:!0,subscription:s.subscription}}console.log(" Uploading video via server-side endpoint (streaming, no base64 conversion)...");const l=new AbortController,c=setTimeout(()=>{l.abort(),console.error(" Upload request timed out after 120 seconds")},12e4);let d;try{const p=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:3000":"https://gpt-cells-app-production.up.railway.app";console.log(` Calling upload-video endpoint: ${p}/api/upload-video`),d=await fetch(`${p}/api/upload-video`,{method:"POST",headers:{"Content-Type":"application/json",...await QU()},body:JSON.stringify({videoUrl:t,userId:e,projectId:r,sheetId:n,cellId:i}),signal:l.signal}),clearTimeout(c)}catch(p){throw clearTimeout(c),p.name==="AbortError"?new Error("Upload request timed out. The video may be too large or the server is slow."):p}if(!d.ok){let p=`Failed to upload video: ${d.statusText} (${d.status})`;try{const g=await d.json();p=g.error||g.message||p,console.error(" Upload error response:",g)}catch{const m=await d.text().catch(()=>"");p=m||p,console.error(" Upload error (non-JSON):",m)}throw(p.includes("no longer available")||p.includes("expire")||p.includes("1 hours"))&&(p="Video URL expired. OpenAI video URLs expire after 1 hour. The video must be saved immediately after generation. Please regenerate the video."),console.error(` Upload error: ${p}`),new Error(p)}const f=await d.json();if(!f.success||!f.url){const p="Invalid response from upload endpoint";throw console.error(` ${p}:`,f),new Error(p)}return console.log(` Video uploaded successfully! Firebase URL: ${f.url.substring(0,100)}...`),{success:!0,url:f.url}}catch(a){return console.error(" Error uploading video to Firebase Storage:",a),console.error(" Error details:",{message:a.message,code:a.code,stack:a.stack}),{success:!1,error:a.message||"Unknown error occurred"}}}async function tC(t,e,r,n,i){try{let a;if(t.startsWith("data:audio")){console.log(" Uploading audio from data URL..."),a=await(await fetch(t)).blob();const w=await fy(e,a.size);if(!w.allowed){const S=w.reason||"Storage not available for your subscription plan";return console.warn(` Storage upload blocked: ${S}`),{success:!1,error:S,blocked:!0,subscription:w.subscription}}}else{console.log(` Starting audio upload from URL: ${t.substring(0,100)}...`);const m=await fetch("/api/proxy-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})});if(!m.ok){let k=`Failed to proxy audio: ${m.statusText} (${m.status})`;try{const N=await m.json();k=N.error||N.message||N.details||k,console.error(" Proxy error response:",N)}catch{const P=await m.text().catch(()=>"");k=P||k,console.error(" Proxy error (non-JSON):",P)}throw m.status===500&&k.includes("Unknown error")&&(k="Server error: The backend server may not be running. Please ensure the Node.js server is running on port 3000."),new Error(k)}const w=await m.json();if(!w.success||!w.dataUrl)throw new Error("Invalid response from proxy endpoint");a=await(await fetch(w.dataUrl)).blob();const _=await fy(e,a.size);if(!_.allowed){const k=_.reason||"Storage not available for your subscription plan";return console.warn(` Storage upload blocked: ${k}`),{success:!1,error:k,blocked:!0,subscription:_.subscription}}}let s="mp3";const l=t.toLowerCase();l.includes(".wav")||l.includes("audio/wav")?s="wav":l.includes(".ogg")||l.includes("audio/ogg")?s="ogg":a.type==="audio/wav"||a.type==="audio/wave"?s="wav":a.type==="audio/ogg"?s="ogg":(a.type==="audio/mpeg"||a.type==="audio/mp3")&&(s="mp3");const c=Date.now(),d=`audio/${e}/${r}/${n}/${i}/${c}.${s}`,f=iv(av,d),p={contentType:a.type||"audio/mpeg",cacheControl:"public, max-age=31536000"};await zk(f,a,p);const g=await $k(f);return console.log(` Audio uploaded, download URL: ${g.substring(0,100)}...`),{success:!0,url:g}}catch(a){return console.error("Error uploading audio to Firebase Storage:",a),{success:!1,error:a.message}}}async function JU(t,e,r,n){try{console.log(` Deleting all assets for cell: ${n}`);let i=0;const a=[],s=["images","videos","audio"];for(const l of s)try{const c=`${l}/${t}/${e}/${r}/${n}`,d=iv(av,c),p=(await ME(d)).items.map(async g=>{try{await SU(g),i++,console.log(` Deleted ${l}: ${g.fullPath}`)}catch(m){console.error(` Error deleting ${g.fullPath}:`,m),a.push(`${g.fullPath}: ${m.message}`)}});await Promise.all(p)}catch(c){c.code==="storage/object-not-found"||c.code==="storage/not-found"?console.log(` No ${l} directory found for cell ${n}`):(console.error(` Error deleting ${l} for cell ${n}:`,c),a.push(`${l}: ${c.message}`))}return a.length>0?(console.warn(" Some errors occurred while deleting assets:",a),{success:!0,deletedCount:i,warnings:a,error:`Some files could not be deleted: ${a.join("; ")}`}):(console.log(` Deleted ${i} assets for cell ${n}`),{success:!0,deletedCount:i})}catch(i){return console.error("Error deleting cell assets:",i),{success:!1,error:i.message}}}async function Cse(t,e,r,n=[]){try{console.log(` Deleting all assets for sheet: ${r} (${n.length} cells)`);let i=0;const a=[];if(n.length>0)for(const s of n){const l=await JU(t,e,r,s);l.success?i+=l.deletedCount||0:a.push(`Cell ${s}: ${l.error}`)}else{const s=["images","videos","audio"];for(const l of s)try{const c=`${l}/${t}/${e}/${r}`,d=iv(av,c),f=await ME(d);for(const p of f.prefixes){const m=(await ME(p)).items.map(async w=>{try{await SU(w),i++,console.log(` Deleted ${l}: ${w.fullPath}`)}catch(S){console.error(` Error deleting ${w.fullPath}:`,S),a.push(`${w.fullPath}: ${S.message}`)}});await Promise.all(m)}}catch(c){c.code==="storage/object-not-found"||c.code==="storage/not-found"?console.log(` No ${l} directory found for sheet ${r}`):(console.error(` Error deleting ${l} for sheet ${r}:`,c),a.push(`${l}: ${c.message}`))}}return a.length>0?(console.warn(" Some errors occurred while deleting sheet assets:",a),{success:!0,deletedCount:i,warnings:a,error:`Some files could not be deleted: ${a.join("; ")}`}):(console.log(` Deleted ${i} assets for sheet ${r}`),{success:!0,deletedCount:i})}catch(i){return console.error("Error deleting sheet assets:",i),{success:!1,error:i.message}}}const eV=Object.freeze(Object.defineProperty({__proto__:null,deleteCellAssets:JU,deleteSheetAssets:Cse,uploadAudioFromUrl:tC,uploadImageFromUrl:eC,uploadProfilePhoto:ZU,uploadVideoFromUrl:rw},Symbol.toStringTag,{value:"Module"}));async function tV(){try{const t=bd.currentUser;if(!t)return{};const e=await t.getIdToken();return e?{Authorization:`Bearer ${e}`}:{}}catch{return{}}}const rV={free:{id:"free",name:"Free",price:0,priceId:null,monthlyCredits:50,features:["50 credits per month","Basic AI models","Community support"],limits:{maxProjects:3,maxSheets:5,maxCells:20}},starter:{id:"starter",name:"Starter",price:9.99,priceId:null,monthlyCredits:500,features:["500 credits per month","All AI models","Priority support","Unlimited projects","Unlimited sheets"],limits:{maxProjects:-1,maxSheets:-1,maxCells:-1}},pro:{id:"pro",name:"Pro",price:29.99,priceId:null,monthlyCredits:2e3,features:["2,000 credits per month","All AI models","Priority support","Unlimited projects","Unlimited sheets","Advanced features"],limits:{maxProjects:-1,maxSheets:-1,maxCells:-1}},enterprise:{id:"enterprise",name:"Enterprise",price:99.99,priceId:null,monthlyCredits:1e4,features:["10,000 credits per month","All AI models","24/7 support","Unlimited everything","Custom integrations","Dedicated account manager"],limits:{maxProjects:-1,maxSheets:-1,maxCells:-1}}};async function Ih(){try{const t=await Qk();if(t.success&&t.data&&t.data.length>0){const e={};return t.data.forEach(r=>{e[r.id]=r}),e}}catch{}return rV}async function bx(t){const e=await Ih();return e[t]||e.free||rV.free}Ih().then(t=>{});function nV(){return window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`http://${window.location.hostname}:3000`:"https://gpt-cells-app-production.up.railway.app"}async function iV(t,e){try{const n=await(await fetch(`${nV()}/api/stripe/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json",...await tV()},body:JSON.stringify({priceId:t,userId:e})})).json();return n.success?{success:!0,sessionId:n.sessionId,url:n.url}:{success:!1,error:n.error}}catch(r){return{success:!1,error:r.message}}}async function aV(t){try{const r=await(await fetch(`${nV()}/api/stripe/create-portal-session`,{method:"POST",headers:{"Content-Type":"application/json",...await tV()},body:JSON.stringify({customerId:t})})).json();return r.success?{success:!0,url:r.url}:{success:!1,error:r.error}}catch(e){return{success:!1,error:e.message}}}function sV(t,e=""){return t==="text"?e.includes("gpt-4o")||e.includes("gemini-1.5-pro")?2:1:t==="image"?e.includes("dall-e-3")||e.includes("imagen-3")?5:3:t==="video"?20:t==="audio"?e.includes("hd")?3:2:1}function oV(t,e){return t>=e}const Nse=Object.freeze(Object.defineProperty({__proto__:null,createCheckoutSession:iV,createPortalSession:aV,getCreditCost:sV,getPlanById:bx,getSubscriptionPlans:Ih,hasEnoughCredits:oV},Symbol.toStringTag,{value:"Module"}));function Pse(t){return{markdown:"Format your response as Markdown with proper headings, lists, and formatting.",json:"Format your response as valid JSON.",html:"Format your response as HTML.",plain:"Format your response as plain text without any special formatting.","bullet-list":"Format your response as a bulleted list.","numbered-list":"Format your response as a numbered list.",code:"Format your response as code with proper syntax highlighting."}[t]||null}function c6(t){if(!t||typeof t!="string")return!1;let e=t;return e.includes("-")&&(e=e.split("-")[0]),e.includes(":")&&(e=e.split(":")[e.split(":").length-1]),/^[A-Za-z]+\d+$/.test(e)}async function jse(t,e,r,n=null,i=null,a=null,s=null){if(!t.prompt)return!0;const l=Zc(t.prompt);if(l.length===0)return!0;for(const c of l){let d=c;if(d.includes(":")&&(d=d.split(":")[1]),d.includes("!")){const F=d.split("!");d=F[F.length-1]}if(d.includes("-")&&(d=d.split("-")[0]),d.includes(":")&&(d=d.split(":")[0]),!c6(d))continue;let f=null,p=r;if(c.includes("!")){const F=c.split("!");let O=F[0];if(O.includes(":")){const z=O.indexOf(":");O=O.substring(z+1)}if(p=e.find(z=>z.name===O),!p)return console.warn(` Dependency sheet "${O}" not found. Available sheets:`,e.map(z=>z.name)),!1;if(d=F[F.length-1],d.includes("-")&&(d=d.split("-")[0]),d.includes(":")&&(d=d.split(":")[0]),!p.cells||Object.keys(p.cells).length===0){if(console.log(` Loading cells for cross-sheet reference: "${O}" (ID: ${p.id})...`),a&&s)try{const{getSheetCells:z}=await Wa(async()=>{const{getSheetCells:I}=await Promise.resolve().then(()=>dy);return{getSheetCells:I}},void 0),L=await z(a,s,p.id);if(L.success&&L.cells){const I={};L.cells.forEach(j=>{I[j.cell_id]={...j,x:j.x||0,y:j.y||0,width:j.width||350,height:j.height||null,model:j.model||"gpt-3.5-turbo",temperature:j.temperature??.7,generations:j.generations||[],output:j.output||"",status:j.status||null,jobId:j.jobId||null,prompt:j.prompt||""}}),p.cells=I,console.log(` Loaded ${Object.keys(I).length} cells for sheet "${O}"`);const D=Object.keys(I)[0];if(D){const j=I[D];console.log(` Sample cell "${D}": hasOutput=${!!j.output}, outputLength=${j.output?.length||0}, generations=${j.generations?.length||0}`)}const $=e.find(j=>j.id===p.id);$&&(p=$)}}catch(z){console.error(` Error loading cells for sheet "${O}":`,z)}}else{const z=e.find(L=>L.id===p.id);z&&(p=z)}}if(n&&p.id===r.id){const F=n();F&&F[d]&&(f=F[d])}if(!f&&p&&p.cells&&(f=p.cells[d]),!f)return c6(d)&&console.warn(`Dependency cell "${d}" not found`),!1;if(i&&i.has(d))return!1;const g=f.generations||[],m=g.length>0?g[g.length-1]:null,w=m&&m.status==="completed",S=f.status==="error"||m?.status==="error",_=f.output||"",k=_.trim()!==""&&!_.includes("No generations yet")&&!_.includes("ERROR")&&!_.includes("[ERROR")&&!_.includes("[Sheet")&&!_.includes("[Cell"),N=Array.isArray(g)&&g.length>0,P=w||k||S||N;if(c.includes("!")&&!P&&Math.random()<.02&&console.log(` Cross-sheet dependency "${c}" (${d}) not complete:`,{hasOutput:k,hasCompletedGen:w,hasError:S,hasGenerations:N,generationsCount:g.length,outputLength:_.length,outputPreview:_.substring(0,100),cellStatus:f.status,latestGenStatus:m?.status}),!P)return!1}return!0}async function lV({cellId:t,cell:e,userId:r,projectId:n,sheetId:i,sheets:a,currentSheet:s,onProgress:l,getLatestCells:c=null,runningCellsSet:d=null}){try{l&&l({status:"resolving",cellId:t});const f={prompt:e.prompt||"",resolvedPrompt:"",output:"",model:e.model||"gpt-3.5-turbo",temperature:e.temperature??.7,type:Vo(e.model||"gpt-3.5-turbo"),status:"pending",timestamp:new Date};if(!await Ase(e,async Z=>{if(Z&&/^[A-Za-z]+\d+$/.test(Z)){const q=a.find(re=>re.id===s.id)||s,Q=c?c()?.[Z]:q.cells?.[Z];if(Q)return Q.output||""}return Z||""})){console.log(`  Cell ${t} skipped due to condition`),l&&l({status:"skipped",cellId:t,message:"Cell execution skipped due to condition"});const Z={...f,status:"skipped",output:"[Cell execution skipped due to condition]",timestamp:new Date},q={...e,generations:[...e.generations||[],Z],updatedAt:new Date};return r&&n&&i&&(await Ka(r,n,i,t,q),await gm(r,n,i,t,Z)),{success:!0,cellId:t,skipped:!0,output:"[Cell execution skipped due to condition]"}}f.status="running",l&&l({status:"generating",cellId:t});const m=e.prompt||"",w=e.cellPrompt||"",S=w?`${w}

${m}`:m;let _=await Sse(S,{sheets:a,currentSheet:s,userId:r,projectId:n,runningCellsSet:d,getLatestCells:c,getCell:async(Z,q)=>{const Q=a.find(re=>re.id===Z);return!Q||!Q.cells?null:c&&Z===s.id?c()?.[q]||null:Q.cells[q]||null},loadSheetCells:async Z=>{console.log(` Loading cells for sheet ${Z}...`);try{const{getSheetCells:q}=await Wa(async()=>{const{getSheetCells:re}=await Promise.resolve().then(()=>dy);return{getSheetCells:re}},void 0),Q=await q(r,n,Z);if(Q.success&&Q.cells){const re=a.find(ae=>ae.id===Z);if(re){const ae={};Q.cells.forEach(ye=>{ae[ye.cell_id]={...ye,x:ye.x||0,y:ye.y||0,width:ye.width||350,height:ye.height||null,model:ye.model||"gpt-3.5-turbo",temperature:ye.temperature??.7,generations:ye.generations||[],output:ye.output||"",prompt:ye.prompt||"",status:ye.status||null,jobId:ye.jobId||null}}),re.cells=ae,console.log(` Loaded ${Object.keys(ae).length} cells for sheet ${Z}`)}}}catch(q){console.error(` Error loading cells for sheet ${Z}:`,q)}}});l&&l({status:"generating",cellId:t}),S!==_&&console.log(` Dependencies resolved for cell ${t}:`,{original:S.substring(0,100),resolved:_.substring(0,200)}),_.includes("{{")&&(console.warn(` Unresolved dependency tags found in resolved prompt for cell ${t}. Removing them.`),_=_.replace(/\{\{[^}]+\}\}/g,""),_=_.replace(/\s+/g," ").trim());const k=e.model||"gpt-3.5-turbo",N=e.temperature??.7,P=e.characterLimit||0,F=e.outputFormat||"";let O=_;if(F&&Vo(k)==="text"){const Z=Pse(F);Z&&(O=`${_}

${Z}`)}if(Tse(O)&&(O=Ese(O)),Vo(k)==="image"){const Z=/https?:\/\/[^\s]+\.(jpg|jpeg|png|gif|webp|svg|bmp)(\?[^\s]*)?/gi;O=O.replace(Z,Q=>"the referenced image");const q=/https?:\/\/[^\s]{100,}/g;if(O=O.replace(q,Q=>Q.includes("firebasestorage")||Q.includes("image")||Q.includes("img")||Q.includes("photo")||Q.match(/\.(jpg|jpeg|png|gif|webp|svg|bmp)/i)?"the referenced image":Q),O.length>200){const Q=O.split(/\n\n|\.\s+(?=[A-Z])/);if(Q.length>2){const re=Q[0].trim(),ae=Q.slice(1).join(" "),ye=[],Te=ae.toLowerCase().split(/\s+/);for(let he=0;he<Te.length-1;he++){const Ce=Te[he],We=Te[he+1];Ce.match(/^(young|old|giant|small|tall|short|brave|fierce|ancient|modern|colorful|dark|bright|large|tiny|huge|massive|powerful|mighty)$/)&&ye.push(`${Te[he]} ${We}`)}["david","goliath","warrior","shepherd","boy","giant","battle","sword","shield"].forEach(he=>{ae.toLowerCase().includes(he)&&!ye.some(Ce=>Ce.includes(he))&&ye.push(he)}),ye.length>0?O=`${re}, featuring ${ye.slice(0,6).join(", ")}`:O=re}}O=O.replace(/\s+for\s+the\s+referenced\s+image/gi," for the referenced image"),O=O.replace(/\s+the\s+referenced\s+image\s+the\s+referenced\s+image/gi," the referenced image"),O=O.replace(/\s+/g," ").trim()}P>0&&Vo(k)==="text"&&(O=`${O}

IMPORTANT: Your response must be exactly ${P} characters or less. Generate your complete response within this character limit. Do not exceed it.`);const z=await Cf(r);if(!z.success)throw new Error("Failed to check subscription status");const L=z.data,I=L?.credits?.current||0,D=L?.credits?.nextReset;if(D){let Z;if(D.toDate?Z=D.toDate():D.seconds?Z=new Date(D.seconds*1e3):D instanceof Date?Z=D:Z=new Date(D),new Date>=Z){const Q=L.subscription||"free",re=await bx(Q);await Xk(r,Q,re.monthlyCredits);const ae=await Cf(r);ae.success&&(L.credits=ae.data.credits)}}const $=Vo(k),j=sV($,k),V=L?.credits?.current||0;if(!oV(V,j))throw new Error(`Insufficient credits. You need ${j} credits but only have ${V}. Please upgrade your subscription.`);const M=P>0?Math.ceil(P/4):void 0;let J;if($==="video"){const Z=e.videoSeconds,q=String(Z||"8"),re=["4","8","12"].includes(q)?q:"8";console.log(` cellExecution: videoSeconds value="${Z}" (type: ${typeof Z}) -> final="${re}" (type: ${typeof re})`),J={seconds:re,resolution:e.videoResolution||"720p",aspectRatio:e.videoAspectRatio||"9:16"},console.log(` cellExecution: Final videoSettings.seconds type: ${typeof J.seconds}, value: "${J.seconds}"`)}let _e;$==="audio"&&(_e={voice:e.audioVoice||"alloy",speed:e.audioSpeed??1,format:e.audioFormat||"mp3"},console.log(" cellExecution: Audio settings:",_e)),J&&J.seconds&&console.log(` cellExecution: Before generateAI call - seconds type: ${typeof J.seconds}, value: "${J.seconds}"`);const se=await Jk(O,k,N,M,J,_e,r);if(se.success){const Z=await zU(r,j);Z.success?L?.credits&&(L.credits.current=Z.remainingCredits):console.warn("Failed to deduct credits:",Z.error)}if(!se.success)throw new Error(se.error||"AI generation failed");if(se.jobId&&se.status){const Z={...f,prompt:m,resolvedPrompt:_,output:"",model:k,temperature:N,type:Vo(k),status:"pending",jobId:se.jobId,timestamp:f.timestamp},q={...e,status:"pending",jobId:se.jobId,model:k,temperature:N,generations:[...e.generations||[],Z],updatedAt:new Date};return await Ka(r,n,i,t,q),await gm(r,n,i,t,Z),l&&l({status:"polling",cellId:t,updatedCell:q,message:"Job created, polling status..."}),console.log(` Job created for cell ${t}: ${se.jobId}, status: pending`),{success:!0,cellId:t,jobId:se.jobId,status:"pending",output:null,needsPolling:!0}}let ee=se.output;const fe=ee;if($==="image"&&ee&&typeof ee=="string"&&(ee.startsWith("http")||ee.startsWith("data:"))){const Z=ee.match(/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp)/i),q=ee.includes("dalle")||ee.includes("openai")||ee.includes("blob.core.windows.net")||ee.includes("imagen")||ee.includes("recraft")||ee.includes("flux");if((Z||q&&!ee.includes("firebasestorage.googleapis.com"))&&!ee.includes("firebasestorage.googleapis.com")){l&&l({status:"uploading",cellId:t}),console.log(` Auto-uploading image to Firebase Storage before saving: ${ee.substring(0,100)}...`);const re=await eC(ee,r,n,i,t);re.success?(ee=re.url,console.log(` Image auto-uploaded to Firebase Storage: ${ee.substring(0,100)}...`),l&&l({status:"uploaded",cellId:t})):re.blocked?(console.warn(` Image upload blocked: ${re.error}`),console.warn(" Free/Starter users cannot save to Firebase Storage. Please download copies of your images.")):(console.error(" Failed to auto-upload image to Firebase Storage:",re.error),console.warn(" Cell will be saved with original URL. Use save icon to retry upload."))}}else if($==="video"&&ee&&typeof ee=="string"&&ee.startsWith("http")){const Z=ee.match(/^https?:\/\/.+\.(mp4|webm|mov)/i),q=ee&&(ee.includes("openai.com")&&(ee.includes("video")||ee.includes("/videos/"))||ee.includes("cdn.openai.com")),Q=ee&&ee.includes("api.openai.com")&&ee.includes("/videos/")&&ee.includes("/content"),re=ee.includes("sora")||ee.includes("runway")||ee.includes("pika")||ee.includes("stable-video");if((Z||q||Q||re)&&!ee.includes("firebasestorage.googleapis.com")){l&&l({status:"uploading",cellId:t}),console.log(` Auto-uploading video to Firebase Storage before saving (CRITICAL: OpenAI videos expire after 1 hour): ${ee.substring(0,100)}...`);const ye=await rw(ee,r,n,i,t);ye.success?(ee=ye.url,console.log(` Video auto-uploaded to Firebase Storage: ${ee.substring(0,100)}...`),l&&l({status:"uploaded",cellId:t})):ye.blocked?(console.warn(` Video upload blocked: ${ye.error}`),console.warn(" Free/Starter users cannot save to Firebase Storage. Please download copies of your videos."),console.warn(" NOTE: OpenAI video URLs expire after 1 hour. Download immediately!")):(console.error(" Failed to auto-upload video to Firebase Storage:",ye.error),console.warn(" Cell will be saved with original URL. Use save icon to retry upload."))}}else if($==="audio"&&ee&&(ee.match(/^https?:\/\/.+\.(mp3|wav|ogg)/i)||ee.startsWith("data:audio"))&&!ee.includes("firebasestorage.googleapis.com")){l&&l({status:"uploading",cellId:t}),console.log(` Auto-uploading audio to Firebase Storage before saving: ${ee.startsWith("data:")?"data URL":ee.substring(0,100)}...`);const Z=await tC(ee,r,n,i,t);Z.success?(ee=Z.url,console.log(` Audio auto-uploaded to Firebase Storage: ${ee.substring(0,100)}...`),l&&l({status:"uploaded",cellId:t})):Z.blocked?(console.warn(` Audio upload blocked: ${Z.error}`),console.warn(" Free/Starter users cannot save to Firebase Storage. Please download copies of your audio files.")):(console.error(" Failed to auto-upload audio to Firebase Storage:",Z.error),console.warn(" Cell will be saved with original URL. Use save icon to retry upload."))}l&&l({status:"saving",cellId:t});const we={...f,prompt:m,resolvedPrompt:_,output:ee,model:k,temperature:N,type:Vo(k),status:"completed",timestamp:f.timestamp};ee&&ee.includes("firebasestorage.googleapis.com")?console.log(` Saving generation with Firebase URL: ${ee.substring(0,100)}...`):ee&&(ee.includes("openai.com")||ee.includes("blob.core.windows.net"))&&console.warn(` Saving generation with original URL (auto-upload may have failed): ${ee.substring(0,100)}...`);const Be={...e,output:ee,model:k,temperature:N,generations:[...e.generations||[],we],updatedAt:new Date};return await Ka(r,n,i,t,Be),await gm(r,n,i,t,we),l&&l({status:"complete",cellId:t,output:ee,updatedCell:Be}),{success:!0,cellId:t,output:ee,generation:we}}catch(f){console.error(`Error running cell ${t}:`,f);const p={prompt:e.prompt||"",resolvedPrompt:"",output:"",model:e.model||"gpt-3.5-turbo",temperature:e.temperature??.7,type:Vo(e.model||"gpt-3.5-turbo"),status:"error",error:f.message,timestamp:new Date},g={...e,generations:[...e.generations||[],p],updatedAt:new Date};if(r&&n&&i)try{await Ka(r,n,i,t,g),await gm(r,n,i,t,p)}catch(m){console.error("Failed to save error generation:",m)}return l&&l({status:"error",cellId:t,error:f.message}),{success:!1,cellId:t,error:f.message}}}function rC(t,e,r=""){if(t==null)return"";const n=String(t);if(!n)return"";switch(e){case"image":return n.match(/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp)/i)?`<img src="${n}" alt="Generated image" class="max-w-full h-auto rounded" />`:n;case"video":return n.match(/^https?:\/\/.+\.(mp4|webm|mov)/i)?`<video src="${n}" controls class="max-w-full h-auto rounded" />`:n;case"audio":return n.match(/^https?:\/\/.+\.(mp3|wav|ogg)/i)||n.startsWith("data:audio")?`<audio src="${n}" controls class="w-full" />`:n;case"text":default:if(r&&e==="text")switch(r){case"markdown":return Rse(n);case"json":try{const d=JSON.parse(n);return`<pre class="bg-gray-900 p-3 rounded text-xs overflow-x-auto"><code>${Uc(JSON.stringify(d,null,2))}</code></pre>`}catch{return Uc(n).split(`
`).map(p=>p.trim()?`<p>${p}</p>`:"<br/>").join("")}case"html":return n;case"plain":return Uc(n).split(`
`).map(d=>d.trim()?`<p>${d}</p>`:"<br/>").join("");case"bullet-list":return`<ul class="list-disc list-inside space-y-1">${n.split(`
`).filter(d=>d.trim()).map(d=>`<li>${Uc(d.trim())}</li>`).join("")}</ul>`;case"numbered-list":return`<ol class="list-decimal list-inside space-y-1">${n.split(`
`).filter(d=>d.trim()).map(d=>`<li>${Uc(d.trim())}</li>`).join("")}</ol>`;case"code":return`<pre class="bg-gray-900 p-3 rounded text-xs overflow-x-auto"><code>${Uc(n)}</code></pre>`;default:return Uc(n).split(`
`).map(d=>d.trim()?`<p>${d}</p>`:"<br/>").join("")}return Uc(n).split(`
`).map(a=>a.trim()?`<p>${a}</p>`:"<br/>").join("")}}function Rse(t){let e=Uc(t);return e=e.replace(/^### (.*$)/gim,"<h3>$1</h3>"),e=e.replace(/^## (.*$)/gim,"<h2>$1</h2>"),e=e.replace(/^# (.*$)/gim,"<h1>$1</h1>"),e=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),e=e.replace(/__(.*?)__/g,"<strong>$1</strong>"),e=e.replace(/\*(.*?)\*/g,"<em>$1</em>"),e=e.replace(/_(.*?)_/g,"<em>$1</em>"),e=e.replace(/```([\s\S]*?)```/g,'<pre class="bg-gray-900 p-3 rounded text-xs overflow-x-auto"><code>$1</code></pre>'),e=e.replace(/`([^`]+)`/g,'<code class="bg-gray-800 px-1 rounded">$1</code>'),e=e.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-400 hover:underline" target="_blank" rel="noopener noreferrer">$1</a>'),e=e.replace(/^\* (.*$)/gim,"<li>$1</li>"),e=e.replace(/^- (.*$)/gim,"<li>$1</li>"),e=e.replace(/^(\d+)\. (.*$)/gim,"<li>$2</li>"),e=e.replace(/(<li>.*<\/li>\n?)+/g,r=>{const n=/\d+\./.test(r),i=n?"ol":"ul";return`<${i} class="list-${n?"decimal":"disc"} list-inside space-y-1">${r}</${i}>`}),e=e.split(`
`).map(r=>r.trim()?r:"<br/>").join(`
`),e=e.split(`
`).map(r=>r.trim()&&!r.match(/^<(h[1-6]|ul|ol|pre|p|li)/)?`<p>${r}</p>`:r).join(`
`),e}function Uc(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}const I0=new Map;function uV(t){I0.set(t,!0)}async function xx({cellId:t,cell:e,jobId:r,userId:n,projectId:i,sheetId:a,onProgress:s,maxAttempts:l=120,attempt:c=0}){if(I0.get(t))return console.log(` Polling cancelled for cell ${t}`),I0.delete(t),{success:!1,error:"Polling cancelled",cancelled:!0};if(c>=l){const d={...e,status:"error",output:"Generation timed out. The job may still be processing."};return await Ka(n,i,a,t,d),s&&s({status:"error",cellId:t,error:"Generation timed out"}),{success:!1,error:"Generation timed out"}}try{const d=await KU(r,n);if(!d.success){const m=typeof d.error=="string"?d.error:d.error?.message||JSON.stringify(d.error)||"Failed to check job status";throw new Error(m)}const{status:f,videoUrl:p}=d,g={...e,status:f};if(f==="completed"||f==="succeeded"||p){let m=p||"";console.log(` VIDEO URL RECEIVED for cell ${t}:`,{status:f,videoUrl:p,output:m,outputType:typeof m,outputLength:m?.length});const w=m&&m.match(/^https?:\/\/.+\.(mp4|webm|mov)/i),S=m&&(m.includes("openai.com")&&(m.includes("video")||m.includes("/videos/"))||m.includes("cdn.openai.com")),_=m&&m.includes("api.openai.com")&&m.includes("/videos/")&&m.includes("/content"),k=w||S||_;if(console.log(" Video URL check:",{output:m,hasVideoExtension:!!w,isOpenAIVideoUrl:!!S,isOpenAIContentEndpoint:!!_,isVideoUrl:k}),k&&!m.includes("firebasestorage.googleapis.com")){console.log(` Video generation completed, uploading to Firebase Storage immediately (OpenAI videos expire after 1 hour): ${m}`),s&&s({status:"uploading",cellId:t});try{const F=await rw(m,n,i,a,t);F.success?(console.log(` Video uploaded to Firebase Storage: ${F.url}`),m=F.url,console.log(` FINAL VIDEO URL (after upload): ${m}`),g.output=m,await Ka(n,i,a,t,g),s&&s({status:"complete",cellId:t,output:m,updatedCell:g}),console.log(" Cell updated with permanent Firebase URL")):(console.warn(" Failed to upload video to Firebase Storage, using original URL:",F.error),console.log(` Using original video URL: ${m}`))}catch(F){console.error(" Error uploading video:",F),console.error(" Upload error details:",F.message,F.stack),console.log(` Using original video URL after error: ${m}`)}}else console.log(` Video URL already in Firebase or not a video URL. Final output: ${m}`);const N=e.generations||[],P=N[N.length-1];return P&&P.jobId===r&&(P.status="completed",P.output=m),g.output=m,g.status="completed",g.generations=N,m&&m.includes("firebasestorage.googleapis.com")?console.log(` Saving async job result with Firebase URL: ${m.substring(0,100)}...`):m&&(m.includes("openai.com")||m.includes("blob.core.windows.net"))&&console.warn(` Saving async job result with original URL (auto-upload may have failed): ${m.substring(0,100)}...`),await Ka(n,i,a,t,g),P&&await gm(n,i,a,t,P),console.log(` Video generation completed for cell ${t}:`,{output:m,outputType:typeof m,outputLength:m?.length,hasVideoUrl:m&&(m.match(/^https?:\/\/.+\.(mp4|webm|mov)/i)||m.includes("openai.com")||m.includes("cdn.openai.com")||m.includes("firebasestorage.googleapis.com"))}),console.log(` FINAL VIDEO URL BEING SENT TO UI: ${m}`),s&&s({status:"complete",cellId:t,output:m,updatedCell:g}),{success:!0,output:m,cellId:t}}else{if(f==="failed"||f==="error")return g.status="error",g.output="Generation failed",await Ka(n,i,a,t,g),s&&s({status:"error",cellId:t,error:"Generation failed"}),{success:!1,error:"Generation failed"};{await Ka(n,i,a,t,g),s&&s({status:"polling",cellId:t,updatedCell:g,currentStatus:f}),console.log(` Polling: Cell ${t} status is "${f}", continuing to poll...`);const m=setTimeout(()=>{I0.get(t)?(console.log(` Polling cancelled for cell ${t}, stopping poll loop`),I0.delete(t)):xx({cellId:t,cell:g,jobId:r,userId:n,projectId:i,sheetId:a,onProgress:s,maxAttempts:l,attempt:c+1})},1e3);return{success:!0,status:f,needsPolling:!0}}}}catch(d){console.error(`Error polling job status for ${t}:`,d);const f=d?.message||(typeof d=="string"?d:JSON.stringify(d)),p={...e,status:"error",output:`Error: ${f}`};return await Ka(n,i,a,t,p),s&&s({status:"error",cellId:t,error:f}),{success:!1,error:f}}}const d6=Object.freeze(Object.defineProperty({__proto__:null,areAllDependenciesComplete:jse,cancelPolling:uV,formatOutput:rC,pollJobStatus:xx,runCell:lV},Symbol.toStringTag,{value:"Module"}));var xl=function(t,e){return Number(t.toFixed(e))},Ose=function(t,e){return e},pi=function(t,e,r){r&&typeof r=="function"&&r(t,e)},Ise=function(t){return-Math.cos(t*Math.PI)/2+.5},Dse=function(t){return t},Lse=function(t){return t*t},Mse=function(t){return t*(2-t)},Bse=function(t){return t<.5?2*t*t:-1+(4-2*t)*t},Fse=function(t){return t*t*t},Use=function(t){return--t*t*t+1},Vse=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},zse=function(t){return t*t*t*t},$se=function(t){return 1- --t*t*t*t},qse=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},Hse=function(t){return t*t*t*t*t},Gse=function(t){return 1+--t*t*t*t*t},Wse=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},cV={easeOut:Ise,linear:Dse,easeInQuad:Lse,easeOutQuad:Mse,easeInOutQuad:Bse,easeInCubic:Fse,easeOutCubic:Use,easeInOutCubic:Vse,easeInQuart:zse,easeOutQuart:$se,easeInOutQuart:qse,easeInQuint:Hse,easeOutQuint:Gse,easeInOutQuint:Wse},dV=function(t){typeof t=="number"&&cancelAnimationFrame(t)},tu=function(t){t.mounted&&(dV(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function fV(t,e,r,n){if(t.mounted){var i=new Date().getTime(),a=1;tu(t),t.animation=function(){if(!t.mounted)return dV(t.animation);var s=new Date().getTime()-i,l=s/r,c=cV[e],d=c(l);s>=r?(n(a),t.animation=null):t.animation&&(n(d),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function Kse(t){var e=t.scale,r=t.positionX,n=t.positionY;return!(Number.isNaN(e)||Number.isNaN(r)||Number.isNaN(n))}function zf(t,e,r,n){var i=Kse(e);if(!(!t.mounted||!i)){var a=t.setTransformState,s=t.transformState,l=s.scale,c=s.positionX,d=s.positionY,f=e.scale-l,p=e.positionX-c,g=e.positionY-d;r===0?a(e.scale,e.positionX,e.positionY):fV(t,n,r,function(m){var w=l+f*m,S=c+p*m,_=d+g*m;a(w,S,_)})}}function Yse(t,e,r){var n=t.offsetWidth,i=t.offsetHeight,a=e.offsetWidth,s=e.offsetHeight,l=a*r,c=s*r,d=n-l,f=i-c;return{wrapperWidth:n,wrapperHeight:i,newContentWidth:l,newDiffWidth:d,newContentHeight:c,newDiffHeight:f}}var Xse=function(t,e,r,n,i,a,s){var l=t>e?r*(s?1:.5):0,c=n>i?a*(s?1:.5):0,d=t-e-l,f=l,p=n-i-c,g=c;return{minPositionX:d,maxPositionX:f,minPositionY:p,maxPositionY:g}},nC=function(t,e){var r=t.wrapperComponent,n=t.contentComponent,i=t.setup.centerZoomedOut;if(!r||!n)throw new Error("Components are not mounted");var a=Yse(r,n,e),s=a.wrapperWidth,l=a.wrapperHeight,c=a.newContentWidth,d=a.newDiffWidth,f=a.newContentHeight,p=a.newDiffHeight,g=Xse(s,c,d,l,f,p,!!i);return g},GE=function(t,e,r,n){return n?t<e?xl(e,2):t>r?xl(r,2):xl(t,2):xl(t,2)},Dh=function(t,e){var r=nC(t,e);return t.bounds=r,r};function sv(t,e,r,n,i,a,s){var l=r.minPositionX,c=r.minPositionY,d=r.maxPositionX,f=r.maxPositionY,p=0,g=0;s&&(p=i,g=a);var m=GE(t,l-p,d+p,n),w=GE(e,c-g,f+g,n);return{x:m,y:w}}function nw(t,e,r,n,i,a){var s=t.transformState,l=s.scale,c=s.positionX,d=s.positionY,f=n-l;if(typeof e!="number"||typeof r!="number")return console.error("Mouse X and Y position were not provided!"),{x:c,y:d};var p=c-e*f,g=d-r*f,m=sv(p,g,i,a,0,0,null);return m}function ov(t,e,r,n,i){var a=i?n:0,s=e-a;return!Number.isNaN(r)&&t>=r?r:!Number.isNaN(e)&&t<=s?s:t}var f6=function(t,e){var r=t.setup.panning.excluded,n=t.isInitialized,i=t.wrapperComponent,a=e.target,s="shadowRoot"in a&&"composedPath"in e,l=s?e.composedPath().some(function(f){return f instanceof Element?i?.contains(f):!1}):i?.contains(a),c=n&&a&&l;if(!c)return!1;var d=iw(a,r);return!d},h6=function(t){var e=t.isInitialized,r=t.isPanning,n=t.setup,i=n.panning.disabled,a=e&&r&&!i;return!!a},Qse=function(t,e){var r=t.transformState,n=r.positionX,i=r.positionY;t.isPanning=!0;var a=e.clientX,s=e.clientY;t.startCoords={x:a-n,y:s-i}},Zse=function(t,e){var r=e.touches,n=t.transformState,i=n.positionX,a=n.positionY;t.isPanning=!0;var s=r.length===1;if(s){var l=r[0].clientX,c=r[0].clientY;t.startCoords={x:l-i,y:c-a}}};function Jse(t){var e=t.transformState,r=e.positionX,n=e.positionY,i=e.scale,a=t.setup,s=a.disabled,l=a.limitToBounds,c=a.centerZoomedOut,d=t.wrapperComponent;if(!(s||!d||!t.bounds)){var f=t.bounds,p=f.maxPositionX,g=f.minPositionX,m=f.maxPositionY,w=f.minPositionY,S=r>p||r<g,_=n>m||n<w,k=r>p?d.offsetWidth:t.setup.minPositionX||0,N=n>m?d.offsetHeight:t.setup.minPositionY||0,P=nw(t,k,N,i,t.bounds,l||c),F=P.x,O=P.y;return{scale:i,positionX:S?F:r,positionY:_?O:n}}}function hV(t,e,r,n,i){var a=t.setup.limitToBounds,s=t.wrapperComponent,l=t.bounds,c=t.transformState,d=c.scale,f=c.positionX,p=c.positionY;if(!(s===null||l===null||e===f&&r===p)){var g=sv(e,r,l,a,n,i,s),m=g.x,w=g.y;t.setTransformState(d,m,w)}}var eoe=function(t,e,r){var n=t.startCoords,i=t.transformState,a=t.setup.panning,s=a.lockAxisX,l=a.lockAxisY,c=i.positionX,d=i.positionY;if(!n)return{x:c,y:d};var f=e-n.x,p=r-n.y,g=s?c:f,m=l?d:p;return{x:g,y:m}},Nf=function(t,e){var r=t.setup,n=t.transformState,i=n.scale,a=r.minScale,s=r.disablePadding;return e>0&&i>=a&&!s?e:0},toe=function(t){var e=t.mounted,r=t.setup,n=r.disabled,i=r.velocityAnimation,a=t.transformState.scale,s=i.disabled,l=!s||a>1||!n||e;return!!l},roe=function(t){var e=t.mounted,r=t.velocity,n=t.bounds,i=t.setup,a=i.disabled,s=i.velocityAnimation,l=t.transformState.scale,c=s.disabled,d=!c||l>1||!a||e;return!(!d||!r||!n)};function noe(t,e){var r=t.setup.velocityAnimation,n=r.equalToMove,i=r.animationTime,a=r.sensitivity;return n?i*e*a:i}function p6(t,e,r,n,i,a,s,l,c,d){if(i){if(e>s&&r>s){var f=s+(t-s)*d;return f>c?c:f<s?s:f}if(e<a&&r<a){var f=a+(t-a)*d;return f<l?l:f>a?a:f}}return n?e:GE(t,a,s,i)}function ioe(t,e){var r=1;return e?Math.min(r,t.offsetWidth/window.innerWidth):r}function aoe(t,e){var r=toe(t);if(r){var n=t.lastMousePosition,i=t.velocityTime,a=t.setup,s=t.wrapperComponent,l=a.velocityAnimation.equalToMove,c=Date.now();if(n&&i&&s){var d=ioe(s,l),f=e.x-n.x,p=e.y-n.y,g=f/d,m=p/d,w=c-i,S=f*f+p*p,_=Math.sqrt(S)/w;t.velocity={velocityX:g,velocityY:m,total:_}}t.lastMousePosition=e,t.velocityTime=c}}function soe(t){var e=t.velocity,r=t.bounds,n=t.setup,i=t.wrapperComponent,a=roe(t);if(!(!a||!e||!r||!i)){var s=e.velocityX,l=e.velocityY,c=e.total,d=r.maxPositionX,f=r.minPositionX,p=r.maxPositionY,g=r.minPositionY,m=n.limitToBounds,w=n.alignmentAnimation,S=n.zoomAnimation,_=n.panning,k=_.lockAxisY,N=_.lockAxisX,P=S.animationType,F=w.sizeX,O=w.sizeY,z=w.velocityAlignmentTime,L=z,I=noe(t,c),D=Math.max(I,L),$=Nf(t,F),j=Nf(t,O),V=$*i.offsetWidth/100,M=j*i.offsetHeight/100,J=d+V,_e=f-V,se=p+M,ee=g-M,fe=t.transformState,we=new Date().getTime();fV(t,P,D,function(Be){var Z=t.transformState,q=Z.scale,Q=Z.positionX,re=Z.positionY,ae=new Date().getTime()-we,ye=ae/L,Te=cV[w.animationType],Ve=1-Te(Math.min(1,ye)),he=1-Be,Ce=Q+s*he,We=re+l*he,Ie=p6(Ce,fe.positionX,Q,N,m,f,d,_e,J,Ve),dt=p6(We,fe.positionY,re,k,m,g,p,ee,se,Ve);(Q!==Ce||re!==We)&&t.setTransformState(q,Ie,dt)})}}function m6(t,e){var r=t.transformState.scale;tu(t),Dh(t,r),window.TouchEvent!==void 0&&e instanceof TouchEvent?Zse(t,e):Qse(t,e)}function iC(t,e){var r=t.transformState.scale,n=t.setup,i=n.minScale,a=n.alignmentAnimation,s=a.disabled,l=a.sizeX,c=a.sizeY,d=a.animationTime,f=a.animationType,p=s||r<i||!l&&!c;if(!p){var g=Jse(t);g&&zf(t,g,e??d,f)}}function g6(t,e,r){var n=t.startCoords,i=t.setup,a=i.alignmentAnimation,s=a.sizeX,l=a.sizeY;if(n){var c=eoe(t,e,r),d=c.x,f=c.y,p=Nf(t,s),g=Nf(t,l);aoe(t,{x:d,y:f}),hV(t,d,f,p,g)}}function ooe(t){if(t.isPanning){var e=t.setup.panning.velocityDisabled,r=t.velocity,n=t.wrapperComponent,i=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var a=n?.getBoundingClientRect(),s=i?.getBoundingClientRect(),l=a?.width||0,c=a?.height||0,d=s?.width||0,f=s?.height||0,p=l<d||c<f,g=!e&&r&&r?.total>.1&&p;g?soe(t):iC(t)}}function aC(t,e,r,n){var i=t.setup,a=i.minScale,s=i.maxScale,l=i.limitToBounds,c=ov(xl(e,2),a,s,0,!1),d=Dh(t,c),f=nw(t,r,n,c,d,l),p=f.x,g=f.y;return{scale:c,positionX:p,positionY:g}}function pV(t,e,r){var n=t.transformState.scale,i=t.wrapperComponent,a=t.setup,s=a.minScale,l=a.limitToBounds,c=a.zoomAnimation,d=c.disabled,f=c.animationTime,p=c.animationType,g=d||n>=s;if((n>=1||l)&&iC(t),!(g||!i||!t.mounted)){var m=e||i.offsetWidth/2,w=r||i.offsetHeight/2,S=aC(t,s,m,w);S&&zf(t,S,f,p)}}var bf=function(){return bf=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bf.apply(this,arguments)};function y6(t,e,r){for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var U1={scale:1,positionX:0,positionY:0},g0={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},WE={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},mV=function(t){var e,r,n,i;return{previousScale:(e=t.initialScale)!==null&&e!==void 0?e:U1.scale,scale:(r=t.initialScale)!==null&&r!==void 0?r:U1.scale,positionX:(n=t.initialPositionX)!==null&&n!==void 0?n:U1.positionX,positionY:(i=t.initialPositionY)!==null&&i!==void 0?i:U1.positionY}},v6=function(t){var e=bf({},g0);return Object.keys(t).forEach(function(r){var n=typeof t[r]<"u",i=typeof g0[r]<"u";if(i&&n){var a=Object.prototype.toString.call(g0[r]),s=a==="[object Object]",l=a==="[object Array]";s?e[r]=bf(bf({},g0[r]),t[r]):l?e[r]=y6(y6([],g0[r],!0),t[r]):e[r]=t[r]}}),e},gV=function(t,e,r){var n=t.transformState.scale,i=t.wrapperComponent,a=t.setup,s=a.maxScale,l=a.minScale,c=a.zoomAnimation,d=a.smooth,f=c.size;if(!i)throw new Error("Wrapper is not mounted");var p=d?n*Math.exp(e*r):n+e*r,g=ov(xl(p,3),l,s,f,!1);return g};function yV(t,e,r,n,i){var a=t.wrapperComponent,s=t.transformState,l=s.scale,c=s.positionX,d=s.positionY;if(!a)return console.error("No WrapperComponent found");var f=a.offsetWidth,p=a.offsetHeight,g=(f/2-c)/l,m=(p/2-d)/l,w=gV(t,e,r),S=aC(t,w,g,m);if(!S)return console.error("Error during zoom event. New transformation state was not calculated.");zf(t,S,n,i)}function vV(t,e,r,n){var i=t.setup,a=t.wrapperComponent,s=i.limitToBounds,l=mV(t.props),c=t.transformState,d=c.scale,f=c.positionX,p=c.positionY;if(a){var g=nC(t,l.scale),m=sv(l.positionX,l.positionY,g,s,0,0,a),w={scale:l.scale,positionX:m.x,positionY:m.y};d===l.scale&&f===l.positionX&&p===l.positionY||(n?.(),zf(t,w,e,r))}}function loe(t,e,r,n){var i=t.getBoundingClientRect(),a=e.getBoundingClientRect(),s=r.getBoundingClientRect(),l=a.x*n.scale,c=a.y*n.scale;return{x:(i.x-s.x+l)/n.scale,y:(i.y-s.y+c)/n.scale}}function uoe(t,e,r){var n=t.wrapperComponent,i=t.contentComponent,a=t.transformState,s=t.setup,l=s.limitToBounds,c=s.minScale,d=s.maxScale;if(!n||!i)return a;var f=n.getBoundingClientRect(),p=e.getBoundingClientRect(),g=loe(e,n,i,a),m=g.x,w=g.y,S=p.width/a.scale,_=p.height/a.scale,k=n.offsetWidth/S,N=n.offsetHeight/_,P=ov(r||Math.min(k,N),c,d,0,!1),F=(f.width-S*P)/2,O=(f.height-_*P)/2,z=(f.left-m)*P+F,L=(f.top-w)*P+O,I=nC(t,P),D=sv(z,L,I,l,0,0,n),$=D.x,j=D.y;return{positionX:$,positionY:j,scale:P}}var coe=function(t){return function(e,r,n){e===void 0&&(e=.5),r===void 0&&(r=300),n===void 0&&(n="easeOut"),yV(t,1,e,r,n)}},doe=function(t){return function(e,r,n){e===void 0&&(e=.5),r===void 0&&(r=300),n===void 0&&(n="easeOut"),yV(t,-1,e,r,n)}},foe=function(t){return function(e,r,n,i,a){i===void 0&&(i=300),a===void 0&&(a="easeOut");var s=t.transformState,l=s.positionX,c=s.positionY,d=s.scale,f=t.wrapperComponent,p=t.contentComponent,g=t.setup.disabled;if(!(g||!f||!p)){var m={positionX:Number.isNaN(e)?l:e,positionY:Number.isNaN(r)?c:r,scale:Number.isNaN(n)?d:n};zf(t,m,i,a)}}},hoe=function(t){return function(e,r){e===void 0&&(e=200),r===void 0&&(r="easeOut"),vV(t,e,r)}},poe=function(t){return function(e,r,n){r===void 0&&(r=200),n===void 0&&(n="easeOut");var i=t.transformState,a=t.wrapperComponent,s=t.contentComponent;if(a&&s){var l=bV(e||i.scale,a,s);zf(t,l,r,n)}}},moe=function(t){return function(e,r,n,i){n===void 0&&(n=600),i===void 0&&(i="easeOut"),tu(t);var a=t.wrapperComponent,s=typeof e=="string"?document.getElementById(e):e;if(a&&s&&a.contains(s)){var l=uoe(t,s,r);zf(t,l,n,i)}}},KE=function(t){return{instance:t,zoomIn:coe(t),zoomOut:doe(t),setTransform:foe(t),resetTransform:hoe(t),centerView:poe(t),zoomToElement:moe(t)}},goe=function(t){return{instance:t,state:t.transformState}},$n=function(t){var e={};return Object.assign(e,goe(t)),Object.assign(e,KE(t)),e},U_=!1;function V_(){try{var t={get passive(){return U_=!0,!1}};return t}catch{return U_=!1,U_}}var V1=".".concat(WE.wrapperClass),iw=function(t,e){return e.some(function(r){return t.matches("".concat(V1," ").concat(r,", ").concat(V1," .").concat(r,", ").concat(V1," ").concat(r," *, ").concat(V1," .").concat(r," *"))})},YE=function(t){t&&clearTimeout(t)},yoe=function(t,e,r){return"translate(".concat(t,"px, ").concat(e,"px) scale(").concat(r,")")},bV=function(t,e,r){var n=r.offsetWidth*t,i=r.offsetHeight*t,a=(e.offsetWidth-n)/2,s=(e.offsetHeight-i)/2;return{scale:t,positionX:a,positionY:s}};function voe(t){return function(e){t.forEach(function(r){typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var boe=function(t,e){var r=t.setup.wheel,n=r.disabled,i=r.wheelDisabled,a=r.touchPadDisabled,s=r.excluded,l=t.isInitialized,c=t.isPanning,d=e.target,f=l&&!c&&!n&&d;if(!f||i&&!e.ctrlKey||a&&e.ctrlKey)return!1;var p=iw(d,s);return!p},xoe=function(t){return t?t.deltaY<0?1:-1:0};function woe(t,e){var r=xoe(t),n=Ose(e,r);return n}function xV(t,e,r){var n=e.getBoundingClientRect(),i=0,a=0;if("clientX"in t)i=(t.clientX-n.left)/r,a=(t.clientY-n.top)/r;else{var s=t.touches[0];i=(s.clientX-n.left)/r,a=(s.clientY-n.top)/r}return(Number.isNaN(i)||Number.isNaN(a))&&console.error("No mouse or touch offset found"),{x:i,y:a}}var _oe=function(t,e,r,n,i){var a=t.transformState.scale,s=t.wrapperComponent,l=t.setup,c=l.maxScale,d=l.minScale,f=l.zoomAnimation,p=l.disablePadding,g=f.size,m=f.disabled;if(!s)throw new Error("Wrapper is not mounted");var w=a+e*r,S=n?!1:!m,_=ov(xl(w,3),d,c,g,S&&!p);return _},Aoe=function(t,e){var r=t.previousWheelEvent,n=t.transformState.scale,i=t.setup,a=i.maxScale,s=i.minScale;return r?n<a||n>s||Math.sign(r.deltaY)!==Math.sign(e.deltaY)||r.deltaY>0&&r.deltaY<e.deltaY||r.deltaY<0&&r.deltaY>e.deltaY||Math.sign(r.deltaY)!==Math.sign(e.deltaY):!1},Soe=function(t,e){var r=t.setup.pinch,n=r.disabled,i=r.excluded,a=t.isInitialized,s=e.target,l=a&&!n&&s;if(!l)return!1;var c=iw(s,i);return!c},Eoe=function(t){var e=t.setup.pinch.disabled,r=t.isInitialized,n=t.pinchStartDistance,i=r&&!e&&n;return!!i},Toe=function(t,e,r){var n=r.getBoundingClientRect(),i=t.touches,a=xl(i[0].clientX-n.left,5),s=xl(i[0].clientY-n.top,5),l=xl(i[1].clientX-n.left,5),c=xl(i[1].clientY-n.top,5);return{x:(a+l)/2/e,y:(s+c)/2/e}},wV=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},koe=function(t,e){var r=t.pinchStartScale,n=t.pinchStartDistance,i=t.setup,a=i.maxScale,s=i.minScale,l=i.zoomAnimation,c=i.disablePadding,d=l.size,f=l.disabled;if(!r||n===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return t.transformState.scale;var p=e/n,g=p*r;return ov(xl(g,2),s,a,d,!f&&!c)},Coe=160,Noe=100,Poe=function(t,e){var r=t.props,n=r.onWheelStart,i=r.onZoomStart;t.wheelStopEventTimer||(tu(t),pi($n(t),e,n),pi($n(t),e,i))},joe=function(t,e){var r=t.props,n=r.onWheel,i=r.onZoom,a=t.contentComponent,s=t.setup,l=t.transformState,c=l.scale,d=s.limitToBounds,f=s.centerZoomedOut,p=s.zoomAnimation,g=s.wheel,m=s.disablePadding,w=s.smooth,S=p.size,_=p.disabled,k=g.step,N=g.smoothStep;if(!a)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var P=woe(e,null),F=w?N*Math.abs(e.deltaY):k,O=_oe(t,P,F,!e.ctrlKey);if(c!==O){var z=Dh(t,O),L=xV(e,a,c),I=_||S===0||f||m,D=d&&I,$=nw(t,L.x,L.y,O,z,D),j=$.x,V=$.y;t.previousWheelEvent=e,t.setTransformState(O,j,V),pi($n(t),e,n),pi($n(t),e,i)}},Roe=function(t,e){var r=t.props,n=r.onWheelStop,i=r.onZoomStop;YE(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(pV(t,e.x,e.y),t.wheelAnimationTimer=null)},Noe);var a=Aoe(t,e);a&&(YE(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,pi($n(t),e,n),pi($n(t),e,i))},Coe))},_V=function(t){for(var e=0,r=0,n=0;n<2;n+=1)e+=t.touches[n].clientX,r+=t.touches[n].clientY;var i=e/2,a=r/2;return{x:i,y:a}},Ooe=function(t,e){var r=wV(e);t.pinchStartDistance=r,t.lastDistance=r,t.pinchStartScale=t.transformState.scale,t.isPanning=!1;var n=_V(e);t.pinchLastCenterX=n.x,t.pinchLastCenterY=n.y,tu(t)},Ioe=function(t,e){var r=t.contentComponent,n=t.pinchStartDistance,i=t.wrapperComponent,a=t.transformState.scale,s=t.setup,l=s.limitToBounds,c=s.centerZoomedOut,d=s.zoomAnimation,f=s.alignmentAnimation,p=d.disabled,g=d.size;if(!(n===null||!r)){var m=Toe(e,a,r);if(!(!Number.isFinite(m.x)||!Number.isFinite(m.y))){var w=wV(e),S=koe(t,w),_=_V(e),k=_.x-(t.pinchLastCenterX||0),N=_.y-(t.pinchLastCenterY||0);if(!(S===a&&k===0&&N===0)){t.pinchLastCenterX=_.x,t.pinchLastCenterY=_.y;var P=Dh(t,S),F=p||g===0||c,O=l&&F,z=nw(t,m.x,m.y,S,P,O),L=z.x,I=z.y;t.pinchMidpoint=m,t.lastDistance=w;var D=f.sizeX,$=f.sizeY,j=Nf(t,D),V=Nf(t,$),M=L+k,J=I+N,_e=sv(M,J,P,l,j,V,i),se=_e.x,ee=_e.y;t.setTransformState(S,se,ee)}}}},Doe=function(t){var e=t.pinchMidpoint;t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,pV(t,e?.x,e?.y)},AV=function(t,e){var r=t.props.onZoomStop,n=t.setup.doubleClick.animationTime;YE(t.doubleClickStopEventTimer),t.doubleClickStopEventTimer=setTimeout(function(){t.doubleClickStopEventTimer=null,pi($n(t),e,r)},n)},Loe=function(t,e){var r=t.props,n=r.onZoomStart,i=r.onZoom,a=t.setup.doubleClick,s=a.animationTime,l=a.animationType;pi($n(t),e,n),vV(t,s,l,function(){return pi($n(t),e,i)}),AV(t,e)};function Moe(t,e){return t==="toggle"?e===1?1:-1:t==="zoomOut"?-1:1}function Boe(t,e){var r=t.setup,n=t.doubleClickStopEventTimer,i=t.transformState,a=t.contentComponent,s=i.scale,l=t.props,c=l.onZoomStart,d=l.onZoom,f=r.doubleClick,p=f.disabled,g=f.mode,m=f.step,w=f.animationTime,S=f.animationType;if(!p&&!n){if(g==="reset")return Loe(t,e);if(!a)return console.error("No ContentComponent found");var _=Moe(g,t.transformState.scale),k=gV(t,_,m);if(s!==k){pi($n(t),e,c);var N=xV(e,a,s),P=aC(t,k,N.x,N.y);if(!P)return console.error("Error during zoom event. New transformation state was not calculated.");pi($n(t),e,d),zf(t,P,w,S),AV(t,e)}}}var Foe=function(t,e){var r=t.isInitialized,n=t.setup,i=t.wrapperComponent,a=n.doubleClick,s=a.disabled,l=a.excluded,c=e.target,d=i?.contains(c),f=r&&c&&d&&!s;if(!f)return!1;var p=iw(c,l);return!p},Uoe=(function(){function t(e){var r=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){r.initializeWindowEvents()},this.unmount=function(){r.cleanupWindowEvents()},this.update=function(n){r.props=n,Dh(r,r.transformState.scale),r.setup=v6(n)},this.initializeWindowEvents=function(){var n,i,a=V_(),s=(n=r.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,l=s?.defaultView;(i=r.wrapperComponent)===null||i===void 0||i.addEventListener("wheel",r.onWheelPanning,a),l?.addEventListener("mousedown",r.onPanningStart,a),l?.addEventListener("mousemove",r.onPanning,a),l?.addEventListener("mouseup",r.onPanningStop,a),s?.addEventListener("mouseleave",r.clearPanning,a),l?.addEventListener("keyup",r.setKeyUnPressed,a),l?.addEventListener("keydown",r.setKeyPressed,a)},this.cleanupWindowEvents=function(){var n,i,a=V_(),s=(n=r.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,l=s?.defaultView;l?.removeEventListener("mousedown",r.onPanningStart,a),l?.removeEventListener("mousemove",r.onPanning,a),l?.removeEventListener("mouseup",r.onPanningStop,a),s?.removeEventListener("mouseleave",r.clearPanning,a),l?.removeEventListener("keyup",r.setKeyUnPressed,a),l?.removeEventListener("keydown",r.setKeyPressed,a),document.removeEventListener("mouseleave",r.clearPanning,a),tu(r),(i=r.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(n){var i=V_();n.addEventListener("wheel",r.onWheelZoom,i),n.addEventListener("dblclick",r.onDoubleClick,i),n.addEventListener("touchstart",r.onTouchPanningStart,i),n.addEventListener("touchmove",r.onTouchPanning,i),n.addEventListener("touchend",r.onTouchPanningStop,i)},this.handleInitialize=function(n,i){var a=!1,s=r.setup.centerOnInit,l=function(c,d){for(var f=0,p=c;f<p.length;f++){var g=p[f];if(g.target===d)return!0}return!1};r.applyTransformation(),r.onInitCallbacks.forEach(function(c){c($n(r))}),r.observer=new ResizeObserver(function(c){if(l(c,n)||l(c,i))if(s&&!a){var d=i.offsetWidth,f=i.offsetHeight;(d>0||f>0)&&(a=!0,r.setCenter())}else tu(r),Dh(r,r.transformState.scale),iC(r,0)}),r.observer.observe(n),r.observer.observe(i)},this.onWheelZoom=function(n){var i=r.setup.disabled;if(!i){var a=boe(r,n);if(a){var s=r.isPressingKeys(r.setup.wheel.activationKeys);s&&(Poe(r,n),joe(r,n),Roe(r,n))}}},this.onWheelPanning=function(n){var i=r.setup,a=i.disabled,s=i.wheel,l=i.panning;if(!(!r.wrapperComponent||!r.contentComponent||a||!s.wheelDisabled||l.disabled||!l.wheelPanning||n.ctrlKey)){n.preventDefault(),n.stopPropagation();var c=r.transformState,d=c.positionX,f=c.positionY,p=d-n.deltaX,g=f-n.deltaY,m=l.lockAxisX?d:p,w=l.lockAxisY?f:g,S=r.setup.alignmentAnimation,_=S.sizeX,k=S.sizeY,N=Nf(r,_),P=Nf(r,k);m===d&&w===f||hV(r,m,w,N,P)}},this.onPanningStart=function(n){var i=r.setup.disabled,a=r.props.onPanningStart;if(!i){var s=f6(r,n);if(s){var l=r.isPressingKeys(r.setup.panning.activationKeys);l&&(n.button===0&&!r.setup.panning.allowLeftClickPan||n.button===1&&!r.setup.panning.allowMiddleClickPan||n.button===2&&!r.setup.panning.allowRightClickPan||(n.preventDefault(),n.stopPropagation(),tu(r),m6(r,n),pi($n(r),n,a)))}}},this.onPanning=function(n){var i=r.setup.disabled,a=r.props.onPanning;if(!i){var s=h6(r);if(s){var l=r.isPressingKeys(r.setup.panning.activationKeys);l&&(n.preventDefault(),n.stopPropagation(),g6(r,n.clientX,n.clientY),pi($n(r),n,a))}}},this.onPanningStop=function(n){var i=r.props.onPanningStop;r.isPanning&&(ooe(r),pi($n(r),n,i))},this.onPinchStart=function(n){var i=r.setup.disabled,a=r.props,s=a.onPinchingStart,l=a.onZoomStart;if(!i){var c=Soe(r,n);c&&(Ooe(r,n),tu(r),pi($n(r),n,s),pi($n(r),n,l))}},this.onPinch=function(n){var i=r.setup.disabled,a=r.props,s=a.onPinching,l=a.onZoom;if(!i){var c=Eoe(r);c&&(n.preventDefault(),n.stopPropagation(),Ioe(r,n),pi($n(r),n,s),pi($n(r),n,l))}},this.onPinchStop=function(n){var i=r.props,a=i.onPinchingStop,s=i.onZoomStop;r.pinchStartScale&&(Doe(r),pi($n(r),n,a),pi($n(r),n,s))},this.onTouchPanningStart=function(n){var i=r.setup.disabled,a=r.props.onPanningStart;if(!i){var s=f6(r,n);if(s){var l=r.lastTouch&&+new Date-r.lastTouch<200&&n.touches.length===1;if(!l){r.lastTouch=+new Date,tu(r);var c=n.touches,d=c.length===1,f=c.length===2;d&&(tu(r),m6(r,n),pi($n(r),n,a)),f&&r.onPinchStart(n)}}}},this.onTouchPanning=function(n){var i=r.setup.disabled,a=r.props.onPanning;if(r.isPanning&&n.touches.length===1){if(i)return;var s=h6(r);if(!s)return;n.preventDefault(),n.stopPropagation();var l=n.touches[0];g6(r,l.clientX,l.clientY),pi($n(r),n,a)}else n.touches.length>1&&r.onPinch(n)},this.onTouchPanningStop=function(n){r.onPanningStop(n),r.onPinchStop(n)},this.onDoubleClick=function(n){var i=r.setup.disabled;if(!i){var a=Foe(r,n);a&&Boe(r,n)}},this.clearPanning=function(n){r.isPanning&&r.onPanningStop(n)},this.setKeyPressed=function(n){r.pressedKeys[n.key]=!0},this.setKeyUnPressed=function(n){r.pressedKeys[n.key]=!1},this.isPressingKeys=function(n){return n.length?!!n.find(function(i){return r.pressedKeys[i]}):!0},this.setTransformState=function(n,i,a){var s=r.props.onTransformed;if(!Number.isNaN(n)&&!Number.isNaN(i)&&!Number.isNaN(a)){n!==r.transformState.scale&&(r.transformState.previousScale=r.transformState.scale,r.transformState.scale=n),r.transformState.positionX=i,r.transformState.positionY=a,r.applyTransformation();var l=$n(r);r.onChangeCallbacks.forEach(function(c){return c(l)}),pi(l,{scale:n,positionX:i,positionY:a},s)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(r.wrapperComponent&&r.contentComponent){var n=bV(r.transformState.scale,r.wrapperComponent,r.contentComponent);r.setTransformState(n.scale,n.positionX,n.positionY)}},this.handleTransformStyles=function(n,i,a){return r.props.customTransform?r.props.customTransform(n,i,a):yoe(n,i,a)},this.applyTransformation=function(){if(!(!r.mounted||!r.contentComponent)){var n=r.transformState,i=n.scale,a=n.positionX,s=n.positionY,l=r.handleTransformStyles(a,s,i);r.contentComponent.style.transform=l}},this.getContext=function(){return $n(r)},this.onChange=function(n){return r.onChangeCallbacks.has(n)||r.onChangeCallbacks.add(n),function(){r.onChangeCallbacks.delete(n)}},this.onInit=function(n){return r.onInitCallbacks.has(n)||r.onInitCallbacks.add(n),function(){r.onInitCallbacks.delete(n)}},this.init=function(n,i){r.cleanupWindowEvents(),r.wrapperComponent=n,r.contentComponent=i,Dh(r,r.transformState.scale),r.handleInitializeWrapperEvents(n),r.handleInitialize(n,i),r.initializeWindowEvents(),r.isInitialized=!0;var a=$n(r);pi(a,void 0,r.props.onInit)},this.props=e,this.setup=v6(this.props),this.transformState=mV(this.props)}return t})(),sC=td.createContext(null),Voe=function(t,e){return typeof t=="function"?t(e):t},zoe=td.forwardRef(function(t,e){var r=E.useRef(new Uoe(t)).current,n=Voe(t.children,KE(r));return E.useImperativeHandle(e,function(){return KE(r)},[r]),E.useEffect(function(){r.update(t)},[r,t]),td.createElement(sC.Provider,{value:r},n)});td.forwardRef(function(t,e){var r=E.useRef(null),n=E.useContext(sC);return E.useEffect(function(){return n.onChange(function(i){if(r.current){var a=0,s=0;r.current.style.transform=n.handleTransformStyles(a,s,1/i.instance.transformState.scale)}})},[n]),td.createElement("div",bf({},t,{ref:voe([r,e])}))});function $oe(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var qoe=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,b6={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};$oe(qoe);var Hoe=function(t){var e=t.children,r=t.wrapperClass,n=r===void 0?"":r,i=t.contentClass,a=i===void 0?"":i,s=t.wrapperStyle,l=t.contentStyle,c=t.wrapperProps,d=c===void 0?{}:c,f=t.contentProps,p=f===void 0?{}:f,g=E.useContext(sC),m=g.init,w=g.cleanupWindowEvents,S=E.useRef(null),_=E.useRef(null);return E.useEffect(function(){var k=S.current,N=_.current;return k!==null&&N!==null&&m&&m?.(k,N),function(){w?.()}},[]),td.createElement("div",bf({},d,{ref:S,className:"".concat(WE.wrapperClass," ").concat(b6.wrapper," ").concat(n),style:s}),td.createElement("div",bf({},p,{ref:_,className:"".concat(WE.contentClass," ").concat(b6.content," ").concat(a),style:l}),e))};const oC=E.createContext({});function lC(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const uC=typeof window<"u",SV=uC?E.useLayoutEffect:E.useEffect,aw=E.createContext(null);function cC(t,e){t.indexOf(e)===-1&&t.push(e)}function dC(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const od=(t,e,r)=>r>e?e:r<t?t:r;let fC=()=>{};const ld={},EV=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function TV(t){return typeof t=="object"&&t!==null}const kV=t=>/^0[^.\s]+$/u.test(t);function hC(t){let e;return()=>(e===void 0&&(e=t()),e)}const Al=t=>t,Goe=(t,e)=>r=>e(t(r)),lv=(...t)=>t.reduce(Goe),hy=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class pC{constructor(){this.subscriptions=[]}add(e){return cC(this.subscriptions,e),()=>dC(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ju=t=>t*1e3,wl=t=>t/1e3;function CV(t,e){return e?t*(1e3/e):0}const NV=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Woe=1e-7,Koe=12;function Yoe(t,e,r,n,i){let a,s,l=0;do s=e+(r-e)/2,a=NV(s,n,i)-t,a>0?r=s:e=s;while(Math.abs(a)>Woe&&++l<Koe);return s}function uv(t,e,r,n){if(t===e&&r===n)return Al;const i=a=>Yoe(a,0,1,t,r);return a=>a===0||a===1?a:NV(i(a),e,n)}const PV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jV=t=>e=>1-t(1-e),RV=uv(.33,1.53,.69,.99),mC=jV(RV),OV=PV(mC),IV=t=>(t*=2)<1?.5*mC(t):.5*(2-Math.pow(2,-10*(t-1))),gC=t=>1-Math.sin(Math.acos(t)),DV=jV(gC),LV=PV(gC),Xoe=uv(.42,0,1,1),Qoe=uv(0,0,.58,1),MV=uv(.42,0,.58,1),Zoe=t=>Array.isArray(t)&&typeof t[0]!="number",BV=t=>Array.isArray(t)&&typeof t[0]=="number",Joe={linear:Al,easeIn:Xoe,easeInOut:MV,easeOut:Qoe,circIn:gC,circInOut:LV,circOut:DV,backIn:mC,backInOut:OV,backOut:RV,anticipate:IV},ele=t=>typeof t=="string",x6=t=>{if(BV(t)){fC(t.length===4);const[e,r,n,i]=t;return uv(e,r,n,i)}else if(ele(t))return Joe[t];return t},z1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tle(t,e){let r=new Set,n=new Set,i=!1,a=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){s.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,p=!1,g=!1)=>{const w=g&&i?r:n;return p&&s.add(f),w.has(f)||w.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(l=f,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),r.clear(),i=!1,a&&(a=!1,d.process(f))}};return d}const rle=40;function FV(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,s=z1.reduce((P,F)=>(P[F]=tle(a),P),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:p,preRender:g,render:m,postRender:w}=s,S=()=>{const P=ld.useManualTiming?i.timestamp:performance.now();r=!1,ld.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(P-i.timestamp,rle),1)),i.timestamp=P,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),f.process(i),p.process(i),g.process(i),m.process(i),w.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(S))},_=()=>{r=!0,n=!0,i.isProcessing||t(S)};return{schedule:z1.reduce((P,F)=>{const O=s[F];return P[F]=(z,L=!1,I=!1)=>(r||_(),O.schedule(z,L,I)),P},{}),cancel:P=>{for(let F=0;F<z1.length;F++)s[z1[F]].cancel(P)},state:i,steps:s}}const{schedule:gi,cancel:Pf,state:ds,steps:z_}=FV(typeof requestAnimationFrame<"u"?requestAnimationFrame:Al,!0);let Ib;function nle(){Ib=void 0}const So={now:()=>(Ib===void 0&&So.set(ds.isProcessing||ld.useManualTiming?ds.timestamp:performance.now()),Ib),set:t=>{Ib=t,queueMicrotask(nle)}},UV=t=>e=>typeof e=="string"&&e.startsWith(t),VV=UV("--"),ile=UV("var(--"),yC=t=>ile(t)?ale.test(t.split("/*")[0].trim()):!1,ale=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},py={...mg,transform:t=>od(0,1,t)},$1={...mg,default:1},G0=t=>Math.round(t*1e5)/1e5,vC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sle(t){return t==null}const ole=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bC=(t,e)=>r=>!!(typeof r=="string"&&ole.test(r)&&r.startsWith(t)||e&&!sle(r)&&Object.prototype.hasOwnProperty.call(r,e)),zV=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,a,s,l]=n.match(vC);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},lle=t=>od(0,255,t),$_={...mg,transform:t=>Math.round(lle(t))},Th={test:bC("rgb","red"),parse:zV("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+$_.transform(t)+", "+$_.transform(e)+", "+$_.transform(r)+", "+G0(py.transform(n))+")"};function ule(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const XE={test:bC("#"),parse:ule,transform:Th.transform},cv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),af=cv("deg"),ec=cv("%"),_r=cv("px"),cle=cv("vh"),dle=cv("vw"),w6={...ec,parse:t=>ec.parse(t)/100,transform:t=>ec.transform(t*100)},ym={test:bC("hsl","hue"),parse:zV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ec.transform(G0(e))+", "+ec.transform(G0(r))+", "+G0(py.transform(n))+")"},ca={test:t=>Th.test(t)||XE.test(t)||ym.test(t),parse:t=>Th.test(t)?Th.parse(t):ym.test(t)?ym.parse(t):XE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Th.transform(t):ym.transform(t),getAnimatableNone:t=>{const e=ca.parse(t);return e.alpha=0,ca.transform(e)}},fle=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hle(t){return isNaN(t)&&typeof t=="string"&&(t.match(vC)?.length||0)+(t.match(fle)?.length||0)>0}const $V="number",qV="color",ple="var",mle="var(",_6="${}",gle=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function my(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(gle,c=>(ca.test(c)?(n.color.push(a),i.push(qV),r.push(ca.parse(c))):c.startsWith(mle)?(n.var.push(a),i.push(ple),r.push(c)):(n.number.push(a),i.push($V),r.push(parseFloat(c))),++a,_6)).split(_6);return{values:r,split:l,indexes:n,types:i}}function HV(t){return my(t).values}function GV(t){const{split:e,types:r}=my(t),n=e.length;return i=>{let a="";for(let s=0;s<n;s++)if(a+=e[s],i[s]!==void 0){const l=r[s];l===$V?a+=G0(i[s]):l===qV?a+=ca.transform(i[s]):a+=i[s]}return a}}const yle=t=>typeof t=="number"?0:ca.test(t)?ca.getAnimatableNone(t):t;function vle(t){const e=HV(t);return GV(t)(e.map(yle))}const jf={test:hle,parse:HV,createTransformer:GV,getAnimatableNone:vle};function q_(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ble({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,s=0;if(!e)i=a=s=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=q_(c,l,t+1/3),a=q_(c,l,t),s=q_(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:n}}function wx(t,e){return r=>r>0?e:t}const Ti=(t,e,r)=>t+(e-t)*r,H_=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},xle=[XE,Th,ym],wle=t=>xle.find(e=>e.test(t));function A6(t){const e=wle(t);if(!e)return!1;let r=e.parse(t);return e===ym&&(r=ble(r)),r}const S6=(t,e)=>{const r=A6(t),n=A6(e);if(!r||!n)return wx(t,e);const i={...r};return a=>(i.red=H_(r.red,n.red,a),i.green=H_(r.green,n.green,a),i.blue=H_(r.blue,n.blue,a),i.alpha=Ti(r.alpha,n.alpha,a),Th.transform(i))},QE=new Set(["none","hidden"]);function _le(t,e){return QE.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Ale(t,e){return r=>Ti(t,e,r)}function xC(t){return typeof t=="number"?Ale:typeof t=="string"?yC(t)?wx:ca.test(t)?S6:Tle:Array.isArray(t)?WV:typeof t=="object"?ca.test(t)?S6:Sle:wx}function WV(t,e){const r=[...t],n=r.length,i=t.map((a,s)=>xC(a)(a,e[s]));return a=>{for(let s=0;s<n;s++)r[s]=i[s](a);return r}}function Sle(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=xC(t[i])(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function Ele(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],s=t.indexes[a][n[a]],l=t.values[s]??0;r[i]=l,n[a]++}return r}const Tle=(t,e)=>{const r=jf.createTransformer(e),n=my(t),i=my(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?QE.has(t)&&!i.values.length||QE.has(e)&&!n.values.length?_le(t,e):lv(WV(Ele(n,i),i.values),r):wx(t,e)};function KV(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ti(t,e,r):xC(t)(t,e)}const kle=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>gi.update(e,r),stop:()=>Pf(e),now:()=>ds.isProcessing?ds.timestamp:So.now()}},YV=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let a=0;a<i;a++)n+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},_x=2e4;function wC(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<_x;)e+=r,n=t.next(e);return e>=_x?1/0:e}function Cle(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(wC(n),_x);return{type:"keyframes",ease:a=>n.next(i*a).value/e,duration:wl(i)}}const Nle=5;function XV(t,e,r){const n=Math.max(e-Nle,0);return CV(r-t(n),e-n)}const Bi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},G_=.001;function Ple({duration:t=Bi.duration,bounce:e=Bi.bounce,velocity:r=Bi.velocity,mass:n=Bi.mass}){let i,a,s=1-e;s=od(Bi.minDamping,Bi.maxDamping,s),t=od(Bi.minDuration,Bi.maxDuration,wl(t)),s<1?(i=d=>{const f=d*s,p=f*t,g=f-r,m=ZE(d,s),w=Math.exp(-p);return G_-g/m*w},a=d=>{const p=d*s*t,g=p*r+r,m=Math.pow(s,2)*Math.pow(d,2)*t,w=Math.exp(-p),S=ZE(Math.pow(d,2),s);return(-i(d)+G_>0?-1:1)*((g-m)*w)/S}):(i=d=>{const f=Math.exp(-d*t),p=(d-r)*t+1;return-G_+f*p},a=d=>{const f=Math.exp(-d*t),p=(r-d)*(t*t);return f*p});const l=5/t,c=Rle(i,a,l);if(t=Ju(t),isNaN(c))return{stiffness:Bi.stiffness,damping:Bi.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:s*2*Math.sqrt(n*d),duration:t}}}const jle=12;function Rle(t,e,r){let n=r;for(let i=1;i<jle;i++)n=n-t(n)/e(n);return n}function ZE(t,e){return t*Math.sqrt(1-e*e)}const Ole=["duration","bounce"],Ile=["stiffness","damping","mass"];function E6(t,e){return e.some(r=>t[r]!==void 0)}function Dle(t){let e={velocity:Bi.velocity,stiffness:Bi.stiffness,damping:Bi.damping,mass:Bi.mass,isResolvedFromDuration:!1,...t};if(!E6(t,Ile)&&E6(t,Ole))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*od(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Bi.mass,stiffness:i,damping:a}}else{const r=Ple(t);e={...e,...r,mass:Bi.mass},e.isResolvedFromDuration=!0}return e}function Ax(t=Bi.visualDuration,e=Bi.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:m}=Dle({...r,velocity:-wl(r.velocity||0)}),w=g||0,S=d/(2*Math.sqrt(c*f)),_=s-a,k=wl(Math.sqrt(c/f)),N=Math.abs(_)<5;n||(n=N?Bi.restSpeed.granular:Bi.restSpeed.default),i||(i=N?Bi.restDelta.granular:Bi.restDelta.default);let P;if(S<1){const O=ZE(k,S);P=z=>{const L=Math.exp(-S*k*z);return s-L*((w+S*k*_)/O*Math.sin(O*z)+_*Math.cos(O*z))}}else if(S===1)P=O=>s-Math.exp(-k*O)*(_+(w+k*_)*O);else{const O=k*Math.sqrt(S*S-1);P=z=>{const L=Math.exp(-S*k*z),I=Math.min(O*z,300);return s-L*((w+S*k*_)*Math.sinh(I)+O*_*Math.cosh(I))/O}}const F={calculatedDuration:m&&p||null,next:O=>{const z=P(O);if(m)l.done=O>=p;else{let L=O===0?w:0;S<1&&(L=O===0?Ju(w):XV(P,O,z));const I=Math.abs(L)<=n,D=Math.abs(s-z)<=i;l.done=I&&D}return l.value=l.done?s:z,l},toString:()=>{const O=Math.min(wC(F),_x),z=YV(L=>F.next(O*L).value,O,30);return O+"ms "+z},toTransition:()=>{}};return F}Ax.applyToOptions=t=>{const e=Cle(t,100,Ax);return t.ease=e.ease,t.duration=Ju(e.duration),t.type="keyframes",t};function JE({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:d=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},m=I=>l!==void 0&&I<l||c!==void 0&&I>c,w=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let S=r*e;const _=p+S,k=s===void 0?_:s(_);k!==_&&(S=k-p);const N=I=>-S*Math.exp(-I/n),P=I=>k+N(I),F=I=>{const D=N(I),$=P(I);g.done=Math.abs(D)<=d,g.value=g.done?k:$};let O,z;const L=I=>{m(g.value)&&(O=I,z=Ax({keyframes:[g.value,w(g.value)],velocity:XV(P,I,g.value),damping:i,stiffness:a,restDelta:d,restSpeed:f}))};return L(0),{calculatedDuration:null,next:I=>{let D=!1;return!z&&O===void 0&&(D=!0,F(I),L(I)),O!==void 0&&I>=O?z.next(I-O):(!D&&F(I),g)}}}function Lle(t,e,r){const n=[],i=r||ld.mix||KV,a=t.length-1;for(let s=0;s<a;s++){let l=i(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||Al:e;l=lv(c,l)}n.push(l)}return n}function Mle(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(fC(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Lle(e,n,i),c=l.length,d=f=>{if(s&&f<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=hy(t[p],t[p+1],f);return l[p](g)};return r?f=>d(od(t[0],t[a-1],f)):d}function Ble(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=hy(0,e,n);t.push(Ti(r,1,i))}}function Fle(t){const e=[0];return Ble(e,t.length-1),e}function Ule(t,e){return t.map(r=>r*e)}function Vle(t,e){return t.map(()=>e||MV).splice(0,t.length-1)}function W0({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Zoe(n)?n.map(x6):x6(n),a={done:!1,value:e[0]},s=Ule(r&&r.length===e.length?r:Fle(e),t),l=Mle(s,e,{ease:Array.isArray(i)?i:Vle(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const zle=t=>t!==null;function _C(t,{repeat:e,repeatType:r="loop"},n,i=1){const a=t.filter(zle),l=i<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const $le={decay:JE,inertia:JE,tween:W0,keyframes:W0,spring:Ax};function QV(t){typeof t.type=="string"&&(t.type=$le[t.type])}class AC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const qle=t=>t/100;class SC extends AC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==So.now()&&this.tick(So.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;QV(e);const{type:r=W0,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=e;let{keyframes:l}=e;const c=r||W0;c!==W0&&typeof l[0]!="number"&&(this.mixKeyframes=lv(qle,KV(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=wC(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:m,type:w,onUpdate:S,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const k=this.currentTime-d*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?k<0:k>i;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let P=this.currentTime,F=n;if(p){const I=Math.min(this.currentTime,i)/l;let D=Math.floor(I),$=I%1;!$&&I>=1&&($=1),$===1&&D--,D=Math.min(D,p+1),!!(D%2)&&(g==="reverse"?($=1-$,m&&($-=m/l)):g==="mirror"&&(F=s)),P=od(0,1,$)*l}const O=N?{done:!1,value:f[0]}:F.next(P);a&&(O.value=a(O.value));let{done:z}=O;!N&&c!==null&&(z=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return L&&w!==JE&&(O.value=_C(f,this.options,_,this.speed)),S&&S(O.value),L&&this.finish(),O}then(e,r){return this.finished.then(e,r)}get duration(){return wl(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+wl(e)}get time(){return wl(this.currentTime)}set time(e){e=Ju(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(So.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=wl(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=kle,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(So.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Hle(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const kh=t=>t*180/Math.PI,eT=t=>{const e=kh(Math.atan2(t[1],t[0]));return tT(e)},Gle={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:eT,rotateZ:eT,skewX:t=>kh(Math.atan(t[1])),skewY:t=>kh(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},tT=t=>(t=t%360,t<0&&(t+=360),t),T6=eT,k6=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),C6=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Wle={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:k6,scaleY:C6,scale:t=>(k6(t)+C6(t))/2,rotateX:t=>tT(kh(Math.atan2(t[6],t[5]))),rotateY:t=>tT(kh(Math.atan2(-t[2],t[0]))),rotateZ:T6,rotate:T6,skewX:t=>kh(Math.atan(t[4])),skewY:t=>kh(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function rT(t){return t.includes("scale")?1:0}function nT(t,e){if(!t||t==="none")return rT(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=Wle,i=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Gle,i=l}if(!i)return rT(e);const a=n[e],s=i[1].split(",").map(Yle);return typeof a=="function"?a(s):s[a]}const Kle=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return nT(r,e)};function Yle(t){return parseFloat(t.trim())}const gg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yg=new Set(gg),N6=t=>t===mg||t===_r,Xle=new Set(["x","y","z"]),Qle=gg.filter(t=>!Xle.has(t));function Zle(t){const e=[];return Qle.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Lh={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>nT(e,"x"),y:(t,{transform:e})=>nT(e,"y")};Lh.translateX=Lh.x;Lh.translateY=Lh.y;const Mh=new Set;let iT=!1,aT=!1,sT=!1;function ZV(){if(aT){const t=Array.from(Mh).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Zle(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,s])=>{n.getValue(a)?.set(s)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}aT=!1,iT=!1,Mh.forEach(t=>t.complete(sT)),Mh.clear()}function JV(){Mh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(aT=!0)})}function Jle(){sT=!0,JV(),ZV(),sT=!1}class EC{constructor(e,r,n,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Mh.add(this),iT||(iT=!0,gi.read(JV),gi.resolveKeyframes(ZV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const a=i?.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const l=n.readValue(r,s);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}Hle(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Mh.delete(this)}cancel(){this.state==="scheduled"&&(Mh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const eue=t=>t.startsWith("--");function tue(t,e,r){eue(e)?t.style.setProperty(e,r):t.style[e]=r}const rue=hC(()=>window.ScrollTimeline!==void 0),nue={};function iue(t,e){const r=hC(t);return()=>nue[e]??r()}const ez=iue(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),D0=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,P6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:D0([0,.65,.55,1]),circOut:D0([.55,0,1,.45]),backIn:D0([.31,.01,.66,-.59]),backOut:D0([.33,1.53,.69,.99])};function tz(t,e){if(t)return typeof t=="function"?ez()?YV(t,e):"ease-out":BV(t)?D0(t):Array.isArray(t)?t.map(r=>tz(r,e)||P6.easeOut):P6[t]}function aue(t,e,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[e]:r};c&&(f.offset=c);const p=tz(l,i);Array.isArray(p)&&(f.easing=p);const g={delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),t.animate(f,g)}function rz(t){return typeof t=="function"&&"applyToOptions"in t}function sue({type:t,...e}){return rz(t)&&ez()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class oue extends AC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,fC(typeof e.type!="string");const d=sue(e);this.animation=aue(r,n,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=_C(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):tue(r,n,f),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return wl(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+wl(e)}get time(){return wl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ju(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&rue()?(this.animation.timeline=e,Al):r(this)}}const nz={anticipate:IV,backInOut:OV,circInOut:LV};function lue(t){return t in nz}function uue(t){typeof t.ease=="string"&&lue(t.ease)&&(t.ease=nz[t.ease])}const j6=10;class cue extends oue{constructor(e){uue(e),QV(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:a,...s}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new SC({...s,autoplay:!1}),c=Ju(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-j6).value,l.sample(c).value,j6),l.stop()}}const R6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jf.test(t)||t==="0")&&!t.startsWith("url("));function due(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function fue(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=R6(i,e),l=R6(a,e);return!s||!l?!1:due(t)||(r==="spring"||rz(r))&&n}function oT(t){t.duration=0,t.type="keyframes"}const hue=new Set(["opacity","clipPath","filter","transform"]),pue=hC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mue(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:a,type:s}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return pue()&&r&&hue.has(r)&&(r!=="transform"||!d)&&!c&&!n&&i!=="mirror"&&a!==0&&s!=="inertia"}const gue=40;class yue extends AC{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:l,name:c,motionValue:d,element:f,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=So.now();const g={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:s,name:c,motionValue:d,element:f,...p},m=f?.KeyframeResolver||EC;this.keyframeResolver=new m(l,(w,S,_)=>this.onKeyframesResolved(w,S,g,!_),c,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:l,delay:c,isHandoff:d,onUpdate:f}=n;this.resolvedAt=So.now(),fue(e,a,s,l)||((ld.instantAnimations||!c)&&f?.(_C(e,n,r)),e[0]=e[e.length-1],oT(n),n.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>gue?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},m=!d&&mue(g)?new cue({...g,element:g.motionValue.owner.current}):new SC(g);m.finished.then(()=>this.notifyFinished()).catch(Al),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Jle()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const vue=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bue(t){const e=vue.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function iz(t,e,r=1){const[n,i]=bue(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const s=a.trim();return EV(s)?parseFloat(s):s}return yC(i)?iz(i,e,r+1):i}function TC(t,e){return t?.[e]??t?.default??t}const az=new Set(["width","height","top","left","right","bottom",...gg]),xue={test:t=>t==="auto",parse:t=>t},sz=t=>e=>e.test(t),oz=[mg,_r,ec,af,dle,cle,xue],O6=t=>oz.find(sz(t));function wue(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kV(t):!0}const _ue=new Set(["brightness","contrast","saturate","opacity"]);function Aue(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(vC)||[];if(!n)return t;const i=r.replace(n,"");let a=_ue.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const Sue=/\b([a-z-]*)\(.*?\)/gu,lT={...jf,getAnimatableNone:t=>{const e=t.match(Sue);return e?e.map(Aue).join(" "):t}},I6={...mg,transform:Math.round},Eue={rotate:af,rotateX:af,rotateY:af,rotateZ:af,scale:$1,scaleX:$1,scaleY:$1,scaleZ:$1,skew:af,skewX:af,skewY:af,distance:_r,translateX:_r,translateY:_r,translateZ:_r,x:_r,y:_r,z:_r,perspective:_r,transformPerspective:_r,opacity:py,originX:w6,originY:w6,originZ:_r},kC={borderWidth:_r,borderTopWidth:_r,borderRightWidth:_r,borderBottomWidth:_r,borderLeftWidth:_r,borderRadius:_r,radius:_r,borderTopLeftRadius:_r,borderTopRightRadius:_r,borderBottomRightRadius:_r,borderBottomLeftRadius:_r,width:_r,maxWidth:_r,height:_r,maxHeight:_r,top:_r,right:_r,bottom:_r,left:_r,padding:_r,paddingTop:_r,paddingRight:_r,paddingBottom:_r,paddingLeft:_r,margin:_r,marginTop:_r,marginRight:_r,marginBottom:_r,marginLeft:_r,backgroundPositionX:_r,backgroundPositionY:_r,...Eue,zIndex:I6,fillOpacity:py,strokeOpacity:py,numOctaves:I6},Tue={...kC,color:ca,backgroundColor:ca,outlineColor:ca,fill:ca,stroke:ca,borderColor:ca,borderTopColor:ca,borderRightColor:ca,borderBottomColor:ca,borderLeftColor:ca,filter:lT,WebkitFilter:lT},lz=t=>Tue[t];function uz(t,e){let r=lz(t);return r!==lT&&(r=jf),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const kue=new Set(["auto","none","0"]);function Cue(t,e,r){let n=0,i;for(;n<t.length&&!i;){const a=t[n];typeof a=="string"&&!kue.has(a)&&my(a).values.length&&(i=t[n]),n++}if(i&&r)for(const a of e)t[a]=uz(r,i)}class Nue extends EC{constructor(e,r,n,i,a){super(e,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),yC(d))){const f=iz(d,r.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!az.has(n)||e.length!==2)return;const[i,a]=e,s=O6(i),l=O6(a);if(s!==l)if(N6(s)&&N6(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Lh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||wue(e[i]))&&n.push(i);n.length&&Cue(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,s=n[a];n[a]=Lh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Pue(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=r?.[t]??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const cz=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function dz(t){return TV(t)&&"offsetHeight"in t}const D6=30,jue=t=>!isNaN(parseFloat(t));class Rue{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=So.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=So.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jue(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new pC);const n=this.events[e].add(r);return e==="change"?()=>{n(),gi.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=So.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>D6)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,D6);return CV(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gm(t,e){return new Rue(t,e)}const{schedule:CC}=FV(queueMicrotask,!1),eu={x:!1,y:!1};function fz(){return eu.x||eu.y}function Oue(t){return t==="x"||t==="y"?eu[t]?null:(eu[t]=!0,()=>{eu[t]=!1}):eu.x||eu.y?null:(eu.x=eu.y=!0,()=>{eu.x=eu.y=!1})}function hz(t,e){const r=Pue(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function L6(t){return!(t.pointerType==="touch"||fz())}function Iue(t,e,r={}){const[n,i,a]=hz(t,r),s=l=>{if(!L6(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const f=p=>{L6(p)&&(d(p),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return n.forEach(l=>{l.addEventListener("pointerenter",s,i)}),a}const pz=(t,e)=>e?t===e?!0:pz(t,e.parentElement):!1,NC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Due=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Lue(t){return Due.has(t.tagName)||t.tabIndex!==-1}const Db=new WeakSet;function M6(t){return e=>{e.key==="Enter"&&t(e)}}function W_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Mue=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=M6(()=>{if(Db.has(r))return;W_(r,"down");const i=M6(()=>{W_(r,"up")}),a=()=>W_(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function B6(t){return NC(t)&&!fz()}function Bue(t,e,r={}){const[n,i,a]=hz(t,r),s=l=>{const c=l.currentTarget;if(!B6(l))return;Db.add(c);const d=e(c,l),f=(m,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),Db.has(c)&&Db.delete(c),B6(m)&&typeof d=="function"&&d(m,{success:w})},p=m=>{f(m,c===window||c===document||r.useGlobalTarget||pz(c,m.target))},g=m=>{f(m,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",s,i),dz(l)&&(l.addEventListener("focus",d=>Mue(d,i)),!Lue(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function mz(t){return TV(t)&&"ownerSVGElement"in t}function Fue(t){return mz(t)&&t.tagName==="svg"}const js=t=>!!(t&&t.getVelocity),Uue=[...oz,ca,jf],Vue=t=>Uue.find(sz(t)),PC=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function F6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zue(...t){return e=>{let r=!1;const n=t.map(i=>{const a=F6(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():F6(t[i],null)}}}}function $ue(...t){return E.useCallback(zue(...t),t)}class que extends E.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=dz(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Hue({children:t,isPresent:e,anchorX:r,root:n}){const i=E.useId(),a=E.useRef(null),s=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=E.useContext(PC),c=$ue(a,t?.ref);return E.useInsertionEffect(()=>{const{width:d,height:f,top:p,left:g,right:m}=s.current;if(e||!a.current||!d||!f)return;const w=r==="left"?`left: ${g}`:`right: ${m}`;a.current.dataset.motionPopId=i;const S=document.createElement("style");l&&(S.nonce=l);const _=n??document.head;return _.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${p}px !important;
          }
        `),()=>{_.contains(S)&&_.removeChild(S)}},[e]),y.jsx(que,{isPresent:e,childRef:a,sizeRef:s,children:E.cloneElement(t,{ref:c})})}const Gue=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:s,anchorX:l,root:c})=>{const d=lC(Wue),f=E.useId();let p=!0,g=E.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:r,custom:i,onExitComplete:m=>{d.set(m,!0);for(const w of d.values())if(!w)return;n&&n()},register:m=>(d.set(m,!1),()=>d.delete(m))}),[r,d,n]);return a&&p&&(g={...g}),E.useMemo(()=>{d.forEach((m,w)=>d.set(w,!1))},[r]),E.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),s==="popLayout"&&(t=y.jsx(Hue,{isPresent:r,anchorX:l,root:c,children:t})),y.jsx(aw.Provider,{value:g,children:t})};function Wue(){return new Map}function gz(t=!0){const e=E.useContext(aw);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,a=E.useId();E.useEffect(()=>{if(t)return i(a)},[t]);const s=E.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,s]:[!0]}const q1=t=>t.key||"";function U6(t){const e=[];return E.Children.forEach(t,r=>{E.isValidElement(r)&&e.push(r)}),e}const yz=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:l="left",root:c})=>{const[d,f]=gz(s),p=E.useMemo(()=>U6(t),[t]),g=s&&!d?[]:p.map(q1),m=E.useRef(!0),w=E.useRef(p),S=lC(()=>new Map),[_,k]=E.useState(p),[N,P]=E.useState(p);SV(()=>{m.current=!1,w.current=p;for(let z=0;z<N.length;z++){const L=q1(N[z]);g.includes(L)?S.delete(L):S.get(L)!==!0&&S.set(L,!1)}},[N,g.length,g.join("-")]);const F=[];if(p!==_){let z=[...p];for(let L=0;L<N.length;L++){const I=N[L],D=q1(I);g.includes(D)||(z.splice(L,0,I),F.push(I))}return a==="wait"&&F.length&&(z=F),P(U6(z)),k(p),null}const{forceRender:O}=E.useContext(oC);return y.jsx(y.Fragment,{children:N.map(z=>{const L=q1(z),I=s&&!d?!1:p===N||g.includes(L),D=()=>{if(S.has(L))S.set(L,!0);else return;let $=!0;S.forEach(j=>{j||($=!1)}),$&&(O?.(),P(w.current),s&&f?.(),n&&n())};return y.jsx(Gue,{isPresent:I,initial:!m.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:c,onExitComplete:I?void 0:D,anchorX:l,children:z},L)})})},vz=E.createContext({strict:!1}),V6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wm={};for(const t in V6)Wm[t]={isEnabled:e=>V6[t].some(r=>!!e[r])};function Kue(t){for(const e in t)Wm[e]={...Wm[e],...t[e]}}const Yue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Yue.has(t)}let bz=t=>!Sx(t);function Xue(t){typeof t=="function"&&(bz=e=>e.startsWith("on")?!Sx(e):t(e))}try{Xue(require("@emotion/is-prop-valid").default)}catch{}function Que(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(bz(i)||r===!0&&Sx(i)||!e&&!Sx(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const sw=E.createContext({});function ow(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gy(t){return typeof t=="string"||Array.isArray(t)}const jC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RC=["initial",...jC];function lw(t){return ow(t.animate)||RC.some(e=>gy(t[e]))}function xz(t){return!!(lw(t)||t.variants)}function Zue(t,e){if(lw(t)){const{initial:r,animate:n}=t;return{initial:r===!1||gy(r)?r:void 0,animate:gy(n)?n:void 0}}return t.inherit!==!1?e:{}}function Jue(t){const{initial:e,animate:r}=Zue(t,E.useContext(sw));return E.useMemo(()=>({initial:e,animate:r}),[z6(e),z6(r)])}function z6(t){return Array.isArray(t)?t.join(" "):t}function $6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const y0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_r.test(t))t=parseFloat(t);else return t;const r=$6(t,e.target.x),n=$6(t,e.target.y);return`${r}% ${n}%`}},ece={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=jf.parse(t);if(i.length>5)return n;const a=jf.createTransformer(t),s=typeof i[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;i[0+s]/=l,i[1+s]/=c;const d=Ti(l,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=d),typeof i[3+s]=="number"&&(i[3+s]/=d),a(i)}},uT={borderRadius:{...y0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:y0,borderTopRightRadius:y0,borderBottomLeftRadius:y0,borderBottomRightRadius:y0,boxShadow:ece};function wz(t,{layout:e,layoutId:r}){return yg.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!uT[t]||t==="opacity")}const tce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rce=gg.length;function nce(t,e,r){let n="",i=!0;for(let a=0;a<rce;a++){const s=gg[a],l=t[s];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(s.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=cz(l,kC[s]);if(!c){i=!1;const f=tce[s]||s;n+=`${f}(${d}) `}r&&(e[s]=d)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function OC(t,e,r){const{style:n,vars:i,transformOrigin:a}=t;let s=!1,l=!1;for(const c in e){const d=e[c];if(yg.has(c)){s=!0;continue}else if(VV(c)){i[c]=d;continue}else{const f=cz(d,kC[c]);c.startsWith("origin")?(l=!0,a[c]=f):n[c]=f}}if(e.transform||(s||r?n.transform=nce(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=a;n.transformOrigin=`${c} ${d} ${f}`}}const IC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _z(t,e,r){for(const n in e)!js(e[n])&&!wz(n,r)&&(t[n]=e[n])}function ice({transformTemplate:t},e){return E.useMemo(()=>{const r=IC();return OC(r,e,t),Object.assign({},r.vars,r.style)},[e])}function ace(t,e){const r=t.style||{},n={};return _z(n,r,t),Object.assign(n,ice(t,e)),n}function sce(t,e){const r={},n=ace(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const oce={offset:"stroke-dashoffset",array:"stroke-dasharray"},lce={offset:"strokeDashoffset",array:"strokeDasharray"};function uce(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?oce:lce;t[a.offset]=_r.transform(-n);const s=_r.transform(e),l=_r.transform(r);t[a.array]=`${s} ${l}`}function Az(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...l},c,d,f){if(OC(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),i!==void 0&&uce(p,i,a,s,!1)}const Sz=()=>({...IC(),attrs:{}}),Ez=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cce(t,e,r,n){const i=E.useMemo(()=>{const a=Sz();return Az(a,e,Ez(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};_z(a,t.style,t),i.style={...a,...i.style}}return i}const dce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function DC(t){return typeof t!="string"||t.includes("-")?!1:!!(dce.indexOf(t)>-1||/[A-Z]/u.test(t))}function fce(t,e,r,{latestValues:n},i,a=!1){const l=(DC(t)?cce:sce)(e,n,i,t),c=Que(e,typeof t=="string",a),d=t!==E.Fragment?{...c,...l,ref:r}:{},{children:f}=e,p=E.useMemo(()=>js(f)?f.get():f,[f]);return E.createElement(t,{...d,children:p})}function q6(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function LC(t,e,r,n){if(typeof e=="function"){const[i,a]=q6(n);e=e(r!==void 0?r:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=q6(n);e=e(r!==void 0?r:t.custom,i,a)}return e}function Lb(t){return js(t)?t.get():t}function hce({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:pce(r,n,i,t),renderState:e()}}function pce(t,e,r,n){const i={},a=n(t,{});for(const g in a)i[g]=Lb(a[g]);let{initial:s,animate:l}=t;const c=lw(t),d=xz(t);e&&d&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),l===void 0&&(l=e.animate));let f=r?r.initial===!1:!1;f=f||s===!1;const p=f?l:s;if(p&&typeof p!="boolean"&&!ow(p)){const g=Array.isArray(p)?p:[p];for(let m=0;m<g.length;m++){const w=LC(t,g[m]);if(w){const{transitionEnd:S,transition:_,...k}=w;for(const N in k){let P=k[N];if(Array.isArray(P)){const F=f?P.length-1:0;P=P[F]}P!==null&&(i[N]=P)}for(const N in S)i[N]=S[N]}}}return i}const Tz=t=>(e,r)=>{const n=E.useContext(sw),i=E.useContext(aw),a=()=>hce(t,e,n,i);return r?a():lC(a)};function MC(t,e,r){const{style:n}=t,i={};for(const a in n)(js(n[a])||e.style&&js(e.style[a])||wz(a,t)||r?.getValue(a)?.liveStyle!==void 0)&&(i[a]=n[a]);return i}const mce=Tz({scrapeMotionValuesFromProps:MC,createRenderState:IC});function kz(t,e,r){const n=MC(t,e,r);for(const i in t)if(js(t[i])||js(e[i])){const a=gg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=t[i]}return n}const gce=Tz({scrapeMotionValuesFromProps:kz,createRenderState:Sz}),yce=Symbol.for("motionComponentSymbol");function vm(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vce(t,e,r){return E.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):vm(r)&&(r.current=n))},[e])}const BC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bce="framerAppearId",Cz="data-"+BC(bce),Nz=E.createContext({});function xce(t,e,r,n,i){const{visualElement:a}=E.useContext(sw),s=E.useContext(vz),l=E.useContext(aw),c=E.useContext(PC).reducedMotion,d=E.useRef(null);n=n||s.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:a,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,p=E.useContext(Nz);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&wce(d.current,r,i,p);const g=E.useRef(!1);E.useInsertionEffect(()=>{f&&g.current&&f.update(r,l)});const m=r[Cz],w=E.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return SV(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),E.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),w.current=!1),f.enteringChildren=void 0)}),f}function wce(t,e,r,n){const{layoutId:i,layout:a,drag:s,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Pz(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||l&&vm(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:c,layoutRoot:d})}function Pz(t){if(t)return t.options.allowProjection!==!1?t.projection:Pz(t.parent)}function K_(t,{forwardMotionProps:e=!1}={},r,n){r&&Kue(r);const i=DC(t)?gce:mce;function a(l,c){let d;const f={...E.useContext(PC),...l,layoutId:_ce(l)},{isStatic:p}=f,g=Jue(l),m=i(l,p);if(!p&&uC){Ace();const w=Sce(f);d=w.MeasureLayout,g.visualElement=xce(t,m,f,n,w.ProjectionNode)}return y.jsxs(sw.Provider,{value:g,children:[d&&g.visualElement?y.jsx(d,{visualElement:g.visualElement,...f}):null,fce(t,l,vce(m,g.visualElement,c),m,p,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const s=E.forwardRef(a);return s[yce]=t,s}function _ce({layoutId:t}){const e=E.useContext(oC).id;return e&&t!==void 0?e+"-"+t:t}function Ace(t,e){E.useContext(vz).strict}function Sce(t){const{drag:e,layout:r}=Wm;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Ece(t,e){if(typeof Proxy>"u")return K_;const r=new Map,n=(a,s)=>K_(a,s,t,e),i=(a,s)=>n(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?n:(r.has(s)||r.set(s,K_(s,void 0,t,e)),r.get(s))})}function jz({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Tce({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kce(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Y_(t){return t===void 0||t===1}function cT({scale:t,scaleX:e,scaleY:r}){return!Y_(t)||!Y_(e)||!Y_(r)}function yh(t){return cT(t)||Rz(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Rz(t){return H6(t.x)||H6(t.y)}function H6(t){return t&&t!=="0%"}function Ex(t,e,r){const n=t-r,i=e*n;return r+i}function G6(t,e,r,n,i){return i!==void 0&&(t=Ex(t,i,n)),Ex(t,r,n)+e}function dT(t,e=0,r=1,n,i){t.min=G6(t.min,e,r,n,i),t.max=G6(t.max,e,r,n,i)}function Oz(t,{x:e,y:r}){dT(t.x,e.translate,e.scale,e.originPoint),dT(t.y,r.translate,r.scale,r.originPoint)}const W6=.999999999999,K6=1.0000000000001;function Cce(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,s;for(let l=0;l<i;l++){a=r[l],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&xm(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Oz(t,s)),n&&yh(a.latestValues)&&xm(t,a.latestValues))}e.x<K6&&e.x>W6&&(e.x=1),e.y<K6&&e.y>W6&&(e.y=1)}function bm(t,e){t.min=t.min+e,t.max=t.max+e}function Y6(t,e,r,n,i=.5){const a=Ti(t.min,t.max,i);dT(t,e,r,a,n)}function xm(t,e){Y6(t.x,e.x,e.scaleX,e.scale,e.originX),Y6(t.y,e.y,e.scaleY,e.scale,e.originY)}function Iz(t,e){return jz(kce(t.getBoundingClientRect(),e))}function Nce(t,e,r){const n=Iz(t,r),{scroll:i}=e;return i&&(bm(n.x,i.offset.x),bm(n.y,i.offset.y)),n}const X6=()=>({translate:0,scale:1,origin:0,originPoint:0}),wm=()=>({x:X6(),y:X6()}),Q6=()=>({min:0,max:0}),Ta=()=>({x:Q6(),y:Q6()}),fT={current:null},Dz={current:!1};function Pce(){if(Dz.current=!0,!!uC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fT.current=t.matches;t.addEventListener("change",e),e()}else fT.current=!1}const jce=new WeakMap;function Rce(t,e,r){for(const n in e){const i=e[n],a=r[n];if(js(i))t.addValue(n,i);else if(js(a))t.addValue(n,Gm(i,{owner:t}));else if(a!==i)if(t.hasValue(n)){const s=t.getValue(n);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(n);t.addValue(n,Gm(s!==void 0?s:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const Z6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Oce{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=EC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=So.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,gi.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=lw(r),this.isVariantNode=xz(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const m=p[g];c[g]!==void 0&&js(m)&&m.set(c[g])}}mount(e){this.current=e,jce.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Dz.current||Pce(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fT.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pf(this.notifyUpdate),Pf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=yg.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&gi.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wm){const r=Wm[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ta()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Z6.length;n++){const i=Z6[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Rce(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Gm(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(EV(n)||kV(n))?n=parseFloat(n):!Vue(n)&&jf.test(r)&&(n=uz(e,r)),this.setBaseTarget(e,js(n)?n.get():n)),js(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=LC(this.props,r,this.presenceContext?.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!js(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new pC),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){CC.render(this.render)}}class Lz extends Oce{constructor(){super(...arguments),this.KeyframeResolver=Nue}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;js(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Mz(t,{style:e,vars:r},n,i){const a=t.style;let s;for(s in e)a[s]=e[s];i?.applyProjectionStyles(a,n);for(s in r)a.setProperty(s,r[s])}function Ice(t){return window.getComputedStyle(t)}class Dce extends Lz{constructor(){super(...arguments),this.type="html",this.renderInstance=Mz}readValueFromInstance(e,r){if(yg.has(r))return this.projection?.isProjecting?rT(r):Kle(e,r);{const n=Ice(e),i=(VV(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Iz(e,r)}build(e,r,n){OC(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return MC(e,r,n)}}const Bz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Lce(t,e,r,n){Mz(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(Bz.has(i)?i:BC(i),e.attrs[i])}class Mce extends Lz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ta}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(yg.has(r)){const n=lz(r);return n&&n.default||0}return r=Bz.has(r)?r:BC(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return kz(e,r,n)}build(e,r,n){Az(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){Lce(e,r,n,i)}mount(e){this.isSVGTag=Ez(e.tagName),super.mount(e)}}const Bce=(t,e)=>DC(t)?new Mce(e):new Dce(e,{allowProjection:t!==E.Fragment});function jm(t,e,r){const n=t.getProps();return LC(n,e,r!==void 0?r:n.custom,t)}const hT=t=>Array.isArray(t);function Fce(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Gm(r))}function Uce(t){return hT(t)?t[t.length-1]||0:t}function Vce(t,e){const r=jm(t,e);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const s in a){const l=Uce(a[s]);Fce(t,s,l)}}function zce(t){return!!(js(t)&&t.add)}function pT(t,e){const r=t.getValue("willChange");if(zce(r))return r.add(e);if(!r&&ld.WillChange){const n=new ld.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function Fz(t){return t.props[Cz]}const $ce=t=>t!==null;function qce(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter($ce),a=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[a]}const Hce={type:"spring",stiffness:500,damping:25,restSpeed:10},Gce=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Wce={type:"keyframes",duration:.8},Kce={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yce=(t,{keyframes:e})=>e.length>2?Wce:yg.has(t)?t.startsWith("scale")?Gce(e[1]):Hce:Kce;function Xce({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const FC=(t,e,r,n={},i,a)=>s=>{const l=TC(n,t)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Ju(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};Xce(l)||Object.assign(f,Yce(t,f)),f.duration&&(f.duration=Ju(f.duration)),f.repeatDelay&&(f.repeatDelay=Ju(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(oT(f),f.delay===0&&(p=!0)),(ld.instantAnimations||ld.skipAnimations)&&(p=!0,oT(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,p&&!a&&e.get()!==void 0){const g=qce(f.keyframes,l);if(g!==void 0){gi.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new SC(f):new yue(f)};function Qce({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function Uz(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:s,...l}=e;n&&(a=n);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const p=t.getValue(f,t.latestValues[f]??null),g=l[f];if(g===void 0||d&&Qce(d,f))continue;const m={delay:r,...TC(a||{},f)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===w&&!m.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const k=Fz(t);if(k){const N=window.MotionHandoffAnimation(k,f,gi);N!==null&&(m.startTime=N,S=!0)}}pT(t,f),p.start(FC(f,p,g,t.shouldReduceMotion&&az.has(f)?{type:!1}:m,t,S));const _=p.animation;_&&c.push(_)}return s&&Promise.all(c).then(()=>{gi.update(()=>{s&&Vce(t,s)})}),c}function Vz(t,e,r,n=0,i=1){const a=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),s=t.size,l=(s-1)*n;return typeof r=="function"?r(a,s):i===1?a*n:l-a*n}function mT(t,e,r={}){const n=jm(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(Uz(t,n,r)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=i;return Zce(t,e,c,d,f,p,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[a,s]:[s,a];return c().then(()=>d())}else return Promise.all([a(),s(r.delay)])}function Zce(t,e,r=0,n=0,i=0,a=1,s){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(mT(c,e,{...s,delay:r+(typeof n=="function"?0:n)+Vz(t.variantChildren,c,n,i,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Jce(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>mT(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=mT(t,e,r);else{const i=typeof e=="function"?jm(t,e,r.custom):e;n=Promise.all(Uz(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function zz(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const ede=RC.length;function $z(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?$z(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<ede;r++){const n=RC[r],i=t.props[n];(gy(i)||i===!1)&&(e[n]=i)}return e}const tde=[...jC].reverse(),rde=jC.length;function nde(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Jce(t,r,n)))}function ide(t){let e=nde(t),r=J6(),n=!0;const i=c=>(d,f)=>{const p=jm(t,f,c==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:m,...w}=p;d={...d,...w,...m}}return d};function a(c){e=c(t)}function s(c){const{props:d}=t,f=$z(t.parent)||{},p=[],g=new Set;let m={},w=1/0;for(let _=0;_<rde;_++){const k=tde[_],N=r[k],P=d[k]!==void 0?d[k]:f[k],F=gy(P),O=k===c?N.isActive:null;O===!1&&(w=_);let z=P===f[k]&&P!==d[k]&&F;if(z&&n&&t.manuallyAnimateOnMount&&(z=!1),N.protectedKeys={...m},!N.isActive&&O===null||!P&&!N.prevProp||ow(P)||typeof P=="boolean")continue;const L=ade(N.prevProp,P);let I=L||k===c&&N.isActive&&!z&&F||_>w&&F,D=!1;const $=Array.isArray(P)?P:[P];let j=$.reduce(i(k),{});O===!1&&(j={});const{prevResolvedValues:V={}}=N,M={...V,...j},J=ee=>{I=!0,g.has(ee)&&(D=!0,g.delete(ee)),N.needsAnimating[ee]=!0;const fe=t.getValue(ee);fe&&(fe.liveStyle=!1)};for(const ee in M){const fe=j[ee],we=V[ee];if(m.hasOwnProperty(ee))continue;let Be=!1;hT(fe)&&hT(we)?Be=!zz(fe,we):Be=fe!==we,Be?fe!=null?J(ee):g.add(ee):fe!==void 0&&g.has(ee)?J(ee):N.protectedKeys[ee]=!0}N.prevProp=P,N.prevResolvedValues=j,N.isActive&&(m={...m,...j}),n&&t.blockInitialAnimation&&(I=!1);const _e=z&&L;I&&(!_e||D)&&p.push(...$.map(ee=>{const fe={type:k};if(typeof ee=="string"&&n&&!_e&&t.manuallyAnimateOnMount&&t.parent){const{parent:we}=t,Be=jm(we,ee);if(we.enteringChildren&&Be){const{delayChildren:Z}=Be.transition||{};fe.delay=Vz(we.enteringChildren,t,Z)}}return{animation:ee,options:fe}}))}if(g.size){const _={};if(typeof d.initial!="boolean"){const k=jm(t,Array.isArray(d.initial)?d.initial[0]:d.initial);k&&k.transition&&(_.transition=k.transition)}g.forEach(k=>{const N=t.getBaseTarget(k),P=t.getValue(k);P&&(P.liveStyle=!0),_[k]=N??null}),p.push({animation:_})}let S=!!p.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(S=!1),n=!1,S?e(p):Promise.resolve()}function l(c,d){if(r[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(c,d)),r[c].isActive=d;const f=s(c);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:s,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=J6()}}}function ade(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zz(e,t):!1}function dh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function J6(){return{animate:dh(!0),whileInView:dh(),whileHover:dh(),whileTap:dh(),whileDrag:dh(),whileFocus:dh(),exit:dh()}}class $f{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sde extends $f{constructor(e){super(e),e.animationState||(e.animationState=ide(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ow(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ode=0;class lde extends $f{constructor(){super(...arguments),this.id=ode++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ude={animation:{Feature:sde},exit:{Feature:lde}};function yy(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function dv(t){return{point:{x:t.pageX,y:t.pageY}}}const cde=t=>e=>NC(e)&&t(e,dv(e));function K0(t,e,r,n){return yy(t,e,cde(r),n)}const qz=1e-4,dde=1-qz,fde=1+qz,Hz=.01,hde=0-Hz,pde=0+Hz;function Ks(t){return t.max-t.min}function mde(t,e,r){return Math.abs(t-e)<=r}function eI(t,e,r,n=.5){t.origin=n,t.originPoint=Ti(e.min,e.max,t.origin),t.scale=Ks(r)/Ks(e),t.translate=Ti(r.min,r.max,t.origin)-t.originPoint,(t.scale>=dde&&t.scale<=fde||isNaN(t.scale))&&(t.scale=1),(t.translate>=hde&&t.translate<=pde||isNaN(t.translate))&&(t.translate=0)}function Y0(t,e,r,n){eI(t.x,e.x,r.x,n?n.originX:void 0),eI(t.y,e.y,r.y,n?n.originY:void 0)}function tI(t,e,r){t.min=r.min+e.min,t.max=t.min+Ks(e)}function gde(t,e,r){tI(t.x,e.x,r.x),tI(t.y,e.y,r.y)}function rI(t,e,r){t.min=e.min-r.min,t.max=t.min+Ks(e)}function Tx(t,e,r){rI(t.x,e.x,r.x),rI(t.y,e.y,r.y)}function gl(t){return[t("x"),t("y")]}const Gz=({current:t})=>t?t.ownerDocument.defaultView:null,nI=(t,e)=>Math.abs(t-e);function yde(t,e){const r=nI(t.x,e.x),n=nI(t.y,e.y);return Math.sqrt(r**2+n**2)}class Wz{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Q_(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=yde(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!w)return;const{point:S}=g,{timestamp:_}=ds;this.history.push({...S,timestamp:_});const{onStart:k,onMove:N}=this.handlers;m||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,g)},this.handlePointerMove=(g,m)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=X_(m,this.transformPagePoint),gi.update(this.updatePoint,!0)},this.handlePointerUp=(g,m)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Q_(g.type==="pointercancel"?this.lastMoveEventInfo:X_(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,k),S&&S(g,k)},!NC(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=i||window;const l=dv(e),c=X_(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=ds;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=r;p&&p(e,Q_(c,this.history)),this.removeListeners=lv(K0(this.contextWindow,"pointermove",this.handlePointerMove),K0(this.contextWindow,"pointerup",this.handlePointerUp),K0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Pf(this.updatePoint)}}function X_(t,e){return e?{point:e(t.point)}:t}function iI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Q_({point:t},e){return{point:t,delta:iI(t,Kz(e)),offset:iI(t,vde(e)),velocity:bde(e,.1)}}function vde(t){return t[0]}function Kz(t){return t[t.length-1]}function bde(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=Kz(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Ju(e)));)r--;if(!n)return{x:0,y:0};const a=wl(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function xde(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Ti(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Ti(r,t,n.max):Math.min(t,r)),t}function aI(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function wde(t,{top:e,left:r,bottom:n,right:i}){return{x:aI(t.x,r,i),y:aI(t.y,e,n)}}function sI(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function _de(t,e){return{x:sI(t.x,e.x),y:sI(t.y,e.y)}}function Ade(t,e){let r=.5;const n=Ks(t),i=Ks(e);return i>n?r=hy(e.min,e.max-n,t.min):n>i&&(r=hy(t.min,t.max-i,e.min)),od(0,1,r)}function Sde(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const gT=.35;function Ede(t=gT){return t===!1?t=0:t===!0&&(t=gT),{x:oI(t,"left","right"),y:oI(t,"top","bottom")}}function oI(t,e,r){return{min:lI(t,e),max:lI(t,r)}}function lI(t,e){return typeof t=="number"?t:t[e]||0}const Tde=new WeakMap;class kde{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ta(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(dv(p).point)},s=(p,g)=>{const{drag:m,dragPropagation:w,onDragStart:S}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Oue(m),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gl(k=>{let N=this.getAxisMotionValue(k).get()||0;if(ec.test(N)){const{projection:P}=this.visualElement;if(P&&P.layout){const F=P.layout.layoutBox[k];F&&(N=Ks(F)*(parseFloat(N)/100))}}this.originPoint[k]=N}),S&&gi.postRender(()=>S(p,g)),pT(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:S,onDrag:_}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:k}=g;if(w&&this.currentDirection===null){this.currentDirection=Cde(k),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),_&&_(p,g)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>gl(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Wz(e,{onSessionStart:a,onStart:s,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:Gz(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&gi.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!H1(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=xde(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&vm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=wde(n.layoutBox,e):this.constraints=!1,this.elastic=Ede(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&gl(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Sde(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!vm(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Nce(n,i.root,this.visualElement.getTransformPagePoint());let s=_de(i.layout.layoutBox,a);if(r){const l=r(Tce(s));this.hasMutatedConstraints=!!l,l&&(s=jz(l))}return s}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=gl(f=>{if(!H1(f,r,this.currentDirection))return;let p=c&&c[f]||{};s&&(p={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,w={type:"inertia",velocity:n?e[f]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(f,w)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return pT(this.visualElement,e),n.start(FC(e,n,0,r,this.visualElement,!1))}stopAnimation(){gl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gl(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){gl(r=>{const{drag:n}=this.getProps();if(!H1(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[r];a.set(e[r]-Ti(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!vm(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gl(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const c=l.get();i[s]=Ade({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),gl(s=>{if(!H1(s,e,null))return;const l=this.getAxisMotionValue(s),{min:c,max:d}=this.constraints[s];l.set(Ti(c,d,i[s]))})}addListeners(){if(!this.visualElement.current)return;Tde.set(this.visualElement,this);const e=this.visualElement.current,r=K0(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();vm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),gi.read(n);const s=yy(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(gl(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())}));return()=>{s(),r(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=gT,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:l}}}function H1(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Cde(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Nde extends $f{constructor(e){super(e),this.removeGroupControls=Al,this.removeListeners=Al,this.controls=new kde(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Al}unmount(){this.removeGroupControls(),this.removeListeners()}}const uI=t=>(e,r)=>{t&&gi.postRender(()=>t(e,r))};class Pde extends $f{constructor(){super(...arguments),this.removePointerDownListener=Al}onPointerDown(e){this.session=new Wz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gz(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:uI(e),onStart:uI(r),onMove:n,onEnd:(a,s)=>{delete this.session,i&&gi.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=K0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Z_=!1;class jde extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),Z_&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Mb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,{projection:s}=n;return s&&(s.isPresent=a,Z_=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||gi.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),CC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;Z_=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Yz(t){const[e,r]=gz(),n=E.useContext(oC);return y.jsx(jde,{...t,layoutGroup:n,switchLayoutGroup:E.useContext(Nz),isPresent:e,safeToRemove:r})}function Rde(t,e,r){const n=js(t)?t:Gm(t);return n.start(FC("",n,e,r)),n.animation}const Ode=(t,e)=>t.depth-e.depth;class Ide{constructor(){this.children=[],this.isDirty=!1}add(e){cC(this.children,e),this.isDirty=!0}remove(e){dC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ode),this.isDirty=!1,this.children.forEach(e)}}function Dde(t,e){const r=So.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(Pf(n),t(a-e))};return gi.setup(n,!0),()=>Pf(n)}const Xz=["TopLeft","TopRight","BottomLeft","BottomRight"],Lde=Xz.length,cI=t=>typeof t=="string"?parseFloat(t):t,dI=t=>typeof t=="number"||_r.test(t);function Mde(t,e,r,n,i,a){i?(t.opacity=Ti(0,r.opacity??1,Bde(n)),t.opacityExit=Ti(e.opacity??1,0,Fde(n))):a&&(t.opacity=Ti(e.opacity??1,r.opacity??1,n));for(let s=0;s<Lde;s++){const l=`border${Xz[s]}Radius`;let c=fI(e,l),d=fI(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||dI(c)===dI(d)?(t[l]=Math.max(Ti(cI(c),cI(d),n),0),(ec.test(d)||ec.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=Ti(e.rotate||0,r.rotate||0,n))}function fI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Bde=Qz(0,.5,DV),Fde=Qz(.5,.95,Al);function Qz(t,e,r){return n=>n<t?0:n>e?1:r(hy(t,e,n))}function hI(t,e){t.min=e.min,t.max=e.max}function Zl(t,e){hI(t.x,e.x),hI(t.y,e.y)}function pI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function mI(t,e,r,n,i){return t-=e,t=Ex(t,1/r,n),i!==void 0&&(t=Ex(t,1/i,n)),t}function Ude(t,e=0,r=1,n=.5,i,a=t,s=t){if(ec.test(e)&&(e=parseFloat(e),e=Ti(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=Ti(a.min,a.max,n);t===a&&(l-=e),t.min=mI(t.min,e,r,l,i),t.max=mI(t.max,e,r,l,i)}function gI(t,e,[r,n,i],a,s){Ude(t,e[r],e[n],e[i],e.scale,a,s)}const Vde=["x","scaleX","originX"],zde=["y","scaleY","originY"];function yI(t,e,r,n){gI(t.x,e,Vde,r?r.x:void 0,n?n.x:void 0),gI(t.y,e,zde,r?r.y:void 0,n?n.y:void 0)}function vI(t){return t.translate===0&&t.scale===1}function Zz(t){return vI(t.x)&&vI(t.y)}function bI(t,e){return t.min===e.min&&t.max===e.max}function $de(t,e){return bI(t.x,e.x)&&bI(t.y,e.y)}function xI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Jz(t,e){return xI(t.x,e.x)&&xI(t.y,e.y)}function wI(t){return Ks(t.x)/Ks(t.y)}function _I(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class qde{constructor(){this.members=[]}add(e){cC(this.members,e),e.scheduleRender()}remove(e){if(dC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hde(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=r?.z||0;if((i||a||s)&&(n=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:m,skewY:w}=r;d&&(n=`perspective(${d}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),m&&(n+=`skewX(${m}deg) `),w&&(n+=`skewY(${w}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const J_=["","X","Y","Z"],Gde=1e3;let Wde=0;function eA(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function e$(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Fz(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",gi,!(i||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&e$(n)}function t$({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(s={},l=e?.()){this.id=Wde++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Xde),this.nodes.forEach(efe),this.nodes.forEach(tfe),this.nodes.forEach(Qde)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ide)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new pC),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=mz(s)&&!Fue(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;gi.read(()=>{p=window.innerWidth}),t(s,()=>{const m=window.innerWidth;m!==p&&(p=m,this.root.updateBlockedByResize=!0,f&&f(),f=Dde(g,250),Mb.hasAnimatedSinceResize&&(Mb.hasAnimatedSinceResize=!1,this.nodes.forEach(EI)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||sfe,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=d.getProps(),k=!this.targetLayout||!Jz(this.targetLayout,m),N=!p&&g;if(this.options.layoutRoot||this.resumeFrom||N||p&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...TC(w,"layout"),onPlay:S,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(f,N)}else p||EI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rfe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&e$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(SI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Jde),this.nodes.forEach(Kde),this.nodes.forEach(Yde)):this.nodes.forEach(SI),this.clearAllSnapshots();const l=So.now();ds.delta=od(0,1e3/60,l-ds.timestamp),ds.timestamp=l,ds.isProcessing=!0,z_.update.process(ds),z_.preRender.process(ds),z_.render.process(ds),ds.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,CC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Zde),this.sharedNodes.forEach(nfe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ks(this.snapshot.measuredBox.x)&&!Ks(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ta(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Zz(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;s&&this.instance&&(l||yh(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),ofe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ta();const l=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(lfe))){const{scroll:d}=this.root;d&&(bm(l.x,d.offset.x),bm(l.y,d.offset.y))}return l}removeElementScroll(s){const l=Ta();if(Zl(l,s),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Zl(l,s),bm(l.x,f.offset.x),bm(l.y,f.offset.y))}return l}applyTransform(s,l=!1){const c=Ta();Zl(c,s);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&xm(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),yh(f.latestValues)&&xm(c,f.latestValues)}return yh(this.latestValues)&&xm(c,this.latestValues),c}removeTransform(s){const l=Ta();Zl(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!yh(d.latestValues))continue;cT(d.latestValues)&&d.updateSnapshot();const f=Ta(),p=d.measurePageBox();Zl(f,p),yI(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return yh(this.latestValues)&&yI(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ds.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=ds.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ta(),this.targetWithTransforms=Ta()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gde(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zl(this.target,this.layout.layoutBox),Oz(this.target,this.targetDelta)):Zl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||cT(this.parent.latestValues)||Rz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,l,c){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ta(),this.relativeTargetOrigin=Ta(),Tx(this.relativeTargetOrigin,l,c),Zl(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ds.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Zl(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;Cce(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ta());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pI(this.prevProjectionDelta.x,this.projectionDelta.x),pI(this.prevProjectionDelta.y,this.projectionDelta.y)),Y0(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!_I(this.projectionDelta.x,this.prevProjectionDelta.x)||!_I(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wm(),this.projectionDelta=wm(),this.projectionDeltaWithTransform=wm()}setAnimationOrigin(s,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},p=wm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Ta(),m=c?c.source:void 0,w=this.layout?this.layout.source:void 0,S=m!==w,_=this.getStack(),k=!_||_.members.length<=1,N=!!(S&&!k&&this.options.crossfade===!0&&!this.path.some(afe));this.animationProgress=0;let P;this.mixTargetDelta=F=>{const O=F/1e3;TI(p.x,s.x,O),TI(p.y,s.y,O),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tx(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ife(this.relativeTarget,this.relativeTargetOrigin,g,O),P&&$de(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Ta()),Zl(P,this.relativeTarget)),S&&(this.animationValues=f,Mde(f,d,this.latestValues,O,N,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Pf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gi.update(()=>{Mb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gm(0)),this.currentAnimation=Rde(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gde),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=s;if(!(!l||!c||!d)){if(this!==s&&this.layout&&d&&r$(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ta();const p=Ks(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+p;const g=Ks(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+g}Zl(l,c),xm(l,f),Y0(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new qde),this.sharedNodes.get(s).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&eA("z",s,d,this.animationValues);for(let f=0;f<J_.length;f++)eA(`rotate${J_[f]}`,s,d,this.animationValues),eA(`skew${J_[f]}`,s,d,this.animationValues);s.render();for(const f in d)s.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);s.scheduleRender()}applyProjectionStyles(s,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Lb(l?.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Lb(l?.pointerEvents)||""),this.hasProjected&&!yh(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=Hde(this.projectionDeltaWithTransform,this.treeScale,f);c&&(p=c(f,p)),s.transform=p;const{x:g,y:m}=this.projectionDelta;s.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,d.animationValues?s.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in uT){if(f[w]===void 0)continue;const{correct:S,applyTo:_,isCSSVariable:k}=uT[w],N=p==="none"?f[w]:S(f[w],d);if(_){const P=_.length;for(let F=0;F<P;F++)s[_[F]]=N}else k?this.options.visualElement.renderState.vars[w]=N:s[w]=N}this.options.layoutId&&(s.pointerEvents=d===this?Lb(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(AI),this.root.sharedNodes.clear()}}}function Kde(t){t.updateLayout()}function Yde(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?gl(f=>{const p=a?e.measuredBox[f]:e.layoutBox[f],g=Ks(p);p.min=r[f].min,p.max=p.min+g}):r$(i,e.layoutBox,r)&&gl(f=>{const p=a?e.measuredBox[f]:e.layoutBox[f],g=Ks(r[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const s=wm();Y0(s,r,e.layoutBox);const l=wm();a?Y0(l,t.applyTransform(n,!0),e.measuredBox):Y0(l,r,e.layoutBox);const c=!Zz(s);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const m=Ta();Tx(m,e.layoutBox,p.layoutBox);const w=Ta();Tx(w,r,g.layoutBox),Jz(m,w)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Xde(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Qde(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Zde(t){t.clearSnapshot()}function AI(t){t.clearMeasurements()}function SI(t){t.isLayoutDirty=!1}function Jde(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function EI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function efe(t){t.resolveTargetDelta()}function tfe(t){t.calcProjection()}function rfe(t){t.resetSkewAndRotation()}function nfe(t){t.removeLeadSnapshot()}function TI(t,e,r){t.translate=Ti(e.translate,0,r),t.scale=Ti(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function kI(t,e,r,n){t.min=Ti(e.min,r.min,n),t.max=Ti(e.max,r.max,n)}function ife(t,e,r,n){kI(t.x,e.x,r.x,n),kI(t.y,e.y,r.y,n)}function afe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const sfe={duration:.45,ease:[.4,0,.1,1]},CI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),NI=CI("applewebkit/")&&!CI("chrome/")?Math.round:Al;function PI(t){t.min=NI(t.min),t.max=NI(t.max)}function ofe(t){PI(t.x),PI(t.y)}function r$(t,e,r){return t==="position"||t==="preserve-aspect"&&!mde(wI(e),wI(r),.2)}function lfe(t){return t!==t.root&&t.scroll?.wasRoot}const ufe=t$({attachResizeListener:(t,e)=>yy(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tA={current:void 0},n$=t$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tA.current){const t=new ufe({});t.mount(window),t.setOptions({layoutScroll:!0}),tA.current=t}return tA.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cfe={pan:{Feature:Pde},drag:{Feature:Nde,ProjectionNode:n$,MeasureLayout:Yz}};function jI(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&gi.postRender(()=>a(e,dv(e)))}class dfe extends $f{mount(){const{current:e}=this.node;e&&(this.unmount=Iue(e,(r,n)=>(jI(this.node,n,"Start"),i=>jI(this.node,i,"End"))))}unmount(){}}class ffe extends $f{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lv(yy(this.node.current,"focus",()=>this.onFocus()),yy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RI(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&gi.postRender(()=>a(e,dv(e)))}class hfe extends $f{mount(){const{current:e}=this.node;e&&(this.unmount=Bue(e,(r,n)=>(RI(this.node,n,"Start"),(i,{success:a})=>RI(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yT=new WeakMap,rA=new WeakMap,pfe=t=>{const e=yT.get(t.target);e&&e(t)},mfe=t=>{t.forEach(pfe)};function gfe({root:t,...e}){const r=t||document;rA.has(r)||rA.set(r,{});const n=rA.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(mfe,{root:t,...e})),n[i]}function yfe(t,e,r){const n=gfe(e);return yT.set(t,r),n.observe(t),()=>{yT.delete(t),n.unobserve(t)}}const vfe={some:0,all:1};class bfe extends $f{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:vfe[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(c)};return yfe(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(xfe(e,r))&&this.startObserver()}unmount(){}}function xfe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const wfe={inView:{Feature:bfe},tap:{Feature:hfe},focus:{Feature:ffe},hover:{Feature:dfe}},_fe={layout:{ProjectionNode:n$,MeasureLayout:Yz}},Afe={...ude,...wfe,...cfe,..._fe},qu=Ece(Afe,Bce);const Sfe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Efe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),OI=t=>{const e=Efe(t);return e.charAt(0).toUpperCase()+e.slice(1)},i$=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Tfe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var kfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Cfe=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...l},c)=>E.createElement("svg",{ref:c,...kfe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:i$("lucide",i),...!a&&!Tfe(l)&&{"aria-hidden":"true"},...l},[...s.map(([d,f])=>E.createElement(d,f)),...Array.isArray(a)?a:[a]]));const lr=(t,e)=>{const r=E.forwardRef(({className:n,...i},a)=>E.createElement(Cfe,{ref:a,iconNode:e,className:i$(`lucide-${Sfe(OI(t))}`,`lucide-${t}`,n),...i}));return r.displayName=OI(t),r};const Nfe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],UC=lr("arrow-left",Nfe);const Pfe=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],vT=lr("box",Pfe);const jfe=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],II=lr("brain",jfe);const Rfe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],DI=lr("chart-column",Rfe);const Ofe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xh=lr("check",Ofe);const Ife=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uw=lr("chevron-down",Ife);const Dfe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Lfe=lr("chevron-left",Dfe);const Mfe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bfe=lr("chevron-right",Mfe);const Ffe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],VC=lr("chevron-up",Ffe);const Ufe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kx=lr("circle-alert",Ufe);const Vfe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zfe=lr("circle-check-big",Vfe);const $fe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],a$=lr("circle-question-mark",$fe);const qfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hfe=lr("circle-x",qfe);const Gfe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cx=lr("clock",Gfe);const Wfe=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],LI=lr("code-xml",Wfe);const Kfe=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Yfe=lr("coins",Kfe);const Xfe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Nx=lr("copy",Xfe);const Qfe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nA=lr("credit-card",Qfe);const Zfe=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],X0=lr("crown",Zfe);const Jfe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],s$=lr("download",Jfe);const ehe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],the=lr("external-link",ehe);const rhe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nhe=lr("eye-off",rhe);const ihe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ahe=lr("eye",ihe);const she=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],o$=lr("file-text",she);const ohe=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],vy=lr("folder-open",ohe);const lhe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],uhe=lr("funnel",lhe);const che=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],dhe=lr("grid-3x3",che);const fhe=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],hhe=lr("grip-horizontal",fhe);const phe=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],mhe=lr("grip-vertical",phe);const ghe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],yhe=lr("house",ghe);const vhe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],bhe=lr("key",vhe);const xhe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],um=lr("loader-circle",xhe);const whe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],l$=lr("log-out",whe);const _he=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Ahe=lr("maximize-2",_he);const She=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Ehe=lr("maximize",She);const The=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],u$=lr("pen",The);const khe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Che=lr("play",khe);const Nhe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zu=lr("plus",Nhe);const Phe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fh=lr("refresh-cw",Phe);const jhe=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Rhe=lr("rocket",jhe);const Ohe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ihe=lr("rotate-ccw",Ohe);const Dhe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Lhe=lr("save",Dhe);const Mhe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_h=lr("search",Mhe);const Bhe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c$=lr("settings",Bhe);const Fhe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],d$=lr("shield",Fhe);const Uhe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Bh=lr("sparkles",Uhe);const Vhe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],v0=lr("square-pen",Vhe);const zhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],$he=lr("square",zhe);const qhe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ru=lr("trash-2",qhe);const Hhe=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],Ghe=lr("unlink",Hhe);const Whe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Khe=lr("upload",Whe);const Yhe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bT=lr("user",Yhe);const Xhe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],G1=lr("users",Xhe);const Qhe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Is=lr("x",Qhe);const Zhe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Jhe=lr("zap",Zhe);const epe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],tpe=lr("zoom-in",epe);const rpe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],npe=lr("zoom-out",rpe);function kn(t){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(t)}var cu=Uint8Array,Ho=Uint16Array,zC=Int32Array,$C=new cu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qC=new cu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),MI=new cu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f$=function(t,e){for(var r=new Ho(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new zC(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},h$=f$($C,2),ipe=h$.b,xT=h$.r;ipe[28]=258,xT[258]=28;var ape=f$(qC,0),BI=ape.r,wT=new Ho(32768);for(var ri=0;ri<32768;++ri){var rf=(ri&43690)>>1|(ri&21845)<<1;rf=(rf&52428)>>2|(rf&13107)<<2,rf=(rf&61680)>>4|(rf&3855)<<4,wT[ri]=((rf&65280)>>8|(rf&255)<<8)>>1}var Q0=(function(t,e,r){for(var n=t.length,i=0,a=new Ho(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new Ho(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(r){l=new Ho(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var d=i<<4|t[i],f=e-t[i],p=s[t[i]-1]++<<f,g=p|(1<<f)-1;p<=g;++p)l[wT[p]>>c]=d}else for(l=new Ho(n),i=0;i<n;++i)t[i]&&(l[i]=wT[s[t[i]-1]++]>>15-t[i]);return l}),Qh=new cu(288);for(var ri=0;ri<144;++ri)Qh[ri]=8;for(var ri=144;ri<256;++ri)Qh[ri]=9;for(var ri=256;ri<280;++ri)Qh[ri]=7;for(var ri=280;ri<288;++ri)Qh[ri]=8;var Px=new cu(32);for(var ri=0;ri<32;++ri)Px[ri]=5;var spe=Q0(Qh,9,0),ope=Q0(Px,5,0),p$=function(t){return(t+7)/8|0},lpe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new cu(t.subarray(e,r))},Bc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},b0=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},iA=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:g$,l:0};if(i==1){var s=new cu(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(O,z){return O.f-z.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,f=1,p=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=i-1;)l=r[r[d].f<r[p].f?d++:p++],c=r[d!=f&&r[d].f<r[p].f?d++:p++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var g=a[0].s,n=1;n<i;++n)a[n].s>g&&(g=a[n].s);var m=new Ho(g+1),w=_T(r[f-1],m,0);if(w>e){var n=0,S=0,_=w-e,k=1<<_;for(a.sort(function(z,L){return m[L.s]-m[z.s]||z.f-L.f});n<i;++n){var N=a[n].s;if(m[N]>e)S+=k-(1<<w-m[N]),m[N]=e;else break}for(S>>=_;S>0;){var P=a[n].s;m[P]<e?S-=1<<e-m[P]++-1:++n}for(;n>=0&&S;--n){var F=a[n].s;m[F]==e&&(--m[F],++S)}w=e}return{t:new cu(m),l:w}},_T=function(t,e,r){return t.s==-1?Math.max(_T(t.l,e,r+1),_T(t.r,e,r+1)):e[t.s]=r},FI=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ho(++e),n=0,i=t[0],a=1,s=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[l]}return{c:r.subarray(0,n),n:e}},x0=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},m$=function(t,e,r){var n=r.length,i=p$(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},UI=function(t,e,r,n,i,a,s,l,c,d,f){Bc(e,f++,r),++i[256];for(var p=iA(i,15),g=p.t,m=p.l,w=iA(a,15),S=w.t,_=w.l,k=FI(g),N=k.c,P=k.n,F=FI(S),O=F.c,z=F.n,L=new Ho(19),I=0;I<N.length;++I)++L[N[I]&31];for(var I=0;I<O.length;++I)++L[O[I]&31];for(var D=iA(L,7),$=D.t,j=D.l,V=19;V>4&&!$[MI[V-1]];--V);var M=d+5<<3,J=x0(i,Qh)+x0(a,Px)+s,_e=x0(i,g)+x0(a,S)+s+14+3*V+x0(L,$)+2*L[16]+3*L[17]+7*L[18];if(c>=0&&M<=J&&M<=_e)return m$(e,f,t.subarray(c,c+d));var se,ee,fe,we;if(Bc(e,f,1+(_e<J)),f+=2,_e<J){se=Q0(g,m,0),ee=g,fe=Q0(S,_,0),we=S;var Be=Q0($,j,0);Bc(e,f,P-257),Bc(e,f+5,z-1),Bc(e,f+10,V-4),f+=14;for(var I=0;I<V;++I)Bc(e,f+3*I,$[MI[I]]);f+=3*V;for(var Z=[N,O],q=0;q<2;++q)for(var Q=Z[q],I=0;I<Q.length;++I){var re=Q[I]&31;Bc(e,f,Be[re]),f+=$[re],re>15&&(Bc(e,f,Q[I]>>5&127),f+=Q[I]>>12)}}else se=spe,ee=Qh,fe=ope,we=Px;for(var I=0;I<l;++I){var ae=n[I];if(ae>255){var re=ae>>18&31;b0(e,f,se[re+257]),f+=ee[re+257],re>7&&(Bc(e,f,ae>>23&31),f+=$C[re]);var ye=ae&31;b0(e,f,fe[ye]),f+=we[ye],ye>3&&(b0(e,f,ae>>5&8191),f+=qC[ye])}else b0(e,f,se[ae]),f+=ee[ae]}return b0(e,f,se[256]),f+ee[256]},upe=new zC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),g$=new cu(0),cpe=function(t,e,r,n,i,a){var s=a.z||t.length,l=new cu(n+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(n,l.length-i),d=a.l,f=(a.r||0)&7;if(e){f&&(c[0]=a.r>>3);for(var p=upe[e-1],g=p>>13,m=p&8191,w=(1<<r)-1,S=a.p||new Ho(32768),_=a.h||new Ho(w+1),k=Math.ceil(r/3),N=2*k,P=function(vt){return(t[vt]^t[vt+1]<<k^t[vt+2]<<N)&w},F=new zC(25e3),O=new Ho(288),z=new Ho(32),L=0,I=0,D=a.i||0,$=0,j=a.w||0,V=0;D+2<s;++D){var M=P(D),J=D&32767,_e=_[M];if(S[J]=_e,_[M]=J,j<=D){var se=s-D;if((L>7e3||$>24576)&&(se>423||!d)){f=UI(t,c,0,F,O,z,I,$,V,D-V,f),$=L=I=0,V=D;for(var ee=0;ee<286;++ee)O[ee]=0;for(var ee=0;ee<30;++ee)z[ee]=0}var fe=2,we=0,Be=m,Z=J-_e&32767;if(se>2&&M==P(D-Z))for(var q=Math.min(g,se)-1,Q=Math.min(32767,D),re=Math.min(258,se);Z<=Q&&--Be&&J!=_e;){if(t[D+fe]==t[D+fe-Z]){for(var ae=0;ae<re&&t[D+ae]==t[D+ae-Z];++ae);if(ae>fe){if(fe=ae,we=Z,ae>q)break;for(var ye=Math.min(Z,ae-2),Te=0,ee=0;ee<ye;++ee){var Ve=D-Z+ee&32767,he=S[Ve],Ce=Ve-he&32767;Ce>Te&&(Te=Ce,_e=Ve)}}}J=_e,_e=S[J],Z+=J-_e&32767}if(we){F[$++]=268435456|xT[fe]<<18|BI[we];var We=xT[fe]&31,Ie=BI[we]&31;I+=$C[We]+qC[Ie],++O[257+We],++z[Ie],j=D+fe,++L}else F[$++]=t[D],++O[t[D]]}}for(D=Math.max(D,j);D<s;++D)F[$++]=t[D],++O[t[D]];f=UI(t,c,d,F,O,z,I,$,V,D-V,f),d||(a.r=f&7|c[f/8|0]<<3,f-=7,a.h=_,a.p=S,a.i=D,a.w=j)}else{for(var D=a.w||0;D<s+d;D+=65535){var dt=D+65535;dt>=s&&(c[f/8|0]=d,dt=s),f=m$(c,f+1,t.subarray(D,dt))}a.i=s}return lpe(l,0,n+p$(f)+i)},y$=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},dpe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new cu(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return cpe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},v$=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},fpe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=y$();i.p(e.dictionary),v$(t,2,i.d())}};function AT(t,e){e||(e={});var r=y$();r.p(t);var n=dpe(t,e,e.dictionary?6:2,4);return fpe(n,e),v$(n,n.length-4,r.d()),n}var hpe=typeof TextDecoder<"u"&&new TextDecoder,ppe=0;try{hpe.decode(g$,{stream:!0}),ppe=1}catch{}function mpe(t){if(Array.isArray(t))return t}function gpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function VI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ype(t,e){if(t){if(typeof t=="string")return VI(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?VI(t,e):void 0}}function vpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zI(t,e){return mpe(t)||gpe(t,e)||ype(t,e)||vpe()}function $I(t,e="utf8"){return new TextDecoder(e).decode(t)}const bpe=new TextEncoder;function xpe(t){return bpe.encode(t)}const wpe=1024*8,_pe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),aA={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class HC{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=wpe,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof HC)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=aA[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===_pe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new aA[r](l.buffer);return this.offset+=n,c.reverse(),c}const s=new aA[r](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return $I(this.readBytes(e))}decodeText(e=1,r="utf8"){return $I(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(xpe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function vg(t){let e=t.length;for(;--e>=0;)t[e]=0}const Ape=3,Spe=258,b$=29,Epe=256,Tpe=Epe+1+b$,x$=30,kpe=512,Cpe=new Array((Tpe+2)*2);vg(Cpe);const Npe=new Array(x$*2);vg(Npe);const Ppe=new Array(kpe);vg(Ppe);const jpe=new Array(Spe-Ape+1);vg(jpe);const Rpe=new Array(b$);vg(Rpe);const Ope=new Array(x$);vg(Ope);const Ipe=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var ST=Ipe;const Dpe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Lpe=new Uint32Array(Dpe()),Mpe=(t,e,r,n)=>{const i=Lpe,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Bu=Mpe,ET={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},w$={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Bpe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Fpe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Bpe(r,n)&&(t[n]=r[n])}}return t},Upe=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},_$={assign:Fpe,flattenChunks:Upe};let A$=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{A$=!1}const by=new Uint8Array(256);for(let t=0;t<256;t++)by[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;by[254]=by[254]=1;var Vpe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,l=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const zpe=(t,e)=>{if(e<65534&&t.subarray&&A$)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var $pe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let l=by[s];if(l>4){a[i++]=65533,n+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&n<r;)s=s<<6|t[n++]&63,l--;if(l>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return zpe(a,i)},qpe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+by[t[r]]>e?r:e},TT={string2buf:Vpe,buf2string:$pe,utf8border:qpe};function Hpe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Gpe=Hpe;const W1=16209,Wpe=16191;var Kpe=function(e,r){let n,i,a,s,l,c,d,f,p,g,m,w,S,_,k,N,P,F,O,z,L,I,D,$;const j=e.state;n=e.next_in,D=e.input,i=n+(e.avail_in-5),a=e.next_out,$=e.output,s=a-(r-e.avail_out),l=a+(e.avail_out-257),c=j.dmax,d=j.wsize,f=j.whave,p=j.wnext,g=j.window,m=j.hold,w=j.bits,S=j.lencode,_=j.distcode,k=(1<<j.lenbits)-1,N=(1<<j.distbits)-1;e:do{w<15&&(m+=D[n++]<<w,w+=8,m+=D[n++]<<w,w+=8),P=S[m&k];t:for(;;){if(F=P>>>24,m>>>=F,w-=F,F=P>>>16&255,F===0)$[a++]=P&65535;else if(F&16){O=P&65535,F&=15,F&&(w<F&&(m+=D[n++]<<w,w+=8),O+=m&(1<<F)-1,m>>>=F,w-=F),w<15&&(m+=D[n++]<<w,w+=8,m+=D[n++]<<w,w+=8),P=_[m&N];r:for(;;){if(F=P>>>24,m>>>=F,w-=F,F=P>>>16&255,F&16){if(z=P&65535,F&=15,w<F&&(m+=D[n++]<<w,w+=8,w<F&&(m+=D[n++]<<w,w+=8)),z+=m&(1<<F)-1,z>c){e.msg="invalid distance too far back",j.mode=W1;break e}if(m>>>=F,w-=F,F=a-s,z>F){if(F=z-F,F>f&&j.sane){e.msg="invalid distance too far back",j.mode=W1;break e}if(L=0,I=g,p===0){if(L+=d-F,F<O){O-=F;do $[a++]=g[L++];while(--F);L=a-z,I=$}}else if(p<F){if(L+=d+p-F,F-=p,F<O){O-=F;do $[a++]=g[L++];while(--F);if(L=0,p<O){F=p,O-=F;do $[a++]=g[L++];while(--F);L=a-z,I=$}}}else if(L+=p-F,F<O){O-=F;do $[a++]=g[L++];while(--F);L=a-z,I=$}for(;O>2;)$[a++]=I[L++],$[a++]=I[L++],$[a++]=I[L++],O-=3;O&&($[a++]=I[L++],O>1&&($[a++]=I[L++]))}else{L=a-z;do $[a++]=$[L++],$[a++]=$[L++],$[a++]=$[L++],O-=3;while(O>2);O&&($[a++]=$[L++],O>1&&($[a++]=$[L++]))}}else if((F&64)===0){P=_[(P&65535)+(m&(1<<F)-1)];continue r}else{e.msg="invalid distance code",j.mode=W1;break e}break}}else if((F&64)===0){P=S[(P&65535)+(m&(1<<F)-1)];continue t}else if(F&32){j.mode=Wpe;break e}else{e.msg="invalid literal/length code",j.mode=W1;break e}break}}while(n<i&&a<l);O=w>>3,n-=O,w-=O<<3,m&=(1<<w)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<l?257+(l-a):257-(a-l),j.hold=m,j.bits=w};const Zp=15,qI=852,HI=592,GI=0,sA=1,WI=2,Ype=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Xpe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Qpe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zpe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Jpe=(t,e,r,n,i,a,s,l)=>{const c=l.bits;let d=0,f=0,p=0,g=0,m=0,w=0,S=0,_=0,k=0,N=0,P,F,O,z,L,I=null,D;const $=new Uint16Array(Zp+1),j=new Uint16Array(Zp+1);let V=null,M,J,_e;for(d=0;d<=Zp;d++)$[d]=0;for(f=0;f<n;f++)$[e[r+f]]++;for(m=c,g=Zp;g>=1&&$[g]===0;g--);if(m>g&&(m=g),g===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(p=1;p<g&&$[p]===0;p++);for(m<p&&(m=p),_=1,d=1;d<=Zp;d++)if(_<<=1,_-=$[d],_<0)return-1;if(_>0&&(t===GI||g!==1))return-1;for(j[1]=0,d=1;d<Zp;d++)j[d+1]=j[d]+$[d];for(f=0;f<n;f++)e[r+f]!==0&&(s[j[e[r+f]]++]=f);if(t===GI?(I=V=s,D=20):t===sA?(I=Ype,V=Xpe,D=257):(I=Qpe,V=Zpe,D=0),N=0,f=0,d=p,L=a,w=m,S=0,O=-1,k=1<<m,z=k-1,t===sA&&k>qI||t===WI&&k>HI)return 1;for(;;){M=d-S,s[f]+1<D?(J=0,_e=s[f]):s[f]>=D?(J=V[s[f]-D],_e=I[s[f]-D]):(J=96,_e=0),P=1<<d-S,F=1<<w,p=F;do F-=P,i[L+(N>>S)+F]=M<<24|J<<16|_e|0;while(F!==0);for(P=1<<d-1;N&P;)P>>=1;if(P!==0?(N&=P-1,N+=P):N=0,f++,--$[d]===0){if(d===g)break;d=e[r+s[f]]}if(d>m&&(N&z)!==O){for(S===0&&(S=m),L+=p,w=d-S,_=1<<w;w+S<g&&(_-=$[w+S],!(_<=0));)w++,_<<=1;if(k+=1<<w,t===sA&&k>qI||t===WI&&k>HI)return 1;O=N&z,i[O]=m<<24|w<<16|L-a|0}}return N!==0&&(i[L+N]=d-S<<24|64<<16|0),l.bits=m,0};var Z0=Jpe;const eme=0,S$=1,E$=2,{Z_FINISH:KI,Z_BLOCK:tme,Z_TREES:K1,Z_OK:Zh,Z_STREAM_END:rme,Z_NEED_DICT:nme,Z_STREAM_ERROR:Tl,Z_DATA_ERROR:T$,Z_MEM_ERROR:k$,Z_BUF_ERROR:ime,Z_DEFLATED:YI}=w$,cw=16180,XI=16181,QI=16182,ZI=16183,JI=16184,eD=16185,tD=16186,rD=16187,nD=16188,iD=16189,jx=16190,Fc=16191,oA=16192,aD=16193,lA=16194,sD=16195,oD=16196,lD=16197,uD=16198,Y1=16199,X1=16200,cD=16201,dD=16202,fD=16203,hD=16204,pD=16205,uA=16206,mD=16207,gD=16208,hi=16209,C$=16210,N$=16211,ame=852,sme=592,ome=15,lme=ome,yD=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function ume(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hp=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<cw||e.mode>N$?1:0},P$=t=>{if(hp(t))return Tl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=cw,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ame),e.distcode=e.distdyn=new Int32Array(sme),e.sane=1,e.back=-1,Zh},j$=t=>{if(hp(t))return Tl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,P$(t)},R$=(t,e)=>{let r;if(hp(t))return Tl;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Tl:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,j$(t))},O$=(t,e)=>{if(!t)return Tl;const r=new ume;t.state=r,r.strm=t,r.window=null,r.mode=cw;const n=R$(t,e);return n!==Zh&&(t.state=null),n},cme=t=>O$(t,lme);let vD=!0,cA,dA;const dme=t=>{if(vD){cA=new Int32Array(512),dA=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Z0(S$,t.lens,0,288,cA,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Z0(E$,t.lens,0,32,dA,0,t.work,{bits:5}),vD=!1}t.lencode=cA,t.lenbits=9,t.distcode=dA,t.distbits=5},I$=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},fme=(t,e)=>{let r,n,i,a,s,l,c,d,f,p,g,m,w,S,_=0,k,N,P,F,O,z,L,I;const D=new Uint8Array(4);let $,j;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hp(t)||!t.output||!t.input&&t.avail_in!==0)return Tl;r=t.state,r.mode===Fc&&(r.mode=oA),s=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,d=r.hold,f=r.bits,p=l,g=c,I=Zh;e:for(;;)switch(r.mode){case cw:if(r.wrap===0){r.mode=oA;break}for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,D[0]=d&255,D[1]=d>>>8&255,r.check=Bu(r.check,D,2,0),d=0,f=0,r.mode=XI;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",r.mode=hi;break}if((d&15)!==YI){t.msg="unknown compression method",r.mode=hi;break}if(d>>>=4,f-=4,L=(d&15)+8,r.wbits===0&&(r.wbits=L),L>15||L>r.wbits){t.msg="invalid window size",r.mode=hi;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=d&512?iD:Fc,d=0,f=0;break;case XI:for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.flags=d,(r.flags&255)!==YI){t.msg="unknown compression method",r.mode=hi;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=hi;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,r.check=Bu(r.check,D,2,0)),d=0,f=0,r.mode=QI;case QI:for(;f<32;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,D[2]=d>>>16&255,D[3]=d>>>24&255,r.check=Bu(r.check,D,4,0)),d=0,f=0,r.mode=ZI;case ZI:for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,r.check=Bu(r.check,D,2,0)),d=0,f=0,r.mode=JI;case JI:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,r.check=Bu(r.check,D,2,0)),d=0,f=0}else r.head&&(r.head.extra=null);r.mode=eD;case eD:if(r.flags&1024&&(m=r.length,m>l&&(m=l),m&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+m),L)),r.flags&512&&r.wrap&4&&(r.check=Bu(r.check,n,m,a)),l-=m,a+=m,r.length-=m),r.length))break e;r.length=0,r.mode=tD;case tD:if(r.flags&2048){if(l===0)break e;m=0;do L=n[a+m++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L));while(L&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Bu(r.check,n,m,a)),l-=m,a+=m,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=rD;case rD:if(r.flags&4096){if(l===0)break e;m=0;do L=n[a+m++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L));while(L&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Bu(r.check,n,m,a)),l-=m,a+=m,L)break e}else r.head&&(r.head.comment=null);r.mode=nD;case nD:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.wrap&4&&d!==(r.check&65535)){t.msg="header crc mismatch",r.mode=hi;break}d=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Fc;break;case iD:for(;f<32;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}t.adler=r.check=yD(d),d=0,f=0,r.mode=jx;case jx:if(r.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=d,r.bits=f,nme;t.adler=r.check=1,r.mode=Fc;case Fc:if(e===tme||e===K1)break e;case oA:if(r.last){d>>>=f&7,f-=f&7,r.mode=uA;break}for(;f<3;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}switch(r.last=d&1,d>>>=1,f-=1,d&3){case 0:r.mode=aD;break;case 1:if(dme(r),r.mode=Y1,e===K1){d>>>=2,f-=2;break e}break;case 2:r.mode=oD;break;case 3:t.msg="invalid block type",r.mode=hi}d>>>=2,f-=2;break;case aD:for(d>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",r.mode=hi;break}if(r.length=d&65535,d=0,f=0,r.mode=lA,e===K1)break e;case lA:r.mode=sD;case sD:if(m=r.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;i.set(n.subarray(a,a+m),s),l-=m,a+=m,c-=m,s+=m,r.length-=m;break}r.mode=Fc;break;case oD:for(;f<14;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.nlen=(d&31)+257,d>>>=5,f-=5,r.ndist=(d&31)+1,d>>>=5,f-=5,r.ncode=(d&15)+4,d>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=hi;break}r.have=0,r.mode=lD;case lD:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.lens[V[r.have++]]=d&7,d>>>=3,f-=3}for(;r.have<19;)r.lens[V[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,$={bits:r.lenbits},I=Z0(eme,r.lens,0,19,r.lencode,0,r.work,$),r.lenbits=$.bits,I){t.msg="invalid code lengths set",r.mode=hi;break}r.have=0,r.mode=uD;case uD:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[d&(1<<r.lenbits)-1],k=_>>>24,N=_>>>16&255,P=_&65535,!(k<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(P<16)d>>>=k,f-=k,r.lens[r.have++]=P;else{if(P===16){for(j=k+2;f<j;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(d>>>=k,f-=k,r.have===0){t.msg="invalid bit length repeat",r.mode=hi;break}L=r.lens[r.have-1],m=3+(d&3),d>>>=2,f-=2}else if(P===17){for(j=k+3;f<j;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}d>>>=k,f-=k,L=0,m=3+(d&7),d>>>=3,f-=3}else{for(j=k+7;f<j;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}d>>>=k,f-=k,L=0,m=11+(d&127),d>>>=7,f-=7}if(r.have+m>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=hi;break}for(;m--;)r.lens[r.have++]=L}}if(r.mode===hi)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=hi;break}if(r.lenbits=9,$={bits:r.lenbits},I=Z0(S$,r.lens,0,r.nlen,r.lencode,0,r.work,$),r.lenbits=$.bits,I){t.msg="invalid literal/lengths set",r.mode=hi;break}if(r.distbits=6,r.distcode=r.distdyn,$={bits:r.distbits},I=Z0(E$,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,$),r.distbits=$.bits,I){t.msg="invalid distances set",r.mode=hi;break}if(r.mode=Y1,e===K1)break e;case Y1:r.mode=X1;case X1:if(l>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=d,r.bits=f,Kpe(t,g),s=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,d=r.hold,f=r.bits,r.mode===Fc&&(r.back=-1);break}for(r.back=0;_=r.lencode[d&(1<<r.lenbits)-1],k=_>>>24,N=_>>>16&255,P=_&65535,!(k<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(N&&(N&240)===0){for(F=k,O=N,z=P;_=r.lencode[z+((d&(1<<F+O)-1)>>F)],k=_>>>24,N=_>>>16&255,P=_&65535,!(F+k<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}d>>>=F,f-=F,r.back+=F}if(d>>>=k,f-=k,r.back+=k,r.length=P,N===0){r.mode=pD;break}if(N&32){r.back=-1,r.mode=Fc;break}if(N&64){t.msg="invalid literal/length code",r.mode=hi;break}r.extra=N&15,r.mode=cD;case cD:if(r.extra){for(j=r.extra;f<j;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=dD;case dD:for(;_=r.distcode[d&(1<<r.distbits)-1],k=_>>>24,N=_>>>16&255,P=_&65535,!(k<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if((N&240)===0){for(F=k,O=N,z=P;_=r.distcode[z+((d&(1<<F+O)-1)>>F)],k=_>>>24,N=_>>>16&255,P=_&65535,!(F+k<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}d>>>=F,f-=F,r.back+=F}if(d>>>=k,f-=k,r.back+=k,N&64){t.msg="invalid distance code",r.mode=hi;break}r.offset=P,r.extra=N&15,r.mode=fD;case fD:if(r.extra){for(j=r.extra;f<j;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=hi;break}r.mode=hD;case hD:if(c===0)break e;if(m=g-c,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=hi;break}m>r.wnext?(m-=r.wnext,w=r.wsize-m):w=r.wnext-m,m>r.length&&(m=r.length),S=r.window}else S=i,w=s-r.offset,m=r.length;m>c&&(m=c),c-=m,r.length-=m;do i[s++]=S[w++];while(--m);r.length===0&&(r.mode=X1);break;case pD:if(c===0)break e;i[s++]=r.length,c--,r.mode=X1;break;case uA:if(r.wrap){for(;f<32;){if(l===0)break e;l--,d|=n[a++]<<f,f+=8}if(g-=c,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?Bu(r.check,i,g,s-g):ST(r.check,i,g,s-g)),g=c,r.wrap&4&&(r.flags?d:yD(d))!==r.check){t.msg="incorrect data check",r.mode=hi;break}d=0,f=0}r.mode=mD;case mD:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.wrap&4&&d!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=hi;break}d=0,f=0}r.mode=gD;case gD:I=rme;break e;case hi:I=T$;break e;case C$:return k$;case N$:default:return Tl}return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=d,r.bits=f,(r.wsize||g!==t.avail_out&&r.mode<hi&&(r.mode<uA||e!==KI))&&I$(t,t.output,t.next_out,g-t.avail_out),p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?Bu(r.check,i,g,t.next_out-g):ST(r.check,i,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Fc?128:0)+(r.mode===Y1||r.mode===lA?256:0),(p===0&&g===0||e===KI)&&I===Zh&&(I=ime),I},hme=t=>{if(hp(t))return Tl;let e=t.state;return e.window&&(e.window=null),t.state=null,Zh},pme=(t,e)=>{if(hp(t))return Tl;const r=t.state;return(r.wrap&2)===0?Tl:(r.head=e,e.done=!1,Zh)},mme=(t,e)=>{const r=e.length;let n,i,a;return hp(t)||(n=t.state,n.wrap!==0&&n.mode!==jx)?Tl:n.mode===jx&&(i=1,i=ST(i,e,r,0),i!==n.check)?T$:(a=I$(t,e,r,r),a?(n.mode=C$,k$):(n.havedict=1,Zh))};var gme=j$,yme=R$,vme=P$,bme=cme,xme=O$,wme=fme,_me=hme,Ame=pme,Sme=mme,Eme="pako inflate (from Nodeca project)",Vc={inflateReset:gme,inflateReset2:yme,inflateResetKeep:vme,inflateInit:bme,inflateInit2:xme,inflate:wme,inflateEnd:_me,inflateGetHeader:Ame,inflateSetDictionary:Sme,inflateInfo:Eme};function Tme(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var kme=Tme;const D$=Object.prototype.toString,{Z_NO_FLUSH:Cme,Z_FINISH:Nme,Z_OK:xy,Z_STREAM_END:fA,Z_NEED_DICT:hA,Z_STREAM_ERROR:Pme,Z_DATA_ERROR:bD,Z_MEM_ERROR:jme}=w$;function fv(t){this.options=_$.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gpe,this.strm.avail_out=0;let r=Vc.inflateInit2(this.strm,e.windowBits);if(r!==xy)throw new Error(ET[r]);if(this.header=new kme,Vc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=TT.string2buf(e.dictionary):D$.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Vc.inflateSetDictionary(this.strm,e.dictionary),r!==xy)))throw new Error(ET[r])}fv.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Nme:Cme,D$.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Vc.inflate(r,s),a===hA&&i&&(a=Vc.inflateSetDictionary(r,i),a===xy?a=Vc.inflate(r,s):a===bD&&(a=hA));r.avail_in>0&&a===fA&&r.state.wrap>0&&t[r.next_in]!==0;)Vc.inflateReset(r),a=Vc.inflate(r,s);switch(a){case Pme:case bD:case hA:case jme:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===fA))if(this.options.to==="string"){let c=TT.utf8border(r.output,r.next_out),d=r.next_out-c,f=TT.buf2string(r.output,c);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===xy&&l===0)){if(a===fA)return a=Vc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};fv.prototype.onData=function(t){this.chunks.push(t)};fv.prototype.onEnd=function(t){t===xy&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_$.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Rme(t,e){const r=new fv(e);if(r.push(t),r.err)throw r.msg||ET[r.err];return r.result}var Ome=fv,Ime=Rme,Dme={Inflate:Ome,inflate:Ime};const{Inflate:Lme,inflate:Mme}=Dme;var xD=Lme,Bme=Mme;const L$=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;L$[t]=e}const wD=4294967295;function Fme(t,e,r){let n=t;for(let i=0;i<r;i++)n=L$[(n^e[i])&255]^n>>>8;return n}function Ume(t,e){return(Fme(wD,t,e)^wD)>>>0}function _D(t,e,r){const n=t.readUint32(),i=Ume(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function M$(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function B$(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function F$(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function U$(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function V$(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+Vme(e[a-i],r[a],r[a-i])&255}}function Vme(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function zme(t,e,r,n,i,a){switch(t){case 0:M$(e,r,i);break;case 1:B$(e,r,i,a);break;case 2:F$(e,r,n,i);break;case 3:U$(e,r,n,i,a);break;case 4:V$(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const $me=new Uint16Array([255]),qme=new Uint8Array($me.buffer),Hme=qme[0]===255;function Gme(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*r*l);let d=0;for(let f=0;f<7;f++){const p=s[f],g=Math.ceil((r-p.x)/p.xStep),m=Math.ceil((n-p.y)/p.yStep);if(g<=0||m<=0)continue;const w=g*l,S=new Uint8Array(w);for(let _=0;_<m;_++){const k=e[d++],N=e.subarray(d,d+w);d+=w;const P=new Uint8Array(w);zme(k,N,P,S,w,l),S.set(P);for(let F=0;F<g;F++){const O=p.x+F*p.xStep,z=p.y+_*p.yStep;if(!(O>=r||z>=n))for(let L=0;L<l;L++)c[(z*r+O)*l+L]=P[F*l+L]}}}if(a===16){const f=new Uint16Array(c.buffer);if(Hme)for(let p=0;p<f.length;p++)f[p]=Wme(f[p]);return f}else return c}function Wme(t){return(t&255)<<8|t>>8&255}const Kme=new Uint16Array([255]),Yme=new Uint8Array(Kme.buffer),Xme=Yme[0]===255,Qme=new Uint8Array(0);function AD(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),c=new Uint8Array(n*l);let d=Qme,f=0,p,g;for(let m=0;m<n;m++){switch(p=e.subarray(f+1,f+1+l),g=c.subarray(m*l,(m+1)*l),e[f]){case 0:M$(p,g,l);break;case 1:B$(p,g,l,s);break;case 2:F$(p,g,d,l);break;case 3:U$(p,g,d,l,s);break;case 4:V$(p,g,d,l,s);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}d=g,f+=l+1}if(a===16){const m=new Uint16Array(c.buffer);if(Xme)for(let w=0;w<m.length;w++)m[w]=Zme(m[w]);return m}else return c}function Zme(t){return(t&255)<<8|t>>8&255}const Bb=Uint8Array.of(137,80,78,71,13,10,26,10);function SD(t){if(!Jme(t.readBytes(Bb.length)))throw new Error("wrong PNG signature")}function Jme(t){if(t.length<Bb.length)return!1;for(let e=0;e<Bb.length;e++)if(t[e]!==Bb[e])return!1;return!0}const ege="tEXt",tge=0,z$=new TextDecoder("latin1");function rge(t){if(ige(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const nge=/^[\u0000-\u00FF]*$/;function ige(t){if(!nge.test(t))throw new Error("invalid latin1 text")}function age(t,e,r){const n=$$(e);t[n]=sge(e,r-n.length-1)}function $$(t){for(t.mark();t.readByte()!==tge;);const e=t.offset;t.reset();const r=z$.decode(t.readBytes(e-t.offset-1));return t.skip(1),rge(r),r}function sge(t,e){return z$.decode(t.readBytes(e))}const Uo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},pA={UNKNOWN:-1,DEFLATE:0},ED={UNKNOWN:-1,ADAPTIVE:0},mA={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Q1={NONE:0,BACKGROUND:1,PREVIOUS:2},gA={SOURCE:0,OVER:1};class oge extends HC{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new xD,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=pA.UNKNOWN,this._filterMethod=ED.UNKNOWN,this._interlaceMethod=mA.UNKNOWN,this._colorType=Uo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(SD(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(SD(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case ege:age(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?_D(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?_D(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=lge(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Uo.GREYSCALE:n=1;break;case Uo.TRUECOLOUR:n=3;break;case Uo.INDEXED_COLOUR:n=1;break;case Uo.GREYSCALE_ALPHA:n=2;break;case Uo.TRUECOLOUR_ALPHA:n=4;break;case Uo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==pA.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Uo.GREYSCALE:case Uo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Uo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Uo.UNKNOWN:case Uo.GREYSCALE_ALPHA:case Uo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=$$(this),n=this.readUint8();if(n!==pA.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Bme(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=AD({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case Q1.NONE:break;case Q1.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const s=(i*e.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[s+l]=0}break;case Q1.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(a,s)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,c=(a*r.width+s)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case gA.SOURCE:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:c}=i(a,s);for(let d=0;d<this._png.channels;d++)e.data[l+d]=r.data[c+d]}break;case gA.OVER:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:c}=i(a,s);for(let d=0;d<this._png.channels;d++){const f=r.data[c+this._png.channels-1]/n,p=d%(this._png.channels-1)===0?1:r.data[c+d],g=Math.floor(f*p+(1-f)*e.data[l+d]);e.data[l+d]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==ED.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===mA.NO_INTERLACE)this._png.data=AD({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===mA.ADAM7)this._png.data=Gme({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Q1.NONE,blendOp:gA.SOURCE,data:e}),this._inflator=new xD,this._writingDataChunks=!1}}function lge(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var TD;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(TD||(TD={}));function uge(t,e){return new oge(t,e).decode()}var Er=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function yA(){Er.console&&typeof Er.console.log=="function"&&Er.console.log.apply(Er.console,arguments)}var Un={log:yA,warn:function(t){Er.console&&(typeof Er.console.warn=="function"?Er.console.warn.apply(Er.console,arguments):yA.call(null,arguments))},error:function(t){Er.console&&(typeof Er.console.error=="function"?Er.console.error.apply(Er.console,arguments):yA(t))}};function vA(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){vh(n.response,e,r)},n.onerror=function(){Un.error("could not download file")},n.send()}function kD(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Z1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var vh=Er.saveAs||((typeof window>"u"?"undefined":kn(window))!=="object"||window!==Er?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Er.URL||Er.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?kD(i.href)?vA(t,e,r):Z1(i,i.target="_blank"):Z1(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Z1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(kD(t))vA(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Z1(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:kn(a)!=="object"&&(Un.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return vA(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Er.HTMLElement)||Er.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":kn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(t)}else{var c=Er.URL||Er.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});function q$(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var Fb=Er.atob.bind(Er),CD=Er.btoa.bind(Er);function bA(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=As(r,n,i,a,e[0],7,-680876936),a=As(a,r,n,i,e[1],12,-389564586),i=As(i,a,r,n,e[2],17,606105819),n=As(n,i,a,r,e[3],22,-1044525330),r=As(r,n,i,a,e[4],7,-176418897),a=As(a,r,n,i,e[5],12,1200080426),i=As(i,a,r,n,e[6],17,-1473231341),n=As(n,i,a,r,e[7],22,-45705983),r=As(r,n,i,a,e[8],7,1770035416),a=As(a,r,n,i,e[9],12,-1958414417),i=As(i,a,r,n,e[10],17,-42063),n=As(n,i,a,r,e[11],22,-1990404162),r=As(r,n,i,a,e[12],7,1804603682),a=As(a,r,n,i,e[13],12,-40341101),i=As(i,a,r,n,e[14],17,-1502002290),r=Ss(r,n=As(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ss(a,r,n,i,e[6],9,-1069501632),i=Ss(i,a,r,n,e[11],14,643717713),n=Ss(n,i,a,r,e[0],20,-373897302),r=Ss(r,n,i,a,e[5],5,-701558691),a=Ss(a,r,n,i,e[10],9,38016083),i=Ss(i,a,r,n,e[15],14,-660478335),n=Ss(n,i,a,r,e[4],20,-405537848),r=Ss(r,n,i,a,e[9],5,568446438),a=Ss(a,r,n,i,e[14],9,-1019803690),i=Ss(i,a,r,n,e[3],14,-187363961),n=Ss(n,i,a,r,e[8],20,1163531501),r=Ss(r,n,i,a,e[13],5,-1444681467),a=Ss(a,r,n,i,e[2],9,-51403784),i=Ss(i,a,r,n,e[7],14,1735328473),r=Es(r,n=Ss(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Es(a,r,n,i,e[8],11,-2022574463),i=Es(i,a,r,n,e[11],16,1839030562),n=Es(n,i,a,r,e[14],23,-35309556),r=Es(r,n,i,a,e[1],4,-1530992060),a=Es(a,r,n,i,e[4],11,1272893353),i=Es(i,a,r,n,e[7],16,-155497632),n=Es(n,i,a,r,e[10],23,-1094730640),r=Es(r,n,i,a,e[13],4,681279174),a=Es(a,r,n,i,e[0],11,-358537222),i=Es(i,a,r,n,e[3],16,-722521979),n=Es(n,i,a,r,e[6],23,76029189),r=Es(r,n,i,a,e[9],4,-640364487),a=Es(a,r,n,i,e[12],11,-421815835),i=Es(i,a,r,n,e[15],16,530742520),r=Ts(r,n=Es(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ts(a,r,n,i,e[7],10,1126891415),i=Ts(i,a,r,n,e[14],15,-1416354905),n=Ts(n,i,a,r,e[5],21,-57434055),r=Ts(r,n,i,a,e[12],6,1700485571),a=Ts(a,r,n,i,e[3],10,-1894986606),i=Ts(i,a,r,n,e[10],15,-1051523),n=Ts(n,i,a,r,e[1],21,-2054922799),r=Ts(r,n,i,a,e[8],6,1873313359),a=Ts(a,r,n,i,e[15],10,-30611744),i=Ts(i,a,r,n,e[6],15,-1560198380),n=Ts(n,i,a,r,e[13],21,1309151649),r=Ts(r,n,i,a,e[4],6,-145523070),a=Ts(a,r,n,i,e[11],10,-1120210379),i=Ts(i,a,r,n,e[2],15,718787259),n=Ts(n,i,a,r,e[9],21,-343485551),t[0]=pf(r,t[0]),t[1]=pf(n,t[1]),t[2]=pf(i,t[2]),t[3]=pf(a,t[3])}function dw(t,e,r,n,i,a){return e=pf(pf(e,t),pf(n,a)),pf(e<<i|e>>>32-i,r)}function As(t,e,r,n,i,a,s){return dw(e&r|~e&n,t,e,i,a,s)}function Ss(t,e,r,n,i,a,s){return dw(e&n|r&~n,t,e,i,a,s)}function Es(t,e,r,n,i,a,s){return dw(e^r^n,t,e,i,a,s)}function Ts(t,e,r,n,i,a,s){return dw(r^(e|~n),t,e,i,a,s)}function H$(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)bA(n,cge(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(bA(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,bA(n,i),n}function cge(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var ND="0123456789abcdef".split("");function dge(t){for(var e="",r=0;r<4;r++)e+=ND[t>>8*r+4&15]+ND[t>>8*r&15];return e}function fge(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function kT(t){return H$(t).map(fge).join("")}var hge=(function(t){for(var e=0;e<t.length;e++)t[e]=dge(t[e]);return t.join("")})(H$("hello"))!="5d41402abc4b2a76b9719d911017c592";function pf(t,e){if(hge){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}function CT(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var f=l[c];d=(d+f+s.charCodeAt(c))%256,l[c]=l[d],l[d]=f}r=t,n=l}else l=n;var p=e.length,g=0,m=0,w="";for(c=0;c<p;c++)m=(m+(f=l[g=(g+1)%256]))%256,l[g]=l[m],l[m]=f,s=l[(l[g]+l[m])%256],w+=String.fromCharCode(e.charCodeAt(c)^s);return w}var PD={print:4,modify:8,copy:16,"annot-forms":32};function cm(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(PD.perm!==void 0)throw new Error("Invalid permission: "+l);i+=PD[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=kT(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=CT(this.encryptionKey,this.padding)}function dm(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function jD(t){if(kn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(l){Er.console&&Un.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Rx(t){if(!(this instanceof Rx))return new Rx(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function G$(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ah(t,e,r,n,i){if(!(this instanceof Ah))return new Ah(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,G$.call(this,n,i)}function _m(t,e,r,n,i){if(!(this instanceof _m))return new _m(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,G$.call(this,n,i)}function sr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,d="S",f=null;kn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=jD;var w="1.3",S=m.__private__.getPdfVersion=function(){return w};m.__private__.setPdfVersion=function(R){w=R};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return _};var k=m.__private__.getPageFormat=function(R){return _[R]};i=i||"a4";var N="compat",P="advanced",F=N;function O(){this.saveGraphicsState(),ce(new Ae(er,0,0,-er,0,Fs()*er).toString()+" cm"),this.setFontSize(this.getFontSize()/er),d="n",F=P}function z(){this.restoreGraphicsState(),d="S",F=N}var L=m.__private__.combineFontStyleAndFontWeight=function(R,Y){if(R=="bold"&&Y=="normal"||R=="bold"&&Y==400||R=="normal"&&Y=="italic"||R=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(R=Y==400||Y==="normal"?R==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||R!=="normal"?(Y==700?"bold":Y)+""+R:"bold"),R};m.advancedAPI=function(R){var Y=F===N;return Y&&O.call(this),typeof R!="function"||(R(this),Y&&z.call(this)),this},m.compatAPI=function(R){var Y=F===P;return Y&&z.call(this),typeof R!="function"||(R(this),Y&&O.call(this)),this},m.isAdvancedAPI=function(){return F===P};var I,D=function(R){if(F!==P)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=m.roundToPrecision=m.__private__.roundToPrecision=function(R,Y){var me=e||Y;if(isNaN(R)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(me).replace(/0+$/,"")};I=m.hpf=m.__private__.hpf=typeof c=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return $(R,c)}:c==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return $(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return $(R,16)};var j=m.f2=m.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return $(R,2)},V=m.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return $(R,3)},M=m.scale=m.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return F===N?R*er:F===P?R:void 0},J=function(R){return M((function(Y){return F===N?Fs()-Y:F===P?Y:void 0})(R))};m.__private__.setPrecision=m.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(e=parseInt(R,10))};var _e,se="00000000000000000000000000000000",ee=m.__private__.getFileId=function(){return se},fe=m.__private__.setFileId=function(R){return se=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Ln=new cm(f.userPermissions,f.userPassword,f.ownerPassword,se)),se};m.setFileId=function(R){return fe(R),this},m.getFileId=function(){return ee()};var we=m.__private__.convertDateToPDFDate=function(R){var Y=R.getTimezoneOffset(),me=Y<0?"+":"-",ke=Math.floor(Math.abs(Y/60)),Oe=Math.abs(Y%60),at=[me,re(ke),"'",re(Oe),"'"].join("");return["D:",R.getFullYear(),re(R.getMonth()+1),re(R.getDate()),re(R.getHours()),re(R.getMinutes()),re(R.getSeconds()),at].join("")},Be=m.__private__.convertPDFDateToDate=function(R){var Y=parseInt(R.substr(2,4),10),me=parseInt(R.substr(6,2),10)-1,ke=parseInt(R.substr(8,2),10),Oe=parseInt(R.substr(10,2),10),at=parseInt(R.substr(12,2),10),pt=parseInt(R.substr(14,2),10);return new Date(Y,me,ke,Oe,at,pt,0)},Z=m.__private__.setCreationDate=function(R){var Y;if(R===void 0&&(R=new Date),R instanceof Date)Y=we(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=R}return _e=Y},q=m.__private__.getCreationDate=function(R){var Y=_e;return R==="jsDate"&&(Y=Be(_e)),Y};m.setCreationDate=function(R){return Z(R),this},m.getCreationDate=function(R){return q(R)};var Q,re=m.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},ae=m.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},ye=0,Te=[],Ve=[],he=0,Ce=[],We=[],Ie=!1,dt=Ve;m.__private__.setCustomOutputDestination=function(R){Ie=!0,dt=R};var vt=function(R){Ie||(dt=R)};m.__private__.resetCustomOutputDestination=function(){Ie=!1,dt=Ve};var ce=m.__private__.out=function(R){return R=R.toString(),he+=R.length+1,dt.push(R),dt},yt=m.__private__.write=function(R){return ce(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},Yt=m.__private__.getArrayBuffer=function(R){for(var Y=R.length,me=new ArrayBuffer(Y),ke=new Uint8Array(me);Y--;)ke[Y]=R.charCodeAt(Y);return me},Ft=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ft};var Je=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(R){return Je=F===P?R/er:R,this};var Nt,kt=m.__private__.getFontSize=m.getFontSize=function(){return F===N?Je:Je*er},lt=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(R){return lt=R,this},m.__private__.getR2L=m.getR2L=function(){return lt};var It,tr=m.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))Nt=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');Nt=R}else Nt=parseInt(R,10)};m.__private__.getZoomMode=function(){return Nt};var Jt,qt=m.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');It=R};m.__private__.getPageMode=function(){return It};var ir=m.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');Jt=R};m.__private__.getLayoutMode=function(){return Jt},m.__private__.setDisplayMode=m.setDisplayMode=function(R,Y,me){return tr(R),ir(Y),qt(me),this};var rr={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(R){if(Object.keys(rr).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rr[R]},m.__private__.getDocumentProperties=function(){return rr},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(R){for(var Y in rr)rr.hasOwnProperty(Y)&&R[Y]&&(rr[Y]=R[Y]);return this},m.__private__.setDocumentProperty=function(R,Y){if(Object.keys(rr).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rr[R]=Y};var Pt,er,Ct,Ar,ar,jt={},Ht={},Se=[],Le={},Et={},rt={},bt={},_t=null,gt=0,W=[],be=new jD(m),Xe=t.hotfixes||[],xe={},de={},ve=[],Ae=function R(Y,me,ke,Oe,at,pt){if(!(this instanceof R))return new R(Y,me,ke,Oe,at,pt);isNaN(Y)&&(Y=1),isNaN(me)&&(me=0),isNaN(ke)&&(ke=0),isNaN(Oe)&&(Oe=1),isNaN(at)&&(at=0),isNaN(pt)&&(pt=0),this._matrix=[Y,me,ke,Oe,at,pt]};Object.defineProperty(Ae.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Ae.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Ae.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Ae.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Ae.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Ae.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Ae.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Ae.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Ae.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Ae.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Ae.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Ae.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Ae.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ae.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ae.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ae.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ae.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(R)},Ae.prototype.multiply=function(R){var Y=R.sx*this.sx+R.shy*this.shx,me=R.sx*this.shy+R.shy*this.sy,ke=R.shx*this.sx+R.sy*this.shx,Oe=R.shx*this.shy+R.sy*this.sy,at=R.tx*this.sx+R.ty*this.shx+this.tx,pt=R.tx*this.shy+R.ty*this.sy+this.ty;return new Ae(Y,me,ke,Oe,at,pt)},Ae.prototype.decompose=function(){var R=this.sx,Y=this.shy,me=this.shx,ke=this.sy,Oe=this.tx,at=this.ty,pt=Math.sqrt(R*R+Y*Y),Vt=(R/=pt)*me+(Y/=pt)*ke;me-=R*Vt,ke-=Y*Vt;var Xt=Math.sqrt(me*me+ke*ke);return Vt/=Xt,R*(ke/=Xt)<Y*(me/=Xt)&&(R=-R,Y=-Y,Vt=-Vt,pt=-pt),{scale:new Ae(pt,0,0,Xt,0,0),translate:new Ae(1,0,0,1,Oe,at),rotate:new Ae(R,Y,-Y,R,0,0),skew:new Ae(1,0,Vt,1,0,0)}},Ae.prototype.toString=function(R){return this.join(" ")},Ae.prototype.inversed=function(){var R=this.sx,Y=this.shy,me=this.shx,ke=this.sy,Oe=this.tx,at=this.ty,pt=1/(R*ke-Y*me),Vt=ke*pt,Xt=-Y*pt,hr=-me*pt,or=R*pt;return new Ae(Vt,Xt,hr,or,-Vt*Oe-hr*at,-Xt*Oe-or*at)},Ae.prototype.applyToPoint=function(R){var Y=R.x*this.sx+R.y*this.shx+this.tx,me=R.x*this.shy+R.y*this.sy+this.ty;return new ia(Y,me)},Ae.prototype.applyToRectangle=function(R){var Y=this.applyToPoint(R),me=this.applyToPoint(new ia(R.x+R.w,R.y+R.h));return new to(Y.x,Y.y,me.x-Y.x,me.y-Y.y)},Ae.prototype.clone=function(){var R=this.sx,Y=this.shy,me=this.shx,ke=this.sy,Oe=this.tx,at=this.ty;return new Ae(R,Y,me,ke,Oe,at)},m.Matrix=Ae;var je=m.matrixMult=function(R,Y){return Y.multiply(R)},De=new Ae(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=De;var $e=function(R,Y){if(!Et[R]){var me=(Y instanceof Ah?"Sh":"P")+(Object.keys(Le).length+1).toString(10);Y.id=me,Et[R]=me,Le[me]=Y,be.publish("addPattern",Y)}};m.ShadingPattern=Ah,m.TilingPattern=_m,m.addShadingPattern=function(R,Y){return D("addShadingPattern()"),$e(R,Y),this},m.beginTilingPattern=function(R){D("beginTilingPattern()"),ro(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},m.endTilingPattern=function(R,Y){D("endTilingPattern()"),Y.stream=We[Q].join(`
`),$e(R,Y),be.publish("endTilingPattern",Y),ve.pop().restore()};var et,it=m.__private__.newObject=function(){var R=xt();return Rt(R,!0),R},xt=m.__private__.newObjectDeferred=function(){return ye++,Te[ye]=function(){return he},ye},Rt=function(R,Y){return Y=typeof Y=="boolean"&&Y,Te[R]=he,Y&&ce(R+" 0 obj"),R},Ut=m.__private__.newAdditionalObject=function(){var R={objId:xt(),content:""};return Ce.push(R),R},br=xt(),St=xt(),Cr=m.__private__.decodeColorString=function(R){var Y=R.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length!==5||Y[4]!=="k"&&Y[4]!=="K"||(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var me=parseFloat(Y[0]);Y=[me,me,me,"r"]}for(var ke="#",Oe=0;Oe<3;Oe++)ke+=("0"+Math.floor(255*parseFloat(Y[Oe])).toString(16)).slice(-2);return ke},fn=m.__private__.encodeColorString=function(R){var Y;typeof R=="string"&&(R={ch1:R});var me=R.ch1,ke=R.ch2,Oe=R.ch3,at=R.ch4,pt=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var Vt=new q$(me);if(Vt.ok)me=Vt.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var Xt=parseInt(me.substr(1),16);me=Xt>>16&255,ke=Xt>>8&255,Oe=255&Xt}if(ke===void 0||at===void 0&&me===ke&&ke===Oe)Y=typeof me=="string"?me+" "+pt[0]:R.precision===2?j(me/255)+" "+pt[0]:V(me/255)+" "+pt[0];else if(at===void 0||kn(at)==="object"){if(at&&!isNaN(at.a)&&at.a===0)return["1.","1.","1.",pt[1]].join(" ");Y=typeof me=="string"?[me,ke,Oe,pt[1]].join(" "):R.precision===2?[j(me/255),j(ke/255),j(Oe/255),pt[1]].join(" "):[V(me/255),V(ke/255),V(Oe/255),pt[1]].join(" ")}else Y=typeof me=="string"?[me,ke,Oe,at,pt[2]].join(" "):R.precision===2?[j(me),j(ke),j(Oe),j(at),pt[2]].join(" "):[V(me),V(ke),V(Oe),V(at),pt[2]].join(" ");return Y},gn=m.__private__.getFilters=function(){return s},Dt=m.__private__.putStream=function(R){var Y=(R=R||{}).data||"",me=R.filters||gn(),ke=R.alreadyAppliedFilters||[],Oe=R.addLength1||!1,at=Y.length,pt=R.objectId,Vt=function(U){return U};if(f!==null&&pt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Vt=Ln.encryptor(pt,0));var Xt={};me===!0&&(me=["FlateEncode"]);var hr=R.additionalKeyValues||[],or=(Xt=sr.API.processDataByFilters!==void 0?sr.API.processDataByFilters(Y,me):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(Xt.data.length!==0&&(hr.push({key:"Length",value:Xt.data.length}),Oe===!0&&hr.push({key:"Length1",value:at})),or.length!=0)if(or.split("/").length-1==1)hr.push({key:"Filter",value:or});else{hr.push({key:"Filter",value:"["+or+"]"});for(var Fr=0;Fr<hr.length;Fr+=1)if(hr[Fr].key==="DecodeParms"){for(var Nn=[],yn=0;yn<Xt.reverseChain.split("/").length-1;yn+=1)Nn.push("null");Nn.push(hr[Fr].value),hr[Fr].value="["+Nn.join(" ")+"]"}}ce("<<");for(var x=0;x<hr.length;x++)ce("/"+hr[x].key+" "+hr[x].value);ce(">>"),Xt.data.length!==0&&(ce("stream"),ce(Vt(Xt.data)),ce("endstream"))},fr=m.__private__.putPage=function(R){var Y=R.number,me=R.data,ke=R.objId,Oe=R.contentsObjId;Rt(ke,!0),ce("<</Type /Page"),ce("/Parent "+R.rootDictionaryObjId+" 0 R"),ce("/Resources "+R.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(I(R.mediaBox.bottomLeftX))+" "+parseFloat(I(R.mediaBox.bottomLeftY))+" "+I(R.mediaBox.topRightX)+" "+I(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&ce("/CropBox ["+I(R.cropBox.bottomLeftX)+" "+I(R.cropBox.bottomLeftY)+" "+I(R.cropBox.topRightX)+" "+I(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&ce("/BleedBox ["+I(R.bleedBox.bottomLeftX)+" "+I(R.bleedBox.bottomLeftY)+" "+I(R.bleedBox.topRightX)+" "+I(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&ce("/TrimBox ["+I(R.trimBox.bottomLeftX)+" "+I(R.trimBox.bottomLeftY)+" "+I(R.trimBox.topRightX)+" "+I(R.trimBox.topRightY)+"]"),R.artBox!==null&&ce("/ArtBox ["+I(R.artBox.bottomLeftX)+" "+I(R.artBox.bottomLeftY)+" "+I(R.artBox.topRightX)+" "+I(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&ce("/UserUnit "+R.userUnit),be.publish("putPage",{objId:ke,pageContext:W[Y],pageNumber:Y,page:me}),ce("/Contents "+Oe+" 0 R"),ce(">>"),ce("endobj");var at=me.join(`
`);return F===P&&(at+=`
Q`),Rt(Oe,!0),Dt({data:at,filters:gn(),objectId:Oe}),ce("endobj"),ke},Mr=m.__private__.putPages=function(){var R,Y,me=[];for(R=1;R<=gt;R++)W[R].objId=xt(),W[R].contentsObjId=xt();for(R=1;R<=gt;R++)me.push(fr({number:R,data:We[R],objId:W[R].objId,contentsObjId:W[R].contentsObjId,mediaBox:W[R].mediaBox,cropBox:W[R].cropBox,bleedBox:W[R].bleedBox,trimBox:W[R].trimBox,artBox:W[R].artBox,userUnit:W[R].userUnit,rootDictionaryObjId:br,resourceDictionaryObjId:St}));Rt(br,!0),ce("<</Type /Pages");var ke="/Kids [";for(Y=0;Y<gt;Y++)ke+=me[Y]+" 0 R ";ce(ke+"]"),ce("/Count "+gt),ce(">>"),ce("endobj"),be.publish("postPutPages")},si=function(R){be.publish("putFont",{font:R,out:ce,newObject:it,putStream:Dt}),R.isAlreadyPutted!==!0&&(R.objectNumber=it(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+dm(R.postScriptName)),ce("/Subtype /Type1"),typeof R.encoding=="string"&&ce("/Encoding /"+R.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},zn=function(R){R.objectNumber=it();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[I(R.x),I(R.y),I(R.x+R.width),I(R.y+R.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var me=R.pages[1].join(`
`);Dt({data:me,additionalKeyValues:Y,objectId:R.objectNumber}),ce("endobj")},bi=function(R,Y){Y||(Y=21);var me=it(),ke=(function(pt,Vt){var Xt,hr=[],or=1/(Vt-1);for(Xt=0;Xt<1;Xt+=or)hr.push(Xt);if(hr.push(1),pt[0].offset!=0){var Fr={offset:0,color:pt[0].color};pt.unshift(Fr)}if(pt[pt.length-1].offset!=1){var Nn={offset:1,color:pt[pt.length-1].color};pt.push(Nn)}for(var yn="",x=0,U=0;U<hr.length;U++){for(Xt=hr[U];Xt>pt[x+1].offset;)x++;var K=pt[x].offset,le=(Xt-K)/(pt[x+1].offset-K),Fe=pt[x].color,Ye=pt[x+1].color;yn+=ae(Math.round((1-le)*Fe[0]+le*Ye[0]).toString(16))+ae(Math.round((1-le)*Fe[1]+le*Ye[1]).toString(16))+ae(Math.round((1-le)*Fe[2]+le*Ye[2]).toString(16))}return yn.trim()})(R.colors,Y),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+Y+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Dt({data:ke,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),ce("endobj"),R.objectNumber=it(),ce("<< /ShadingType "+R.type),ce("/ColorSpace /DeviceRGB");var at="/Coords ["+I(parseFloat(R.coords[0]))+" "+I(parseFloat(R.coords[1]))+" ";R.type===2?at+=I(parseFloat(R.coords[2]))+" "+I(parseFloat(R.coords[3])):at+=I(parseFloat(R.coords[2]))+" "+I(parseFloat(R.coords[3]))+" "+I(parseFloat(R.coords[4]))+" "+I(parseFloat(R.coords[5])),ce(at+="]"),R.matrix&&ce("/Matrix ["+R.matrix.toString()+"]"),ce("/Function "+me+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},qi=function(R,Y){var me=xt(),ke=it();Y.push({resourcesOid:me,objectOid:ke}),R.objectNumber=ke;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+R.boundingBox.map(I).join(" ")+"]"}),Oe.push({key:"XStep",value:I(R.xStep)}),Oe.push({key:"YStep",value:I(R.yStep)}),Oe.push({key:"Resources",value:me+" 0 R"}),R.matrix&&Oe.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),Dt({data:R.stream,additionalKeyValues:Oe,objectId:R.objectNumber}),ce("endobj")},Za=function(R){for(var Y in R.objectNumber=it(),ce("<<"),R)switch(Y){case"opacity":ce("/ca "+j(R[Y]));break;case"stroke-opacity":ce("/CA "+j(R[Y]))}ce(">>"),ce("endobj")},ms=function(R){Rt(R.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Y in ce("/Font <<"),jt)jt.hasOwnProperty(Y)&&(p===!1||p===!0&&g.hasOwnProperty(Y))&&ce("/"+Y+" "+jt[Y].objectNumber+" 0 R");ce(">>")})(),(function(){if(Object.keys(Le).length>0){for(var Y in ce("/Shading <<"),Le)Le.hasOwnProperty(Y)&&Le[Y]instanceof Ah&&Le[Y].objectNumber>=0&&ce("/"+Y+" "+Le[Y].objectNumber+" 0 R");be.publish("putShadingPatternDict"),ce(">>")}})(),(function(Y){if(Object.keys(Le).length>0){for(var me in ce("/Pattern <<"),Le)Le.hasOwnProperty(me)&&Le[me]instanceof m.TilingPattern&&Le[me].objectNumber>=0&&Le[me].objectNumber<Y&&ce("/"+me+" "+Le[me].objectNumber+" 0 R");be.publish("putTilingPatternDict"),ce(">>")}})(R.objectOid),(function(){if(Object.keys(rt).length>0){var Y;for(Y in ce("/ExtGState <<"),rt)rt.hasOwnProperty(Y)&&rt[Y].objectNumber>=0&&ce("/"+Y+" "+rt[Y].objectNumber+" 0 R");be.publish("putGStateDict"),ce(">>")}})(),(function(){for(var Y in ce("/XObject <<"),xe)xe.hasOwnProperty(Y)&&xe[Y].objectNumber>=0&&ce("/"+Y+" "+xe[Y].objectNumber+" 0 R");be.publish("putXobjectDict"),ce(">>")})(),ce(">>"),ce("endobj")},Kn=function(R){Ht[R.fontName]=Ht[R.fontName]||{},Ht[R.fontName][R.fontStyle]=R.id},gu=function(R,Y,me,ke,Oe){var at={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:R,fontName:Y,fontStyle:me,encoding:ke,isStandardFont:Oe||!1,metadata:{}};return be.publish("addFont",{font:at,instance:this}),jt[at.id]=at,Kn(at),at.id},Oa=m.__private__.pdfEscape=m.pdfEscape=function(R,Y){return(function(me,ke){var Oe,at,pt,Vt,Xt,hr,or,Fr,Nn;if(pt=(ke=ke||{}).sourceEncoding||"Unicode",Xt=ke.outputEncoding,(ke.autoencode||Xt)&&jt[Pt].metadata&&jt[Pt].metadata[pt]&&jt[Pt].metadata[pt].encoding&&(Vt=jt[Pt].metadata[pt].encoding,!Xt&&jt[Pt].encoding&&(Xt=jt[Pt].encoding),!Xt&&Vt.codePages&&(Xt=Vt.codePages[0]),typeof Xt=="string"&&(Xt=Vt[Xt]),Xt)){for(or=!1,hr=[],Oe=0,at=me.length;Oe<at;Oe++)(Fr=Xt[me.charCodeAt(Oe)])?hr.push(String.fromCharCode(Fr)):hr.push(me[Oe]),hr[Oe].charCodeAt(0)>>8&&(or=!0);me=hr.join("")}for(Oe=me.length;or===void 0&&Oe!==0;)me.charCodeAt(Oe-1)>>8&&(or=!0),Oe--;if(!or)return me;for(hr=ke.noBOM?[]:[254,255],Oe=0,at=me.length;Oe<at;Oe++){if((Nn=(Fr=me.charCodeAt(Oe))>>8)>>8)throw new Error("Character at position "+Oe+" of string '"+me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");hr.push(Nn),hr.push(Fr-(Nn<<8))}return String.fromCharCode.apply(void 0,hr)})(R,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gs=m.__private__.beginPage=function(R){We[++gt]=[],W[gt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},yu(gt),vt(We[Q])},Ls=function(R,Y){var me,ke,Oe;switch(r=Y||r,typeof R=="string"&&(me=k(R.toLowerCase()),Array.isArray(me)&&(ke=me[0],Oe=me[1])),Array.isArray(R)&&(ke=R[0]*er,Oe=R[1]*er),isNaN(ke)&&(ke=i[0],Oe=i[1]),(ke>14400||Oe>14400)&&(Un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),Oe=Math.min(14400,Oe)),i=[ke,Oe],r.substr(0,1)){case"l":Oe>ke&&(i=[Oe,ke]);break;case"p":ke>Oe&&(i=[Oe,ke])}gs(i),ur(Da),ce(es),rs!==0&&ce(rs+" J"),wi!==0&&ce(wi+" j"),be.publish("addPage",{pageNumber:gt})},jl=function(R){R>0&&R<=gt&&(We.splice(R,1),W.splice(R,1),gt--,Q>gt&&(Q=gt),this.setPage(Q))},yu=function(R){R>0&&R<=gt&&(Q=R)},vu=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return We.length-1},fc=function(R,Y,me){var ke,Oe=void 0;return me=me||{},R=R!==void 0?R:jt[Pt].fontName,Y=Y!==void 0?Y:jt[Pt].fontStyle,ke=R.toLowerCase(),Ht[ke]!==void 0&&Ht[ke][Y]!==void 0?Oe=Ht[ke][Y]:Ht[R]!==void 0&&Ht[R][Y]!==void 0?Oe=Ht[R][Y]:me.disableWarning===!1&&Un.warn("Unable to look up font label for font '"+R+"', '"+Y+"'. Refer to getFontList() for available fonts."),Oe||me.noFallback||(Oe=Ht.times[Y])==null&&(Oe=Ht.times.normal),Oe},Ja=m.__private__.putInfo=function(){var R=it(),Y=function(ke){return ke};for(var me in f!==null&&(Y=Ln.encryptor(R,0)),ce("<<"),ce("/Producer ("+Oa(Y("jsPDF "+sr.version))+")"),rr)rr.hasOwnProperty(me)&&rr[me]&&ce("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+Oa(Y(rr[me]))+")");ce("/CreationDate ("+Oa(Y(_e))+")"),ce(">>"),ce("endobj")},na=m.__private__.putCatalog=function(R){var Y=(R=R||{}).rootDictionaryObjId||br;switch(it(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+Y+" 0 R"),Nt||(Nt="fullwidth"),Nt){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+Nt;me.substr(me.length-1)==="%"&&(Nt=parseInt(Nt)/100),typeof Nt=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+j(Nt)+"]")}switch(Jt||(Jt="continuous"),Jt){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}It&&ce("/PageMode /"+It),be.publish("putCatalog"),ce(">>"),ce("endobj")},oi=m.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(ye+1)),ce("/Root "+ye+" 0 R"),ce("/Info "+(ye-1)+" 0 R"),f!==null&&ce("/Encrypt "+Ln.oid+" 0 R"),ce("/ID [ <"+se+"> <"+se+"> ]"),ce(">>")},Br=m.__private__.putHeader=function(){ce("%PDF-"+w),ce("%")},Co=m.__private__.putXRef=function(){var R="0000000000";ce("xref"),ce("0 "+(ye+1)),ce("0000000000 65535 f ");for(var Y=1;Y<=ye;Y++)typeof Te[Y]=="function"?ce((R+Te[Y]()).slice(-10)+" 00000 n "):Te[Y]!==void 0?ce((R+Te[Y]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},ys=m.__private__.buildDocument=function(){var R;ye=0,he=0,Ve=[],Te=[],Ce=[],br=xt(),St=xt(),vt(Ve),be.publish("buildDocument"),Br(),Mr(),(function(){be.publish("putAdditionalObjects");for(var me=0;me<Ce.length;me++){var ke=Ce[me];Rt(ke.objId,!0),ce(ke.content),ce("endobj")}be.publish("postPutAdditionalObjects")})(),R=[],(function(){for(var me in jt)jt.hasOwnProperty(me)&&(p===!1||p===!0&&g.hasOwnProperty(me))&&si(jt[me])})(),(function(){var me;for(me in rt)rt.hasOwnProperty(me)&&Za(rt[me])})(),(function(){for(var me in xe)xe.hasOwnProperty(me)&&zn(xe[me])})(),(function(me){var ke;for(ke in Le)Le.hasOwnProperty(ke)&&(Le[ke]instanceof Ah?bi(Le[ke]):Le[ke]instanceof _m&&qi(Le[ke],me))})(R),be.publish("putResources"),R.forEach(ms),ms({resourcesOid:St,objectOid:Number.MAX_SAFE_INTEGER}),be.publish("postPutResources"),f!==null&&(Ln.oid=it(),ce("<<"),ce("/Filter /Standard"),ce("/V "+Ln.v),ce("/R "+Ln.r),ce("/U <"+Ln.toHexString(Ln.U)+">"),ce("/O <"+Ln.toHexString(Ln.O)+">"),ce("/P "+Ln.P),ce(">>"),ce("endobj")),Ja(),na();var Y=he;return Co(),oi(),ce("startxref"),ce(""+Y),ce("%%EOF"),vt(We[Q]),Ve.join(`
`)},Hr=m.__private__.getBlob=function(R){return new Blob([Yt(R)],{type:"application/pdf"})},Yo=m.output=m.__private__.output=(et=function(R,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",R){case void 0:return ys();case"save":m.save(Y.filename);break;case"arraybuffer":return Yt(ys());case"blob":return Hr(ys());case"bloburi":case"bloburl":if(Er.URL!==void 0&&typeof Er.URL.createObjectURL=="function")return Er.URL&&Er.URL.createObjectURL(Hr(ys()))||void 0;Un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",ke=ys();try{me=CD(ke)}catch{me=CD(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+Y.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Er)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",at=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Oe=Y.pdfObjectUrl,at="");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+at+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Vt=Er.open();return Vt!==null&&Vt.document.write(pt),Vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Er)==="[object Window]"){var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',hr=Er.open();if(hr!==null){hr.document.write(Xt);var or=this;hr.document.documentElement.querySelector("#pdfViewer").onload=function(){hr.document.title=Y.filename,hr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(or.output("bloburl"))}}return hr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Er)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Nn=Er.open();if(Nn!==null&&(Nn.document.write(Fr),Nn.document.title=Y.filename),Nn||typeof safari>"u")return Nn;break;case"datauri":case"dataurl":return Er.document.location.href=this.output("datauristring",Y);default:return null}},et.foo=function(){try{return et.apply(this,arguments)}catch(me){var R=me.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var Y="Error in function "+R.split(`
`)[0].split("<")[0]+": "+me.message;if(!Er.console)throw new Error(Y);Er.console.error(Y,me),Er.alert&&alert(Y)}},et.foo.bar=et,et.foo),xi=function(R){return Array.isArray(Xe)===!0&&Xe.indexOf(R)>-1};switch(n){case"pt":er=1;break;case"mm":er=72/25.4;break;case"cm":er=72/2.54;break;case"in":er=72;break;case"px":er=xi("px_scaling")==1?.75:96/72;break;case"pc":case"em":er=12;break;case"ex":er=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);er=n}var Ln=null;Z(),fe();var li=m.__private__.getPageInfo=m.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:W[R].objId,pageNumber:R,pageContext:W[R]}},Rl=m.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in W)if(W[Y].objId===R)break;return li(Y)},Td=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:W[Q].objId,pageNumber:Q,pageContext:W[Q]}};m.addPage=function(){return Ls.apply(this,arguments),this},m.setPage=function(){return yu.apply(this,arguments),vt.call(this,We[Q]),this},m.insertPage=function(R){return this.addPage(),this.movePage(Q,R),this},m.movePage=function(R,Y){var me,ke;if(R>Y){me=We[R],ke=W[R];for(var Oe=R;Oe>Y;Oe--)We[Oe]=We[Oe-1],W[Oe]=W[Oe-1];We[Y]=me,W[Y]=ke,this.setPage(Y)}else if(R<Y){me=We[R],ke=W[R];for(var at=R;at<Y;at++)We[at]=We[at+1],W[at]=W[at+1];We[Y]=me,W[Y]=ke,this.setPage(Y)}return this},m.deletePage=function(){return jl.apply(this,arguments),this},m.__private__.text=m.text=function(R,Y,me,ke,Oe){var at,pt,Vt,Xt,hr,or,Fr,Nn,yn,x=(ke=ke||{}).scope||this;if(typeof R=="number"&&typeof Y=="number"&&(typeof me=="string"||Array.isArray(me))){var U=me;me=Y,Y=R,R=U}if(arguments[3]instanceof Ae==0?(Vt=arguments[4],Xt=arguments[5],kn(Fr=arguments[3])==="object"&&Fr!==null||(typeof Vt=="string"&&(Xt=Vt,Vt=null),typeof Fr=="string"&&(Xt=Fr,Fr=null),typeof Fr=="number"&&(Vt=Fr,Fr=null),ke={flags:Fr,angle:Vt,align:Xt})):(D("The transform parameter of text() with a Matrix value"),yn=Oe),isNaN(Y)||isNaN(me)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return x;var K,le="",Fe=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:jo,Ye=x.internal.scaleFactor;function At(nn){return nn=nn.split("	").join(Array(ke.TabLen||9).join(" ")),Oa(nn,Fr)}function wr(nn){for(var Qr,jn=nn.concat(),Ai=[],ol=jn.length;ol--;)typeof(Qr=jn.shift())=="string"?Ai.push(Qr):Array.isArray(nn)&&(Qr.length===1||Qr[1]===void 0&&Qr[2]===void 0)?Ai.push(Qr[0]):Ai.push([Qr[0],Qr[1],Qr[2]]);return Ai}function Pn(nn,Qr){var jn;if(typeof nn=="string")jn=Qr(nn)[0];else if(Array.isArray(nn)){for(var Ai,ol,Do=nn.concat(),xc=[],Xf=Do.length;Xf--;)typeof(Ai=Do.shift())=="string"?xc.push(Qr(Ai)[0]):Array.isArray(Ai)&&typeof Ai[0]=="string"&&(ol=Qr(Ai[0],Ai[1],Ai[2]),xc.push([ol[0],ol[1],ol[2]]));jn=xc}return jn}var Dr=!1,ln=!0;if(typeof R=="string")Dr=!0;else if(Array.isArray(R)){var aa=R.concat();pt=[];for(var ya,_n=aa.length;_n--;)(typeof(ya=aa.shift())!="string"||Array.isArray(ya)&&typeof ya[0]!="string")&&(ln=!1);Dr=ln}if(Dr===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var va=Je/x.internal.scaleFactor,Us=va*(Fe-1);switch(ke.baseline){case"bottom":me-=Us;break;case"top":me+=va-Us;break;case"hanging":me+=va-2*Us;break;case"middle":me+=va/2-Us}if((or=ke.maxWidth||0)>0&&(typeof R=="string"?R=x.splitTextToSize(R,or):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(nn,Qr){return nn.concat(x.splitTextToSize(Qr,or))},[]))),at={text:R,x:Y,y:me,options:ke,mutex:{pdfEscape:Oa,activeFontKey:Pt,fonts:jt,activeFontSize:Je}},be.publish("preProcessText",at),R=at.text,Vt=(ke=at.options).angle,yn instanceof Ae==0&&Vt&&typeof Vt=="number"){Vt*=Math.PI/180,ke.rotationDirection===0&&(Vt=-Vt),F===P&&(Vt=-Vt);var el=Math.cos(Vt),tl=Math.sin(Vt);yn=new Ae(el,tl,-tl,el,0,0)}else Vt&&Vt instanceof Ae&&(yn=Vt);F!==P||yn||(yn=De),(hr=ke.charSpace||ts)!==void 0&&(le+=I(M(hr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Nn=ke.horizontalScale)!==void 0&&(le+=I(100*Nn)+` Tz
`),ke.lang;var is=-1,Ml=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,kd=x.internal.getCurrentPageInfo().pageContext;switch(Ml){case 0:case!1:case"fill":is=0;break;case 1:case!0:case"stroke":is=1;break;case 2:case"fillThenStroke":is=2;break;case 3:case"invisible":is=3;break;case 4:case"fillAndAddForClipping":is=4;break;case 5:case"strokeAndAddPathForClipping":is=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":is=6;break;case 7:case"addToPathForClipping":is=7}var Kf=kd.usedRenderingMode!==void 0?kd.usedRenderingMode:-1;is!==-1?le+=is+` Tr
`:Kf!==-1&&(le+=`0 Tr
`),is!==-1&&(kd.usedRenderingMode=is),Xt=ke.align||"left";var Vs,Oo=Je*Fe,Bl=x.internal.pageSize.getWidth(),Yf=jt[Pt];hr=ke.charSpace||ts,or=ke.maxWidth||0,Fr=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var Io=[],Su=function(nn){return x.getStringUnitWidth(nn,{font:Yf,charSpace:hr,fontSize:Je,doKerning:!1})*Je/Ye};if(Object.prototype.toString.call(R)==="[object Array]"){var bs;pt=wr(R),Xt!=="left"&&(Vs=pt.map(Su));var as,rl=0;if(Xt==="right"){Y-=Vs[0],R=[],_n=pt.length;for(var nl=0;nl<_n;nl++)nl===0?(as=Gi(Y),bs=Pi(me)):(as=M(rl-Vs[nl]),bs=-Oo),R.push([pt[nl],as,bs]),rl=Vs[nl]}else if(Xt==="center"){Y-=Vs[0]/2,R=[],_n=pt.length;for(var Fl=0;Fl<_n;Fl++)Fl===0?(as=Gi(Y),bs=Pi(me)):(as=M((rl-Vs[Fl])/2),bs=-Oo),R.push([pt[Fl],as,bs]),rl=Vs[Fl]}else if(Xt==="left"){R=[],_n=pt.length;for(var Cd=0;Cd<_n;Cd++)R.push(pt[Cd])}else if(Xt==="justify"&&Yf.encoding==="Identity-H"){R=[],_n=pt.length,or=or!==0?or:Bl;for(var Nd=0,_i=0;_i<_n;_i++)if(bs=_i===0?Pi(me):-Oo,as=_i===0?Gi(Y):Nd,_i<_n-1){var vp=M((or-Vs[_i])/(pt[_i].split(" ").length-1)),il=pt[_i].split(" ");R.push([il[0]+" ",as,bs]),Nd=0;for(var al=1;al<il.length;al++){var ba=(Su(il[al-1]+" "+il[al])-Su(il[al]))*Ye+vp;al==il.length-1?R.push([il[al],ba,0]):R.push([il[al]+" ",ba,0]),Nd-=ba}}else R.push([pt[_i],as,bs]);R.push(["",Nd,0])}else{if(Xt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],_n=pt.length,or=or!==0?or:Bl,_i=0;_i<_n;_i++){bs=_i===0?Pi(me):-Oo,as=_i===0?Gi(Y):0;var Ul=pt[_i].split(" ").length-1,Pd=Ul>0?(or-Vs[_i])/Ul:0;_i<_n-1?Io.push(I(M(Pd))):Io.push(0),R.push([pt[_i],as,bs])}}}(typeof ke.R2L=="boolean"?ke.R2L:lt)===!0&&(R=Pn(R,function(nn,Qr,jn){return[nn.split("").reverse().join(""),Qr,jn]})),at={text:R,x:Y,y:me,options:ke,mutex:{pdfEscape:Oa,activeFontKey:Pt,fonts:jt,activeFontSize:Je}},be.publish("postProcessText",at),R=at.text,K=at.mutex.isHex||!1;var jd=jt[Pt].encoding;jd!=="WinAnsiEncoding"&&jd!=="StandardEncoding"||(R=Pn(R,function(nn,Qr,jn){return[At(nn),Qr,jn]})),pt=wr(R),R=[];for(var Vl,zl,sl,bc=Array.isArray(pt[0])?1:0,zs="",$l=function(nn,Qr,jn){var Ai="";return jn instanceof Ae?(jn=typeof ke.angle=="number"?je(jn,new Ae(1,0,0,1,nn,Qr)):je(new Ae(1,0,0,1,nn,Qr),jn),F===P&&(jn=je(new Ae(1,0,0,-1,0,0),jn)),Ai=jn.join(" ")+` Tm
`):Ai=I(nn)+" "+I(Qr)+` Td
`,Ai},La=0;La<pt.length;La++){switch(zs="",bc){case 1:sl=(K?"<":"(")+pt[La][0]+(K?">":")"),Vl=parseFloat(pt[La][1]),zl=parseFloat(pt[La][2]);break;case 0:sl=(K?"<":"(")+pt[La]+(K?">":")"),Vl=Gi(Y),zl=Pi(me)}Io!==void 0&&Io[La]!==void 0&&(zs=Io[La]+` Tw
`),La===0?R.push(zs+$l(Vl,zl,yn)+sl):bc===0?R.push(zs+sl):bc===1&&R.push(zs+$l(Vl,zl,yn)+sl)}R=bc===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var ao=`BT
/`;return ao+=Pt+" "+Je+` Tf
`,ao+=I(Je*Fe)+` TL
`,ao+=Bs+`
`,ao+=le,ao+=R,ce(ao+="ET"),g[Pt]=!0,x};var hc=m.__private__.clip=m.clip=function(R){return ce(R==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return hc("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ce("n"),this};var ga=m.__private__.isValidStyle=function(R){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(Y=!0),Y};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(R){return ga(R)&&(d=R),this};var pc=m.__private__.getStyle=m.getStyle=function(R){var Y=d;switch(R){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=R}return Y},No=m.close=function(){return ce("h"),this};m.stroke=function(){return ce("S"),this},m.fill=function(R){return Hi("f",R),this},m.fillEvenOdd=function(R){return Hi("f*",R),this},m.fillStroke=function(R){return Hi("B",R),this},m.fillStrokeEvenOdd=function(R){return Hi("B*",R),this};var Hi=function(R,Y){kn(Y)==="object"?gc(Y,R):ce(R)},Xo=function(R){R===null||F===P&&R===void 0||(R=pc(R),ce(R))};function mc(R,Y,me,ke,Oe){var at=new _m(Y||this.boundingBox,me||this.xStep,ke||this.yStep,this.gState,Oe||this.matrix);at.stream=this.stream;var pt=R+"$$"+this.cloneIndex+++"$$";return $e(pt,at),at}var gc=function(R,Y){var me=Et[R.key],ke=Le[me];if(ke instanceof Ah)ce("q"),ce(bu(Y)),ke.gState&&m.setGState(ke.gState),ce(R.matrix.toString()+" cm"),ce("/"+me+" sh"),ce("Q");else if(ke instanceof _m){var Oe=new Ae(1,0,0,-1,0,Fs());R.matrix&&(Oe=Oe.multiply(R.matrix||De),me=mc.call(ke,R.key,R.boundingBox,R.xStep,R.yStep,Oe).id),ce("q"),ce("/Pattern cs"),ce("/"+me+" scn"),ke.gState&&m.setGState(ke.gState),ce(Y),ce("Q")}},bu=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},xu=m.moveTo=function(R,Y){return ce(I(M(R))+" "+I(J(Y))+" m"),this},Po=m.lineTo=function(R,Y){return ce(I(M(R))+" "+I(J(Y))+" l"),this},Ia=m.curveTo=function(R,Y,me,ke,Oe,at){return ce([I(M(R)),I(J(Y)),I(M(me)),I(J(ke)),I(M(Oe)),I(J(at)),"c"].join(" ")),this};m.__private__.line=m.line=function(R,Y,me,ke,Oe){if(isNaN(R)||isNaN(Y)||isNaN(me)||isNaN(ke)||!ga(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return F===N?this.lines([[me-R,ke-Y]],R,Y,[1,1],Oe||"S"):this.lines([[me-R,ke-Y]],R,Y,[1,1]).stroke()},m.__private__.lines=m.lines=function(R,Y,me,ke,Oe,at){var pt,Vt,Xt,hr,or,Fr,Nn,yn,x,U,K,le;if(typeof R=="number"&&(le=me,me=Y,Y=R,R=le),ke=ke||[1,1],at=at||!1,isNaN(Y)||isNaN(me)||!Array.isArray(R)||!Array.isArray(ke)||!ga(Oe)||typeof at!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xu(Y,me),pt=ke[0],Vt=ke[1],hr=R.length,U=Y,K=me,Xt=0;Xt<hr;Xt++)(or=R[Xt]).length===2?(U=or[0]*pt+U,K=or[1]*Vt+K,Po(U,K)):(Fr=or[0]*pt+U,Nn=or[1]*Vt+K,yn=or[2]*pt+U,x=or[3]*Vt+K,U=or[4]*pt+U,K=or[5]*Vt+K,Ia(Fr,Nn,yn,x,U,K));return at&&No(),Xo(Oe),this},m.path=function(R){for(var Y=0;Y<R.length;Y++){var me=R[Y],ke=me.c;switch(me.op){case"m":xu(ke[0],ke[1]);break;case"l":Po(ke[0],ke[1]);break;case"c":Ia.apply(this,ke);break;case"h":No()}}return this},m.__private__.rect=m.rect=function(R,Y,me,ke,Oe){if(isNaN(R)||isNaN(Y)||isNaN(me)||isNaN(ke)||!ga(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return F===N&&(ke=-ke),ce([I(M(R)),I(J(Y)),I(M(me)),I(M(ke)),"re"].join(" ")),Xo(Oe),this},m.__private__.triangle=m.triangle=function(R,Y,me,ke,Oe,at,pt){if(isNaN(R)||isNaN(Y)||isNaN(me)||isNaN(ke)||isNaN(Oe)||isNaN(at)||!ga(pt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-R,ke-Y],[Oe-me,at-ke],[R-Oe,Y-at]],R,Y,[1,1],pt,!0),this},m.__private__.roundedRect=m.roundedRect=function(R,Y,me,ke,Oe,at,pt){if(isNaN(R)||isNaN(Y)||isNaN(me)||isNaN(ke)||isNaN(Oe)||isNaN(at)||!ga(pt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Vt=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*me),at=Math.min(at,.5*ke),this.lines([[me-2*Oe,0],[Oe*Vt,0,Oe,at-at*Vt,Oe,at],[0,ke-2*at],[0,at*Vt,-Oe*Vt,at,-Oe,at],[2*Oe-me,0],[-Oe*Vt,0,-Oe,-at*Vt,-Oe,-at],[0,2*at-ke],[0,-at*Vt,Oe*Vt,-at,Oe,-at]],R+Oe,Y,[1,1],pt,!0),this},m.__private__.ellipse=m.ellipse=function(R,Y,me,ke,Oe){if(isNaN(R)||isNaN(Y)||isNaN(me)||isNaN(ke)||!ga(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var at=4/3*(Math.SQRT2-1)*me,pt=4/3*(Math.SQRT2-1)*ke;return xu(R+me,Y),Ia(R+me,Y-pt,R+at,Y-ke,R,Y-ke),Ia(R-at,Y-ke,R-me,Y-pt,R-me,Y),Ia(R-me,Y+pt,R-at,Y+ke,R,Y+ke),Ia(R+at,Y+ke,R+me,Y+pt,R+me,Y),Xo(Oe),this},m.__private__.circle=m.circle=function(R,Y,me,ke){if(isNaN(R)||isNaN(Y)||isNaN(me)||!ga(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,Y,me,me,ke)},m.setFont=function(R,Y,me){return me&&(Y=L(Y,me)),Pt=fc(R,Y,{disableWarning:!1}),this};var Ms=m.__private__.getFont=m.getFont=function(){return jt[fc.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var R,Y,me={};for(R in Ht)if(Ht.hasOwnProperty(R))for(Y in me[R]=[],Ht[R])Ht[R].hasOwnProperty(Y)&&me[R].push(Y);return me},m.addFont=function(R,Y,me,ke,Oe){var at=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&at.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&at.indexOf(arguments[3])==-1&&(me=L(me,ke)),gu.call(this,R,Y,me,Oe=Oe||"Identity-H")};var jo,Da=t.lineWidth||.200025,Qo=m.__private__.getLineWidth=m.getLineWidth=function(){return Da},ur=m.__private__.setLineWidth=m.setLineWidth=function(R){return Da=R,ce(I(M(R))+" w"),this};m.__private__.setLineDash=sr.API.setLineDash=sr.API.setLineDashPattern=function(R,Y){if(R=R||[],Y=Y||0,isNaN(Y)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(me){return I(M(me))}).join(" "),Y=I(M(Y)),ce("["+R+"] "+Y+" d"),this};var Ol=m.__private__.getLineHeight=m.getLineHeight=function(){return Je*jo};m.__private__.getLineHeight=m.getLineHeight=function(){return Je*jo};var wu=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(jo=R),this},Zo=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return jo};wu(t.lineHeight);var Gi=m.__private__.getHorizontalCoordinate=function(R){return M(R)},Pi=m.__private__.getVerticalCoordinate=function(R){return F===P?R:W[Q].mediaBox.topRightY-W[Q].mediaBox.bottomLeftY-M(R)},Il=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(R){return I(Gi(R))},on=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(R){return I(Pi(R))},es=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Cr(es)},m.__private__.setStrokeColor=m.setDrawColor=function(R,Y,me,ke){return es=fn({ch1:R,ch2:Y,ch3:me,ch4:ke,pdfColorType:"draw",precision:2}),ce(es),this};var Dl=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Cr(Dl)},m.__private__.setFillColor=m.setFillColor=function(R,Y,me,ke){return Dl=fn({ch1:R,ch2:Y,ch3:me,ch4:ke,pdfColorType:"fill",precision:2}),ce(Dl),this};var Bs=t.textColor||"0 g",yc=m.__private__.getTextColor=m.getTextColor=function(){return Cr(Bs)};m.__private__.setTextColor=m.setTextColor=function(R,Y,me,ke){return Bs=fn({ch1:R,ch2:Y,ch3:me,ch4:ke,pdfColorType:"text",precision:3}),this};var ts=t.charSpace,Ro=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ts||0)};m.__private__.setCharSpace=m.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ts=R,this};var rs=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(R){var Y=m.CapJoinStyles[R];if(Y===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rs=Y,ce(Y+" J"),this};var wi=0;m.__private__.setLineJoin=m.setLineJoin=function(R){var Y=m.CapJoinStyles[R];if(Y===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wi=Y,ce(Y+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(I(M(R))+" M"),this},m.GState=Rx,m.setGState=function(R){(R=typeof R=="string"?rt[bt[R]]:eo(null,R)).equals(_t)||(ce("/"+R.id+" gs"),_t=R)};var eo=function(R,Y){if(!R||!bt[R]){var me=!1;for(var ke in rt)if(rt.hasOwnProperty(ke)&&rt[ke].equals(Y)){me=!0;break}if(me)Y=rt[ke];else{var Oe="GS"+(Object.keys(rt).length+1).toString(10);rt[Oe]=Y,Y.id=Oe}return R&&(bt[R]=Y.id),be.publish("addGState",Y),Y}};m.addGState=function(R,Y){return eo(R,Y),this},m.saveGraphicsState=function(){return ce("q"),Se.push({key:Pt,size:Je,color:Bs}),this},m.restoreGraphicsState=function(){ce("Q");var R=Se.pop();return Pt=R.key,Je=R.size,Bs=R.color,_t=null,this},m.setCurrentTransformationMatrix=function(R){return ce(R.toString()+" cm"),this},m.comment=function(R){return ce("#"+R),this};var ia=function(R,Y){var me=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(at){isNaN(at)||(me=parseFloat(at))}});var ke=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(at){isNaN(at)||(ke=parseFloat(at))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function(at){Oe=at.toString()}}),this},to=function(R,Y,me,ke){ia.call(this,R,Y),this.type="rect";var Oe=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(pt){isNaN(pt)||(Oe=parseFloat(pt))}});var at=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return at},set:function(pt){isNaN(pt)||(at=parseFloat(pt))}}),this},Jo=function(){this.page=gt,this.currentPage=Q,this.pages=We.slice(0),this.pagesContext=W.slice(0),this.x=Ct,this.y=Ar,this.matrix=ar,this.width=vs(Q),this.height=_u(Q),this.outputDestination=dt,this.id="",this.objectNumber=-1};Jo.prototype.restore=function(){gt=this.page,Q=this.currentPage,W=this.pagesContext,We=this.pages,Ct=this.x,Ar=this.y,ar=this.matrix,Ll(Q,this.width),ns(Q,this.height),dt=this.outputDestination};var ro=function(R,Y,me,ke,Oe){ve.push(new Jo),gt=Q=0,We=[],Ct=R,Ar=Y,ar=Oe,gs([me,ke])};for(var no in m.beginFormObject=function(R,Y,me,ke,Oe){return ro(R,Y,me,ke,Oe),this},m.endFormObject=function(R){return(function(Y){if(de[Y])ve.pop().restore();else{var me=new Jo,ke="Xo"+(Object.keys(xe).length+1).toString(10);me.id=ke,de[Y]=ke,xe[ke]=me,be.publish("addFormObject",me),ve.pop().restore()}})(R),this},m.doFormObject=function(R,Y){var me=xe[de[R]];return ce("q"),ce(Y.toString()+" cm"),ce("/"+me.id+" Do"),ce("Q"),this},m.getFormObject=function(R){var Y=xe[de[R]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},m.save=function(R,Y){return R=R||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(vh(Hr(ys()),R),typeof vh.unload=="function"&&Er.setTimeout&&setTimeout(vh.unload,911),this):new Promise(function(me,ke){try{var Oe=vh(Hr(ys()),R);typeof vh.unload=="function"&&Er.setTimeout&&setTimeout(vh.unload,911),me(Oe)}catch(at){ke(at.message)}})},sr.API)sr.API.hasOwnProperty(no)&&(no==="events"&&sr.API.events.length?(function(R,Y){var me,ke,Oe;for(Oe=Y.length-1;Oe!==-1;Oe--)me=Y[Oe][0],ke=Y[Oe][1],R.subscribe.apply(R,[me].concat(typeof ke=="function"?[ke]:ke))})(be,sr.API.events):m[no]=sr.API[no]);function vs(R){return W[R].mediaBox.topRightX-W[R].mediaBox.bottomLeftX}function Ll(R,Y){W[R].mediaBox.topRightX=Y+W[R].mediaBox.bottomLeftX}function _u(R){return W[R].mediaBox.topRightY-W[R].mediaBox.bottomLeftY}function ns(R,Y){W[R].mediaBox.topRightY=Y+W[R].mediaBox.bottomLeftY}var io=m.getPageWidth=function(R){return vs(R=R||Q)/er},vc=m.setPageWidth=function(R,Y){Ll(R,Y*er)},Fs=m.getPageHeight=function(R){return _u(R=R||Q)/er},Au=m.setPageHeight=function(R,Y){ns(R,Y*er)};return m.internal={pdfEscape:Oa,getStyle:pc,getFont:Ms,getFontSize:kt,getCharSpace:Ro,getTextColor:yc,getLineHeight:Ol,getLineHeightFactor:Zo,getLineWidth:Qo,write:yt,getHorizontalCoordinate:Gi,getVerticalCoordinate:Pi,getCoordinateString:Il,getVerticalCoordinateString:on,collections:{},newObject:it,newAdditionalObject:Ut,newObjectDeferred:xt,newObjectDeferredBegin:Rt,getFilters:gn,putStream:Dt,events:be,scaleFactor:er,pageSize:{getWidth:function(){return io(Q)},setWidth:function(R){vc(Q,R)},getHeight:function(){return Fs(Q)},setHeight:function(R){Au(Q,R)}},encryptionOptions:f,encryption:Ln,getEncryptor:function(R){return f!==null?Ln.encryptor(R,0):function(Y){return Y}},output:Yo,getNumberOfPages:vu,get pages(){return We},out:ce,f2:j,f3:V,getPageInfo:li,getPageInfoByObjId:Rl,getCurrentPageInfo:Td,getPDFVersion:S,Point:ia,Rectangle:to,Matrix:Ae,hasHotfix:xi},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return io(Q)},set:function(R){vc(Q,R)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Fs(Q)},set:function(R){Au(Q,R)},enumerable:!0,configurable:!0}),(function(R){for(var Y=0,me=Ft.length;Y<me;Y++){var ke=gu.call(this,R[Y][0],R[Y][1],R[Y][2],Ft[Y][3],!0);p===!1&&(g[ke]=!0);var Oe=R[Y][0].split("-");Kn({id:ke,fontName:Oe[0],fontStyle:Oe[1]||""})}be.publish("addFonts",{fonts:jt,dictionary:Ht})}).call(m,Ft),Pt="F1",Ls(i,r),be.publish("initialized"),m}cm.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},cm.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cm.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},cm.prototype.processOwnerPassword=function(t,e){return CT(kT(e).substr(0,5),t)},cm.prototype.encryptor=function(t,e){var r=kT(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return CT(r,n)}},Rx.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||kn(t)!==kn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},sr.API={events:[]},sr.version="3.0.4";var Mi=sr.API,GC=1,pp=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jp=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jr=function(t){return t.toFixed(2)},nf=function(t){return t.toFixed(5)};Mi.__acroform__={};var To=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},RD=function(t){return t*GC},Fu=function(t){var e=new K$,r=Zt.internal.getHeight(t)||0,n=Zt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(jr(n)),Number(jr(r))],e},pge=Mi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},mge=Mi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},gge=Mi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Qi=Mi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gge(t,e-1)},Zi=Mi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pge(t,e-1)},Ji=Mi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return mge(t,e-1)},yge=Mi.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+s)||0,c.upperRight_Y=n(a)||0,[Number(jr(c.lowerLeft_X)),Number(jr(c.lowerLeft_Y)),Number(jr(c.upperRight_X)),Number(jr(c.upperRight_Y))]},vge=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=NT(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+jr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Fu(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},NT=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var a=r,s=Zt.internal.getHeight(t)||0;s=s<0?-s:s;var l=Zt.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(j,V,M){if(j+1<i.length){var J=V+" "+i[j+1][0];return J1(J,t,M).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var d,f,p=J1("3",t,a).height,g=t.multiline?s-a:(s-p)/2,m=g+=2,w=0,S=0,_=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+J1(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var k="",N=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var F=!1;if(i[P].length!==1&&_!==i[P].length-1){if((p+2)*(N+2)+2>s)continue e;k+=i[P][_],F=!0,S=P,P--}else{k=(k+=i[P][_]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var O=parseInt(P),z=c(O,k,a),L=P>=i.length-1;if(z&&!L){k+=" ",_=0;continue}if(z||L){if(L)S=O;else if(t.multiline&&(p+2)*(N+2)+2>s)continue e}else{if(!t.multiline||(p+2)*(N+2)+2>s)continue e;S=O}}for(var I="",D=w;D<=S;D++){var $=i[D];if(t.multiline){if(D===S){I+=$[_]+" ",_=(_+1)%$.length;continue}if(D===w){I+=$[$.length-1]+" ";continue}}I+=$[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,f=J1(I,t,a).width,t.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;default:d=2}e+=jr(d)+" "+jr(m)+` Td
`,e+="("+pp(I)+`) Tj
`,e+=-jr(d)+` 0 Td
`,m=-(a+2),f=0,w=F?S:S+1,N++,k=""}break}return n.text=e,n.fontSize=a,n},J1=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},bge={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},xge=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},wge=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(hu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(bge)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");GC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Y$,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&xge(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],c=[],d=l.Rect;if(l.Rect&&(l.Rect=yge(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Zt.createDefaultAppearanceStream(l),kn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=vge(l);c.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var p="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var m=l.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var w=m[s];typeof w=="function"&&(w=w.call(i,l)),p+="/"+s+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=m)=="function"&&(w=w.call(i,l)),p+="/"+s+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&(function(S,_){for(var k in S)if(S.hasOwnProperty(k)){var N=k,P=S[k];_.internal.newObjectDeferredBegin(P.objId,!0),kn(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete S[N]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},W$=Mi.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),kn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+pp(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},xA=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+pp(n(t))+")"},Hu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Hu.prototype.toString=function(){return this.objId+" 0 R"},Hu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Hu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:W$(i,this.objId,this.scope)}):i instanceof Hu?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var K$=function(){Hu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};To(K$,Hu);var Y$=function(){Hu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+pp(r(t))+")"}},set:function(r){t=r}})};To(Y$,Hu);var hu=function t(){Hu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qi(e,3)},set:function(k){k?this.F=Zi(e,3):this.F=Ji(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');r=k}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(k){n=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(k){n[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(k){n[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(k){n[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(k){n[3]=k}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Ox)return;a="FieldObject"+t.FieldNum++}var k=function(N){return N};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+pp(k(a))+")"},set:function(k){a=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(k){a=k}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(k){s=k}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(k){l=k}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/GC:d},set:function(k){d=k}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Ox||this instanceof Fh))return xA(p,this.objId,this.scope)},set:function(k){k=k.toString(),p=k}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ga==0?xA(g,this.objId,this.scope):g},set:function(k){k=k.toString(),g=this instanceof Ga==0?k.substr(0,1)==="("?Jp(k.substr(1,k.length-2)):Jp(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga==1?Jp(g.substr(1,g.length-1)):g},set:function(k){k=k.toString(),g=this instanceof Ga==1?"/"+k:k}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ga==0?xA(m,this.objId,this.scope):m},set:function(k){k=k.toString(),m=this instanceof Ga==0?k.substr(0,1)==="("?Jp(k.substr(1,k.length-2)):Jp(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga==1?Jp(m.substr(1,m.length-1)):m},set:function(k){k=k.toString(),m=this instanceof Ga==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(k){k=!!k,S=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(k){w=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,1)},set:function(k){k?this.Ff=Zi(this.Ff,1):this.Ff=Ji(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,2)},set:function(k){k?this.Ff=Zi(this.Ff,2):this.Ff=Ji(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,3)},set:function(k){k?this.Ff=Zi(this.Ff,3):this.Ff=Ji(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');_=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(_){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};To(hu,Hu);var Rm=function(){hu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return W$(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(a,s,l){l||(l=1);for(var c,d=[];c=s.exec(a);)d.push(c[l]);return d})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,18)},set:function(r){r?this.Ff=Zi(this.Ff,18):this.Ff=Ji(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Zi(this.Ff,19):this.Ff=Ji(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,20)},set:function(r){r?(this.Ff=Zi(this.Ff,20),e.sort()):this.Ff=Ji(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,22)},set:function(r){r?this.Ff=Zi(this.Ff,22):this.Ff=Ji(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(r){r?this.Ff=Zi(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,27)},set:function(r){r?this.Ff=Zi(this.Ff,27):this.Ff=Ji(this.Ff,27)}}),this.hasAppearanceStream=!1};To(Rm,hu);var Om=function(){Rm.call(this),this.fontName="helvetica",this.combo=!1};To(Om,Rm);var Im=function(){Om.call(this),this.combo=!0};To(Im,Om);var Ub=function(){Im.call(this),this.edit=!0};To(Ub,Im);var Ga=function(){hu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,15)},set:function(r){r?this.Ff=Zi(this.Ff,15):this.Ff=Ji(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,16)},set:function(r){r?this.Ff=Zi(this.Ff,16):this.Ff=Ji(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,17)},set:function(r){r?this.Ff=Zi(this.Ff,17):this.Ff=Ji(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(r){r?this.Ff=Zi(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+pp(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){kn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};To(Ga,hu);var Vb=function(){Ga.call(this),this.pushButton=!0};To(Vb,Ga);var Dm=function(){Ga.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};To(Dm,Ga);var Ox=function(){var t,e;hu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+pp(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){kn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};To(Ox,hu),Dm.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Dm.prototype.createOption=function(t){var e=new Ox;return e.Parent=this,e.optionName=t,this.Kids.push(e),_ge.call(this.scope,e),e};var zb=function(){Ga.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Zt.CheckBox.createAppearanceStream()};To(zb,Ga);var Fh=function(){hu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,13)},set:function(e){e?this.Ff=Zi(this.Ff,13):this.Ff=Ji(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,21)},set:function(e){e?this.Ff=Zi(this.Ff,21):this.Ff=Ji(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(e){e?this.Ff=Zi(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,24)},set:function(e){e?this.Ff=Zi(this.Ff,24):this.Ff=Ji(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,25)},set:function(e){e?this.Ff=Zi(this.Ff,25):this.Ff=Ji(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(e){e?this.Ff=Zi(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};To(Fh,hu);var $b=function(){Fh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,14)},set:function(t){t?this.Ff=Zi(this.Ff,14):this.Ff=Ji(this.Ff,14)}}),this.password=!0};To($b,Fh);var Zt={CheckBox:{createAppearanceStream:function(){return{N:{On:Zt.CheckBox.YesNormal},D:{On:Zt.CheckBox.YesPushDown,Off:Zt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=NT(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+jr(Zt.internal.getWidth(t))+" "+jr(Zt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+jr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Fu(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=Zt.internal.getHeight(t),s=Zt.internal.getWidth(t),l=NT(t,t.caption);return i.push("1 g"),i.push("0 0 "+jr(s)+" "+jr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+jr(s-1)+" "+jr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+jr(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jr(Zt.internal.getWidth(t))+" "+jr(Zt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Zt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Zt.RadioButton.Circle.YesNormal,e.D[t]=Zt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=Zt.internal.getWidth(t)<=Zt.internal.getHeight(t)?Zt.internal.getWidth(t)/4:Zt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Zt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+nf(Zt.internal.getWidth(t)/2)+" "+nf(Zt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=Zt.internal.getWidth(t)<=Zt.internal.getHeight(t)?Zt.internal.getWidth(t)/4:Zt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Zt.internal.Bezier_C).toFixed(5)),s=Number((n*Zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+nf(Zt.internal.getWidth(t)/2)+" "+nf(Zt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+nf(Zt.internal.getWidth(t)/2)+" "+nf(Zt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=Zt.internal.getWidth(t)<=Zt.internal.getHeight(t)?Zt.internal.getWidth(t)/4:Zt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+nf(Zt.internal.getWidth(t)/2)+" "+nf(Zt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Zt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Zt.RadioButton.Cross.YesNormal,e.D[t]=Zt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=Zt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+jr(Zt.internal.getWidth(t)-2)+" "+jr(Zt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(jr(n.x1.x)+" "+jr(n.x1.y)+" m"),r.push(jr(n.x2.x)+" "+jr(n.x2.y)+" l"),r.push(jr(n.x4.x)+" "+jr(n.x4.y)+" m"),r.push(jr(n.x3.x)+" "+jr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=Zt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+jr(Zt.internal.getWidth(t))+" "+jr(Zt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+jr(Zt.internal.getWidth(t)-2)+" "+jr(Zt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(jr(r.x1.x)+" "+jr(r.x1.y)+" m"),n.push(jr(r.x2.x)+" "+jr(r.x2.y)+" l"),n.push(jr(r.x4.x)+" "+jr(r.x4.y)+" m"),n.push(jr(r.x3.x)+" "+jr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jr(Zt.internal.getWidth(t))+" "+jr(Zt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Zt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Zt.internal.getWidth(t),r=Zt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Zt.internal.getWidth=function(t){var e=0;return kn(t)==="object"&&(e=RD(t.Rect[2])),e},Zt.internal.getHeight=function(t){var e=0;return kn(t)==="object"&&(e=RD(t.Rect[3])),e};var _ge=Mi.addField=function(t){if(wge(this,t),!(t instanceof hu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Mi.AcroFormChoiceField=Rm,Mi.AcroFormListBox=Om,Mi.AcroFormComboBox=Im,Mi.AcroFormEditBox=Ub,Mi.AcroFormButton=Ga,Mi.AcroFormPushButton=Vb,Mi.AcroFormRadioButton=Dm,Mi.AcroFormCheckBox=zb,Mi.AcroFormTextField=Fh,Mi.AcroFormPasswordField=$b,Mi.AcroFormAppearance=Zt,Mi.AcroForm={ChoiceField:Rm,ListBox:Om,ComboBox:Im,EditBox:Ub,Button:Ga,PushButton:Vb,RadioButton:Dm,CheckBox:zb,TextField:Fh,PasswordField:$b,Appearance:Zt},sr.AcroForm={ChoiceField:Rm,ListBox:Om,ComboBox:Im,EditBox:Ub,Button:Ga,PushButton:Vb,RadioButton:Dm,CheckBox:zb,TextField:Fh,PasswordField:$b,Appearance:Zt};sr.AcroForm;function X$(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(j,V){var M,J,_e,se,ee,fe=r;if((V=V||r)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(z(j))for(ee in n)for(_e=n[ee],M=0;M<_e.length;M+=1){for(se=!0,J=0;J<_e[M].length;J+=1)if(_e[M][J]!==void 0&&_e[M][J]!==j[J]){se=!1;break}if(se===!0){fe=ee;break}}else for(ee in n)for(_e=n[ee],M=0;M<_e.length;M+=1){for(se=!0,J=0;J<_e[M].length;J+=1)if(_e[M][J]!==void 0&&_e[M][J]!==j.charCodeAt(J)){se=!1;break}if(se===!0){fe=ee;break}}return fe===r&&V!==r&&(fe=V),fe},a=function j(V){for(var M=this.internal.write,J=this.internal.putStream,_e=(0,this.internal.getFilters)();_e.indexOf("FlateEncode")!==-1;)_e.splice(_e.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:V.width}),se.push({key:"Height",value:V.height}),V.colorSpace===k.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===k.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)&&V.transparency.length>0){for(var ee="",fe=0,we=V.transparency.length;fe<we;fe++)ee+=V.transparency[fe]+" "+V.transparency[fe]+" ";se.push({key:"Mask",value:"["+ee+"]"})}V.sMask!==void 0&&se.push({key:"SMask",value:V.objectId+1+" 0 R"});var Be=V.filter!==void 0?["/"+V.filter]:void 0;if(J({data:V.data,additionalKeyValues:se,alreadyAppliedFilters:Be,objectId:V.objectId}),M("endobj"),"sMask"in V&&V.sMask!==void 0){var Z,q=(Z=V.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:V.bitsPerComponent,Q={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:q,data:V.sMask};"filter"in V&&(Q.decodeParameters="/Predictor ".concat(V.predictor," /Colors 1 /BitsPerComponent ").concat(q," /Columns ").concat(V.width),Q.filter=V.filter),j.call(this,Q)}if(V.colorSpace===k.INDEXED){var re=this.internal.newObject();J({data:I(new Uint8Array(V.palette)),objectId:re}),M("endobj")}},s=function(){var j=this.internal.collections[e+"images"];for(var V in j)a.call(this,j[V])},l=function(){var j,V=this.internal.collections[e+"images"],M=this.internal.write;for(var J in V)M("/I"+(j=V[J]).index,j.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var j=this.internal.collections[e+"images"];return c.call(this),j},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(j){return typeof t["process"+j.toUpperCase()]=="function"},g=function(j){return kn(j)==="object"&&j.nodeType===1},m=function(j,V){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var M=""+j.getAttribute("src");if(M.indexOf("data:image/")===0)return Fb(unescape(M).split("base64,").pop());var J=t.loadFile(M,!0);if(J!==void 0)return J}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var _e;switch(V){case"PNG":_e="image/png";break;case"WEBP":_e="image/webp";break;default:_e="image/jpeg"}return Fb(j.toDataURL(_e,1).split("base64,").pop())}},w=function(j){var V=this.internal.collections[e+"images"];if(V){for(var M in V)if(j===V[M].alias)return V[M]}},S=function(j,V,M){return j||V||(j=-96,V=-96),j<0&&(j=-1*M.width*72/j/this.internal.scaleFactor),V<0&&(V=-1*M.height*72/V/this.internal.scaleFactor),j===0&&(j=V*M.width/M.height),V===0&&(V=j*M.height/M.width),[j,V]},_=function(j,V,M,J,_e,se){var ee=S.call(this,M,J,_e),fe=this.internal.getCoordinateString,we=this.internal.getVerticalCoordinateString,Be=d.call(this);if(M=ee[0],J=ee[1],Be[_e.index]=_e,se){se*=Math.PI/180;var Z=Math.cos(se),q=Math.sin(se),Q=function(ae){return ae.toFixed(4)},re=[Q(Z),Q(q),Q(-1*q),Q(Z),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,fe(j),we(V+J),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([fe(M),"0","0",fe(J),"0","0","cm"].join(" "))):this.internal.write([fe(M),"0","0",fe(J),fe(j),we(V+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_e.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=t.__addimage__.sHashCode=function(j){var V,M,J=0;if(typeof j=="string")for(M=j.length,V=0;V<M;V++)J=(J<<5)-J+j.charCodeAt(V),J|=0;else if(z(j))for(M=j.byteLength/2,V=0;V<M;V++)J=(J<<5)-J+j[V],J|=0;return J},F=t.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var V=!0;return j.length===0&&(V=!1),j.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(V=!1),V},O=t.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var V=j.indexOf(",");return V<0?null:j.substring(0,V).trim().endsWith("base64")?j.substring(V+1):null};t.__addimage__.isArrayBuffer=function(j){return j instanceof ArrayBuffer};var z=t.__addimage__.isArrayBufferView=function(j){return j instanceof Int8Array||j instanceof Uint8Array||j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array},L=t.__addimage__.binaryStringToUint8Array=function(j){for(var V=j.length,M=new Uint8Array(V),J=0;J<V;J++)M[J]=j.charCodeAt(J);return M},I=t.__addimage__.arrayBufferToBinaryString=function(j){for(var V="",M=z(j)?j:new Uint8Array(j),J=0;J<M.length;J+=8192)V+=String.fromCharCode.apply(null,M.subarray(J,J+8192));return V};t.addImage=function(){var j,V,M,J,_e,se,ee,fe,we;if(typeof arguments[1]=="number"?(V=r,M=arguments[1],J=arguments[2],_e=arguments[3],se=arguments[4],ee=arguments[5],fe=arguments[6],we=arguments[7]):(V=arguments[1],M=arguments[2],J=arguments[3],_e=arguments[4],se=arguments[5],ee=arguments[6],fe=arguments[7],we=arguments[8]),kn(j=arguments[0])==="object"&&!g(j)&&"imageData"in j){var Be=j;j=Be.imageData,V=Be.format||V||r,M=Be.x||M||0,J=Be.y||J||0,_e=Be.w||Be.width||_e,se=Be.h||Be.height||se,ee=Be.alias||ee,fe=Be.compression||fe,we=Be.rotation||Be.angle||we}var Z=this.internal.getFilters();if(fe===void 0&&Z.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(M)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var q=D.call(this,j,V,ee,fe);return _.call(this,M,J,_e,se,q,we),this};var D=function(j,V,M,J){var _e,se,ee;if(typeof j=="string"&&i(j)===r){j=unescape(j);var fe=$(j,!1);(fe!==""||(fe=t.loadFile(j,!0))!==void 0)&&(j=fe)}if(g(j)&&(j=m(j,V)),V=i(j,V),!p(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((ee=M)==null||ee.length===0)&&(M=(function(we){return typeof we=="string"||z(we)?P(we):z(we.data)?P(we.data):null})(j)),(_e=w.call(this,M))||(j instanceof Uint8Array||V==="RGBA"||(se=j,j=L(j)),_e=this["process"+V.toUpperCase()](j,f.call(this),M,(function(we){return we&&typeof we=="string"&&(we=we.toUpperCase()),we in t.image_compression?we:N.NONE})(J),se)),!_e)throw new Error("An unknown error occurred whilst processing the image.");return _e},$=t.__addimage__.convertBase64ToBinaryString=function(j,V){V=typeof V!="boolean"||V;var M,J="";if(typeof j=="string"){var _e;M=(_e=O(j))!==null&&_e!==void 0?_e:j;try{J=Fb(M)}catch(se){if(V)throw F(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};t.getImageProperties=function(j){var V,M,J="";if(g(j)&&(j=m(j)),typeof j=="string"&&i(j)===r&&((J=$(j,!1))===""&&(J=t.loadFile(j)||""),j=J),M=i(j),!p(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(j instanceof Uint8Array||(j=L(j)),!(V=this["process"+M.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=M,V}})(sr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};sr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,f=!1,p=0;p<d.length&&!f;p++)switch((n=d[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){n=d[g];var m=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(S.objId),N=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(k(n.contents))+")",a+=" /Popup "+_.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+m(k(N))+") >>",S.content=a;var P=S.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+P,n.open&&(a+=" /Open true"),a+=" >>",_.content=a,this.internal.write(S.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var F=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(w(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var z=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+z+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+i),h:d(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var f=this.splitTextToSize(r,l).length;s=Math.ceil(d*f)}else l=c,s=d;return this.text(r,n,i,a),i+=.2*d,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-d,l,s,a),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(sr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=t.__arabicParser__.isArabicEndLetter=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(S){return s(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(S){var _=0,k=r,N="",P=0;for(_=0;_<S.length;_+=1)k[S.charCodeAt(_)]!==void 0?(P++,typeof(k=k[S.charCodeAt(_)])=="number"&&(N+=String.fromCharCode(k),k=r,P=0),_===S.length-1&&(k=r,N+=S.charAt(_-(P-1)),_-=P-1,P=0)):(k=r,N+=S.charAt(_-P),_-=P,P=0);return N};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(S,_,k){return s(S)?a(S)===!1?-1:!d(S)||!s(_)&&!s(k)||!s(k)&&l(_)||l(S)&&!s(_)||l(S)&&c(_)||l(S)&&l(_)?0:f(S)&&s(_)&&!l(_)&&s(k)&&d(k)?3:l(S)||!s(k)?1:2:-1},m=function(S){var _=0,k=0,N=0,P="",F="",O="",z=(S=S||"").split("\\s+"),L=[];for(_=0;_<z.length;_+=1){for(L.push(""),k=0;k<z[_].length;k+=1)P=z[_][k],F=z[_][k-1],O=z[_][k+1],s(P)?(N=g(P,F,O),L[_]+=N!==-1?String.fromCharCode(e[P.charCodeAt(0)][N]):P):L[_]+=P;L[_]=p(L[_])}return L.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var S,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(_)){var N=0;for(k=[],N=0;N<_.length;N+=1)Array.isArray(_[N])?k.push([m(_[N][0]),_[N][1],_[N][2]]):k.push([m(_[N])]);S=k}else S=m(_);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",w])})(sr.API),sr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(sr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(S){w=S}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,m=0,w=0,S=0,_=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var k=d.maxWidth;k>0?typeof c=="string"?c=this.splitTextToSize(c,k):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(P,F){return P.concat(_.splitTextToSize(F,k))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)m<(S=this.getStringUnitWidth(c[N],{font:p})*f)&&(m=S);return m!==0&&(w=c.length),{w:m/=g,h:Math.max((w*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,m&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,f,p,g){if(n.call(this),!f)throw new Error("No data for PDF table.");var m,w,S,_,k=[],N=[],P=[],F={},O={},z=[],L=[],I=(g=g||{}).autoSize||!1,D=g.printHeaders!==!1,$=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,j=g.margins||Object.assign({width:this.getPageWidth()},e),V=typeof g.padding=="number"?g.padding:3,M=g.headerBackgroundColor||"#c8c8c8",J=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=J,this.setFontSize($),p==null)N=k=Object.keys(f[0]),P=k.map(function(){return"left"});else if(Array.isArray(p)&&kn(p[0])==="object")for(k=p.map(function(Be){return Be.name}),N=p.map(function(Be){return Be.prompt||Be.name||""}),P=p.map(function(Be){return Be.align||"left"}),m=0;m<p.length;m+=1)O[p[m].name]=.7499990551181103*p[m].width;else Array.isArray(p)&&typeof p[0]=="string"&&(N=k=p,P=k.map(function(){return"left"}));if(I||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<k.length;m+=1){for(F[_=k[m]]=f.map(function(Be){return Be[_]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(N[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=F[_],this.setFont(void 0,"normal"),S=0;S<w.length;S+=1)z.push(this.getTextDimensions(w[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[_]=Math.max.apply(null,z)+V+V,z=[]}if(D){var _e={};for(m=0;m<k.length;m+=1)_e[k[m]]={},_e[k[m]].text=N[m],_e[k[m]].align=P[m];var se=l.call(this,_e,O);L=k.map(function(Be){return new a(c,d,O[Be],se,_e[Be].text,void 0,_e[Be].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var ee=p.reduce(function(Be,Z){return Be[Z.name]=Z.align,Be},{});for(m=0;m<f.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:f[m]},this);var fe=l.call(this,f[m],O);for(S=0;S<k.length;S+=1){var we=f[m][k[S]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:S,data:we},this),s.call(this,new a(c,d,O[k[S]],fe,we,m+2,ee[k[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(m){var w=c[m];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,d[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+f+f},this).reduce(function(m,w){return Math.max(m,w)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=c;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(w)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(sr.API);var Q$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Z$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],PT=X$(Z$),J$=[100,200,300,400,500,600,700,800,900],Age=X$(J$);function wA(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(a){return Q$[a=a||"normal"]?a:"normal"})(t.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof PT[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function OD(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var Sge={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ID={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function DD(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function LD(t){return t.trimLeft()}function Ege(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Tge(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var eb,MD,BD,em,tb,FD,UD,VD,_A=["times"];function zD(t,e,r,n,i){var a=4,s=qD;switch(i){case sr.API.image_compression.FAST:a=1,s=$D;break;case sr.API.image_compression.MEDIUM:a=6,s=HD;break;case sr.API.image_compression.SLOW:a=9,s=GD}t=(function(c,d,f,p){for(var g,m=c.length/d,w=new Uint8Array(c.length+m),S=[kge,$D,qD,HD,GD],_=0;_<m;_+=1){var k=_*d,N=c.subarray(k,k+d);if(p)w.set(p(N,f,g),k+_);else{for(var P=S.length,F=[],O=0;O<P;O+=1)F[O]=S[O](N,f,g);var z=Nge(F.concat());w.set(F[z],k+_)}g=N}return w})(t,e,Math.ceil(r*n/8),s);var l=AT(t,{level:a});return sr.API.__addimage__.arrayBufferToBinaryString(l)}function kge(t){var e=Array.apply([],t);return e.unshift(0),e}function $D(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function qD(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=t[a]-s+256&255}return i}function HD(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,l=r&&r[a]||0;i[a+1]=t[a]+256-(s+l>>>1)&255}return i}function GD(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=Cge(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function Cge(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function Nge(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function AA(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return eq(t,i)>>a&s}function WD(t,e,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),l=(1<<n)-1,c=(e&l)<<s;(function(d,f,p){if(f+1<d.byteLength)d.setUint16(f,p,!1);else{var g=p>>8&255;d.setUint8(f,g)}})(t,a,eq(t,a)&~(l<<s)&65535|c)}function eq(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Pge(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var l=null,c=null;a&&(l=e,c=s,e+=3*s);var d=!0,f=[],p=0,g=null,m=0,w=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];p=t[e++]|t[e++]<<8,g=t[e++],1&S||(g=null),m=S>>2&7,e++;break;case 254:for(;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,F=t[e++],O=F>>6&1,z=1<<1+(7&F),L=l,I=c,D=!1;F>>7&&(D=!0,L=e,I=z,e+=3*z);var $=e;for(e++;;){var j;if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}f.push({x:_,y:k,width:N,height:P,has_local_palette:D,palette_offset:L,palette_size:I,data_offset:$,data_length:e-$,transparent_index:g,interlaced:!!O,delay:p,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return w},this.frameInfo=function(V){if(V<0||V>=f.length)throw new Error("Frame index out of range.");return f[V]},this.decodeAndBlitFrameBGRA=function(V,M){var J=this.frameInfo(V),_e=J.width*J.height,se=new Uint8Array(_e);KD(t,J.data_offset,se,_e);var ee=J.palette_offset,fe=J.transparent_index;fe===null&&(fe=256);var we=J.width,Be=r-we,Z=we,q=4*(J.y*r+J.x),Q=4*((J.y+J.height)*r+J.x),re=q,ae=4*Be;J.interlaced===!0&&(ae+=4*r*7);for(var ye=8,Te=0,Ve=se.length;Te<Ve;++Te){var he=se[Te];if(Z===0&&(Z=we,(re+=ae)>=Q&&(ae=4*Be+4*r*(ye-1),re=q+(we+Be)*(ye<<1),ye>>=1)),he===fe)re+=4;else{var Ce=t[ee+3*he],We=t[ee+3*he+1],Ie=t[ee+3*he+2];M[re++]=Ie,M[re++]=We,M[re++]=Ce,M[re++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(V,M){var J=this.frameInfo(V),_e=J.width*J.height,se=new Uint8Array(_e);KD(t,J.data_offset,se,_e);var ee=J.palette_offset,fe=J.transparent_index;fe===null&&(fe=256);var we=J.width,Be=r-we,Z=we,q=4*(J.y*r+J.x),Q=4*((J.y+J.height)*r+J.x),re=q,ae=4*Be;J.interlaced===!0&&(ae+=4*r*7);for(var ye=8,Te=0,Ve=se.length;Te<Ve;++Te){var he=se[Te];if(Z===0&&(Z=we,(re+=ae)>=Q&&(ae=4*Be+4*r*(ye-1),re=q+(we+Be)*(ye<<1),ye>>=1)),he===fe)re+=4;else{var Ce=t[ee+3*he],We=t[ee+3*he+1],Ie=t[ee+3*he+2];M[re++]=Ce,M[re++]=We,M[re++]=Ie,M[re++]=255}--Z}}}function KD(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,l=s+1,c=i+1,d=(1<<c)-1,f=0,p=0,g=0,m=t[e++],w=new Int32Array(4096),S=null;;){for(;f<16&&m!==0;)p|=t[e++]<<f,f+=8,m===1?m=t[e++]:--m;if(f<c)break;var _=p&d;if(p>>=c,f-=c,_!==a){if(_===s)break;for(var k=_<l?_:S,N=0,P=k;P>a;)P=w[P]>>8,++N;var F=P;if(g+N+(k!==_?1:0)>n)return void Un.log("Warning, gif stream longer than expected.");r[g++]=F;var O=g+=N;for(k!==_&&(r[g++]=F),P=k;N--;)P=w[P],r[--O]=255&P,P>>=8;S!==null&&l<4096&&(w[l++]=S<<8|F,l>=d+1&&c<12&&(++c,d=d<<1|1)),S=_}else l=s+1,d=(1<<(c=i+1))-1,S=null}return g!==n&&Un.log("Warning, gif stream shorter than expected."),r}function SA(t){var e,r,n,i,a,s=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),w=new Array(64),S=[],_=0,k=7,N=new Array(64),P=new Array(64),F=new Array(64),O=new Array(256),z=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_e=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(q,Q){for(var re=0,ae=0,ye=new Array,Te=1;Te<=16;Te++){for(var Ve=1;Ve<=q[Te];Ve++)ye[Q[ae]]=[],ye[Q[ae]][0]=re,ye[Q[ae]][1]=Te,ae++,re++;re*=2}return ye}function ee(q){for(var Q=q[0],re=q[1]-1;re>=0;)Q&1<<re&&(_|=1<<k),re--,--k<0&&(_==255?(fe(255),fe(0)):fe(_),k=7,_=0)}function fe(q){S.push(q)}function we(q){fe(q>>8&255),fe(255&q)}function Be(q,Q,re,ae,ye){for(var Te,Ve=ye[0],he=ye[240],Ce=(function(Je,Nt){var kt,lt,It,tr,Jt,qt,ir,rr,Pt,er,Ct=0;for(Pt=0;Pt<8;++Pt){kt=Je[Ct],lt=Je[Ct+1],It=Je[Ct+2],tr=Je[Ct+3],Jt=Je[Ct+4],qt=Je[Ct+5],ir=Je[Ct+6];var Ar=kt+(rr=Je[Ct+7]),ar=kt-rr,jt=lt+ir,Ht=lt-ir,Se=It+qt,Le=It-qt,Et=tr+Jt,rt=tr-Jt,bt=Ar+Et,_t=Ar-Et,gt=jt+Se,W=jt-Se;Je[Ct]=bt+gt,Je[Ct+4]=bt-gt;var be=.707106781*(W+_t);Je[Ct+2]=_t+be,Je[Ct+6]=_t-be;var Xe=.382683433*((bt=rt+Le)-(W=Ht+ar)),xe=.5411961*bt+Xe,de=1.306562965*W+Xe,ve=.707106781*(gt=Le+Ht),Ae=ar+ve,je=ar-ve;Je[Ct+5]=je+xe,Je[Ct+3]=je-xe,Je[Ct+1]=Ae+de,Je[Ct+7]=Ae-de,Ct+=8}for(Ct=0,Pt=0;Pt<8;++Pt){kt=Je[Ct],lt=Je[Ct+8],It=Je[Ct+16],tr=Je[Ct+24],Jt=Je[Ct+32],qt=Je[Ct+40],ir=Je[Ct+48];var De=kt+(rr=Je[Ct+56]),$e=kt-rr,et=lt+ir,it=lt-ir,xt=It+qt,Rt=It-qt,Ut=tr+Jt,br=tr-Jt,St=De+Ut,Cr=De-Ut,fn=et+xt,gn=et-xt;Je[Ct]=St+fn,Je[Ct+32]=St-fn;var Dt=.707106781*(gn+Cr);Je[Ct+16]=Cr+Dt,Je[Ct+48]=Cr-Dt;var fr=.382683433*((St=br+Rt)-(gn=it+$e)),Mr=.5411961*St+fr,si=1.306562965*gn+fr,zn=.707106781*(fn=Rt+it),bi=$e+zn,qi=$e-zn;Je[Ct+40]=qi+Mr,Je[Ct+24]=qi-Mr,Je[Ct+8]=bi+si,Je[Ct+56]=bi-si,Ct++}for(Pt=0;Pt<64;++Pt)er=Je[Pt]*Nt[Pt],m[Pt]=er>0?er+.5|0:er-.5|0;return m})(q,Q),We=0;We<64;++We)w[L[We]]=Ce[We];var Ie=w[0]-re;re=w[0],Ie==0?ee(ae[0]):(ee(ae[g[Te=32767+Ie]]),ee(p[Te]));for(var dt=63;dt>0&&w[dt]==0;)dt--;if(dt==0)return ee(Ve),re;for(var vt,ce=1;ce<=dt;){for(var yt=ce;w[ce]==0&&ce<=dt;)++ce;var Yt=ce-yt;if(Yt>=16){vt=Yt>>4;for(var Ft=1;Ft<=vt;++Ft)ee(he);Yt&=15}Te=32767+w[ce],ee(ye[(Yt<<4)+g[Te]]),ee(p[Te]),ce++}return dt!=63&&ee(Ve),re}function Z(q){q=Math.min(Math.max(q,1),100),a!=q&&((function(Q){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var ye=s((re[ae]*Q+50)/100);ye=Math.min(Math.max(ye,1),255),l[L[ae]]=ye}for(var Te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ve=0;Ve<64;Ve++){var he=s((Te[Ve]*Q+50)/100);he=Math.min(Math.max(he,1),255),c[L[Ve]]=he}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],We=0,Ie=0;Ie<8;Ie++)for(var dt=0;dt<8;dt++)d[We]=1/(l[L[We]]*Ce[Ie]*Ce[dt]*8),f[We]=1/(c[L[We]]*Ce[Ie]*Ce[dt]*8),We++})(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),a=q)}this.encode=function(q,Q){Q&&Z(Q),S=new Array,_=0,k=7,we(65496),we(65504),we(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),we(1),we(1),fe(0),fe(0),(function(){we(65499),we(132),fe(0);for(var lt=0;lt<64;lt++)fe(l[lt]);fe(1);for(var It=0;It<64;It++)fe(c[It])})(),(function(lt,It){we(65472),we(17),fe(8),we(It),we(lt),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)})(q.width,q.height),(function(){we(65476),we(418),fe(0);for(var lt=0;lt<16;lt++)fe(I[lt+1]);for(var It=0;It<=11;It++)fe(D[It]);fe(16);for(var tr=0;tr<16;tr++)fe($[tr+1]);for(var Jt=0;Jt<=161;Jt++)fe(j[Jt]);fe(1);for(var qt=0;qt<16;qt++)fe(V[qt+1]);for(var ir=0;ir<=11;ir++)fe(M[ir]);fe(17);for(var rr=0;rr<16;rr++)fe(J[rr+1]);for(var Pt=0;Pt<=161;Pt++)fe(_e[Pt])})(),we(65498),we(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var re=0,ae=0,ye=0;_=0,k=7,this.encode.displayName="_encode_";for(var Te,Ve,he,Ce,We,Ie,dt,vt,ce,yt=q.data,Yt=q.width,Ft=q.height,Je=4*Yt,Nt=0;Nt<Ft;){for(Te=0;Te<Je;){for(We=Je*Nt+Te,dt=-1,vt=0,ce=0;ce<64;ce++)Ie=We+(vt=ce>>3)*Je+(dt=4*(7&ce)),Nt+vt>=Ft&&(Ie-=Je*(Nt+1+vt-Ft)),Te+dt>=Je&&(Ie-=Te+dt-Je+4),Ve=yt[Ie++],he=yt[Ie++],Ce=yt[Ie++],N[ce]=(z[Ve]+z[he+256|0]+z[Ce+512|0]>>16)-128,P[ce]=(z[Ve+768|0]+z[he+1024|0]+z[Ce+1280|0]>>16)-128,F[ce]=(z[Ve+1280|0]+z[he+1536|0]+z[Ce+1792|0]>>16)-128;re=Be(N,d,re,e,n),ae=Be(P,f,ae,r,i),ye=Be(F,f,ye,r,i),Te+=32}Nt+=8}if(k>=0){var kt=[];kt[1]=k+1,kt[0]=(1<<k+1)-1,ee(kt)}return we(65497),new Uint8Array(S)},t=t||50,(function(){for(var q=String.fromCharCode,Q=0;Q<256;Q++)O[Q]=q(Q)})(),e=se(I,D),r=se(V,M),n=se($,j),i=se(J,_e),(function(){for(var q=1,Q=2,re=1;re<=15;re++){for(var ae=q;ae<Q;ae++)g[32767+ae]=re,p[32767+ae]=[],p[32767+ae][1]=re,p[32767+ae][0]=ae;for(var ye=-(Q-1);ye<=-q;ye++)g[32767+ye]=re,p[32767+ye]=[],p[32767+ye][1]=re,p[32767+ye][0]=Q-1+ye;q<<=1,Q<<=1}})(),(function(){for(var q=0;q<256;q++)z[q]=19595*q,z[q+256|0]=38470*q,z[q+512|0]=7471*q+32768,z[q+768|0]=-11059*q,z[q+1024|0]=-21709*q,z[q+1280|0]=32768*q+8421375,z[q+1536|0]=-27439*q,z[q+1792|0]=-5329*q})(),Z(t)}function Jl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function YD(t){function e(D){if(!D)throw Error("assert :P")}function r(D,$,j){for(var V=0;4>V;V++)if(D[$+V]!=j.charCodeAt(V))return!0;return!1}function n(D,$,j,V,M){for(var J=0;J<M;J++)D[$+J]=j[V+J]}function i(D,$,j,V){for(var M=0;M<V;M++)D[$+M]=j}function a(D){return new Int32Array(D)}function s(D,$){for(var j=[],V=0;V<D;V++)j.push(new $);return j}function l(D,$){var j=[];return(function V(M,J,_e){for(var se=_e[J],ee=0;ee<se&&(M.push(_e.length>J+1?[]:new $),!(_e.length<J+1));ee++)V(M[ee],J+1,_e)})(j,0,D),j}var c=function(){var D=this;function $(b,T){for(var B=1<<T-1>>>0;b&B;)B>>>=1;return B?(b&B-1)+B:b}function j(b,T,B,H,X){e(!(H%B));do b[T+(H-=B)]=X;while(0<H)}function V(b,T,B,H,X){if(e(2328>=X),512>=X)var te=a(512);else if((te=a(X))==null)return 0;return(function(ne,oe,ue,ge,Ne,qe){var pe,Re,Ue=oe,nt=1<<ue,ze=a(16),tt=a(16);for(e(Ne!=0),e(ge!=null),e(ne!=null),e(0<ue),Re=0;Re<Ne;++Re){if(15<ge[Re])return 0;++ze[ge[Re]]}if(ze[0]==Ne)return 0;for(tt[1]=0,pe=1;15>pe;++pe){if(ze[pe]>1<<pe)return 0;tt[pe+1]=tt[pe]+ze[pe]}for(Re=0;Re<Ne;++Re)pe=ge[Re],0<ge[Re]&&(qe[tt[pe]++]=Re);if(tt[15]==1)return(ge=new M).g=0,ge.value=qe[0],j(ne,Ue,1,nt,ge),nt;var ot,wt=-1,ht=nt-1,Qt=0,Lt=1,Sr=1,Gt=1<<ue;for(Re=0,pe=1,Ne=2;pe<=ue;++pe,Ne<<=1){if(Lt+=Sr<<=1,0>(Sr-=ze[pe]))return 0;for(;0<ze[pe];--ze[pe])(ge=new M).g=pe,ge.value=qe[Re++],j(ne,Ue+Qt,Ne,Gt,ge),Qt=$(Qt,pe)}for(pe=ue+1,Ne=2;15>=pe;++pe,Ne<<=1){if(Lt+=Sr<<=1,0>(Sr-=ze[pe]))return 0;for(;0<ze[pe];--ze[pe]){if(ge=new M,(Qt&ht)!=wt){for(Ue+=Gt,ot=1<<(wt=pe)-ue;15>wt&&!(0>=(ot-=ze[wt]));)++wt,ot<<=1;nt+=Gt=1<<(ot=wt-ue),ne[oe+(wt=Qt&ht)].g=ot+ue,ne[oe+wt].value=Ue-oe-wt}ge.g=pe-ue,ge.value=qe[Re++],j(ne,Ue+(Qt>>ue),Ne,Gt,ge),Qt=$(Qt,pe)}}return Lt!=2*tt[15]-1?0:nt})(b,T,B,H,X,te)}function M(){this.value=this.g=0}function J(){this.value=this.g=0}function _e(){this.G=s(5,M),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Su,J)}function se(b,T,B,H){e(b!=null),e(T!=null),e(2147483648>H),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=T,b.pa=B,b.Jd=T,b.Yc=B+H,b.Zc=4<=H?B+H-4+1:B,Ve(b)}function ee(b,T){for(var B=0;0<T--;)B|=Ce(b,128)<<T;return B}function fe(b,T){var B=ee(b,T);return he(b)?-B:B}function we(b,T,B,H){var X,te=0;for(e(b!=null),e(T!=null),e(4294967288>H),b.Sb=H,b.Ra=0,b.u=0,b.h=0,4<H&&(H=4),X=0;X<H;++X)te+=T[B+X]<<8*X;b.Ra=te,b.bb=H,b.oa=T,b.pa=B}function Be(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<rl-8>>>0,++b.bb,b.u-=8;ae(b)&&(b.h=1,b.u=0)}function Z(b,T){if(e(0<=T),!b.h&&T<=as){var B=re(b)&bs[T];return b.u+=T,Be(b),B}return b.h=1,b.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function re(b){return b.Ra>>>(b.u&rl-1)>>>0}function ae(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>rl}function ye(b,T){b.u=T,b.h=ae(b)}function Te(b){b.u>=nl&&(e(b.u>=nl),Be(b))}function Ve(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function he(b){return ee(b,1)}function Ce(b,T){var B=b.Ca;0>b.b&&Ve(b);var H=b.b,X=B*T>>>8,te=(b.I>>>H>X)+0;for(te?(B-=X,b.I-=X+1<<H>>>0):B=X+1,H=B,X=0;256<=H;)X+=8,H>>=8;return H=7^X+Fl[H],b.b-=H,b.Ca=(B<<H)-1,te}function We(b,T,B){b[T+0]=B>>24&255,b[T+1]=B>>16&255,b[T+2]=B>>8&255,b[T+3]=255&B}function Ie(b,T){return b[T+0]|b[T+1]<<8}function dt(b,T){return Ie(b,T)|b[T+2]<<16}function vt(b,T){return Ie(b,T)|Ie(b,T+2)<<16}function ce(b,T){var B=1<<T;return e(b!=null),e(0<T),b.X=a(B),b.X==null?0:(b.Mb=32-T,b.Xa=T,1)}function yt(b,T){e(b!=null),e(T!=null),e(b.Xa==T.Xa),n(T.X,0,b.X,0,1<<T.Xa)}function Yt(){this.X=[],this.Xa=this.Mb=0}function Ft(b,T,B,H){e(B!=null),e(H!=null);var X=B[0],te=H[0];return X==0&&(X=(b*te+T/2)/T),te==0&&(te=(T*X+b/2)/b),0>=X||0>=te?0:(B[0]=X,H[0]=te,1)}function Je(b,T){return b+(1<<T)-1>>>T}function Nt(b,T){return((4278255360&b)+(4278255360&T)>>>0&4278255360)+((16711935&b)+(16711935&T)>>>0&16711935)>>>0}function kt(b,T){D[T]=function(B,H,X,te,ne,oe,ue){var ge;for(ge=0;ge<ne;++ge){var Ne=D[b](oe[ue+ge-1],X,te+ge);oe[ue+ge]=Nt(B[H+ge],Ne)}}}function lt(){this.ud=this.hd=this.jd=0}function It(b,T){return((4278124286&(b^T))>>>1)+(b&T)>>>0}function tr(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Jt(b,T){return tr(b+(b-T+.5>>1))}function qt(b,T,B){return Math.abs(T-B)-Math.abs(b-B)}function ir(b,T,B,H,X,te,ne){for(H=te[ne-1],B=0;B<X;++B)te[ne+B]=H=Nt(b[T+B],H)}function rr(b,T,B,H,X){var te;for(te=0;te<B;++te){var ne=b[T+te],oe=ne>>8&255,ue=16711935&(ue=(ue=16711935&ne)+((oe<<16)+oe));H[X+te]=(4278255360&ne)+ue>>>0}}function Pt(b,T){T.jd=255&b,T.hd=b>>8&255,T.ud=b>>16&255}function er(b,T,B,H,X,te){var ne;for(ne=0;ne<H;++ne){var oe=T[B+ne],ue=oe>>>8,ge=oe,Ne=255&(Ne=(Ne=oe>>>16)+((b.jd<<24>>24)*(ue<<24>>24)>>>5));ge=255&(ge=(ge+=(b.hd<<24>>24)*(ue<<24>>24)>>>5)+((b.ud<<24>>24)*(Ne<<24>>24)>>>5)),X[te+ne]=(4278255360&oe)+(Ne<<16)+ge}}function Ct(b,T,B,H,X){D[T]=function(te,ne,oe,ue,ge,Ne,qe,pe,Re){for(ue=qe;ue<pe;++ue)for(qe=0;qe<Re;++qe)ge[Ne++]=X(oe[H(te[ne++])])},D[b]=function(te,ne,oe,ue,ge,Ne,qe){var pe=8>>te.b,Re=te.Ea,Ue=te.K[0],nt=te.w;if(8>pe)for(te=(1<<te.b)-1,nt=(1<<pe)-1;ne<oe;++ne){var ze,tt=0;for(ze=0;ze<Re;++ze)ze&te||(tt=H(ue[ge++])),Ne[qe++]=X(Ue[tt&nt]),tt>>=pe}else D["VP8LMapColor"+B](ue,ge,Ue,nt,Ne,qe,ne,oe,Re)}}function Ar(b,T,B,H,X){for(B=T+B;T<B;){var te=b[T++];H[X++]=te>>16&255,H[X++]=te>>8&255,H[X++]=255&te}}function ar(b,T,B,H,X){for(B=T+B;T<B;){var te=b[T++];H[X++]=te>>16&255,H[X++]=te>>8&255,H[X++]=255&te,H[X++]=te>>24&255}}function jt(b,T,B,H,X){for(B=T+B;T<B;){var te=(ne=b[T++])>>16&240|ne>>12&15,ne=240&ne|ne>>28&15;H[X++]=te,H[X++]=ne}}function Ht(b,T,B,H,X){for(B=T+B;T<B;){var te=(ne=b[T++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;H[X++]=te,H[X++]=ne}}function Se(b,T,B,H,X){for(B=T+B;T<B;){var te=b[T++];H[X++]=255&te,H[X++]=te>>8&255,H[X++]=te>>16&255}}function Le(b,T,B,H,X,te){if(te==0)for(B=T+B;T<B;)We(H,((te=b[T++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),X+=32;else n(H,X,b,T,B)}function Et(b,T){D[T][0]=D[b+"0"],D[T][1]=D[b+"1"],D[T][2]=D[b+"2"],D[T][3]=D[b+"3"],D[T][4]=D[b+"4"],D[T][5]=D[b+"5"],D[T][6]=D[b+"6"],D[T][7]=D[b+"7"],D[T][8]=D[b+"8"],D[T][9]=D[b+"9"],D[T][10]=D[b+"10"],D[T][11]=D[b+"11"],D[T][12]=D[b+"12"],D[T][13]=D[b+"13"],D[T][14]=D[b+"0"],D[T][15]=D[b+"0"]}function rt(b){return b==rh||b==Ap||b==Od||b==Sp}function bt(){this.eb=[],this.size=this.A=this.fb=0}function _t(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new bt,this.f.kb=new _t,this.sd=null}function W(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function be(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xe(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function xe(b,T){var B=b.T,H=T.ba.f.RGBA,X=H.eb,te=H.fb+b.ka*H.A,ne=_a[T.ba.S],oe=b.y,ue=b.O,ge=b.f,Ne=b.N,qe=b.ea,pe=b.W,Re=T.cc,Ue=T.dc,nt=T.Mc,ze=T.Nc,tt=b.ka,ot=b.ka+b.T,wt=b.U,ht=wt+1>>1;for(tt==0?ne(oe,ue,null,null,ge,Ne,qe,pe,ge,Ne,qe,pe,X,te,null,null,wt):(ne(T.ec,T.fc,oe,ue,Re,Ue,nt,ze,ge,Ne,qe,pe,X,te-H.A,X,te,wt),++B);tt+2<ot;tt+=2)Re=ge,Ue=Ne,nt=qe,ze=pe,Ne+=b.Rc,pe+=b.Rc,te+=2*H.A,ne(oe,(ue+=2*b.fa)-b.fa,oe,ue,Re,Ue,nt,ze,ge,Ne,qe,pe,X,te-H.A,X,te,wt);return ue+=b.fa,b.j+ot<b.o?(n(T.ec,T.fc,oe,ue,wt),n(T.cc,T.dc,ge,Ne,ht),n(T.Mc,T.Nc,qe,pe,ht),B--):1&ot||ne(oe,ue,null,null,ge,Ne,qe,pe,ge,Ne,qe,pe,X,te+H.A,null,null,wt),B}function de(b,T,B){var H=b.F,X=[b.J];if(H!=null){var te=b.U,ne=T.ba.S,oe=ne==th||ne==Od;T=T.ba.f.RGBA;var ue=[0],ge=b.ka;ue[0]=b.T,b.Kb&&(ge==0?--ue[0]:(--ge,X[0]-=b.width),b.j+b.ka+b.T==b.o&&(ue[0]=b.o-b.j-ge));var Ne=T.eb;ge=T.fb+ge*T.A,b=Qf(H,X[0],b.width,te,ue,Ne,ge+(oe?0:3),T.A),e(B==ue),b&&rt(ne)&&wc(Ne,ge,oe,te,ue,T.A)}return 0}function ve(b){var T=b.ma,B=T.ba.S,H=11>B,X=B==Ba||B==oo||B==th||B==Rd||B==12||rt(B);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Bl(T.Oa,b,X?11:12))return 0;if(X&&rt(B)&&wr(),b.da)alert("todo:use_scaling");else{if(H){if(T.Ib=Xe,b.Kb){if(B=b.U+1>>1,T.memory=a(b.U+2*B),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+b.U,T.Mc=T.cc,T.Nc=T.dc+B,T.Ib=xe,wr()}}else alert("todo:EmitYUV");X&&(T.Jb=de,H&&Ye())}if(H&&!ju){for(b=0;256>b;++b)Aa[b]=89858*(b-128)+Ld>>po,a5[b]=-22014*(b-128)+Ld,qv[b]=-45773*(b-128),Np[b]=113618*(b-128)+Ld>>po;for(b=Ec;b<Pu;++b)T=76283*(b-16)+Ld>>po,s5[b-Ec]=Ja(T,255),o5[b-Ec]=Ja(T+8>>4,15);ju=1}return 1}function Ae(b){var T=b.ma,B=b.U,H=b.T;return e(!(1&b.ka)),0>=B||0>=H?0:(B=T.Ib(b,T),T.Jb!=null&&T.Jb(b,T,B),T.Dc+=B,1)}function je(b){b.ma.memory=null}function De(b,T,B,H){return Z(b,8)!=47?0:(T[0]=Z(b,14)+1,B[0]=Z(b,14)+1,H[0]=Z(b,1),Z(b,3)!=0?0:!b.h)}function $e(b,T){if(4>b)return b+1;var B=b-2>>1;return(2+(1&b)<<B)+Z(T,B)+1}function et(b,T){return 120<T?T-120:1<=(B=((B=uo[T-1])>>4)*b+(8-(15&B)))?B:1;var B}function it(b,T,B){var H=re(B),X=b[T+=255&H].g-8;return 0<X&&(ye(B,B.u+8),H=re(B),T+=b[T].value,T+=H&(1<<X)-1),ye(B,B.u+b[T].g),b[T].value}function xt(b,T,B){return B.g+=b.g,B.value+=b.value<<T>>>0,e(8>=B.g),b.g}function Rt(b,T,B){var H=b.xc;return e((T=H==0?0:b.vc[b.md*(B>>H)+(T>>H)])<b.Wb),b.Ya[T]}function Ut(b,T,B,H){var X=b.ab,te=b.c*T,ne=b.C;T=ne+T;var oe=B,ue=H;for(H=b.Ta,B=b.Ua;0<X--;){var ge=b.gc[X],Ne=ne,qe=T,pe=oe,Re=ue,Ue=(ue=H,oe=B,ge.Ea);switch(e(Ne<qe),e(qe<=ge.nc),ge.hc){case 2:_i(pe,Re,(qe-Ne)*Ue,ue,oe);break;case 0:var nt=Ne,ze=qe,tt=ue,ot=oe,wt=(Gt=ge).Ea;nt==0&&(Cd(pe,Re,null,null,1,tt,ot),ir(pe,Re+1,0,0,wt-1,tt,ot+1),Re+=wt,ot+=wt,++nt);for(var ht=1<<Gt.b,Qt=ht-1,Lt=Je(wt,Gt.b),Sr=Gt.K,Gt=Gt.w+(nt>>Gt.b)*Lt;nt<ze;){var Ur=Sr,Bn=Gt,Nr=1;for(Nd(pe,Re,tt,ot-wt,1,tt,ot);Nr<wt;){var Mt=(Nr&~Qt)+ht;Mt>wt&&(Mt=wt),(0,Ul[Ur[Bn++]>>8&15])(pe,Re+ +Nr,tt,ot+Nr-wt,Mt-Nr,tt,ot+Nr),Nr=Mt}Re+=wt,ot+=wt,++nt&Qt||(Gt+=Lt)}qe!=ge.nc&&n(ue,oe-Ue,ue,oe+(qe-Ne-1)*Ue,Ue);break;case 1:for(Ue=pe,ze=Re,wt=(pe=ge.Ea)-(ot=pe&~(tt=(Re=1<<ge.b)-1)),nt=Je(pe,ge.b),ht=ge.K,ge=ge.w+(Ne>>ge.b)*nt;Ne<qe;){for(Qt=ht,Lt=ge,Sr=new lt,Gt=ze+ot,Ur=ze+pe;ze<Gt;)Pt(Qt[Lt++],Sr),Pd(Sr,Ue,ze,Re,ue,oe),ze+=Re,oe+=Re;ze<Ur&&(Pt(Qt[Lt++],Sr),Pd(Sr,Ue,ze,wt,ue,oe),ze+=wt,oe+=wt),++Ne&tt||(ge+=nt)}break;case 3:if(pe==ue&&Re==oe&&0<ge.b){for(ze=ue,pe=Ue=oe+(qe-Ne)*Ue-(ot=(qe-Ne)*Je(ge.Ea,ge.b)),Re=ue,tt=oe,nt=[],ot=(wt=ot)-1;0<=ot;--ot)nt[ot]=Re[tt+ot];for(ot=wt-1;0<=ot;--ot)ze[pe+ot]=nt[ot];vp(ge,Ne,qe,ue,Ue,ue,oe)}else vp(ge,Ne,qe,pe,Re,ue,oe)}oe=H,ue=B}ue!=B&&n(H,B,oe,ue,te)}function br(b,T){var B=b.V,H=b.Ba+b.c*b.C,X=T-b.C;if(e(T<=b.l.o),e(16>=X),0<X){var te=b.l,ne=b.Ta,oe=b.Ua,ue=te.width;if(Ut(b,X,B,H),X=oe=[oe],e((B=b.C)<(H=T)),e(te.v<te.va),H>te.o&&(H=te.o),B<te.j){var ge=te.j-B;B=te.j,X[0]+=ge*ue}if(B>=H?B=0:(X[0]+=4*te.v,te.ka=B-te.j,te.U=te.va-te.v,te.T=H-B,B=1),B){if(oe=oe[0],11>(B=b.ca).S){var Ne=B.f.RGBA,qe=(H=B.S,X=te.U,te=te.T,ge=Ne.eb,Ne.A),pe=te;for(Ne=Ne.fb+b.Ma*Ne.A;0<pe--;){var Re=ne,Ue=oe,nt=X,ze=ge,tt=Ne;switch(H){case wp:jd(Re,Ue,nt,ze,tt);break;case Ba:Vl(Re,Ue,nt,ze,tt);break;case rh:Vl(Re,Ue,nt,ze,tt),wc(ze,tt,0,nt,1,0);break;case _p:bc(Re,Ue,nt,ze,tt);break;case oo:Le(Re,Ue,nt,ze,tt,1);break;case Ap:Le(Re,Ue,nt,ze,tt,1),wc(ze,tt,0,nt,1,0);break;case th:Le(Re,Ue,nt,ze,tt,0);break;case Od:Le(Re,Ue,nt,ze,tt,0),wc(ze,tt,1,nt,1,0);break;case Rd:zl(Re,Ue,nt,ze,tt);break;case Sp:zl(Re,Ue,nt,ze,tt),so(ze,tt,nt,1,0);break;case Eu:sl(Re,Ue,nt,ze,tt);break;default:e(0)}oe+=ue,Ne+=qe}b.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=B.height)}}b.C=T,e(b.C<=b.i)}function St(b){var T;if(0<b.ua)return 0;for(T=0;T<b.Wb;++T){var B=b.Ya[T].G,H=b.Ya[T].H;if(0<B[1][H[1]+0].g||0<B[2][H[2]+0].g||0<B[3][H[3]+0].g)return 0}return 1}function Cr(b,T,B,H,X,te){if(b.Z!=0){var ne=b.qd,oe=b.rd;for(e(Hl[b.Z]!=null);T<B;++T)Hl[b.Z](ne,oe,H,X,H,X,te),ne=H,oe=X,X+=te;b.qd=ne,b.rd=oe}}function fn(b,T){var B=b.l.ma,H=B.Z==0||B.Z==1?b.l.j:b.C;if(H=b.C<H?H:b.C,e(T<=b.l.o),T>H){var X=b.l.width,te=B.ca,ne=B.tb+X*H,oe=b.V,ue=b.Ba+b.c*H,ge=b.gc;e(b.ab==1),e(ge[0].hc==3),al(ge[0],H,T,oe,ue,te,ne),Cr(B,H,T,te,ne,X)}b.C=b.Ma=T}function gn(b,T,B,H,X,te,ne){var oe=b.$/H,ue=b.$%H,ge=b.m,Ne=b.s,qe=B+b.$,pe=qe;X=B+H*X;var Re=B+H*te,Ue=280+Ne.ua,nt=b.Pb?oe:16777216,ze=0<Ne.ua?Ne.Wa:null,tt=Ne.wc,ot=qe<Re?Rt(Ne,ue,oe):null;e(b.C<te),e(Re<=X);var wt=!1;e:for(;;){for(;wt||qe<Re;){var ht=0;if(oe>=nt){var Qt=qe-B;e((nt=b).Pb),nt.wd=nt.m,nt.xd=Qt,0<nt.s.ua&&yt(nt.s.Wa,nt.s.vb),nt=oe+Tu}if(ue&tt||(ot=Rt(Ne,ue,oe)),e(ot!=null),ot.Qb&&(T[qe]=ot.qb,wt=!0),!wt)if(Te(ge),ot.jc){ht=ge,Qt=T;var Lt=qe,Sr=ot.pd[re(ht)&Su-1];e(ot.jc),256>Sr.g?(ye(ht,ht.u+Sr.g),Qt[Lt]=Sr.value,ht=0):(ye(ht,ht.u+Sr.g-256),e(256<=Sr.value),ht=Sr.value),ht==0&&(wt=!0)}else ht=it(ot.G[0],ot.H[0],ge);if(ge.h)break;if(wt||256>ht){if(!wt)if(ot.nd)T[qe]=(ot.qb|ht<<8)>>>0;else{if(Te(ge),wt=it(ot.G[1],ot.H[1],ge),Te(ge),Qt=it(ot.G[2],ot.H[2],ge),Lt=it(ot.G[3],ot.H[3],ge),ge.h)break;T[qe]=(Lt<<24|wt<<16|ht<<8|Qt)>>>0}if(wt=!1,++qe,++ue>=H&&(ue=0,++oe,ne!=null&&oe<=te&&!(oe%16)&&ne(b,oe),ze!=null))for(;pe<qe;)ht=T[pe++],ze.X[(506832829*ht&4294967295)>>>ze.Mb]=ht}else if(280>ht){if(ht=$e(ht-256,ge),Qt=it(ot.G[4],ot.H[4],ge),Te(ge),Qt=et(H,Qt=$e(Qt,ge)),ge.h)break;if(qe-B<Qt||X-qe<ht)break e;for(Lt=0;Lt<ht;++Lt)T[qe+Lt]=T[qe+Lt-Qt];for(qe+=ht,ue+=ht;ue>=H;)ue-=H,++oe,ne!=null&&oe<=te&&!(oe%16)&&ne(b,oe);if(e(qe<=X),ue&tt&&(ot=Rt(Ne,ue,oe)),ze!=null)for(;pe<qe;)ht=T[pe++],ze.X[(506832829*ht&4294967295)>>>ze.Mb]=ht}else{if(!(ht<Ue))break e;for(wt=ht-280,e(ze!=null);pe<qe;)ht=T[pe++],ze.X[(506832829*ht&4294967295)>>>ze.Mb]=ht;ht=qe,e(!(wt>>>(Qt=ze).Xa)),T[ht]=Qt.X[wt],wt=!0}wt||e(ge.h==ae(ge))}if(b.Pb&&ge.h&&qe<X)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&yt(b.s.vb,b.s.Wa);else{if(ge.h)break e;ne?.(b,oe>te?te:oe),b.a=0,b.$=qe-B}return 1}return b.a=3,0}function Dt(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var T=b.Wa;T!=null&&(T.X=null),b.vb=null,e(b!=null)}function fr(){var b=new hr;return b==null?null:(b.a=0,b.xb=Dg,Et("Predictor","VP8LPredictors"),Et("Predictor","VP8LPredictors_C"),Et("PredictorAdd","VP8LPredictorsAdd"),Et("PredictorAdd","VP8LPredictorsAdd_C"),_i=rr,Pd=er,jd=Ar,Vl=ar,zl=jt,sl=Ht,bc=Se,D.VP8LMapColor32b=il,D.VP8LMapColor8b=ba,b)}function Mr(b,T,B,H,X){var te=1,ne=[b],oe=[T],ue=H.m,ge=H.s,Ne=null,qe=0;e:for(;;){if(B)for(;te&&Z(ue,1);){var pe=ne,Re=oe,Ue=H,nt=1,ze=Ue.m,tt=Ue.gc[Ue.ab],ot=Z(ze,2);if(Ue.Oc&1<<ot)te=0;else{switch(Ue.Oc|=1<<ot,tt.hc=ot,tt.Ea=pe[0],tt.nc=Re[0],tt.K=[null],++Ue.ab,e(4>=Ue.ab),ot){case 0:case 1:tt.b=Z(ze,3)+2,nt=Mr(Je(tt.Ea,tt.b),Je(tt.nc,tt.b),0,Ue,tt.K),tt.K=tt.K[0];break;case 3:var wt,ht=Z(ze,8)+1,Qt=16<ht?0:4<ht?1:2<ht?2:3;if(pe[0]=Je(tt.Ea,Qt),tt.b=Qt,wt=nt=Mr(ht,1,0,Ue,tt.K)){var Lt,Sr=ht,Gt=tt,Ur=1<<(8>>Gt.b),Bn=a(Ur);if(Bn==null)wt=0;else{var Nr=Gt.K[0],Mt=Gt.w;for(Bn[0]=Gt.K[0][0],Lt=1;Lt<1*Sr;++Lt)Bn[Lt]=Nt(Nr[Mt+Lt],Bn[Lt-1]);for(;Lt<4*Ur;++Lt)Bn[Lt]=0;Gt.K[0]=null,Gt.K[0]=Bn,wt=1}}nt=wt;break;case 2:break;default:e(0)}te=nt}}if(ne=ne[0],oe=oe[0],te&&Z(ue,1)&&!(te=1<=(qe=Z(ue,4))&&11>=qe)){H.a=3;break e}var Tt;if(Tt=te)t:{var Yn,yr,Or,hn=H,Wi=ne,Sa=oe,Rn=qe,ji=B,Fa=hn.m,Ri=hn.s,Lr=[null],Jr=1,Xn=0,an=co[Rn];r:for(;;){if(ji&&Z(Fa,1)){var Ki=Z(Fa,3)+2,Qn=Je(Wi,Ki),en=Je(Sa,Ki),Ei=Qn*en;if(!Mr(Qn,en,0,hn,Lr))break r;for(Lr=Lr[0],Ri.xc=Ki,Yn=0;Yn<Ei;++Yn){var pn=Lr[Yn]>>8&65535;Lr[Yn]=pn,pn>=Jr&&(Jr=pn+1)}}if(Fa.h)break r;for(yr=0;5>yr;++yr){var Oi=Ac[yr];!yr&&0<Rn&&(Oi+=1<<Rn),Xn<Oi&&(Xn=Oi)}var Ii=s(Jr*an,M),An=Jr,Zr=s(An,_e);if(Zr==null)var Ua=null;else e(65536>=An),Ua=Zr;var ci=a(Xn);if(Ua==null||ci==null||Ii==null){hn.a=1;break r}var cr=Ii;for(Yn=Or=0;Yn<Jr;++Yn){var pr=Ua[Yn],tn=pr.G,xs=pr.H,mo=0,os=1,Di=0;for(yr=0;5>yr;++yr){Oi=Ac[yr],tn[yr]=cr,xs[yr]=Or,!yr&&0<Rn&&(Oi+=1<<Rn);i:{var Ru,Ou=Oi,jp=hn,On=ci,Mg=cr,Bg=Or,Rp=0,Gl=jp.m,l5=Z(Gl,1);if(i(On,0,0,Ou),l5){var Fg=Z(Gl,1)+1,Ug=Z(Gl,1),Op=Z(Gl,Ug==0?1:8);On[Op]=1,Fg==2&&(On[Op=Z(Gl,8)]=1);var sa=1}else{var di=a(19),sh=Z(Gl,4)+4;if(19<sh){jp.a=3;var Iu=0;break i}for(Ru=0;Ru<sh;++Ru)di[nh[Ru]]=Z(Gl,3);var Bd=void 0,Tc=void 0,ul=jp,Ip=di,Fd=Ou,Dp=On,Lp=0,Wl=ul.m,Vg=8,zg=s(128,M);n:for(;V(zg,0,7,Ip,19);){if(Z(Wl,1)){var Hv=2+2*Z(Wl,3);if((Bd=2+Z(Wl,Hv))>Fd)break n}else Bd=Fd;for(Tc=0;Tc<Fd&&Bd--;){Te(Wl);var $g=zg[0+(127&re(Wl))];ye(Wl,Wl.u+$g.g);var Du=$g.value;if(16>Du)Dp[Tc++]=Du,Du!=0&&(Vg=Du);else{var Gv=Du==16,Wv=Du-16,Kv=Id[Wv],qg=Z(Wl,lo[Wv])+Kv;if(Tc+qg>Fd)break n;for(var Yv=Gv?Vg:0;0<qg--;)Dp[Tc++]=Yv}}Lp=1;break n}Lp||(ul.a=3),sa=Lp}(sa=sa&&!Gl.h)&&(Rp=V(Mg,Bg,8,On,Ou)),sa&&Rp!=0?Iu=Rp:(jp.a=3,Iu=0)}if(Iu==0)break r;if(os&&Ep[yr]==1&&(os=cr[Or].g==0),mo+=cr[Or].g,Or+=Iu,3>=yr){var kc,Mp=ci[0];for(kc=1;kc<Oi;++kc)ci[kc]>Mp&&(Mp=ci[kc]);Di+=Mp}}if(pr.nd=os,pr.Qb=0,os&&(pr.qb=(tn[3][xs[3]+0].value<<24|tn[1][xs[1]+0].value<<16|tn[2][xs[2]+0].value)>>>0,mo==0&&256>tn[0][xs[0]+0].value&&(pr.Qb=1,pr.qb+=tn[0][xs[0]+0].value<<8)),pr.jc=!pr.Qb&&6>Di,pr.jc){var oh,cl=pr;for(oh=0;oh<Su;++oh){var Kl=oh,Yl=cl.pd[Kl],Bp=cl.G[0][cl.H[0]+Kl];256<=Bp.value?(Yl.g=Bp.g+256,Yl.value=Bp.value):(Yl.g=0,Yl.value=0,Kl>>=xt(Bp,8,Yl),Kl>>=xt(cl.G[1][cl.H[1]+Kl],16,Yl),Kl>>=xt(cl.G[2][cl.H[2]+Kl],0,Yl),xt(cl.G[3][cl.H[3]+Kl],24,Yl))}}}Ri.vc=Lr,Ri.Wb=Jr,Ri.Ya=Ua,Ri.yc=Ii,Tt=1;break t}Tt=0}if(!(te=Tt)){H.a=3;break e}if(0<qe){if(ge.ua=1<<qe,!ce(ge.Wa,qe)){H.a=1,te=0;break e}}else ge.ua=0;var Fp=H,Cc=ne,Xv=oe,Ud=Fp.s,Vd=Ud.xc;if(Fp.c=Cc,Fp.i=Xv,Ud.md=Je(Cc,Vd),Ud.wc=Vd==0?-1:(1<<Vd)-1,B){H.xb=ku;break e}if((Ne=a(ne*oe))==null){H.a=1,te=0;break e}te=(te=gn(H,Ne,0,ne,oe,oe,null))&&!ue.h;break e}return te?(X!=null?X[0]=Ne:(e(Ne==null),e(B)),H.$=0,B||Dt(ge)):Dt(ge),te}function si(b,T){var B=b.c*b.i,H=B+T+16*T;return e(b.c<=T),b.V=a(H),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+B+T,1)}function zn(b,T){var B=b.C,H=T-B,X=b.V,te=b.Ba+b.c*B;for(e(T<=b.l.o);0<H;){var ne=16<H?16:H,oe=b.l.ma,ue=b.l.width,ge=ue*ne,Ne=oe.ca,qe=oe.tb+ue*B,pe=b.Ta,Re=b.Ua;Ut(b,ne,X,te),$s(pe,Re,Ne,qe,ge),Cr(oe,B,B+ne,Ne,qe,ue),H-=ne,X+=ne*b.c,B+=ne}e(B==T),b.C=b.Ma=T}function bi(){this.ub=this.yd=this.td=this.Rb=0}function qi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Za(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ms(){this.Yb=(function(){var b=[];return(function T(B,H,X){for(var te=X[H],ne=0;ne<te&&(B.push(X.length>H+1?[]:0),!(X.length<H+1));ne++)T(B[ne],H+1,X)})(b,0,[3,11]),b})()}function Kn(){this.jb=a(3),this.Wc=l([4,8],ms),this.Xc=l([4,17],ms)}function gu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Oa(){this.ld=this.La=this.dd=this.tc=0}function gs(){this.Na=this.la=0}function Ls(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function jl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Oa),this.Y=0,this.ya=Array(new jl),this.aa=0,this.l=new na}function vu(){this.y=a(16),this.f=a(8),this.ea=a(8)}function fc(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new bi,this.Kc=new qi,this.ed=new gu,this.Qa=new Za,this.Ic=this.$c=this.Aa=0,this.D=new yu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,q),this.ia=0,this.pb=s(4,Ls),this.Pa=new Kn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vu),this.Hd=0,this.rb=Array(new gs),this.sb=0,this.wa=Array(new Oa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new jl),this.L=this.aa=0,this.gd=l([4,2],Oa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ja(b,T){return 0>b?0:b>T?T:b}function na(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function oi(){var b=new fc;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,qs||(qs=Hr)),b}function Br(b,T,B){return b.a==0&&(b.a=T,b.sc=B,b.cb=0),0}function Co(b,T,B){return 3<=B&&b[T+0]==157&&b[T+1]==1&&b[T+2]==42}function ys(b,T){if(b==null)return 0;if(b.a=0,b.sc="OK",T==null)return Br(b,2,"null VP8Io passed to VP8GetHeaders()");var B=T.data,H=T.w,X=T.ha;if(4>X)return Br(b,7,"Truncated header.");var te=B[H+0]|B[H+1]<<8|B[H+2]<<16,ne=b.Od;if(ne.Rb=!(1&te),ne.td=te>>1&7,ne.yd=te>>4&1,ne.ub=te>>5,3<ne.td)return Br(b,3,"Incorrect keyframe parameters.");if(!ne.yd)return Br(b,4,"Frame not displayable.");H+=3,X-=3;var oe=b.Kc;if(ne.Rb){if(7>X)return Br(b,7,"cannot parse picture header");if(!Co(B,H,X))return Br(b,3,"Bad code word");oe.c=16383&(B[H+4]<<8|B[H+3]),oe.Td=B[H+4]>>6,oe.i=16383&(B[H+6]<<8|B[H+5]),oe.Ud=B[H+6]>>6,H+=7,X-=7,b.za=oe.c+15>>4,b.Ub=oe.i+15>>4,T.width=oe.c,T.height=oe.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((te=b.Pa).jb,0,255,te.jb.length),e((te=b.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,i(te.Zb,0,0,te.Zb.length),i(te.Lb,0,0,te.Lb)}if(ne.ub>X)return Br(b,7,"bad partition length");se(te=b.m,B,H,ne.ub),H+=ne.ub,X-=ne.ub,ne.Rb&&(oe.Ld=he(te),oe.Kd=he(te)),oe=b.Qa;var ue,ge=b.Pa;if(e(te!=null),e(oe!=null),oe.Cb=he(te),oe.Cb){if(oe.Bb=he(te),he(te)){for(oe.Fb=he(te),ue=0;4>ue;++ue)oe.Zb[ue]=he(te)?fe(te,7):0;for(ue=0;4>ue;++ue)oe.Lb[ue]=he(te)?fe(te,6):0}if(oe.Bb)for(ue=0;3>ue;++ue)ge.jb[ue]=he(te)?ee(te,8):255}else oe.Bb=0;if(te.Ka)return Br(b,3,"cannot parse segment header");if((oe=b.ed).zd=he(te),oe.Tb=ee(te,6),oe.wb=ee(te,3),oe.Pc=he(te),oe.Pc&&he(te)){for(ge=0;4>ge;++ge)he(te)&&(oe.vd[ge]=fe(te,6));for(ge=0;4>ge;++ge)he(te)&&(oe.od[ge]=fe(te,6))}if(b.L=oe.Tb==0?0:oe.zd?1:2,te.Ka)return Br(b,3,"cannot parse filter header");var Ne=X;if(X=ue=H,H=ue+Ne,oe=Ne,b.Xb=(1<<ee(b.m,2))-1,Ne<3*(ge=b.Xb))B=7;else{for(ue+=3*ge,oe-=3*ge,Ne=0;Ne<ge;++Ne){var qe=B[X+0]|B[X+1]<<8|B[X+2]<<16;qe>oe&&(qe=oe),se(b.Jc[+Ne],B,ue,qe),ue+=qe,oe-=qe,X+=3}se(b.Jc[+ge],B,ue,oe),B=ue<H?0:5}if(B!=0)return Br(b,B,"cannot parse partitions");for(B=ee(ue=b.m,7),X=he(ue)?fe(ue,4):0,H=he(ue)?fe(ue,4):0,oe=he(ue)?fe(ue,4):0,ge=he(ue)?fe(ue,4):0,ue=he(ue)?fe(ue,4):0,Ne=b.Qa,qe=0;4>qe;++qe){if(Ne.Cb){var pe=Ne.Zb[qe];Ne.Fb||(pe+=B)}else{if(0<qe){b.pb[qe]=b.pb[0];continue}pe=B}var Re=b.pb[qe];Re.Sc[0]=fo[Ja(pe+X,127)],Re.Sc[1]=ho[Ja(pe+0,127)],Re.Eb[0]=2*fo[Ja(pe+H,127)],Re.Eb[1]=101581*ho[Ja(pe+oe,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=fo[Ja(pe+ge,117)],Re.Qc[1]=ho[Ja(pe+ue,127)],Re.lc=pe+ue}if(!ne.Rb)return Br(b,4,"Not a key frame.");for(he(te),ne=b.Pa,B=0;4>B;++B){for(X=0;8>X;++X)for(H=0;3>H;++H)for(oe=0;11>oe;++oe)ge=Ce(te,Mn[B][X][H][oe])?ee(te,8):$v[B][X][H][oe],ne.Wc[B][X].Yb[H][oe]=ge;for(X=0;17>X;++X)ne.Xc[B][X]=ne.Wc[B][Vr[X]]}return b.kc=he(te),b.kc&&(b.Bd=ee(te,8)),b.cb=1}function Hr(b,T,B,H,X,te,ne){var oe=T[X].Yb[B];for(B=0;16>X;++X){if(!Ce(b,oe[B+0]))return X;for(;!Ce(b,oe[B+1]);)if(oe=T[++X].Yb[0],B=0,X==16)return 16;var ue=T[X+1].Yb;if(Ce(b,oe[B+2])){var ge=b,Ne=0;if(Ce(ge,(pe=oe)[(qe=B)+3]))if(Ce(ge,pe[qe+6])){for(oe=0,qe=2*(Ne=Ce(ge,pe[qe+8]))+(pe=Ce(ge,pe[qe+9+Ne])),Ne=0,pe=zv[qe];pe[oe];++oe)Ne+=Ne+Ce(ge,pe[oe]);Ne+=3+(8<<qe)}else Ce(ge,pe[qe+7])?(Ne=7+2*Ce(ge,165),Ne+=Ce(ge,145)):Ne=5+Ce(ge,159);else Ne=Ce(ge,pe[qe+4])?3+Ce(ge,pe[qe+5]):2;oe=ue[2]}else Ne=1,oe=ue[1];ue=ne+Ig[X],0>(ge=b).b&&Ve(ge);var qe,pe=ge.b,Re=(qe=ge.Ca>>1)-(ge.I>>pe)>>31;--ge.b,ge.Ca+=Re,ge.Ca|=1,ge.I-=(qe+1&Re)<<pe,te[ue]=((Ne^Re)-Re)*H[(0<X)+0]}return 16}function Yo(b){var T=b.rb[b.sb-1];T.la=0,T.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function xi(b,T,B,H,X){X=b[T+B+32*H]+(X>>3),b[T+B+32*H]=-256&X?0>X?0:255:X}function Ln(b,T,B,H,X,te){xi(b,T,0,B,H+X),xi(b,T,1,B,H+te),xi(b,T,2,B,H-te),xi(b,T,3,B,H-X)}function li(b){return(20091*b>>16)+b}function Rl(b,T,B,H){var X,te=0,ne=a(16);for(X=0;4>X;++X){var oe=b[T+0]+b[T+8],ue=b[T+0]-b[T+8],ge=(35468*b[T+4]>>16)-li(b[T+12]),Ne=li(b[T+4])+(35468*b[T+12]>>16);ne[te+0]=oe+Ne,ne[te+1]=ue+ge,ne[te+2]=ue-ge,ne[te+3]=oe-Ne,te+=4,T++}for(X=te=0;4>X;++X)oe=(b=ne[te+0]+4)+ne[te+8],ue=b-ne[te+8],ge=(35468*ne[te+4]>>16)-li(ne[te+12]),xi(B,H,0,0,oe+(Ne=li(ne[te+4])+(35468*ne[te+12]>>16))),xi(B,H,1,0,ue+ge),xi(B,H,2,0,ue-ge),xi(B,H,3,0,oe-Ne),te++,H+=32}function Td(b,T,B,H){var X=b[T+0]+4,te=35468*b[T+4]>>16,ne=li(b[T+4]),oe=35468*b[T+1]>>16;Ln(B,H,0,X+ne,b=li(b[T+1]),oe),Ln(B,H,1,X+te,b,oe),Ln(B,H,2,X-te,b,oe),Ln(B,H,3,X-ne,b,oe)}function hc(b,T,B,H,X){Rl(b,T,B,H),X&&Rl(b,T+16,B,H+4)}function ga(b,T,B,H){$l(b,T+0,B,H,1),$l(b,T+32,B,H+128,1)}function pc(b,T,B,H){var X;for(b=b[T+0]+4,X=0;4>X;++X)for(T=0;4>T;++T)xi(B,H,T,X,b)}function No(b,T,B,H){b[T+0]&&nn(b,T+0,B,H),b[T+16]&&nn(b,T+16,B,H+4),b[T+32]&&nn(b,T+32,B,H+128),b[T+48]&&nn(b,T+48,B,H+128+4)}function Hi(b,T,B,H){var X,te=a(16);for(X=0;4>X;++X){var ne=b[T+0+X]+b[T+12+X],oe=b[T+4+X]+b[T+8+X],ue=b[T+4+X]-b[T+8+X],ge=b[T+0+X]-b[T+12+X];te[0+X]=ne+oe,te[8+X]=ne-oe,te[4+X]=ge+ue,te[12+X]=ge-ue}for(X=0;4>X;++X)ne=(b=te[0+4*X]+3)+te[3+4*X],oe=te[1+4*X]+te[2+4*X],ue=te[1+4*X]-te[2+4*X],ge=b-te[3+4*X],B[H+0]=ne+oe>>3,B[H+16]=ge+ue>>3,B[H+32]=ne-oe>>3,B[H+48]=ge-ue>>3,H+=64}function Xo(b,T,B){var H,X=T-32,te=Ma,ne=255-b[X-1];for(H=0;H<B;++H){var oe,ue=te,ge=ne+b[T-1];for(oe=0;oe<B;++oe)b[T+oe]=ue[ge+b[X+oe]];T+=32}}function mc(b,T){Xo(b,T,4)}function gc(b,T){Xo(b,T,8)}function bu(b,T){Xo(b,T,16)}function xu(b,T){var B;for(B=0;16>B;++B)n(b,T+32*B,b,T-32,16)}function Po(b,T){var B;for(B=16;0<B;--B)i(b,T,b[T-1],16),T+=32}function Ia(b,T,B){var H;for(H=0;16>H;++H)i(T,B+32*H,b,16)}function Ms(b,T){var B,H=16;for(B=0;16>B;++B)H+=b[T-1+32*B]+b[T+B-32];Ia(H>>5,b,T)}function jo(b,T){var B,H=8;for(B=0;16>B;++B)H+=b[T-1+32*B];Ia(H>>4,b,T)}function Da(b,T){var B,H=8;for(B=0;16>B;++B)H+=b[T+B-32];Ia(H>>4,b,T)}function Qo(b,T){Ia(128,b,T)}function ur(b,T,B){return b+2*T+B+2>>2}function Ol(b,T){var B,H=T-32;for(H=new Uint8Array([ur(b[H-1],b[H+0],b[H+1]),ur(b[H+0],b[H+1],b[H+2]),ur(b[H+1],b[H+2],b[H+3]),ur(b[H+2],b[H+3],b[H+4])]),B=0;4>B;++B)n(b,T+32*B,H,0,H.length)}function wu(b,T){var B=b[T-1],H=b[T-1+32],X=b[T-1+64],te=b[T-1+96];We(b,T+0,16843009*ur(b[T-1-32],B,H)),We(b,T+32,16843009*ur(B,H,X)),We(b,T+64,16843009*ur(H,X,te)),We(b,T+96,16843009*ur(X,te,te))}function Zo(b,T){var B,H=4;for(B=0;4>B;++B)H+=b[T+B-32]+b[T-1+32*B];for(H>>=3,B=0;4>B;++B)i(b,T+32*B,H,4)}function Gi(b,T){var B=b[T-1+0],H=b[T-1+32],X=b[T-1+64],te=b[T-1-32],ne=b[T+0-32],oe=b[T+1-32],ue=b[T+2-32],ge=b[T+3-32];b[T+0+96]=ur(H,X,b[T-1+96]),b[T+1+96]=b[T+0+64]=ur(B,H,X),b[T+2+96]=b[T+1+64]=b[T+0+32]=ur(te,B,H),b[T+3+96]=b[T+2+64]=b[T+1+32]=b[T+0+0]=ur(ne,te,B),b[T+3+64]=b[T+2+32]=b[T+1+0]=ur(oe,ne,te),b[T+3+32]=b[T+2+0]=ur(ue,oe,ne),b[T+3+0]=ur(ge,ue,oe)}function Pi(b,T){var B=b[T+1-32],H=b[T+2-32],X=b[T+3-32],te=b[T+4-32],ne=b[T+5-32],oe=b[T+6-32],ue=b[T+7-32];b[T+0+0]=ur(b[T+0-32],B,H),b[T+1+0]=b[T+0+32]=ur(B,H,X),b[T+2+0]=b[T+1+32]=b[T+0+64]=ur(H,X,te),b[T+3+0]=b[T+2+32]=b[T+1+64]=b[T+0+96]=ur(X,te,ne),b[T+3+32]=b[T+2+64]=b[T+1+96]=ur(te,ne,oe),b[T+3+64]=b[T+2+96]=ur(ne,oe,ue),b[T+3+96]=ur(oe,ue,ue)}function Il(b,T){var B=b[T-1+0],H=b[T-1+32],X=b[T-1+64],te=b[T-1-32],ne=b[T+0-32],oe=b[T+1-32],ue=b[T+2-32],ge=b[T+3-32];b[T+0+0]=b[T+1+64]=te+ne+1>>1,b[T+1+0]=b[T+2+64]=ne+oe+1>>1,b[T+2+0]=b[T+3+64]=oe+ue+1>>1,b[T+3+0]=ue+ge+1>>1,b[T+0+96]=ur(X,H,B),b[T+0+64]=ur(H,B,te),b[T+0+32]=b[T+1+96]=ur(B,te,ne),b[T+1+32]=b[T+2+96]=ur(te,ne,oe),b[T+2+32]=b[T+3+96]=ur(ne,oe,ue),b[T+3+32]=ur(oe,ue,ge)}function on(b,T){var B=b[T+0-32],H=b[T+1-32],X=b[T+2-32],te=b[T+3-32],ne=b[T+4-32],oe=b[T+5-32],ue=b[T+6-32],ge=b[T+7-32];b[T+0+0]=B+H+1>>1,b[T+1+0]=b[T+0+64]=H+X+1>>1,b[T+2+0]=b[T+1+64]=X+te+1>>1,b[T+3+0]=b[T+2+64]=te+ne+1>>1,b[T+0+32]=ur(B,H,X),b[T+1+32]=b[T+0+96]=ur(H,X,te),b[T+2+32]=b[T+1+96]=ur(X,te,ne),b[T+3+32]=b[T+2+96]=ur(te,ne,oe),b[T+3+64]=ur(ne,oe,ue),b[T+3+96]=ur(oe,ue,ge)}function es(b,T){var B=b[T-1+0],H=b[T-1+32],X=b[T-1+64],te=b[T-1+96];b[T+0+0]=B+H+1>>1,b[T+2+0]=b[T+0+32]=H+X+1>>1,b[T+2+32]=b[T+0+64]=X+te+1>>1,b[T+1+0]=ur(B,H,X),b[T+3+0]=b[T+1+32]=ur(H,X,te),b[T+3+32]=b[T+1+64]=ur(X,te,te),b[T+3+64]=b[T+2+64]=b[T+0+96]=b[T+1+96]=b[T+2+96]=b[T+3+96]=te}function Dl(b,T){var B=b[T-1+0],H=b[T-1+32],X=b[T-1+64],te=b[T-1+96],ne=b[T-1-32],oe=b[T+0-32],ue=b[T+1-32],ge=b[T+2-32];b[T+0+0]=b[T+2+32]=B+ne+1>>1,b[T+0+32]=b[T+2+64]=H+B+1>>1,b[T+0+64]=b[T+2+96]=X+H+1>>1,b[T+0+96]=te+X+1>>1,b[T+3+0]=ur(oe,ue,ge),b[T+2+0]=ur(ne,oe,ue),b[T+1+0]=b[T+3+32]=ur(B,ne,oe),b[T+1+32]=b[T+3+64]=ur(H,B,ne),b[T+1+64]=b[T+3+96]=ur(X,H,B),b[T+1+96]=ur(te,X,H)}function Bs(b,T){var B;for(B=0;8>B;++B)n(b,T+32*B,b,T-32,8)}function yc(b,T){var B;for(B=0;8>B;++B)i(b,T,b[T-1],8),T+=32}function ts(b,T,B){var H;for(H=0;8>H;++H)i(T,B+32*H,b,8)}function Ro(b,T){var B,H=8;for(B=0;8>B;++B)H+=b[T+B-32]+b[T-1+32*B];ts(H>>4,b,T)}function rs(b,T){var B,H=4;for(B=0;8>B;++B)H+=b[T+B-32];ts(H>>3,b,T)}function wi(b,T){var B,H=4;for(B=0;8>B;++B)H+=b[T-1+32*B];ts(H>>3,b,T)}function eo(b,T){ts(128,b,T)}function ia(b,T,B){var H=b[T-B],X=b[T+0],te=3*(X-H)+ql[1020+b[T-2*B]-b[T+B]],ne=eh[112+(te+4>>3)];b[T-B]=Ma[255+H+eh[112+(te+3>>3)]],b[T+0]=Ma[255+X-ne]}function to(b,T,B,H){var X=b[T+0],te=b[T+B];return xa[255+b[T-2*B]-b[T-B]]>H||xa[255+te-X]>H}function Jo(b,T,B,H){return 4*xa[255+b[T-B]-b[T+0]]+xa[255+b[T-2*B]-b[T+B]]<=H}function ro(b,T,B,H,X){var te=b[T-3*B],ne=b[T-2*B],oe=b[T-B],ue=b[T+0],ge=b[T+B],Ne=b[T+2*B],qe=b[T+3*B];return 4*xa[255+oe-ue]+xa[255+ne-ge]>H?0:xa[255+b[T-4*B]-te]<=X&&xa[255+te-ne]<=X&&xa[255+ne-oe]<=X&&xa[255+qe-Ne]<=X&&xa[255+Ne-ge]<=X&&xa[255+ge-ue]<=X}function no(b,T,B,H){var X=2*H+1;for(H=0;16>H;++H)Jo(b,T+H,B,X)&&ia(b,T+H,B)}function vs(b,T,B,H){var X=2*H+1;for(H=0;16>H;++H)Jo(b,T+H*B,1,X)&&ia(b,T+H*B,1)}function Ll(b,T,B,H){var X;for(X=3;0<X;--X)no(b,T+=4*B,B,H)}function _u(b,T,B,H){var X;for(X=3;0<X;--X)vs(b,T+=4,B,H)}function ns(b,T,B,H,X,te,ne,oe){for(te=2*te+1;0<X--;){if(ro(b,T,B,te,ne))if(to(b,T,B,oe))ia(b,T,B);else{var ue=b,ge=T,Ne=B,qe=ue[ge-2*Ne],pe=ue[ge-Ne],Re=ue[ge+0],Ue=ue[ge+Ne],nt=ue[ge+2*Ne],ze=27*(ot=ql[1020+3*(Re-pe)+ql[1020+qe-Ue]])+63>>7,tt=18*ot+63>>7,ot=9*ot+63>>7;ue[ge-3*Ne]=Ma[255+ue[ge-3*Ne]+ot],ue[ge-2*Ne]=Ma[255+qe+tt],ue[ge-Ne]=Ma[255+pe+ze],ue[ge+0]=Ma[255+Re-ze],ue[ge+Ne]=Ma[255+Ue-tt],ue[ge+2*Ne]=Ma[255+nt-ot]}T+=H}}function io(b,T,B,H,X,te,ne,oe){for(te=2*te+1;0<X--;){if(ro(b,T,B,te,ne))if(to(b,T,B,oe))ia(b,T,B);else{var ue=b,ge=T,Ne=B,qe=ue[ge-Ne],pe=ue[ge+0],Re=ue[ge+Ne],Ue=eh[112+(4+(nt=3*(pe-qe))>>3)],nt=eh[112+(nt+3>>3)],ze=Ue+1>>1;ue[ge-2*Ne]=Ma[255+ue[ge-2*Ne]+ze],ue[ge-Ne]=Ma[255+qe+nt],ue[ge+0]=Ma[255+pe-Ue],ue[ge+Ne]=Ma[255+Re-ze]}T+=H}}function vc(b,T,B,H,X,te){ns(b,T,B,1,16,H,X,te)}function Fs(b,T,B,H,X,te){ns(b,T,1,B,16,H,X,te)}function Au(b,T,B,H,X,te){var ne;for(ne=3;0<ne;--ne)io(b,T+=4*B,B,1,16,H,X,te)}function R(b,T,B,H,X,te){var ne;for(ne=3;0<ne;--ne)io(b,T+=4,1,B,16,H,X,te)}function Y(b,T,B,H,X,te,ne,oe){ns(b,T,X,1,8,te,ne,oe),ns(B,H,X,1,8,te,ne,oe)}function me(b,T,B,H,X,te,ne,oe){ns(b,T,1,X,8,te,ne,oe),ns(B,H,1,X,8,te,ne,oe)}function ke(b,T,B,H,X,te,ne,oe){io(b,T+4*X,X,1,8,te,ne,oe),io(B,H+4*X,X,1,8,te,ne,oe)}function Oe(b,T,B,H,X,te,ne,oe){io(b,T+4,1,X,8,te,ne,oe),io(B,H+4,1,X,8,te,ne,oe)}function at(){this.ba=new gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new be,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Vt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Xt(){this.ua=0,this.Wa=new Yt,this.vb=new Yt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _e,this.yc=new M}function hr(){this.xb=this.a=0,this.l=new na,this.ca=new gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Xt,this.ab=0,this.gc=s(4,Vt),this.Oc=0}function or(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new na,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Fr(b,T,B,H,X,te,ne){for(b=b==null?0:b[T+0],T=0;T<ne;++T)X[te+T]=b+B[H+T]&255,b=X[te+T]}function Nn(b,T,B,H,X,te,ne){var oe;if(b==null)Fr(null,null,B,H,X,te,ne);else for(oe=0;oe<ne;++oe)X[te+oe]=b[T+oe]+B[H+oe]&255}function yn(b,T,B,H,X,te,ne){if(b==null)Fr(null,null,B,H,X,te,ne);else{var oe,ue=b[T+0],ge=ue,Ne=ue;for(oe=0;oe<ne;++oe)ge=Ne+(ue=b[T+oe])-ge,Ne=B[H+oe]+(-256&ge?0>ge?0:255:ge)&255,ge=ue,X[te+oe]=Ne}}function x(b,T,B,H){var X=T.width,te=T.o;if(e(b!=null&&T!=null),0>B||0>=H||B+H>te)return null;if(!b.Cc){if(b.ga==null){var ne;if(b.ga=new or,(ne=b.ga==null)||(ne=T.width*T.o,e(b.Gb.length==0),b.Gb=a(ne),b.Uc=0,b.Gb==null?ne=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ne=1),ne=!ne),!ne){ne=b.ga;var oe=b.Fa,ue=b.P,ge=b.qc,Ne=b.mb,qe=b.nb,pe=ue+1,Re=ge-1,Ue=ne.l;if(e(oe!=null&&Ne!=null&&T!=null),Hl[0]=null,Hl[1]=Fr,Hl[2]=Nn,Hl[3]=yn,ne.ca=Ne,ne.tb=qe,ne.c=T.width,ne.i=T.height,e(0<ne.c&&0<ne.i),1>=ge)T=0;else if(ne.$a=3&oe[ue+0],ne.Z=oe[ue+0]>>2&3,ne.Lc=oe[ue+0]>>4&3,ue=oe[ue+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||ue)T=0;else if(Ue.put=Ae,Ue.ac=ve,Ue.bc=je,Ue.ma=ne,Ue.width=T.width,Ue.height=T.height,Ue.Da=T.Da,Ue.v=T.v,Ue.va=T.va,Ue.j=T.j,Ue.o=T.o,ne.$a)e:{e(ne.$a==1),T=fr();t:for(;;){if(T==null){T=0;break e}if(e(ne!=null),ne.mc=T,T.c=ne.c,T.i=ne.i,T.l=ne.l,T.l.ma=ne,T.l.width=ne.c,T.l.height=ne.i,T.a=0,we(T.m,oe,pe,Re),!Mr(ne.c,ne.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&St(T.s)?(ne.ic=1,oe=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(oe),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(ne.ic=0,T=si(T,ne.c)),!T))break t;T=1;break e}ne.mc=null,T=0}else T=Re>=ne.c*ne.i;ne=!T}if(ne)return null;b.ga.Lc!=1?b.Ga=0:H=te-B}e(b.ga!=null),e(B+H<=te);e:{if(T=(oe=b.ga).c,te=oe.l.o,oe.$a==0){if(pe=b.rc,Re=b.Vc,Ue=b.Fa,ue=b.P+1+B*T,ge=b.mb,Ne=b.nb+B*T,e(ue<=b.P+b.qc),oe.Z!=0)for(e(Hl[oe.Z]!=null),ne=0;ne<H;++ne)Hl[oe.Z](pe,Re,Ue,ue,ge,Ne,T),pe=ge,Re=Ne,Ne+=T,ue+=T;else for(ne=0;ne<H;++ne)n(ge,Ne,Ue,ue,T),pe=ge,Re=Ne,Ne+=T,ue+=T;b.rc=pe,b.Vc=Re}else{if(e(oe.mc!=null),T=B+H,e((ne=oe.mc)!=null),e(T<=ne.i),ne.C>=T)T=1;else if(oe.ic||Ye(),oe.ic){oe=ne.V,pe=ne.Ba,Re=ne.c;var nt=ne.i,ze=(Ue=1,ue=ne.$/Re,ge=ne.$%Re,Ne=ne.m,qe=ne.s,ne.$),tt=Re*nt,ot=Re*T,wt=qe.wc,ht=ze<ot?Rt(qe,ge,ue):null;e(ze<=tt),e(T<=nt),e(St(qe));t:for(;;){for(;!Ne.h&&ze<ot;){if(ge&wt||(ht=Rt(qe,ge,ue)),e(ht!=null),Te(Ne),256>(nt=it(ht.G[0],ht.H[0],Ne)))oe[pe+ze]=nt,++ze,++ge>=Re&&(ge=0,++ue<=T&&!(ue%16)&&fn(ne,ue));else{if(!(280>nt)){Ue=0;break t}nt=$e(nt-256,Ne);var Qt,Lt=it(ht.G[4],ht.H[4],Ne);if(Te(Ne),!(ze>=(Lt=et(Re,Lt=$e(Lt,Ne)))&&tt-ze>=nt)){Ue=0;break t}for(Qt=0;Qt<nt;++Qt)oe[pe+ze+Qt]=oe[pe+ze+Qt-Lt];for(ze+=nt,ge+=nt;ge>=Re;)ge-=Re,++ue<=T&&!(ue%16)&&fn(ne,ue);ze<ot&&ge&wt&&(ht=Rt(qe,ge,ue))}e(Ne.h==ae(Ne))}fn(ne,ue>T?T:ue);break t}!Ue||Ne.h&&ze<tt?(Ue=0,ne.a=Ne.h?5:3):ne.$=ze,T=Ue}else T=gn(ne,ne.V,ne.Ba,ne.c,ne.i,T,zn);if(!T){H=0;break e}}B+H>=te&&(b.Cc=1),H=1}if(!H)return null;if(b.Cc&&((H=b.ga)!=null&&(H.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+B*X}function U(b,T,B,H,X,te){for(;0<X--;){var ne,oe=b,ue=T+(B?1:0),ge=b,Ne=T+(B?0:3);for(ne=0;ne<H;++ne){var qe=ge[Ne+4*ne];qe!=255&&(qe*=32897,oe[ue+4*ne+0]=oe[ue+4*ne+0]*qe>>23,oe[ue+4*ne+1]=oe[ue+4*ne+1]*qe>>23,oe[ue+4*ne+2]=oe[ue+4*ne+2]*qe>>23)}T+=te}}function K(b,T,B,H,X){for(;0<H--;){var te;for(te=0;te<B;++te){var ne=b[T+2*te+0],oe=15&(ge=b[T+2*te+1]),ue=4369*oe,ge=(240&ge|ge>>4)*ue>>16;b[T+2*te+0]=(240&ne|ne>>4)*ue>>16&240|(15&ne|ne<<4)*ue>>16>>4&15,b[T+2*te+1]=240&ge|oe}T+=X}}function le(b,T,B,H,X,te,ne,oe){var ue,ge,Ne=255;for(ge=0;ge<X;++ge){for(ue=0;ue<H;++ue){var qe=b[T+ue];te[ne+4*ue]=qe,Ne&=qe}T+=B,ne+=oe}return Ne!=255}function Fe(b,T,B,H,X){var te;for(te=0;te<X;++te)B[H+te]=b[T+te]>>8}function Ye(){wc=U,so=K,Qf=le,$s=Fe}function At(b,T,B){D[b]=function(H,X,te,ne,oe,ue,ge,Ne,qe,pe,Re,Ue,nt,ze,tt,ot,wt){var ht,Qt=wt-1>>1,Lt=oe[ue+0]|ge[Ne+0]<<16,Sr=qe[pe+0]|Re[Ue+0]<<16;e(H!=null);var Gt=3*Lt+Sr+131074>>2;for(T(H[X+0],255&Gt,Gt>>16,nt,ze),te!=null&&(Gt=3*Sr+Lt+131074>>2,T(te[ne+0],255&Gt,Gt>>16,tt,ot)),ht=1;ht<=Qt;++ht){var Ur=oe[ue+ht]|ge[Ne+ht]<<16,Bn=qe[pe+ht]|Re[Ue+ht]<<16,Nr=Lt+Ur+Sr+Bn+524296,Mt=Nr+2*(Ur+Sr)>>3;Gt=Mt+Lt>>1,Lt=(Nr=Nr+2*(Lt+Bn)>>3)+Ur>>1,T(H[X+2*ht-1],255&Gt,Gt>>16,nt,ze+(2*ht-1)*B),T(H[X+2*ht-0],255&Lt,Lt>>16,nt,ze+(2*ht-0)*B),te!=null&&(Gt=Nr+Sr>>1,Lt=Mt+Bn>>1,T(te[ne+2*ht-1],255&Gt,Gt>>16,tt,ot+(2*ht-1)*B),T(te[ne+2*ht+0],255&Lt,Lt>>16,tt,ot+(2*ht+0)*B)),Lt=Ur,Sr=Bn}1&wt||(Gt=3*Lt+Sr+131074>>2,T(H[X+wt-1],255&Gt,Gt>>16,nt,ze+(wt-1)*B),te!=null&&(Gt=3*Sr+Lt+131074>>2,T(te[ne+wt-1],255&Gt,Gt>>16,tt,ot+(wt-1)*B)))}}function wr(){_a[wp]=Sc,_a[Ba]=Dd,_a[_p]=Lg,_a[oo]=kp,_a[th]=Cu,_a[Rd]=ll,_a[Eu]=Nu,_a[rh]=Dd,_a[Ap]=kp,_a[Od]=Cu,_a[Sp]=ll}function Pn(b){return b&-16384?0>b?0:255:b>>Cp}function Dr(b,T){return Pn((19077*b>>8)+(26149*T>>8)-14234)}function ln(b,T,B){return Pn((19077*b>>8)-(6419*T>>8)-(13320*B>>8)+8708)}function aa(b,T){return Pn((19077*b>>8)+(33050*T>>8)-17685)}function ya(b,T,B,H,X){H[X+0]=Dr(b,B),H[X+1]=ln(b,T,B),H[X+2]=aa(b,T)}function _n(b,T,B,H,X){H[X+0]=aa(b,T),H[X+1]=ln(b,T,B),H[X+2]=Dr(b,B)}function va(b,T,B,H,X){var te=ln(b,T,B);T=te<<3&224|aa(b,T)>>3,H[X+0]=248&Dr(b,B)|te>>5,H[X+1]=T}function Us(b,T,B,H,X){var te=240&aa(b,T)|15;H[X+0]=240&Dr(b,B)|ln(b,T,B)>>4,H[X+1]=te}function el(b,T,B,H,X){H[X+0]=255,ya(b,T,B,H,X+1)}function tl(b,T,B,H,X){_n(b,T,B,H,X),H[X+3]=255}function is(b,T,B,H,X){ya(b,T,B,H,X),H[X+3]=255}function Ml(b,T,B){D[b]=function(H,X,te,ne,oe,ue,ge,Ne,qe){for(var pe=Ne+(-2&qe)*B;Ne!=pe;)T(H[X+0],te[ne+0],oe[ue+0],ge,Ne),T(H[X+1],te[ne+0],oe[ue+0],ge,Ne+B),X+=2,++ne,++ue,Ne+=2*B;1&qe&&T(H[X+0],te[ne+0],oe[ue+0],ge,Ne)}}function kd(b,T,B){return B==0?b==0?T==0?6:5:T==0?4:0:B}function Kf(b,T,B,H,X){switch(b>>>30){case 3:$l(T,B,H,X,0);break;case 2:La(T,B,H,X);break;case 1:nn(T,B,H,X)}}function Vs(b,T){var B,H,X=T.M,te=T.Nb,ne=b.oc,oe=b.pc+40,ue=b.oc,ge=b.pc+584,Ne=b.oc,qe=b.pc+600;for(B=0;16>B;++B)ne[oe+32*B-1]=129;for(B=0;8>B;++B)ue[ge+32*B-1]=129,Ne[qe+32*B-1]=129;for(0<X?ne[oe-1-32]=ue[ge-1-32]=Ne[qe-1-32]=129:(i(ne,oe-32-1,127,21),i(ue,ge-32-1,127,9),i(Ne,qe-32-1,127,9)),H=0;H<b.za;++H){var pe=T.ya[T.aa+H];if(0<H){for(B=-1;16>B;++B)n(ne,oe+32*B-4,ne,oe+32*B+12,4);for(B=-1;8>B;++B)n(ue,ge+32*B-4,ue,ge+32*B+4,4),n(Ne,qe+32*B-4,Ne,qe+32*B+4,4)}var Re=b.Gd,Ue=b.Hd+H,nt=pe.ad,ze=pe.Hc;if(0<X&&(n(ne,oe-32,Re[Ue].y,0,16),n(ue,ge-32,Re[Ue].f,0,8),n(Ne,qe-32,Re[Ue].ea,0,8)),pe.Za){var tt=ne,ot=oe-32+16;for(0<X&&(H>=b.za-1?i(tt,ot,Re[Ue].y[15],4):n(tt,ot,Re[Ue+1].y,0,4)),B=0;4>B;B++)tt[ot+128+B]=tt[ot+256+B]=tt[ot+384+B]=tt[ot+0+B];for(B=0;16>B;++B,ze<<=2)tt=ne,ot=oe+Si[B],ui[pe.Ob[B]](tt,ot),Kf(ze,nt,16*+B,tt,ot)}else if(tt=kd(H,X,pe.Ob[0]),ss[tt](ne,oe),ze!=0)for(B=0;16>B;++B,ze<<=2)Kf(ze,nt,16*+B,ne,oe+Si[B]);for(B=pe.Gc,tt=kd(H,X,pe.Dd),Lo[tt](ue,ge),Lo[tt](Ne,qe),ze=nt,tt=ue,ot=ge,255&(pe=0|B)&&(170&pe?ao(ze,256,tt,ot):Qr(ze,256,tt,ot)),pe=Ne,ze=qe,255&(B>>=8)&&(170&B?ao(nt,320,pe,ze):Qr(nt,320,pe,ze)),X<b.Ub-1&&(n(Re[Ue].y,0,ne,oe+480,16),n(Re[Ue].f,0,ue,ge+224,8),n(Re[Ue].ea,0,Ne,qe+224,8)),B=8*te*b.B,Re=b.sa,Ue=b.ta+16*H+16*te*b.R,nt=b.qa,pe=b.ra+8*H+B,ze=b.Ha,tt=b.Ia+8*H+B,B=0;16>B;++B)n(Re,Ue+B*b.R,ne,oe+32*B,16);for(B=0;8>B;++B)n(nt,pe+B*b.B,ue,ge+32*B,8),n(ze,tt+B*b.B,Ne,qe+32*B,8)}}function Oo(b,T,B,H,X,te,ne,oe,ue){var ge=[0],Ne=[0],qe=0,pe=ue!=null?ue.kd:0,Re=ue??new pt;if(b==null||12>B)return 7;Re.data=b,Re.w=T,Re.ha=B,T=[T],B=[B],Re.gb=[Re.gb];e:{var Ue=T,nt=B,ze=Re.gb;if(e(b!=null),e(nt!=null),e(ze!=null),ze[0]=0,12<=nt[0]&&!r(b,Ue[0],"RIFF")){if(r(b,Ue[0]+8,"WEBP")){ze=3;break e}var tt=vt(b,Ue[0]+4);if(12>tt||4294967286<tt){ze=3;break e}if(pe&&tt>nt[0]-8){ze=7;break e}ze[0]=tt,Ue[0]+=12,nt[0]-=12}ze=0}if(ze!=0)return ze;for(tt=0<Re.gb[0],B=B[0];;){e:{var ot=b;nt=T,ze=B;var wt=ge,ht=Ne,Qt=Ue=[0];if((Gt=qe=[qe])[0]=0,8>ze[0])ze=7;else{if(!r(ot,nt[0],"VP8X")){if(vt(ot,nt[0]+4)!=10){ze=3;break e}if(18>ze[0]){ze=7;break e}var Lt=vt(ot,nt[0]+8),Sr=1+dt(ot,nt[0]+12);if(2147483648<=Sr*(ot=1+dt(ot,nt[0]+15))){ze=3;break e}Qt!=null&&(Qt[0]=Lt),wt!=null&&(wt[0]=Sr),ht!=null&&(ht[0]=ot),nt[0]+=18,ze[0]-=18,Gt[0]=1}ze=0}}if(qe=qe[0],Ue=Ue[0],ze!=0)return ze;if(nt=!!(2&Ue),!tt&&qe)return 3;if(te!=null&&(te[0]=!!(16&Ue)),ne!=null&&(ne[0]=nt),oe!=null&&(oe[0]=0),ne=ge[0],Ue=Ne[0],qe&&nt&&ue==null){ze=0;break}if(4>B){ze=7;break}if(tt&&qe||!tt&&!qe&&!r(b,T[0],"ALPH")){B=[B],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{Lt=b,ze=T,tt=B;var Gt=Re.gb;wt=Re.na,ht=Re.P,Qt=Re.Sa,Sr=22,e(Lt!=null),e(tt!=null),ot=ze[0];var Ur=tt[0];for(e(wt!=null),e(Qt!=null),wt[0]=null,ht[0]=null,Qt[0]=0;;){if(ze[0]=ot,tt[0]=Ur,8>Ur){ze=7;break e}var Bn=vt(Lt,ot+4);if(4294967286<Bn){ze=3;break e}var Nr=8+Bn+1&-2;if(Sr+=Nr,0<Gt&&Sr>Gt){ze=3;break e}if(!r(Lt,ot,"VP8 ")||!r(Lt,ot,"VP8L")){ze=0;break e}if(Ur[0]<Nr){ze=7;break e}r(Lt,ot,"ALPH")||(wt[0]=Lt,ht[0]=ot+8,Qt[0]=Bn),ot+=Nr,Ur-=Nr}}if(B=B[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],ze!=0)break}B=[B],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(Gt=b,ze=T,tt=B,wt=Re.gb[0],ht=Re.Ja,Qt=Re.xa,Lt=ze[0],ot=!r(Gt,Lt,"VP8 "),Sr=!r(Gt,Lt,"VP8L"),e(Gt!=null),e(tt!=null),e(ht!=null),e(Qt!=null),8>tt[0])ze=7;else{if(ot||Sr){if(Gt=vt(Gt,Lt+4),12<=wt&&Gt>wt-12){ze=3;break e}if(pe&&Gt>tt[0]-8){ze=7;break e}ht[0]=Gt,ze[0]+=8,tt[0]-=8,Qt[0]=Sr}else Qt[0]=5<=tt[0]&&Gt[Lt+0]==47&&!(Gt[Lt+4]>>5),ht[0]=tt[0];ze=0}if(B=B[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],T=T[0],ze!=0)break;if(4294967286<Re.Ja)return 3;if(oe==null||nt||(oe[0]=Re.xa?2:1),ne=[ne],Ue=[Ue],Re.xa){if(5>B){ze=7;break}oe=ne,pe=Ue,nt=te,b==null||5>B?b=0:5<=B&&b[T+0]==47&&!(b[T+4]>>5)?(tt=[0],Gt=[0],wt=[0],we(ht=new Q,b,T,B),De(ht,tt,Gt,wt)?(oe!=null&&(oe[0]=tt[0]),pe!=null&&(pe[0]=Gt[0]),nt!=null&&(nt[0]=wt[0]),b=1):b=0):b=0}else{if(10>B){ze=7;break}oe=Ue,b==null||10>B||!Co(b,T+3,B-3)?b=0:(pe=b[T+0]|b[T+1]<<8|b[T+2]<<16,nt=16383&(b[T+7]<<8|b[T+6]),b=16383&(b[T+9]<<8|b[T+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=Re.Ja||!nt||!b?b=0:(ne&&(ne[0]=nt),oe&&(oe[0]=b),b=1))}if(!b||(ne=ne[0],Ue=Ue[0],qe&&(ge[0]!=ne||Ne[0]!=Ue)))return 3;ue!=null&&(ue[0]=Re,ue.offset=T-ue.w,e(4294967286>T-ue.w),e(ue.offset==ue.ha-B));break}return ze==0||ze==7&&qe&&ue==null?(te!=null&&(te[0]|=Re.na!=null&&0<Re.na.length),H!=null&&(H[0]=ne),X!=null&&(X[0]=Ue),0):ze}function Bl(b,T,B){var H=T.width,X=T.height,te=0,ne=0,oe=H,ue=X;if(T.Da=b!=null&&0<b.Da,T.Da&&(oe=b.cd,ue=b.bd,te=b.v,ne=b.j,11>B||(te&=-2,ne&=-2),0>te||0>ne||0>=oe||0>=ue||te+oe>H||ne+ue>X))return 0;if(T.v=te,T.j=ne,T.va=te+oe,T.o=ne+ue,T.U=oe,T.T=ue,T.da=b!=null&&0<b.da,T.da){if(!Ft(oe,ue,B=[b.ib],te=[b.hb]))return 0;T.ib=B[0],T.hb=te[0]}return T.ob=b!=null&&b.ob,T.Kb=b==null||!b.Sd,T.da&&(T.ob=T.ib<3*H/4&&T.hb<3*X/4,T.Kb=0),1}function Yf(b){if(b==null)return 2;if(11>b.S){var T=b.f.RGBA;T.fb+=(b.height-1)*T.A,T.A=-T.A}else T=b.f.kb,b=b.height,T.O+=(b-1)*T.fa,T.fa=-T.fa,T.N+=(b-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(b-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(b-1)*T.lb,T.lb=-T.lb);return 0}function Io(b,T,B,H){if(H==null||0>=b||0>=T)return 2;if(B!=null){if(B.Da){var X=B.cd,te=B.bd,ne=-2&B.v,oe=-2&B.j;if(0>ne||0>oe||0>=X||0>=te||ne+X>b||oe+te>T)return 2;b=X,T=te}if(B.da){if(!Ft(b,T,X=[B.ib],te=[B.hb]))return 2;b=X[0],T=te[0]}}H.width=b,H.height=T;e:{var ue=H.width,ge=H.height;if(b=H.S,0>=ue||0>=ge||!(b>=wp&&13>b))b=2;else{if(0>=H.Rd&&H.sd==null){ne=te=X=T=0;var Ne=(oe=ue*Pp[b])*ge;if(11>b||(te=(ge+1)/2*(T=(ue+1)/2),b==12&&(ne=(X=ue)*ge)),(ge=a(Ne+2*te+ne))==null){b=1;break e}H.sd=ge,11>b?((ue=H.f.RGBA).eb=ge,ue.fb=0,ue.A=oe,ue.size=Ne):((ue=H.f.kb).y=ge,ue.O=0,ue.fa=oe,ue.Fd=Ne,ue.f=ge,ue.N=0+Ne,ue.Ab=T,ue.Cd=te,ue.ea=ge,ue.W=0+Ne+te,ue.Db=T,ue.Ed=te,b==12&&(ue.F=ge,ue.J=0+Ne+2*te),ue.Tc=ne,ue.lb=X)}if(T=1,X=H.S,te=H.width,ne=H.height,X>=wp&&13>X)if(11>X)b=H.f.RGBA,T&=(oe=Math.abs(b.A))*(ne-1)+te<=b.size,T&=oe>=te*Pp[X],T&=b.eb!=null;else{b=H.f.kb,oe=(te+1)/2,Ne=(ne+1)/2,ue=Math.abs(b.fa),ge=Math.abs(b.Ab);var qe=Math.abs(b.Db),pe=Math.abs(b.lb),Re=pe*(ne-1)+te;T&=ue*(ne-1)+te<=b.Fd,T&=ge*(Ne-1)+oe<=b.Cd,T=(T&=qe*(Ne-1)+oe<=b.Ed)&ue>=te&ge>=oe&qe>=oe,T&=b.y!=null,T&=b.f!=null,T&=b.ea!=null,X==12&&(T&=pe>=te,T&=Re<=b.Tc,T&=b.F!=null)}else T=0;b=T?0:2}}return b!=0||B!=null&&B.fd&&(b=Yf(H)),b}var Su=64,bs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],as=24,rl=32,nl=8,Fl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];kt("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(b){return b},D.Predictor2=function(b,T,B){return T[B+0]},D.Predictor3=function(b,T,B){return T[B+1]},D.Predictor4=function(b,T,B){return T[B-1]},D.Predictor5=function(b,T,B){return It(It(b,T[B+1]),T[B+0])},D.Predictor6=function(b,T,B){return It(b,T[B-1])},D.Predictor7=function(b,T,B){return It(b,T[B+0])},D.Predictor8=function(b,T,B){return It(T[B-1],T[B+0])},D.Predictor9=function(b,T,B){return It(T[B+0],T[B+1])},D.Predictor10=function(b,T,B){return It(It(b,T[B-1]),It(T[B+0],T[B+1]))},D.Predictor11=function(b,T,B){var H=T[B+0];return 0>=qt(H>>24&255,b>>24&255,(T=T[B-1])>>24&255)+qt(H>>16&255,b>>16&255,T>>16&255)+qt(H>>8&255,b>>8&255,T>>8&255)+qt(255&H,255&b,255&T)?H:b},D.Predictor12=function(b,T,B){var H=T[B+0];return(tr((b>>24&255)+(H>>24&255)-((T=T[B-1])>>24&255))<<24|tr((b>>16&255)+(H>>16&255)-(T>>16&255))<<16|tr((b>>8&255)+(H>>8&255)-(T>>8&255))<<8|tr((255&b)+(255&H)-(255&T)))>>>0},D.Predictor13=function(b,T,B){var H=T[B-1];return(Jt((b=It(b,T[B+0]))>>24&255,H>>24&255)<<24|Jt(b>>16&255,H>>16&255)<<16|Jt(b>>8&255,H>>8&255)<<8|Jt(255&b,255&H))>>>0};var Cd=D.PredictorAdd0;D.PredictorAdd1=ir,kt("Predictor2","PredictorAdd2"),kt("Predictor3","PredictorAdd3"),kt("Predictor4","PredictorAdd4"),kt("Predictor5","PredictorAdd5"),kt("Predictor6","PredictorAdd6"),kt("Predictor7","PredictorAdd7"),kt("Predictor8","PredictorAdd8"),kt("Predictor9","PredictorAdd9"),kt("Predictor10","PredictorAdd10"),kt("Predictor11","PredictorAdd11"),kt("Predictor12","PredictorAdd12"),kt("Predictor13","PredictorAdd13");var Nd=D.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var _i,vp=D.ColorIndexInverseTransform,il=D.MapARGB,al=D.VP8LColorIndexInverseTransformAlpha,ba=D.MapAlpha,Ul=D.VP8LPredictorsAdd=[];Ul.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Pd,jd,Vl,zl,sl,bc,zs,$l,La,ao,nn,Qr,jn,Ai,ol,Do,xc,Xf,jg,Fv,Uv,Vv,Rg,Og,wc,so,Qf,$s,_c=a(511),bp=a(2041),Zf=a(225),Jf=a(767),xp=0,ql=bp,eh=Zf,Ma=Jf,xa=_c,wp=0,Ba=1,_p=2,oo=3,th=4,Rd=5,Eu=6,rh=7,Ap=8,Od=9,Sp=10,lo=[2,3,7],Id=[3,3,11],Ac=[280,256,256,256,40],Ep=[0,1,1,1,0],nh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],co=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tu=8,fo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ho=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qs=null,zv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ig=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Tp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$v=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Mn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Vr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ss=[],ui=[],Lo=[],ku=1,Dg=2,Hl=[],_a=[];At("UpsampleRgbLinePair",ya,3),At("UpsampleBgrLinePair",_n,3),At("UpsampleRgbaLinePair",is,4),At("UpsampleBgraLinePair",tl,4),At("UpsampleArgbLinePair",el,4),At("UpsampleRgba4444LinePair",Us,2),At("UpsampleRgb565LinePair",va,2);var Sc=D.UpsampleRgbLinePair,Lg=D.UpsampleBgrLinePair,Dd=D.UpsampleRgbaLinePair,kp=D.UpsampleBgraLinePair,Cu=D.UpsampleArgbLinePair,ll=D.UpsampleRgba4444LinePair,Nu=D.UpsampleRgb565LinePair,po=16,Ld=1<<po-1,Ec=-227,Pu=482,Cp=6,ju=0,Aa=a(256),Np=a(256),qv=a(256),a5=a(256),s5=a(Pu-Ec),o5=a(Pu-Ec);Ml("YuvToRgbRow",ya,3),Ml("YuvToBgrRow",_n,3),Ml("YuvToRgbaRow",is,4),Ml("YuvToBgraRow",tl,4),Ml("YuvToArgbRow",el,4),Ml("YuvToRgba4444Row",Us,2),Ml("YuvToRgb565Row",va,2);var Si=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Md=[0,2,8],ih=[8,7,6,4,4,2,2,2,1,1,1,1],ah=1;this.WebPDecodeRGBA=function(b,T,B,H,X){var te=Ba,ne=new at,oe=new gt;ne.ba=oe,oe.S=te,oe.width=[oe.width],oe.height=[oe.height];var ue=oe.width,ge=oe.height,Ne=new W;if(Ne==null||b==null)var qe=2;else e(Ne!=null),qe=Oo(b,T,B,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(qe!=0?ue=0:(ue!=null&&(ue[0]=Ne.width[0]),ge!=null&&(ge[0]=Ne.height[0]),ue=1),ue){oe.width=oe.width[0],oe.height=oe.height[0],H!=null&&(H[0]=oe.width),X!=null&&(X[0]=oe.height);e:{if(H=new na,(X=new pt).data=b,X.w=T,X.ha=B,X.kd=1,T=[0],e(X!=null),((b=Oo(X.data,X.w,X.ha,null,null,null,T,null,X))==0||b==7)&&T[0]&&(b=4),(T=b)==0){if(e(ne!=null),H.data=X.data,H.w=X.w+X.offset,H.ha=X.ha-X.offset,H.put=Ae,H.ac=ve,H.bc=je,H.ma=ne,X.xa){if((b=fr())==null){ne=1;break e}if((function(pe,Re){var Ue=[0],nt=[0],ze=[0];t:for(;;){if(pe==null)return 0;if(Re==null)return pe.a=2,0;if(pe.l=Re,pe.a=0,we(pe.m,Re.data,Re.w,Re.ha),!De(pe.m,Ue,nt,ze)){pe.a=3;break t}if(pe.xb=Dg,Re.width=Ue[0],Re.height=nt[0],!Mr(Ue[0],nt[0],1,pe,null))break t;return 1}return e(pe.a!=0),0})(b,H)){if(H=(T=Io(H.width,H.height,ne.Oa,ne.ba))==0){t:{H=b;r:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((B=H.l)!=null),e((X=B.ma)!=null),H.xb!=0){if(H.ca=X.ba,H.tb=X.tb,e(H.ca!=null),!Bl(X.Oa,B,oo)){H.a=2;break r}if(!si(H,B.width)||B.da)break r;if((B.da||rt(H.ca.S))&&Ye(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Ye()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!ce(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!gn(H,H.V,H.Ba,H.c,H.i,B.o,br))break r;X.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(T=b.a)}else T=b.a}else{if((b=new oi)==null){ne=1;break e}if(b.Fa=X.na,b.P=X.P,b.qc=X.Sa,ys(b,H)){if((T=Io(H.width,H.height,ne.Oa,ne.ba))==0){if(b.Aa=0,B=ne.Oa,e((X=b)!=null),B!=null){if(0<(ue=0>(ue=B.Md)?0:100<ue?255:255*ue/100)){for(ge=Ne=0;4>ge;++ge)12>(qe=X.pb[ge]).lc&&(qe.ia=ue*ih[0>qe.lc?0:qe.lc]>>3),Ne|=qe.ia;Ne&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=B.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}(function(pe,Re){if(pe==null)return 0;if(Re==null)return Br(pe,2,"NULL VP8Io parameter in VP8Decode().");if(!pe.cb&&!ys(pe,Re))return 0;if(e(pe.cb),Re.ac==null||Re.ac(Re)){Re.ob&&(pe.L=0);var Ue=Md[pe.L];if(pe.L==2?(pe.yb=0,pe.zb=0):(pe.yb=Re.v-Ue>>4,pe.zb=Re.j-Ue>>4,0>pe.yb&&(pe.yb=0),0>pe.zb&&(pe.zb=0)),pe.Va=Re.o+15+Ue>>4,pe.Hb=Re.va+15+Ue>>4,pe.Hb>pe.za&&(pe.Hb=pe.za),pe.Va>pe.Ub&&(pe.Va=pe.Ub),0<pe.L){var nt=pe.ed;for(Ue=0;4>Ue;++Ue){var ze;if(pe.Qa.Cb){var tt=pe.Qa.Lb[Ue];pe.Qa.Fb||(tt+=nt.Tb)}else tt=nt.Tb;for(ze=0;1>=ze;++ze){var ot=pe.gd[Ue][ze],wt=tt;if(nt.Pc&&(wt+=nt.vd[0],ze&&(wt+=nt.od[0])),0<(wt=0>wt?0:63<wt?63:wt)){var ht=wt;0<nt.wb&&(ht=4<nt.wb?ht>>2:ht>>1)>9-nt.wb&&(ht=9-nt.wb),1>ht&&(ht=1),ot.dd=ht,ot.tc=2*wt+ht,ot.ld=40<=wt?2:15<=wt?1:0}else ot.tc=0;ot.La=ze}}}Ue=0}else Br(pe,6,"Frame setup failed"),Ue=pe.a;if(Ue=Ue==0){if(Ue){pe.$c=0,0<pe.Aa||(pe.Ic=ah);t:{Ue=pe.Ic,nt=4*(ht=pe.za);var Qt=32*ht,Lt=ht+1,Sr=0<pe.L?ht*(0<pe.Aa?2:1):0,Gt=(pe.Aa==2?2:1)*ht;if((ot=nt+832+(ze=3*(16*Ue+Md[pe.L])/2*Qt)+(tt=pe.Fa!=null&&0<pe.Fa.length?pe.Kc.c*pe.Kc.i:0))!=ot)Ue=0;else{if(ot>pe.Vb){if(pe.Vb=0,pe.Ec=a(ot),pe.Fc=0,pe.Ec==null){Ue=Br(pe,1,"no memory during frame initialization.");break t}pe.Vb=ot}ot=pe.Ec,wt=pe.Fc,pe.Ac=ot,pe.Bc=wt,wt+=nt,pe.Gd=s(Qt,vu),pe.Hd=0,pe.rb=s(Lt+1,gs),pe.sb=1,pe.wa=Sr?s(Sr,Oa):null,pe.Y=0,pe.D.Nb=0,pe.D.wa=pe.wa,pe.D.Y=pe.Y,0<pe.Aa&&(pe.D.Y+=ht),e(!0),pe.oc=ot,pe.pc=wt,wt+=832,pe.ya=s(Gt,jl),pe.aa=0,pe.D.ya=pe.ya,pe.D.aa=pe.aa,pe.Aa==2&&(pe.D.aa+=ht),pe.R=16*ht,pe.B=8*ht,ht=(Qt=Md[pe.L])*pe.R,Qt=Qt/2*pe.B,pe.sa=ot,pe.ta=wt+ht,pe.qa=pe.sa,pe.ra=pe.ta+16*Ue*pe.R+Qt,pe.Ha=pe.qa,pe.Ia=pe.ra+8*Ue*pe.B+Qt,pe.$c=0,wt+=ze,pe.mb=tt?ot:null,pe.nb=tt?wt:null,e(wt+tt<=pe.Fc+pe.Vb),Yo(pe),i(pe.Ac,pe.Bc,0,nt),Ue=1}}if(Ue){if(Re.ka=0,Re.y=pe.sa,Re.O=pe.ta,Re.f=pe.qa,Re.N=pe.ra,Re.ea=pe.Ha,Re.Vd=pe.Ia,Re.fa=pe.R,Re.Rc=pe.B,Re.F=null,Re.J=0,!xp){for(Ue=-255;255>=Ue;++Ue)_c[255+Ue]=0>Ue?-Ue:Ue;for(Ue=-1020;1020>=Ue;++Ue)bp[1020+Ue]=-128>Ue?-128:127<Ue?127:Ue;for(Ue=-112;112>=Ue;++Ue)Zf[112+Ue]=-16>Ue?-16:15<Ue?15:Ue;for(Ue=-255;510>=Ue;++Ue)Jf[255+Ue]=0>Ue?0:255<Ue?255:Ue;xp=1}zs=Hi,$l=hc,ao=ga,nn=pc,Qr=No,La=Td,jn=vc,Ai=Fs,ol=Y,Do=me,xc=Au,Xf=R,jg=ke,Fv=Oe,Uv=no,Vv=vs,Rg=Ll,Og=_u,ui[0]=Zo,ui[1]=mc,ui[2]=Ol,ui[3]=wu,ui[4]=Gi,ui[5]=Il,ui[6]=Pi,ui[7]=on,ui[8]=Dl,ui[9]=es,ss[0]=Ms,ss[1]=bu,ss[2]=xu,ss[3]=Po,ss[4]=jo,ss[5]=Da,ss[6]=Qo,Lo[0]=Ro,Lo[1]=gc,Lo[2]=Bs,Lo[3]=yc,Lo[4]=wi,Lo[5]=rs,Lo[6]=eo,Ue=1}else Ue=0}Ue&&(Ue=(function(Ur,Bn){for(Ur.M=0;Ur.M<Ur.Va;++Ur.M){var Nr,Mt=Ur.Jc[Ur.M&Ur.Xb],Tt=Ur.m,Yn=Ur;for(Nr=0;Nr<Yn.za;++Nr){var yr=Tt,Or=Yn,hn=Or.Ac,Wi=Or.Bc+4*Nr,Sa=Or.zc,Rn=Or.ya[Or.aa+Nr];if(Or.Qa.Bb?Rn.$b=Ce(yr,Or.Pa.jb[0])?2+Ce(yr,Or.Pa.jb[2]):Ce(yr,Or.Pa.jb[1]):Rn.$b=0,Or.kc&&(Rn.Ad=Ce(yr,Or.Bd)),Rn.Za=!Ce(yr,145)+0,Rn.Za){var ji=Rn.Ob,Fa=0;for(Or=0;4>Or;++Or){var Ri,Lr=Sa[0+Or];for(Ri=0;4>Ri;++Ri){Lr=wa[hn[Wi+Ri]][Lr];for(var Jr=Tp[Ce(yr,Lr[0])];0<Jr;)Jr=Tp[2*Jr+Ce(yr,Lr[Jr])];Lr=-Jr,hn[Wi+Ri]=Lr}n(ji,Fa,hn,Wi,4),Fa+=4,Sa[0+Or]=Lr}}else Lr=Ce(yr,156)?Ce(yr,128)?1:3:Ce(yr,163)?2:0,Rn.Ob[0]=Lr,i(hn,Wi,Lr,4),i(Sa,0,Lr,4);Rn.Dd=Ce(yr,142)?Ce(yr,114)?Ce(yr,183)?1:3:2:0}if(Yn.m.Ka)return Br(Ur,7,"Premature end-of-partition0 encountered.");for(;Ur.ja<Ur.za;++Ur.ja){if(Yn=Mt,yr=(Tt=Ur).rb[Tt.sb-1],hn=Tt.rb[Tt.sb+Tt.ja],Nr=Tt.ya[Tt.aa+Tt.ja],Wi=Tt.kc?Nr.Ad:0)yr.la=hn.la=0,Nr.Za||(yr.Na=hn.Na=0),Nr.Hc=0,Nr.Gc=0,Nr.ia=0;else{var Xn,an;if(yr=hn,hn=Yn,Wi=Tt.Pa.Xc,Sa=Tt.ya[Tt.aa+Tt.ja],Rn=Tt.pb[Sa.$b],Or=Sa.ad,ji=0,Fa=Tt.rb[Tt.sb-1],Lr=Ri=0,i(Or,ji,0,384),Sa.Za)var Ki=0,Qn=Wi[3];else{Jr=a(16);var en=yr.Na+Fa.Na;if(en=qs(hn,Wi[1],en,Rn.Eb,0,Jr,0),yr.Na=Fa.Na=(0<en)+0,1<en)zs(Jr,0,Or,ji);else{var Ei=Jr[0]+3>>3;for(Jr=0;256>Jr;Jr+=16)Or[ji+Jr]=Ei}Ki=1,Qn=Wi[0]}var pn=15&yr.la,Oi=15&Fa.la;for(Jr=0;4>Jr;++Jr){var Ii=1&Oi;for(Ei=an=0;4>Ei;++Ei)pn=pn>>1|(Ii=(en=qs(hn,Qn,en=Ii+(1&pn),Rn.Sc,Ki,Or,ji))>Ki)<<7,an=an<<2|(3<en?3:1<en?2:Or[ji+0]!=0),ji+=16;pn>>=4,Oi=Oi>>1|Ii<<7,Ri=(Ri<<8|an)>>>0}for(Qn=pn,Ki=Oi>>4,Xn=0;4>Xn;Xn+=2){for(an=0,pn=yr.la>>4+Xn,Oi=Fa.la>>4+Xn,Jr=0;2>Jr;++Jr){for(Ii=1&Oi,Ei=0;2>Ei;++Ei)en=Ii+(1&pn),pn=pn>>1|(Ii=0<(en=qs(hn,Wi[2],en,Rn.Qc,0,Or,ji)))<<3,an=an<<2|(3<en?3:1<en?2:Or[ji+0]!=0),ji+=16;pn>>=2,Oi=Oi>>1|Ii<<5}Lr|=an<<4*Xn,Qn|=pn<<4<<Xn,Ki|=(240&Oi)<<Xn}yr.la=Qn,Fa.la=Ki,Sa.Hc=Ri,Sa.Gc=Lr,Sa.ia=43690&Lr?0:Rn.ia,Wi=!(Ri|Lr)}if(0<Tt.L&&(Tt.wa[Tt.Y+Tt.ja]=Tt.gd[Nr.$b][Nr.Za],Tt.wa[Tt.Y+Tt.ja].La|=!Wi),Yn.Ka)return Br(Ur,7,"Premature end-of-file encountered.")}if(Yo(Ur),Tt=Bn,Yn=1,Nr=(Mt=Ur).D,yr=0<Mt.L&&Mt.M>=Mt.zb&&Mt.M<=Mt.Va,Mt.Aa==0)t:{if(Nr.M=Mt.M,Nr.uc=yr,Vs(Mt,Nr),Yn=1,Nr=(an=Mt.D).Nb,yr=(Lr=Md[Mt.L])*Mt.R,hn=Lr/2*Mt.B,Jr=16*Nr*Mt.R,Ei=8*Nr*Mt.B,Wi=Mt.sa,Sa=Mt.ta-yr+Jr,Rn=Mt.qa,Or=Mt.ra-hn+Ei,ji=Mt.Ha,Fa=Mt.Ia-hn+Ei,Oi=(pn=an.M)==0,Ri=pn>=Mt.Va-1,Mt.Aa==2&&Vs(Mt,an),an.uc)for(Ii=(en=Mt).D.M,e(en.D.uc),an=en.yb;an<en.Hb;++an){Ki=an,Qn=Ii;var An=(Zr=(Di=en).D).Nb;Xn=Di.R;var Zr=Zr.wa[Zr.Y+Ki],Ua=Di.sa,ci=Di.ta+16*An*Xn+16*Ki,cr=Zr.dd,pr=Zr.tc;if(pr!=0)if(e(3<=pr),Di.L==1)0<Ki&&Vv(Ua,ci,Xn,pr+4),Zr.La&&Og(Ua,ci,Xn,pr),0<Qn&&Uv(Ua,ci,Xn,pr+4),Zr.La&&Rg(Ua,ci,Xn,pr);else{var tn=Di.B,xs=Di.qa,mo=Di.ra+8*An*tn+8*Ki,os=Di.Ha,Di=Di.Ia+8*An*tn+8*Ki;An=Zr.ld,0<Ki&&(Ai(Ua,ci,Xn,pr+4,cr,An),Do(xs,mo,os,Di,tn,pr+4,cr,An)),Zr.La&&(Xf(Ua,ci,Xn,pr,cr,An),Fv(xs,mo,os,Di,tn,pr,cr,An)),0<Qn&&(jn(Ua,ci,Xn,pr+4,cr,An),ol(xs,mo,os,Di,tn,pr+4,cr,An)),Zr.La&&(xc(Ua,ci,Xn,pr,cr,An),jg(xs,mo,os,Di,tn,pr,cr,An))}}if(Mt.ia&&alert("todo:DitherRow"),Tt.put!=null){if(an=16*pn,pn=16*(pn+1),Oi?(Tt.y=Mt.sa,Tt.O=Mt.ta+Jr,Tt.f=Mt.qa,Tt.N=Mt.ra+Ei,Tt.ea=Mt.Ha,Tt.W=Mt.Ia+Ei):(an-=Lr,Tt.y=Wi,Tt.O=Sa,Tt.f=Rn,Tt.N=Or,Tt.ea=ji,Tt.W=Fa),Ri||(pn-=Lr),pn>Tt.o&&(pn=Tt.o),Tt.F=null,Tt.J=null,Mt.Fa!=null&&0<Mt.Fa.length&&an<pn&&(Tt.J=x(Mt,Tt,an,pn-an),Tt.F=Mt.mb,Tt.F==null&&Tt.F.length==0)){Yn=Br(Mt,3,"Could not decode alpha data.");break t}an<Tt.j&&(Lr=Tt.j-an,an=Tt.j,e(!(1&Lr)),Tt.O+=Mt.R*Lr,Tt.N+=Mt.B*(Lr>>1),Tt.W+=Mt.B*(Lr>>1),Tt.F!=null&&(Tt.J+=Tt.width*Lr)),an<pn&&(Tt.O+=Tt.v,Tt.N+=Tt.v>>1,Tt.W+=Tt.v>>1,Tt.F!=null&&(Tt.J+=Tt.v),Tt.ka=an-Tt.j,Tt.U=Tt.va-Tt.v,Tt.T=pn-an,Yn=Tt.put(Tt))}Nr+1!=Mt.Ic||Ri||(n(Mt.sa,Mt.ta-yr,Wi,Sa+16*Mt.R,yr),n(Mt.qa,Mt.ra-hn,Rn,Or+8*Mt.B,hn),n(Mt.Ha,Mt.Ia-hn,ji,Fa+8*Mt.B,hn))}if(!Yn)return Br(Ur,6,"Output aborted.")}return 1})(pe,Re)),Re.bc!=null&&Re.bc(Re),Ue&=1}return Ue?(pe.cb=0,Ue):0})(b,H)||(T=b.a)}}else T=b.a}T==0&&ne.Oa!=null&&ne.Oa.fd&&(T=Yf(ne.ba))}ne=T}te=ne!=0?null:11>te?oe.f.RGBA.eb:oe.f.kb.y}else te=null;return te};var Pp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(D,$){for(var j="",V=0;V<4;V++)j+=String.fromCharCode(D[$++]);return j}function f(D,$){return D[$+0]|D[$+1]<<8}function p(D,$){return(D[$+0]|D[$+1]<<8|D[$+2]<<16)>>>0}function g(D,$){return(D[$+0]|D[$+1]<<8|D[$+2]<<16|D[$+3]<<24)>>>0}new c;var m=[0],w=[0],S=[],_=new c,k=t,N=(function(D,$){var j={},V=0,M=!1,J=0,_e=0;if(j.frames=[],!(function(q,Q){for(var re=0;re<4;re++)if(q[Q+re]!="RIFF".charCodeAt(re))return!0;return!1})(D,$)){for(g(D,$+=4),$+=8;$<D.length;){var se=d(D,$),ee=g(D,$+=4);$+=4;var fe=ee+(1&ee);switch(se){case"VP8 ":case"VP8L":j.frames[V]===void 0&&(j.frames[V]={}),(Z=j.frames[V]).src_off=M?_e:$-8,Z.src_size=J+ee+8,V++,M&&(M=!1,J=0,_e=0);break;case"VP8X":(Z=j.header={}).feature_flags=D[$];var we=$+4;Z.canvas_width=1+p(D,we),we+=3,Z.canvas_height=1+p(D,we),we+=3;break;case"ALPH":M=!0,J=fe+8,_e=$-8;break;case"ANIM":(Z=j.header).bgcolor=g(D,$),we=$+4,Z.loop_count=f(D,we),we+=2;break;case"ANMF":var Be,Z;(Z=j.frames[V]={}).offset_x=2*p(D,$),$+=3,Z.offset_y=2*p(D,$),$+=3,Z.width=1+p(D,$),$+=3,Z.height=1+p(D,$),$+=3,Z.duration=p(D,$),$+=3,Be=D[$++],Z.dispose=1&Be,Z.blend=Be>>1&1}se!="ANMF"&&($+=fe)}return j}})(k,0);N.response=k,N.rgbaoutput=!0,N.dataurl=!1;var P=N.header?N.header:null,F=N.frames?N.frames:null;if(P){P.loop_counter=P.loop_count,m=[P.canvas_height],w=[P.canvas_width];for(var O=0;O<F.length&&F[O].blend!=0;O++);}var z=F[0],L=_.WebPDecodeRGBA(k,z.src_off,z.src_size,w,m);z.rgba=L,z.imgwidth=w[0],z.imgheight=m[0];for(var I=0;I<w[0]*m[0]*4;I++)S[I]=L[I];return this.width=w,this.height=m,this.data=S,this}(function(t){var e,r,n,i,a,s,l,c,d,f=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new c,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new s,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new s,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new f}]);var p=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=q;Object.defineProperty(this,"pdf",{get:function(){return Q}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(ce){re=!!ce}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(ce){ae=!!ce}});var ye=0;Object.defineProperty(this,"posX",{get:function(){return ye},set:function(ce){isNaN(ce)||(ye=ce)}});var Te=0;Object.defineProperty(this,"posY",{get:function(){return Te},set:function(ce){isNaN(ce)||(Te=ce)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ce){var yt;typeof ce=="number"?yt=[ce,ce,ce,ce]:((yt=new Array(4))[0]=ce[0],yt[1]=ce.length>=2?ce[1]:yt[0],yt[2]=ce.length>=3?ce[2]:yt[0],yt[3]=ce.length>=4?ce[3]:yt[1]),d.margin=yt}});var Ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ve},set:function(ce){Ve=ce}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(ce){he=ce}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(ce){Ce=ce}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ce){ce instanceof f&&(d=ce)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ce){d.path=ce}});var We=[];Object.defineProperty(this,"ctxStack",{get:function(){return We},set:function(ce){We=ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ce){var yt;yt=g(ce),this.ctx.fillStyle=yt.style,this.ctx.isFillTransparent=yt.a===0,this.ctx.fillOpacity=yt.a,this.pdf.setFillColor(yt.r,yt.g,yt.b,{a:yt.a}),this.pdf.setTextColor(yt.r,yt.g,yt.b,{a:yt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ce){var yt=g(ce);this.ctx.strokeStyle=yt.style,this.ctx.isStrokeTransparent=yt.a===0,this.ctx.strokeOpacity=yt.a,yt.a===0?this.pdf.setDrawColor(255,255,255):(yt.a,this.pdf.setDrawColor(yt.r,yt.g,yt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ce){["butt","round","square"].indexOf(ce)!==-1&&(this.ctx.lineCap=ce,this.pdf.setLineCap(ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ce){isNaN(ce)||(this.ctx.lineWidth=ce,this.pdf.setLineWidth(ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ce){["bevel","round","miter"].indexOf(ce)!==-1&&(this.ctx.lineJoin=ce,this.pdf.setLineJoin(ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ce){isNaN(ce)||(this.ctx.miterLimit=ce,this.pdf.setMiterLimit(ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ce){this.ctx.textBaseline=ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ce){["right","end","center","left","start"].indexOf(ce)!==-1&&(this.ctx.textAlign=ce)}});var Ie=null,dt=null,vt=null;Object.defineProperty(this,"fontFaces",{get:function(){return vt},set:function(ce){Ie=null,dt=null,vt=ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ce){var yt;if(this.ctx.font=ce,(yt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ce))!==null){var Yt=yt[1];yt[2];var Ft=yt[3],Je=yt[4];yt[5];var Nt=yt[6],kt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(kt==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:kt==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var lt=(function(Ct){var Ar,ar,jt=[],Ht=Ct.trim();if(Ht==="")return _A;if(Ht in ID)return[ID[Ht]];for(;Ht!=="";){switch(ar=null,Ar=(Ht=LD(Ht)).charAt(0)){case'"':case"'":ar=Ege(Ht.substring(1),Ar);break;default:ar=Tge(Ht)}if(ar===null||(jt.push(ar[0]),(Ht=LD(ar[1]))!==""&&Ht.charAt(0)!==","))return _A;Ht=Ht.replace(/^,/,"")}return jt})(Nt);if(this.fontFaces){var It=(function(Ct,Ar){var ar=Ct.getFontList(),jt=JSON.stringify(ar);if(Ie===null||dt!==jt){var Ht=(function(Se){var Le=[];return Object.keys(Se).forEach(function(Et){Se[Et].forEach(function(rt){var bt=null;switch(rt){case"bold":bt={family:Et,weight:"bold"};break;case"italic":bt={family:Et,style:"italic"};break;case"bolditalic":bt={family:Et,weight:"bold",style:"italic"};break;case"":case"normal":bt={family:Et}}bt!==null&&(bt.ref={name:Et,style:rt},Le.push(bt))})}),Le})(ar);Ie=(function(Se){for(var Le={},Et=0;Et<Se.length;++Et){var rt=wA(Se[Et]),bt=rt.family,_t=rt.stretch,gt=rt.style,W=rt.weight;Le[bt]=Le[bt]||{},Le[bt][_t]=Le[bt][_t]||{},Le[bt][_t][gt]=Le[bt][_t][gt]||{},Le[bt][_t][gt][W]=rt}return Le})(Ht.concat(Ar)),dt=jt}return Ie})(this.pdf,this.fontFaces),tr=lt.map(function(Ct){return{family:Ct,stretch:"normal",weight:Ft,style:Yt}}),Jt=(function(Ct,Ar,ar){for(var jt=(ar=ar||{}).defaultFontFamily||"times",Ht=Object.assign({},Sge,ar.genericFontFamilies||{}),Se=null,Le=null,Et=0;Et<Ar.length;++Et)if(Ht[(Se=wA(Ar[Et])).family]&&(Se.family=Ht[Se.family]),Ct.hasOwnProperty(Se.family)){Le=Ct[Se.family];break}if(!(Le=Le||Ct[jt]))throw new Error("Could not find a font-family for the rule '"+DD(Se)+"' and default family '"+jt+"'.");if(Le=(function(rt,bt){if(bt[rt])return bt[rt];var _t=PT[rt],gt=_t<=PT.normal?-1:1,W=OD(bt,Z$,_t,gt);if(!W)throw new Error("Could not find a matching font-stretch value for "+rt);return W})(Se.stretch,Le),Le=(function(rt,bt){if(bt[rt])return bt[rt];for(var _t=Q$[rt],gt=0;gt<_t.length;++gt)if(bt[_t[gt]])return bt[_t[gt]];throw new Error("Could not find a matching font-style for "+rt)})(Se.style,Le),!(Le=(function(rt,bt){if(bt[rt])return bt[rt];if(rt===400&&bt[500])return bt[500];if(rt===500&&bt[400])return bt[400];var _t=Age[rt],gt=OD(bt,J$,_t,rt<400?-1:1);if(!gt)throw new Error("Could not find a matching font-weight for value "+rt);return gt})(Se.weight,Le)))throw new Error("Failed to resolve a font for the rule '"+DD(Se)+"'.");return Le})(It,tr);this.pdf.setFont(Jt.ref.name,Jt.ref.style)}else{var qt="";(Ft==="bold"||parseInt(Ft,10)>=700||Yt==="bold")&&(qt="bold"),Yt==="italic"&&(qt+="italic"),qt.length===0&&(qt="normal");for(var ir="",rr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<lt.length;Pt++){if(this.pdf.internal.getFont(lt[Pt],qt,{noFallback:!0,disableWarning:!0})!==void 0){ir=lt[Pt];break}if(qt==="bolditalic"&&this.pdf.internal.getFont(lt[Pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ir=lt[Pt],qt="bold";else if(this.pdf.internal.getFont(lt[Pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ir=lt[Pt],qt="normal";break}}if(ir===""){for(var er=0;er<lt.length;er++)if(rr[lt[er]]){ir=rr[lt[er]];break}}ir=ir===""?"Times":ir,this.pdf.setFont(ir,qt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ce){this.ctx.globalCompositeOperation=ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ce){this.ctx.globalAlpha=ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ce){this.ctx.lineDashOffset=ce,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ce){this.ctx.lineDash=ce,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ce){this.ctx.ignoreClearRect=!!ce}})};p.prototype.setLineDash=function(q){this.lineDash=q},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){F.call(this,"fill",!1)},p.prototype.stroke=function(){F.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(q,Q){if(isNaN(q)||isNaN(Q))throw Un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new s(q,Q));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new s(q,Q)},p.prototype.closePath=function(){var q=new s(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&kn(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){q=new s(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(q.x,q.y)},p.prototype.lineTo=function(q,Q){if(isNaN(q)||isNaN(Q))throw Un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new s(q,Q));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new s(re.x,re.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},p.prototype.quadraticCurveTo=function(q,Q,re,ae){if(isNaN(re)||isNaN(ae)||isNaN(q)||isNaN(Q))throw Un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ye=this.ctx.transform.applyToPoint(new s(re,ae)),Te=this.ctx.transform.applyToPoint(new s(q,Q));this.path.push({type:"qct",x1:Te.x,y1:Te.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new s(ye.x,ye.y)},p.prototype.bezierCurveTo=function(q,Q,re,ae,ye,Te){if(isNaN(ye)||isNaN(Te)||isNaN(q)||isNaN(Q)||isNaN(re)||isNaN(ae))throw Un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ve=this.ctx.transform.applyToPoint(new s(ye,Te)),he=this.ctx.transform.applyToPoint(new s(q,Q)),Ce=this.ctx.transform.applyToPoint(new s(re,ae));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:Ce.x,y2:Ce.y,x:Ve.x,y:Ve.y}),this.ctx.lastPoint=new s(Ve.x,Ve.y)},p.prototype.arc=function(q,Q,re,ae,ye,Te){if(isNaN(q)||isNaN(Q)||isNaN(re)||isNaN(ae)||isNaN(ye))throw Un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Te=!!Te,!this.ctx.transform.isIdentity){var Ve=this.ctx.transform.applyToPoint(new s(q,Q));q=Ve.x,Q=Ve.y;var he=this.ctx.transform.applyToPoint(new s(0,re)),Ce=this.ctx.transform.applyToPoint(new s(0,0));re=Math.sqrt(Math.pow(he.x-Ce.x,2)+Math.pow(he.y-Ce.y,2))}Math.abs(ye-ae)>=2*Math.PI&&(ae=0,ye=2*Math.PI),this.path.push({type:"arc",x:q,y:Q,radius:re,startAngle:ae,endAngle:ye,counterclockwise:Te})},p.prototype.arcTo=function(q,Q,re,ae,ye){throw new Error("arcTo not implemented.")},p.prototype.rect=function(q,Q,re,ae){if(isNaN(q)||isNaN(Q)||isNaN(re)||isNaN(ae))throw Un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,Q),this.lineTo(q+re,Q),this.lineTo(q+re,Q+ae),this.lineTo(q,Q+ae),this.lineTo(q,Q),this.lineTo(q+re,Q),this.lineTo(q,Q)},p.prototype.fillRect=function(q,Q,re,ae){if(isNaN(q)||isNaN(Q)||isNaN(re)||isNaN(ae))throw Un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ye={};this.lineCap!=="butt"&&(ye.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ye.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,Q,re,ae),this.fill(),ye.hasOwnProperty("lineCap")&&(this.lineCap=ye.lineCap),ye.hasOwnProperty("lineJoin")&&(this.lineJoin=ye.lineJoin)}},p.prototype.strokeRect=function(q,Q,re,ae){if(isNaN(q)||isNaN(Q)||isNaN(re)||isNaN(ae))throw Un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(q,Q,re,ae),this.stroke())},p.prototype.clearRect=function(q,Q,re,ae){if(isNaN(q)||isNaN(Q)||isNaN(re)||isNaN(ae))throw Un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,Q,re,ae))},p.prototype.save=function(q){q=typeof q!="boolean"||q;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},p.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(q){var Q,re,ae,ye;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))Q=0,re=0,ae=0,ye=0;else{var Te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(Te!==null)Q=parseInt(Te[1]),re=parseInt(Te[2]),ae=parseInt(Te[3]),ye=1;else if((Te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)Q=parseInt(Te[1]),re=parseInt(Te[2]),ae=parseInt(Te[3]),ye=parseFloat(Te[4]);else{if(ye=1,typeof q=="string"&&q.charAt(0)!=="#"){var Ve=new q$(q);q=Ve.ok?Ve.toHex():"#000000"}q.length===4?(Q=q.substring(1,2),Q+=Q,re=q.substring(2,3),re+=re,ae=q.substring(3,4),ae+=ae):(Q=q.substring(1,3),re=q.substring(3,5),ae=q.substring(5,7)),Q=parseInt(Q,16),re=parseInt(re,16),ae=parseInt(ae,16)}}return{r:Q,g:re,b:ae,a:ye,style:q}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(q,Q,re,ae){if(isNaN(Q)||isNaN(re)||typeof q!="string")throw Un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!m.call(this)){var ye=fe(this.ctx.transform.rotation),Te=this.ctx.transform.scaleX;V.call(this,{text:q,x:Q,y:re,scale:Te,angle:ye,align:this.textAlign,maxWidth:ae})}},p.prototype.strokeText=function(q,Q,re,ae){if(isNaN(Q)||isNaN(re)||typeof q!="string")throw Un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ae=isNaN(ae)?void 0:ae;var ye=fe(this.ctx.transform.rotation),Te=this.ctx.transform.scaleX;V.call(this,{text:q,x:Q,y:re,scale:Te,renderingMode:"stroke",angle:ye,align:this.textAlign,maxWidth:ae})}},p.prototype.measureText=function(q){if(typeof q!="string")throw Un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,re=this.pdf.internal.scaleFactor,ae=Q.internal.getFontSize(),ye=Q.getStringUnitWidth(q)*ae/Q.internal.scaleFactor;return new function(Te){var Ve=(Te=Te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ve}}),this}({width:ye*=Math.round(96*re/72*1e4)/1e4})},p.prototype.scale=function(q,Q){if(isNaN(q)||isNaN(Q))throw Un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new c(q,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},p.prototype.rotate=function(q){if(isNaN(q))throw Un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new c(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},p.prototype.translate=function(q,Q){if(isNaN(q)||isNaN(Q))throw Un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new c(1,0,0,1,q,Q);this.ctx.transform=this.ctx.transform.multiply(re)},p.prototype.transform=function(q,Q,re,ae,ye,Te){if(isNaN(q)||isNaN(Q)||isNaN(re)||isNaN(ae)||isNaN(ye)||isNaN(Te))throw Un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ve=new c(q,Q,re,ae,ye,Te);this.ctx.transform=this.ctx.transform.multiply(Ve)},p.prototype.setTransform=function(q,Q,re,ae,ye,Te){q=isNaN(q)?1:q,Q=isNaN(Q)?0:Q,re=isNaN(re)?0:re,ae=isNaN(ae)?1:ae,ye=isNaN(ye)?0:ye,Te=isNaN(Te)?0:Te,this.ctx.transform=new c(q,Q,re,ae,ye,Te)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(q,Q,re,ae,ye,Te,Ve,he,Ce){var We=this.pdf.getImageProperties(q),Ie=1,dt=1,vt=1,ce=1;ae!==void 0&&he!==void 0&&(vt=he/ae,ce=Ce/ye,Ie=We.width/ae*he/ae,dt=We.height/ye*Ce/ye),Te===void 0&&(Te=Q,Ve=re,Q=0,re=0),ae!==void 0&&he===void 0&&(he=ae,Ce=ye),ae===void 0&&he===void 0&&(he=We.width,Ce=We.height);var yt=this.ctx.transform.decompose(),Yt=fe(yt.rotate.shx),Ft=new c,Je=(Ft=(Ft=(Ft=Ft.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale)).applyToRectangle(new l(Te-Q*vt,Ve-re*ce,ae*Ie,ye*dt));if(this.autoPaging){for(var Nt,kt=_.call(this,Je),lt=[],It=0;It<kt.length;It+=1)lt.indexOf(kt[It])===-1&&lt.push(kt[It]);P(lt);for(var tr=lt[0],Jt=lt[lt.length-1],qt=tr;qt<Jt+1;qt++){this.pdf.setPage(qt);var ir=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rr=qt===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],er=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=qt===1?0:Pt+(qt-2)*er;if(this.ctx.clip_path.length!==0){var Ar=this.path;Nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Nt,this.posX+this.margin[3],-Ct+rr+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Ar}var ar=JSON.parse(JSON.stringify(Je));ar=N([ar],this.posX+this.margin[3],-Ct+rr+this.ctx.prevPageLastElemOffset)[0];var jt=(qt>tr||qt<Jt)&&S.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ir,er,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",ar.x,ar.y,ar.w,ar.h,null,null,Yt),jt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(q,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,Yt)};var _=function(q,Q,re){var ae=[];Q=Q||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ye=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":ae.push(Math.floor((q.y+ye)/re)+1);break;case"arc":ae.push(Math.floor((q.y+ye-q.radius)/re)+1),ae.push(Math.floor((q.y+ye+q.radius)/re)+1);break;case"qct":var Te=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);ae.push(Math.floor((Te.y+ye)/re)+1),ae.push(Math.floor((Te.y+Te.h+ye)/re)+1);break;case"bct":var Ve=Be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);ae.push(Math.floor((Ve.y+ye)/re)+1),ae.push(Math.floor((Ve.y+Ve.h+ye)/re)+1);break;case"rect":ae.push(Math.floor((q.y+ye)/re)+1),ae.push(Math.floor((q.y+q.h+ye)/re)+1)}for(var he=0;he<ae.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<ae[he];)k.call(this);return ae},k=function(){var q=this.fillStyle,Q=this.strokeStyle,re=this.font,ae=this.lineCap,ye=this.lineWidth,Te=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=Q,this.font=re,this.lineCap=ae,this.lineWidth=ye,this.lineJoin=Te},N=function(q,Q,re){for(var ae=0;ae<q.length;ae++)switch(q[ae].type){case"bct":q[ae].x2+=Q,q[ae].y2+=re;case"qct":q[ae].x1+=Q,q[ae].y1+=re;default:q[ae].x+=Q,q[ae].y+=re}return q},P=function(q){return q.sort(function(Q,re){return Q-re})},F=function(q,Q){var re=this.fillStyle,ae=this.strokeStyle,ye=this.lineCap,Te=this.lineWidth,Ve=Math.abs(Te*this.ctx.transform.scaleX),he=this.lineJoin;if(this.autoPaging){for(var Ce,We,Ie=JSON.parse(JSON.stringify(this.path)),dt=JSON.parse(JSON.stringify(this.path)),vt=[],ce=0;ce<dt.length;ce++)if(dt[ce].x!==void 0)for(var yt=_.call(this,dt[ce]),Yt=0;Yt<yt.length;Yt+=1)vt.indexOf(yt[Yt])===-1&&vt.push(yt[Yt]);for(var Ft=0;Ft<vt.length;Ft++)for(;this.pdf.internal.getNumberOfPages()<vt[Ft];)k.call(this);P(vt);for(var Je=vt[0],Nt=vt[vt.length-1],kt=Je;kt<Nt+1;kt++){this.pdf.setPage(kt),this.fillStyle=re,this.strokeStyle=ae,this.lineCap=ye,this.lineWidth=Ve,this.lineJoin=he;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=kt===1?this.posY+this.margin[0]:this.margin[0],tr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qt=kt===1?0:tr+(kt-2)*Jt;if(this.ctx.clip_path.length!==0){var ir=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Ce,this.posX+this.margin[3],-qt+It+this.ctx.prevPageLastElemOffset),O.call(this,q,!0),this.path=ir}if(We=JSON.parse(JSON.stringify(Ie)),this.path=N(We,this.posX+this.margin[3],-qt+It+this.ctx.prevPageLastElemOffset),Q===!1||kt===0){var rr=(kt>Je||kt<Nt)&&S.call(this);rr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Jt,null).clip().discardPath()),O.call(this,q,Q),rr&&this.pdf.restoreGraphicsState()}this.lineWidth=Te}this.path=Ie}else this.lineWidth=Ve,O.call(this,q,Q),this.lineWidth=Te},O=function(q,Q){if((q!=="stroke"||Q||!w.call(this))&&(q==="stroke"||Q||!m.call(this))){for(var re,ae,ye=[],Te=this.path,Ve=0;Ve<Te.length;Ve++){var he=Te[Ve];switch(he.type){case"begin":ye.push({begin:!0});break;case"close":ye.push({close:!0});break;case"mt":ye.push({start:he,deltas:[],abs:[]});break;case"lt":var Ce=ye.length;if(Te[Ve-1]&&!isNaN(Te[Ve-1].x)&&(re=[he.x-Te[Ve-1].x,he.y-Te[Ve-1].y],Ce>0)){for(;Ce>=0;Ce--)if(ye[Ce-1].close!==!0&&ye[Ce-1].begin!==!0){ye[Ce-1].deltas.push(re),ye[Ce-1].abs.push(he);break}}break;case"bct":re=[he.x1-Te[Ve-1].x,he.y1-Te[Ve-1].y,he.x2-Te[Ve-1].x,he.y2-Te[Ve-1].y,he.x-Te[Ve-1].x,he.y-Te[Ve-1].y],ye[ye.length-1].deltas.push(re);break;case"qct":var We=Te[Ve-1].x+2/3*(he.x1-Te[Ve-1].x),Ie=Te[Ve-1].y+2/3*(he.y1-Te[Ve-1].y),dt=he.x+2/3*(he.x1-he.x),vt=he.y+2/3*(he.y1-he.y),ce=he.x,yt=he.y;re=[We-Te[Ve-1].x,Ie-Te[Ve-1].y,dt-Te[Ve-1].x,vt-Te[Ve-1].y,ce-Te[Ve-1].x,yt-Te[Ve-1].y],ye[ye.length-1].deltas.push(re);break;case"arc":ye.push({deltas:[],abs:[],arc:!0}),Array.isArray(ye[ye.length-1].abs)&&ye[ye.length-1].abs.push(he)}}ae=Q?null:q==="stroke"?"stroke":"fill";for(var Yt=!1,Ft=0;Ft<ye.length;Ft++)if(ye[Ft].arc)for(var Je=ye[Ft].abs,Nt=0;Nt<Je.length;Nt++){var kt=Je[Nt];kt.type==="arc"?I.call(this,kt.x,kt.y,kt.radius,kt.startAngle,kt.endAngle,kt.counterclockwise,void 0,Q,!Yt):M.call(this,kt.x,kt.y),Yt=!0}else if(ye[Ft].close===!0)this.pdf.internal.out("h"),Yt=!1;else if(ye[Ft].begin!==!0){var lt=ye[Ft].start.x,It=ye[Ft].start.y;J.call(this,ye[Ft].deltas,lt,It),Yt=!0}ae&&D.call(this,ae),Q&&$.call(this)}},z=function(q){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-re;case"top":return q+Q-re;case"hanging":return q+Q-2*re;case"middle":return q+Q/2-re;default:return q}},L=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(Q,re){this.colorStops.push([Q,re])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(q,Q,re,ae,ye,Te,Ve,he,Ce){for(var We=se.call(this,re,ae,ye,Te),Ie=0;Ie<We.length;Ie++){var dt=We[Ie];Ie===0&&(Ce?j.call(this,dt.x1+q,dt.y1+Q):M.call(this,dt.x1+q,dt.y1+Q)),_e.call(this,q,Q,dt.x2,dt.y2,dt.x3,dt.y3,dt.x4,dt.y4)}he?$.call(this):D.call(this,Ve)},D=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(q,Q){this.pdf.internal.out(r(q)+" "+n(Q)+" m")},V=function(q){var Q;switch(q.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var re,ae,ye,Te=this.pdf.getTextDimensions(q.text),Ve=z.call(this,q.y),he=L.call(this,Ve)-Te.h,Ce=this.ctx.transform.applyToPoint(new s(q.x,Ve));if(this.autoPaging){var We=this.ctx.transform.decompose(),Ie=new c;Ie=(Ie=(Ie=Ie.multiply(We.translate)).multiply(We.skew)).multiply(We.scale);for(var dt=this.ctx.transform.applyToRectangle(new l(q.x,Ve,Te.w,Te.h)),vt=Ie.applyToRectangle(new l(q.x,he,Te.w,Te.h)),ce=_.call(this,vt),yt=[],Yt=0;Yt<ce.length;Yt+=1)yt.indexOf(ce[Yt])===-1&&yt.push(ce[Yt]);P(yt);for(var Ft=yt[0],Je=yt[yt.length-1],Nt=Ft;Nt<Je+1;Nt++){this.pdf.setPage(Nt);var kt=Nt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[2],tr=It-this.margin[0],Jt=this.pdf.internal.pageSize.width-this.margin[1],qt=Jt-this.margin[3],ir=Nt===1?0:lt+(Nt-2)*tr;if(this.ctx.clip_path.length!==0){var rr=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(re,this.posX+this.margin[3],-1*ir+kt),O.call(this,"fill",!0),this.path=rr}var Pt=N([JSON.parse(JSON.stringify(vt))],this.posX+this.margin[3],-ir+kt+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*q.scale),ye=this.lineWidth,this.lineWidth=ye*q.scale);var er=this.autoPaging!=="text";if(er||Pt.y+Pt.h<=It){if(er||Pt.y>=kt&&Pt.x<=Jt){var Ct=er?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||Jt-Pt.x)[0],Ar=N([JSON.parse(JSON.stringify(dt))],this.posX+this.margin[3],-ir+kt+this.ctx.prevPageLastElemOffset)[0],ar=er&&(Nt>Ft||Nt<Je)&&S.call(this);ar&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,tr,null).clip().discardPath()),this.pdf.text(Ct,Ar.x,Ar.y,{angle:q.angle,align:Q,renderingMode:q.renderingMode}),ar&&this.pdf.restoreGraphicsState()}}else Pt.y<It&&(this.ctx.prevPageLastElemOffset+=It-Pt.y);q.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ye)}}else q.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*q.scale),ye=this.lineWidth,this.lineWidth=ye*q.scale),this.pdf.text(q.text,Ce.x+this.posX,Ce.y+this.posY,{angle:q.angle,align:Q,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ye)},M=function(q,Q,re,ae){re=re||0,ae=ae||0,this.pdf.internal.out(r(q+re)+" "+n(Q+ae)+" l")},J=function(q,Q,re){return this.pdf.lines(q,Q,re,null,null)},_e=function(q,Q,re,ae,ye,Te,Ve,he){this.pdf.internal.out([e(i(re+q)),e(a(ae+Q)),e(i(ye+q)),e(a(Te+Q)),e(i(Ve+q)),e(a(he+Q)),"c"].join(" "))},se=function(q,Q,re,ae){for(var ye=2*Math.PI,Te=Math.PI/2;Q>re;)Q-=ye;var Ve=Math.abs(re-Q);Ve<ye&&ae&&(Ve=ye-Ve);for(var he=[],Ce=ae?-1:1,We=Q;Ve>1e-5;){var Ie=We+Ce*Math.min(Ve,Te);he.push(ee.call(this,q,We,Ie)),Ve-=Math.abs(Ie-We),We=Ie}return he},ee=function(q,Q,re){var ae=(re-Q)/2,ye=q*Math.cos(ae),Te=q*Math.sin(ae),Ve=ye,he=-Te,Ce=Ve*Ve+he*he,We=Ce+Ve*ye+he*Te,Ie=4/3*(Math.sqrt(2*Ce*We)-We)/(Ve*Te-he*ye),dt=Ve-Ie*he,vt=he+Ie*Ve,ce=dt,yt=-vt,Yt=ae+Q,Ft=Math.cos(Yt),Je=Math.sin(Yt);return{x1:q*Math.cos(Q),y1:q*Math.sin(Q),x2:dt*Ft-vt*Je,y2:dt*Je+vt*Ft,x3:ce*Ft-yt*Je,y3:ce*Je+yt*Ft,x4:q*Math.cos(re),y4:q*Math.sin(re)}},fe=function(q){return 180*q/Math.PI},we=function(q,Q,re,ae,ye,Te){var Ve=q+.5*(re-q),he=Q+.5*(ae-Q),Ce=ye+.5*(re-ye),We=Te+.5*(ae-Te),Ie=Math.min(q,ye,Ve,Ce),dt=Math.max(q,ye,Ve,Ce),vt=Math.min(Q,Te,he,We),ce=Math.max(Q,Te,he,We);return new l(Ie,vt,dt-Ie,ce-vt)},Be=function(q,Q,re,ae,ye,Te,Ve,he){var Ce,We,Ie,dt,vt,ce,yt,Yt,Ft,Je,Nt,kt,lt,It,tr=re-q,Jt=ae-Q,qt=ye-re,ir=Te-ae,rr=Ve-ye,Pt=he-Te;for(We=0;We<41;We++)Ft=(yt=(Ie=q+(Ce=We/40)*tr)+Ce*((vt=re+Ce*qt)-Ie))+Ce*(vt+Ce*(ye+Ce*rr-vt)-yt),Je=(Yt=(dt=Q+Ce*Jt)+Ce*((ce=ae+Ce*ir)-dt))+Ce*(ce+Ce*(Te+Ce*Pt-ce)-Yt),We==0?(Nt=Ft,kt=Je,lt=Ft,It=Je):(Nt=Math.min(Nt,Ft),kt=Math.min(kt,Je),lt=Math.max(lt,Ft),It=Math.max(It,Je));return new l(Math.round(Nt),Math.round(kt),Math.round(lt-Nt),Math.round(It-kt))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,Q,re=(q=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:Q}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(sr.API),(function(t){var e=function(s){var l,c,d,f,p,g,m,w,S,_;for(c=[],d=0,f=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;f>d;d+=4)(p=(s.charCodeAt(d)<<24)+(s.charCodeAt(d+1)<<16)+(s.charCodeAt(d+2)<<8)+s.charCodeAt(d+3))!==0?(g=(p=((p=((p=((p=(p-(_=p%85))/85)-(S=p%85))/85)-(w=p%85))/85)-(m=p%85))/85)%85,c.push(g+33,m+33,w+33,S+33,_+33)):c.push(122);return(function(k,N){for(var P=N;P>0;P--)k.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var l,c,d,f,p,g=String,m="length",w=255,S="charCodeAt",_="slice",k="replace";for(s[_](-2),s=s[_](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),d=[],f=0,p=(s+=l="uuuuu"[_](s[m]%5||5))[m];p>f;f+=5)c=52200625*(s[S](f)-33)+614125*(s[S](f+1)-33)+7225*(s[S](f+2)-33)+85*(s[S](f+3)-33)+(s[S](f+4)-33),d.push(w&c>>24,w&c>>16,w&c>>8,w&c);return(function(N,P){for(var F=P;F>0;F--)N.pop()})(d,l[m]),g.fromCharCode.apply(g,d)},n=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",d=0;d<s.length;d+=2)c+=String.fromCharCode("0x"+(s[d]+s[d+1]));return c},a=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return(l=AT(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};t.processDataByFilters=function(s,l){var c=0,d=s||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(sr.API),(function(t){t.loadFile=function(e,r,n){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,d,f){var p=new XMLHttpRequest,g=0,m=function(w){var S=w.length,_=[],k=String.fromCharCode;for(g=0;g<S;g+=1)_.push(k(255&w.charCodeAt(g)));return _.join("")};if(p.open("GET",c,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?f(m(this.responseText)):f(void 0)}),p.send(null),d&&p.status===200)return m(p.responseText)})(i,a,s)}catch{}return l})(e,r,n)},t.loadImageFile=t.loadFile})(sr.API),(function(t){function e(){return(Er.html2canvas?Promise.resolve(Er.html2canvas):Wa(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Er.DOMPurify?Promise.resolve(Er.DOMPurify):Wa(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=kn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var d=document.createElement(l);for(var f in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[f]=c.style[f];return d},a=function l(c,d){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},s=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return(f=f.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(d){return this.set({src:i("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var m=0;m<f.length;++m){var w=f[m],S=w.src.find(function(_){return _.format==="truetype"});S&&d.addFont(S.url,w.ref.name,w.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,d.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in s.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var d=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},s.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||sr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,d,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,d,f){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(f,p){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(g){return d.updateProgress(null,f),g}).then(f,p).then(function(g){return d.updateProgress(1),g})})},s.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),c&&(c=c.bind(f));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:s.convert(Object.assign({},f),Promise.prototype),g=d.call(p,l,c);return s.convert(g,f.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,sr.getPageSize=function(l,c,d){if(kn(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,d=f.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var p,g=(""+d).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var w,S=0,_=0;if(m.hasOwnProperty(g))S=m[g][1]/p,_=m[g][0]/p;else try{S=d[1],_=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",_>S&&(w=_,_=S,S=w);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",S>_&&(w=_,_=S,S=w)}return{width:_,height:S,unit:c,k:p,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(wA):null;var d=new s(c);return c.worker?d:d.from(l).doCallback()}})(sr.API),sr.API.addJS=function(t){return BD=t,this.internal.events.subscribe("postPutResources",function(){eb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(eb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),MD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+BD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){eb!==void 0&&MD!==void 0&&this.internal.out("/Names <</JavaScript "+eb+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=n.exec(s);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(a=0;a<d;a++){var p=r.internal.newObject();f.push(p);var g=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<f.length;a++)r.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(sr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,l){var c,d=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),w=p.length,S={width:0,height:0,numcomponents:1},_=4;_<w;_+=2){if(_+=m,e.indexOf(p.charCodeAt(_+1))!==-1){g=256*p.charCodeAt(_+5)+p.charCodeAt(_+6),S={width:256*p.charCodeAt(_+7)+p.charCodeAt(_+8),height:g,numcomponents:p.charCodeAt(_+9)};break}m=256*p.charCodeAt(_+2)+p.charCodeAt(_+3)}return S})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:i}}return f}})(sr.API),sr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=uge(t,{checkCrc:!0}),s=a.width,l=a.height,c=a.channels,d=a.palette,f=a.depth;i=d&&c===1?(function(I){for(var D=I.width,$=I.height,j=I.data,V=I.palette,M=I.depth,J=!1,_e=[],se=[],ee=void 0,fe=!1,we=0,Be=0;Be<V.length;Be++){var Z=zI(V[Be],4),q=Z[0],Q=Z[1],re=Z[2],ae=Z[3];_e.push(q,Q,re),ae!=null&&(ae===0?(we++,se.length<1&&se.push(Be)):ae<255&&(fe=!0))}if(fe||we>1){J=!0,se=void 0;var ye=D*$;ee=new Uint8Array(ye);for(var Te=new DataView(j.buffer),Ve=0;Ve<ye;Ve++){var he=AA(Te,Ve,M),Ce=zI(V[he],4)[3];ee[Ve]=Ce}}else we===0&&(se=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:j,alphaBytes:ee,needSMask:J,palette:_e,mask:se}})(a):c===2||c===4?(function(I){for(var D=I.data,$=I.width,j=I.height,V=I.channels,M=I.depth,J=V===2?"DeviceGray":"DeviceRGB",_e=V-1,se=$*j,ee=_e,fe=se*ee,we=1*se,Be=Math.ceil(fe*M/8),Z=Math.ceil(we*M/8),q=new Uint8Array(Be),Q=new Uint8Array(Z),re=new DataView(D.buffer),ae=new DataView(q.buffer),ye=new DataView(Q.buffer),Te=!1,Ve=0;Ve<se;Ve++){for(var he=Ve*V,Ce=0;Ce<ee;Ce++)WD(ae,AA(re,he+Ce,M),Ve*ee+Ce,M);var We=AA(re,he+ee,M);We<(1<<M)-1&&(Te=!0),WD(ye,We,1*Ve,M)}return{colorSpace:J,colorsPerPixel:_e,sMaskBitsPerComponent:Te?M:void 0,colorBytes:q,alphaBytes:Q,needSMask:Te}})(a):(function(I){var D=I.data,$=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(j){for(var V=j.length,M=new Uint8Array(2*V),J=new DataView(M.buffer,M.byteOffset,M.byteLength),_e=0;_e<V;_e++)J.setUint16(2*_e,j[_e],!1);return M})(D):D,needSMask:!1}})(a);var p,g,m,w=i,S=w.colorSpace,_=w.colorsPerPixel,k=w.sMaskBitsPerComponent,N=w.colorBytes,P=w.alphaBytes,F=w.needSMask,O=w.palette,z=w.mask,L=null;return n!==sr.API.image_compression.NONE&&typeof AT=="function"?(L=(function(I){var D;switch(I){case sr.API.image_compression.FAST:D=11;break;case sr.API.image_compression.MEDIUM:D=13;break;case sr.API.image_compression.SLOW:D=14;break;default:D=12}return D})(n),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(L," /Colors ").concat(_," /BitsPerComponent ").concat(f," /Columns ").concat(s),t=zD(N,Math.ceil(s*_*f/8),_,f,n),F&&(m=zD(P,Math.ceil(s*k/8),1,k,n))):(p=void 0,g=void 0,t=N,F&&(m=P)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:t,index:e,filter:p,decodeParameters:g,transparency:z,palette:O,sMask:m,predictor:L,width:s,height:l,bitsPerComponent:f,sMaskBitsPerComponent:k,colorSpace:S}}},(function(t){t.processGIF89A=function(e,r,n,i){var a=new Pge(e),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:s,height:l},f=new SA(100).encode(d,100);return t.processJPEG.call(this,f,r,n,i)},t.processGIF87A=t.processGIF89A})(sr.API),Jl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Jl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Un.log("bit decode error:"+r)}},Jl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Jl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Jl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Jl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,d=a>>15?255:0,f=n*this.width*4+4*i;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=s,this.data[f+3]=d}this.pos+=t}},Jl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,d=(s>>11)/e*255|0,f=i*this.width*4+4*a;this.data[f]=d,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},Jl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Jl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=s}},Jl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var a=new Jl(e,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new SA(100).encode(c,100);return t.processJPEG.call(this,d,r,n,i)}})(sr.API),YD.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var a=new YD(e),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new SA(100).encode(c,100);return t.processJPEG.call(this,d,r,n,i)}})(sr.API),sr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var f=n[d],p=n[d+1],g=n[d+2],m=n[d+3];a[l++]=f,a[l++]=p,a[l++]=g,s[c++]=m}var w=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:w,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},sr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},em=sr.API,tb=em.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,p=e.doKerning!==!1,g=0,m=t.length,w=0,S=l[0]||c,_=[];for(r=0;r<m;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(g=p&&kn(d[n])==="object"&&!isNaN(parseInt(d[n][w],10))?d[n][w]/f:0,_.push((l[n]||S)/c+g)),w=n;return _},FD=em.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return em.processArabic&&(t=em.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:tb.apply(this,arguments).reduce(function(a,s){return a+s},0)},UD=function(t,e,r,n){for(var i=[],a=0,s=t.length,l=0;a!==s&&l+e[a]<r;)l+=e[a],a++;i.push(t.slice(0,a));var c=a;for(l=0;a!==s;)l+e[a]>n&&(i.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(t.slice(c,a)),i},VD=function(t,e,r){r||(r={});var n,i,a,s,l,c,d,f=[],p=[f],g=r.textIndent||0,m=0,w=0,S=t.split(" "),_=tb.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var k=Array(c).join(" "),N=[];S.map(function(F){(F=F.split(/\s*\n/)).length>1?N=N.concat(F.map(function(O,z){return(z&&O.length?`
`:"")+O})):N.push(F[0])}),S=N,c=FD.apply(this,[k,r])}for(a=0,s=S.length;a<s;a++){var P=0;if(n=S[a],c&&n[0]==`
`&&(n=n.substr(1),P=1),g+m+(w=(i=tb.apply(this,[n,r])).reduce(function(F,O){return F+O},0))>e||P){if(w>e){for(l=UD.apply(this,[n,i,e-(g+m),e]),f.push(l.shift()),f=[l.pop()];l.length;)p.push([l.shift()]);w=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(F,O){return F+O},0)}else f=[n];p.push(f),g=w+c,m=_}else f.push(n),g+=m+w,m=_}return d=c?function(F,O){return(O?k:"")+F.join(" ")}:function(F){return F.join(" ")},p.map(d)},em.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(VD.apply(this,[n[l],s,a]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var s=function(g){return"0x"+parseInt(g,10).toString(16)},l=t.__fontmetrics__.compress=function(g){var m,w,S,_,k=["{"];for(var N in g){if(m=g[N],isNaN(parseInt(N,10))?w="'"+N+"'":(N=parseInt(N,10),w=(w=s(N).slice(2)).slice(0,-1)+i[w.slice(-1)]),typeof m=="number")m<0?(S=s(m).slice(3),_="-"):(S=s(m).slice(2),_=""),S=_+S.slice(0,-1)+i[S.slice(-1)];else{if(kn(m)!=="object")throw new Error("Don't know what to do with value type "+kn(m)+".");S=l(m)}k.push(w+S)}return k.push("}"),k.join("")},c=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,w,S,_,k={},N=1,P=k,F=[],O="",z="",L=g.length-1,I=1;I<L;I+=1)(_=g[I])=="'"?m?(S=m.join(""),m=void 0):m=[]:m?m.push(_):_=="{"?(F.push([P,S]),P={},S=void 0):_=="}"?((w=F.pop())[0][w[1]]=P,S=void 0,P=w[0]):_=="-"?N=-1:S===void 0?n.hasOwnProperty(_)?(O+=n[_],S=parseInt(O,16)*N,N=1,O=""):O+=_:n.hasOwnProperty(_)?(z+=n[_],P[S]=parseInt(z,16)*N,N=1,S=void 0,z=""):z+=_;return k},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var m=g.font,w=p.Unicode[m.postScriptName];w&&(m.metadata.Unicode={},m.metadata.Unicode.widths=w.widths,m.metadata.Unicode.kerning=w.kerning);var S=f.Unicode[m.postScriptName];S&&(m.metadata.Unicode.encoding=S,m.encoding=S.codePages[0])}])})(sr.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Fb(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])})(sr),sr.API.addSvgAsImage=function(t,e,r,n,i,a,s,l){if(isNaN(e)||isNaN(r))throw Un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Er.canvg?Promise.resolve(Er.canvg):Wa(()=>import("./index.es-qRmi8P7F.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(d,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),e,r,n,i,s,l)})},sr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},sr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],d=0,f=0,p=0;function g(w,S){var _,k=!1;for(_=0;_<w.length;_+=1)w[_]===S&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=l.length;for(p=0;p<m;p+=1)r[l[p]].value=r[l[p]].defaultValue,r[l[p]].explicitSet=!1}if(kn(t)==="object"){for(i in t)if(a=t[i],g(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&g(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(d=0;d<a.length;d+=1)if(n=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(f=0;f<a[d].length;f+=1)typeof a[d][f]!="number"&&(n=!1);n===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,S=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?S.push("/"+w+" /"+r[w].value):S.push("/"+w+" "+r[w].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+s.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(sr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],p=0,g=a.length;p<g;++p){if(l=s.metadata.characterToGlyph(a.charCodeAt(p)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(p),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},n=function(a){var s,l,c,d,f,p,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,g=(l=Object.keys(a).sort(function(m,w){return m-w})).length;p<g;p++)s=l[p],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(d=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+d+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,f=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",w=0;w<g.length;w++)m+=String.fromCharCode(g[w]);var S=d();f({data:m,addLength1:!0,objectId:S}),c("endobj");var _=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var k=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+dm(l.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var N=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+dm(l.fontName)),c("/FontDescriptor "+k+" 0 R"),c("/W "+t.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+_+" 0 R"),c("/BaseFont /"+dm(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,f=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var w=d();f({data:g,addLength1:!0,objectId:w}),c("endobj");var S=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var _=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+w+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+dm(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var k=0;k<l.metadata.hmtx.widths.length;k++)l.metadata.hmtx.widths[k]=parseInt(l.metadata.hmtx.widths[k]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+dm(l.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,d=a.y,f=a.options||{},p=a.mutex||{},g=p.pdfEscape,m=p.activeFontKey,w=p.fonts,S=m,_="",k=0,N="",P=w[S].encoding;if(w[S].encoding!=="Identity-H")return{text:l,x:c,y:d,options:f,mutex:p};for(N=l,S=m,Array.isArray(l)&&(N=l[0]),k=0;k<N.length;k+=1)w[S].metadata.hasOwnProperty("cmap")&&(s=w[S].metadata.cmap.unicode.codeMap[N[k].charCodeAt(0)]),s||N[k].charCodeAt(0)<256&&w[S].metadata.hasOwnProperty("Unicode")?_+=N[k]:_+="";var F="";return parseInt(S.slice(1))<14||P==="WinAnsiEncoding"?F=g(_,S).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(F=r(_,w[S])),p.isHex=!0,{text:F,x:c,y:d,options:f,mutex:p}};e.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([i(Object.assign({},c,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(i(Object.assign({},c,{text:s[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])})(sr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(sr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,l,c,d,f,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,P=0;this.__bidiEngine__={};var F=function(j){var V=j.charCodeAt(),M=V>>8,J=S[M];return J!==void 0?p[256*J+(255&V)]:M===252||M===253?"AL":k.test(M)?"L":M===8?"R":"N"},O=function(j){for(var V,M=0;M<j.length;M++){if((V=F(j.charAt(M)))==="L")return!1;if(V==="R")return!0}return!1},z=function(j,V,M,J){var _e,se,ee,fe,we=V[J];switch(we){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(we="AN");break;case"AL":N=!0,we="R";break;case"WS":case"BN":we="N";break;case"CS":J<1||J+1>=V.length||(_e=M[J-1])!=="EN"&&_e!=="AN"||(se=V[J+1])!=="EN"&&se!=="AN"?we="N":N&&(se="AN"),we=se===_e?se:"N";break;case"ES":we=(_e=J>0?M[J-1]:"B")==="EN"&&J+1<V.length&&V[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&M[J-1]==="EN"){we="EN";break}if(N){we="N";break}for(ee=J+1,fe=V.length;ee<fe&&V[ee]==="ET";)ee++;we=ee<fe&&V[ee]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(fe=V.length,ee=J+1;ee<fe&&V[ee]==="NSM";)ee++;if(ee<fe){var Be=j[J],Z=Be>=1425&&Be<=2303||Be===64286;if(_e=V[ee],Z&&(_e==="R"||_e==="AL")){we="R";break}}}we=J<1||(_e=V[J-1])==="B"?"N":M[J-1];break;case"B":N=!1,i=!0,we=P;break;case"S":a=!0,we="N"}return we},L=function(j,V,M){var J=j.split("");return M&&I(J,M,{hiLevel:P}),J.reverse(),V&&V.reverse(),J.join("")},I=function(j,V,M){var J,_e,se,ee,fe,we=-1,Be=j.length,Z=0,q=[],Q=P?m:g,re=[];for(N=!1,i=!1,a=!1,_e=0;_e<Be;_e++)re[_e]=F(j[_e]);for(se=0;se<Be;se++){if(fe=Z,q[se]=z(j,re,q,se),J=240&(Z=Q[fe][w[q[se]]]),Z&=15,V[se]=ee=Q[Z][5],J>0)if(J===16){for(_e=we;_e<se;_e++)V[_e]=1;we=-1}else we=-1;if(Q[Z][6])we===-1&&(we=se);else if(we>-1){for(_e=we;_e<se;_e++)V[_e]=ee;we=-1}re[se]==="B"&&(V[se]=0),M.hiLevel|=ee}a&&(function(ae,ye,Te){for(var Ve=0;Ve<Te;Ve++)if(ae[Ve]==="S"){ye[Ve]=P;for(var he=Ve-1;he>=0&&ae[he]==="WS";he--)ye[he]=P}})(re,V,Be)},D=function(j,V,M,J,_e){if(!(_e.hiLevel<j)){if(j===1&&P===1&&!i)return V.reverse(),void(M&&M.reverse());for(var se,ee,fe,we,Be=V.length,Z=0;Z<Be;){if(J[Z]>=j){for(fe=Z+1;fe<Be&&J[fe]>=j;)fe++;for(we=Z,ee=fe-1;we<ee;we++,ee--)se=V[we],V[we]=V[ee],V[ee]=se,M&&(se=M[we],M[we]=M[ee],M[ee]=se);Z=fe}Z++}}},$=function(j,V,M){var J=j.split(""),_e={hiLevel:P};return M||(M=[]),I(J,M,_e),(function(se,ee,fe){if(fe.hiLevel!==0&&f)for(var we,Be=0;Be<se.length;Be++)ee[Be]===1&&(we=_.indexOf(se[Be]))>=0&&(se[Be]=_[we+1])})(J,M,_e),D(2,J,V,M,_e),D(1,J,V,M,_e),J.join("")};return this.__bidiEngine__.doBidiReorder=function(j,V,M){if((function(_e,se){if(se)for(var ee=0;ee<_e.length;ee++)se[ee]=ee;l===void 0&&(l=O(_e)),d===void 0&&(d=O(_e))})(j,V),s||!c||d)if(s&&c&&l^d)P=l?1:0,j=L(j,V,M);else if(!s&&c&&d)P=l?1:0,j=$(j,V,M),j=L(j,V);else if(!s||l||c||d){if(s&&!c&&l^d)j=L(j,V),l?(P=0,j=$(j,V,M)):(P=1,j=$(j,V,M),j=L(j,V));else if(s&&l&&!c&&d)P=1,j=$(j,V,M),j=L(j,V);else if(!s&&!c&&l^d){var J=f;l?(P=1,j=$(j,V,M),P=0,f=!1,j=$(j,V,M),f=J):(P=0,j=$(j,V,M),j=L(j,V),P=1,f=!1,j=$(j,V,M),f=J,j=L(j,V))}}else P=0,j=$(j,V,M);else P=l?1:0,j=$(j,V,M);return j},this.__bidiEngine__.setOptions=function(j){j&&(s=j.isInputVisual,c=j.isOutputVisual,l=j.isInputRtl,d=j.isOutputRtl,f=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([r.doBidiReorder(i[l])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(sr),sr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Rf(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Hge(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new jge(this.contents),this.head=new Oge(this),this.name=new Bge(this),this.cmap=new tq(this),this.toUnicode={},this.hhea=new Ige(this),this.maxp=new Fge(this),this.hmtx=new Uge(this),this.post=new Lge(this),this.os2=new Dge(this),this.loca=new qge(this),this.glyf=new Vge(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,d;for(d=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,l;for(s=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var pu,Rf=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t})(),jge=(function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,l,c,d,f,p,g,m,w,S;for(S in m=Object.keys(r).length,c=Math.log(2),p=16*Math.floor(Math.log(m)/c),s=Math.floor(p/c),f=16*m-p,(i=new Rf).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(s),i.writeShort(f),a=16*m,d=i.pos+a,l=null,w=[],r)for(g=r[S],i.writeString(S),i.writeInt(t(g)),i.writeInt(d),i.writeInt(g.length),w=w.concat(g),S==="head"&&(l=d),d+=g.length;d%4;)w.push(0),d++;return i.write(w),n=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=rq.call(r);r.length%4;)r.push(0);for(a=new Rf(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),Rge={}.hasOwnProperty,cc=function(t,e){for(var r in e)Rge.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};pu=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var Oge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,pu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Rf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),XD=(function(){function t(e,r){var n,i,a,s,l,c,d,f,p,g,m,w,S,_,k,N,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,a=(function(){var F,O;for(O=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)O.push(e.readUInt16());return O})(),e.pos+=2,S=(function(){var F,O;for(O=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)O.push(e.readUInt16());return O})(),d=(function(){var F,O;for(O=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)O.push(e.readUInt16());return O})(),f=(function(){var F,O;for(O=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)O.push(e.readUInt16());return O})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var F,O;for(O=[],c=F=0;0<=i?F<i:F>i;c=0<=i?++F:--F)O.push(e.readUInt16());return O})(),c=k=0,P=a.length;k<P;c=++k)for(_=a[c],n=N=w=S[c];w<=_?N<=_:N>=_;n=w<=_?++N:--N)f[c]===0?s=n+d[c]:(s=l[f[c]/2+(n-w)-(g-c)]||0)!==0&&(s+=d[c]),this.codeMap[n]=65535&s}e.pos=p}return t.encode=function(e,r){var n,i,a,s,l,c,d,f,p,g,m,w,S,_,k,N,P,F,O,z,L,I,D,$,j,V,M,J,_e,se,ee,fe,we,Be,Z,q,Q,re,ae,ye,Te,Ve,he,Ce,We,Ie;switch(J=new Rf,s=Object.keys(e).sort(function(dt,vt){return dt-vt}),r){case"macroman":for(S=0,_=(function(){var dt=[];for(w=0;w<256;++w)dt.push(0);return dt})(),N={0:0},a={},_e=0,we=s.length;_e<we;_e++)N[he=e[i=s[_e]]]==null&&(N[he]=++S),a[i]={old:e[i],new:N[e[i]]},_[i]=N[e[i]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(_),{charMap:a,subtable:J.data,maxGlyphID:S+1};case"unicode":for(V=[],p=[],P=0,N={},n={},k=d=null,se=0,Be=s.length;se<Be;se++)N[O=e[i=s[se]]]==null&&(N[O]=++P),n[i]={old:O,new:N[O]},l=N[O]-i,k!=null&&l===d||(k&&p.push(k),V.push(i),d=l),k=i;for(k&&p.push(k),p.push(65535),V.push(65535),$=2*(D=V.length),I=2*Math.pow(Math.log(D)/Math.LN2,2),g=Math.log(I/2)/Math.LN2,L=2*D-I,c=[],z=[],m=[],w=ee=0,Z=V.length;ee<Z;w=++ee){if(j=V[w],f=p[w],j===65535){c.push(0),z.push(0);break}if(j-(M=n[j].new)>=32768)for(c.push(0),z.push(2*(m.length+D-w)),i=fe=j;j<=f?fe<=f:fe>=f;i=j<=f?++fe:--fe)m.push(n[i].new);else c.push(M-j),z.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*D+2*m.length),J.writeUInt16(0),J.writeUInt16($),J.writeUInt16(I),J.writeUInt16(g),J.writeUInt16(L),Te=0,q=p.length;Te<q;Te++)i=p[Te],J.writeUInt16(i);for(J.writeUInt16(0),Ve=0,Q=V.length;Ve<Q;Ve++)i=V[Ve],J.writeUInt16(i);for(Ce=0,re=c.length;Ce<re;Ce++)l=c[Ce],J.writeUInt16(l);for(We=0,ae=z.length;We<ae;We++)F=z[We],J.writeUInt16(F);for(Ie=0,ye=m.length;Ie<ye;Ie++)S=m[Ie],J.writeUInt16(S);return{charMap:n,subtable:J.data,maxGlyphID:P+1}}},t})(),tq=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,pu),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new XD(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=XD.encode(e,r),(i=new Rf).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),Ige=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,pu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),Dge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,pu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),Lge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,pu),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,l,c;for(c=[],a=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;a=0<=l?++s:--s)c.push(e.readUInt32());return c}).call(this)}},t})(),Mge=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Bge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,pu),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,s,l,c,d,f,p,g;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=f=0,p=n.length;f<p;a=++f)i=n[a],e.pos=i.offset,d=e.readString(i.length),s=new Mge(d,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),Fge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,pu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Uge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,pu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,s,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,f;for(f=[],r=d=0;0<=i?d<i:d>i;r=0<=i?++d:--d)f.push(e.readInt16());return f})(),this.widths=(function(){var d,f,p,g;for(g=[],d=0,f=(p=this.metrics).length;d<f;d++)a=p[d],g.push(a.advance);return g}).call(this),n=this.widths[this.widths.length-1],c=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),rq=[].slice,Vge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,pu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,s,l,c,d,f,p;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(l=new Rf(r.read(i))).readShort(),d=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[e]=s===-1?new $ge(l,d,p,c,f):new zge(l,s,d,p,c,f),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,s,l,c;for(s=[],a=[],l=0,c=r.length;l<c;l++)i=e[r[l]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},t})(),zge=(function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),$ge=(function(){function t(e,r,n,i,a){var s,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Rf(rq.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),qge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,pu),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(i+=c)}for(var d=new Array(4*n.length),f=0;f<n.length;++f)d[4*f+3]=255&n[f],d[4*f+2]=(65280&n[f])>>8,d[4*f+1]=(16711680&n[f])>>16,d[4*f]=(4278190080&n[f])>>24;return d},t})(),Hge=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,l,c;for(i={},s=0,l=e.length;s<l;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,l,c,d,f,p,g,m,w,S,_,k;for(i in n=tq.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),m={0:0},k=n.charMap)m[(c=k[i]).old]=c.new;for(w in g=n.maxGlyphID,s)w in m||(m[w]=g++);return f=(function(N){var P,F;for(P in F={},N)F[N[P]]=P;return F})(m),p=Object.keys(f).sort(function(N,P){return N-P}),S=(function(){var N,P,F;for(F=[],N=0,P=p.length;N<P;N++)l=p[N],F.push(f[l]);return F})(),a=this.font.glyf.encode(s,S,m),d=this.font.loca.encode(a.offsets,S),_={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t})();sr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+(function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(e.convert(n));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e})();const Gge=({condition:t,onConditionChange:e,availableCells:r=[],sheets:n=[],cells:i={},conditionType:a="value",onClose:s})=>{const[l,c]=E.useState(""),[d,f]=E.useState("=="),[p,g]=E.useState(""),[m,w]=E.useState("value"),[S,_]=E.useState(a),[k,N]=E.useState(""),[P,F]=E.useState(""),[O,z]=E.useState("cell"),[L,I]=E.useState("cell");E.useEffect(()=>{if(t)try{const M=t.split(/(==|!=|>=|<=|>|<| contains | startsWith | endsWith )/);M.length>=3?(c(M[0].trim()),f(M[1].trim()),g(M.slice(2).join("").trim().replace(/^["']|["']$/g,"")),/^[A-Za-z]+\d+$/.test(M.slice(2).join("").trim())?w("cell"):w("value")):/^[A-Za-z]+\d+$/.test(t.trim())&&(c(t.trim()),f("truthy"),g(""),w("value"))}catch{}},[t]);const D=[{value:"==",label:"Equals",needsRight:!0},{value:"!=",label:"Not Equals",needsRight:!0},{value:">",label:"Greater Than",needsRight:!0},{value:"<",label:"Less Than",needsRight:!0},{value:">=",label:"Greater or Equal",needsRight:!0},{value:"<=",label:"Less or Equal",needsRight:!0},{value:" contains ",label:"Contains",needsRight:!0},{value:" startsWith ",label:"Starts With",needsRight:!0},{value:" endsWith ",label:"Ends With",needsRight:!0},{value:"truthy",label:"Has Value",needsRight:!1}],$=()=>{if(!l){alert("Please select or enter a cell reference");return}if(d!=="truthy"&&!p){alert("Please enter a comparison value");return}let M=l;if(d!=="truthy"){const J=m==="cell"?p:`"${p}"`;M=`${l}${d}${J}`}if(S==="value"){if(!k){alert('Please enter a "then" value');return}const J=O==="cell"?`{{${k}}}`:k,_e=P?L==="cell"?`{{${P}}}`:P:"",se=`{{if:${M}}}then:${J}${_e?`{{else:${_e}}}`:""}}`;e(se)}else e(M);s&&s()},j=[];n.forEach(M=>{M.cells&&Object.keys(M.cells).forEach(J=>{j.push({id:J,sheetId:M.id,sheetName:M.name||"Sheet1",displayName:`${M.name&&M.name!=="Sheet1"?`${M.name}!`:""}${J}`})})}),i&&Object.keys(i).length>0&&Object.keys(i).forEach(M=>{j.find(J=>J.id===M)||j.push({id:M,sheetId:null,sheetName:"Current Sheet",displayName:M})}),r&&r.length>0&&r.forEach(M=>{j.find(J=>J.id===M)||j.push({id:M,sheetId:null,sheetName:"Current Sheet",displayName:M})});const V=D.find(M=>M.value===d);return y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:s,children:y.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl border border-gray-700 shadow-xl",onClick:M=>M.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-white",children:"Condition Builder"}),y.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:y.jsx(Is,{size:20})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Condition Type"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>_("value"),className:`flex-1 px-4 py-2 rounded transition-colors ${S==="value"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Value Selection"}),y.jsx("button",{onClick:()=>_("execution"),className:`flex-1 px-4 py-2 rounded transition-colors ${S==="execution"?"bg-orange-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Cell Execution"})]}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:S==="value"?"Conditionally select which value to use in the prompt":"Conditionally execute or skip this cell"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Check Cell"}),y.jsx("div",{className:"relative",children:y.jsxs("select",{value:l,onChange:M=>c(M.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none",children:[y.jsx("option",{value:"",children:"Select a cell..."}),j.map(M=>y.jsx("option",{value:M.id,children:M.displayName},`${M.sheetId||"current"}-${M.id}`))]})}),!l&&y.jsx("input",{type:"text",placeholder:"Or type cell ID (e.g., A1, Sheet2!B1)",value:l,onChange:M=>c(M.target.value),className:"mt-2 w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Operator"}),y.jsx("select",{value:d,onChange:M=>f(M.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none",children:D.map(M=>y.jsx("option",{value:M.value,children:M.label},M.value))})]}),V?.needsRight&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Compare To"}),y.jsxs("div",{className:"flex gap-2 mb-2",children:[y.jsx("button",{onClick:()=>w("value"),className:`flex-1 px-3 py-1 rounded text-sm transition-colors ${m==="value"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Value"}),y.jsx("button",{onClick:()=>w("cell"),className:`flex-1 px-3 py-1 rounded text-sm transition-colors ${m==="cell"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Cell Reference"})]}),m==="cell"?y.jsxs("select",{value:p,onChange:M=>g(M.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none",children:[y.jsx("option",{value:"",children:"Select a cell..."}),j.map(M=>y.jsx("option",{value:M.id,children:M.displayName},`${M.sheetId||"current"}-${M.id}`))]}):y.jsx("input",{type:"text",placeholder:"Enter comparison value",value:p,onChange:M=>g(M.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none"})]}),S==="value"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Then Value (if condition is true)"}),y.jsxs("div",{className:"flex gap-2 mb-2",children:[y.jsx("button",{onClick:()=>z("cell"),className:`flex-1 px-3 py-1 rounded text-sm transition-colors ${O==="cell"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Cell"}),y.jsx("button",{onClick:()=>z("text"),className:`flex-1 px-3 py-1 rounded text-sm transition-colors ${O==="text"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Text"})]}),O==="cell"?y.jsxs("select",{value:k,onChange:M=>N(M.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none",children:[y.jsx("option",{value:"",children:"Select a cell..."}),j.map(M=>y.jsx("option",{value:M.id,children:M.displayName},`then-${M.sheetId||"current"}-${M.id}`))]}):y.jsx("input",{type:"text",placeholder:"Enter text value",value:k,onChange:M=>N(M.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Else Value (if condition is false) ",y.jsx("span",{className:"text-gray-500 text-xs",children:"(optional)"})]}),y.jsxs("div",{className:"flex gap-2 mb-2",children:[y.jsx("button",{onClick:()=>I("cell"),className:`flex-1 px-3 py-1 rounded text-sm transition-colors ${L==="cell"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Cell"}),y.jsx("button",{onClick:()=>I("text"),className:`flex-1 px-3 py-1 rounded text-sm transition-colors ${L==="text"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Text"})]}),L==="cell"?y.jsxs("select",{value:P,onChange:M=>F(M.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none",children:[y.jsx("option",{value:"",children:"Select a cell..."}),j.map(M=>y.jsx("option",{value:M.id,children:M.displayName},`else-${M.sheetId||"current"}-${M.id}`))]}):y.jsx("input",{type:"text",placeholder:"Enter text value (optional)",value:P,onChange:M=>F(M.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none"})]})]}),y.jsxs("div",{className:"bg-gray-900 rounded p-3 border border-gray-700",children:[y.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Condition Preview:"}),y.jsxs("div",{className:"text-sm font-mono text-green-400",children:[l||"?"," ",d!=="truthy"&&d," ",d!=="truthy"&&(p||"?"),d==="truthy"&&" (has value)"]}),S==="value"&&k&&y.jsxs("div",{className:"text-xs text-blue-400 mt-2",children:["Then: ",O==="cell"?`{{${k}}}`:k,P&&` | Else: ${L==="cell"?`{{${P}}}`:P}`]}),S==="execution"&&y.jsxs("div",{className:"text-xs text-orange-400 mt-2",children:["This cell will ",l?"execute":"?"," if condition is true, otherwise skip"]})]}),y.jsxs("div",{className:"flex gap-2 pt-2",children:[y.jsx("button",{onClick:$,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition-colors font-medium",children:t?"Update Condition":"Create Condition"}),t&&y.jsx("button",{onClick:()=>{e(""),s&&s()},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",children:"Remove"}),y.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"Cancel"})]})]})]})})},Wge=({isOpen:t,onClose:e,cell:r,onSave:n,sheets:i=[],cells:a={}})=>{const[s,l]=E.useState(r?.model||"gpt-3.5-turbo"),[c,d]=E.useState(r?.temperature??.7),[f,p]=E.useState(r?.autoRun??!1),[g,m]=E.useState(r?.interval??0),[w,S]=E.useState(r?.prompt||""),[_,k]=E.useState(r?.cellPrompt||""),[N,P]=E.useState(r?.characterLimit||0),[F,O]=E.useState(r?.outputFormat||""),[z,L]=E.useState(r?.condition||""),[I,D]=E.useState(r?.videoSeconds!==void 0&&r?.videoSeconds!==null?String(r.videoSeconds):"8"),[$,j]=E.useState(r?.videoResolution||"720p"),[V,M]=E.useState(r?.videoAspectRatio||"9:16"),[J,_e]=E.useState(r?.audioVoice||"alloy"),[se,ee]=E.useState(r?.audioSpeed??1),[fe,we]=E.useState(r?.audioFormat||"mp3"),[Be,Z]=E.useState([]),[q,Q]=E.useState(!1),[re,ae]=E.useState("value"),[ye,Te]=E.useState(!1),[Ve,he]=E.useState(""),[Ce,We]=E.useState(""),[Ie,dt]=E.useState("cell"),[vt,ce]=E.useState("cell");E.useEffect(()=>{t&&yt()},[t]),E.useEffect(()=>{if(r){const lt=r.model||"gpt-3.5-turbo",It=r.temperature??.7,tr=r.autoRun??!1,Jt=r.interval??0,qt=r.prompt||"",ir=r.cellPrompt||"",rr=r.characterLimit||0,Pt=r.outputFormat||"",er=r.videoSeconds!==void 0&&r.videoSeconds!==null?String(r.videoSeconds):"8",Ct=r.videoResolution||"720p",Ar=r.videoAspectRatio||"9:16",ar=r.audioVoice||"alloy",jt=r.audioSpeed??1,Ht=r.audioFormat||"mp3",Se=r.condition||"";l(Le=>Le!==lt?lt:Le),d(Le=>Le!==It?It:Le),p(Le=>Le!==tr?tr:Le),m(Le=>Le!==Jt?Jt:Le),S(Le=>Le!==qt?qt:Le),k(Le=>Le!==ir?ir:Le),P(Le=>Le!==rr?rr:Le),O(Le=>Le!==Pt?Pt:Le),D(Le=>Le!==er?er:Le),j(Le=>Le!==Ct?Ct:Le),M(Le=>Le!==Ar?Ar:Le),_e(Le=>Le!==ar?ar:Le),ee(Le=>Le!==jt?jt:Le),we(Le=>Le!==Ht?Ht:Le),L(Le=>Le!==Se?Se:Le)}},[r?.cell_id,r?.model,r?.temperature,r?.autoRun,r?.interval,r?.prompt,r?.cellPrompt,r?.characterLimit,r?.outputFormat,r?.videoSeconds,r?.videoResolution,r?.videoAspectRatio,r?.audioVoice,r?.audioSpeed,r?.audioFormat]);const yt=async()=>{try{const lt=await Yk();lt.success&&Z(lt.models||[])}catch(lt){console.error("Failed to load models:",lt)}},Yt=async()=>{const lt={...r,cell_id:r?.cell_id,model:s||r?.model||"gpt-3.5-turbo",temperature:c??.7,autoRun:f??!1,interval:g>0?g:0,prompt:w||"",cellPrompt:_||"",characterLimit:N>0?N:0,outputFormat:F||"",condition:z||"",videoSeconds:I?String(I):"8",videoResolution:$||"720p",videoAspectRatio:V||"9:16",audioVoice:J||"alloy",audioSpeed:se??1,audioFormat:fe||"mp3",output:r?.output||""};n(lt),e()};if(!t)return null;const Ft={text:Be.filter(lt=>lt.type==="text"),image:Be.filter(lt=>lt.type==="image"),video:Be.filter(lt=>lt.type==="video"),audio:Be.filter(lt=>lt.type==="audio")},Je=Be.find(lt=>(lt.originalId||lt.id)===s),Nt=Je?.type==="video",kt=Je?.type==="audio";return op.createPortal(y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:[y.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-sm text-gray-200 max-w-md w-full mx-4 p-6 rounded-xl glass-panel max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-lg font-semibold",children:"Card Settings"}),y.jsx("button",{onClick:e,className:"p-1 hover:bg-white/10 rounded",children:y.jsx(Is,{size:18})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsx("label",{className:"block text-sm",children:"Prompt"}),y.jsxs("button",{type:"button",onClick:()=>Te(!ye),className:"flex items-center gap-1 text-xs text-blue-400 hover:text-blue-300 transition-colors",title:"Show reference help",children:[y.jsx(a$,{size:14}),y.jsx("span",{children:"Reference Help"}),ye?y.jsx(VC,{size:12}):y.jsx(uw,{size:12})]})]}),ye&&y.jsxs("div",{className:"mb-2 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg text-xs",children:[y.jsx("div",{className:"font-semibold text-blue-300 mb-2",children:"Cell Reference Guide:"}),y.jsxs("div",{className:"space-y-2 text-gray-300",children:[y.jsxs("div",{children:[y.jsx("span",{className:"font-mono text-blue-400",children:"{{A1}}"}),y.jsx("span",{className:"ml-2",children:"- Reference cell A1's output (same sheet)"})]}),y.jsxs("div",{children:[y.jsx("span",{className:"font-mono text-blue-400",children:"{{prompt:A1}}"}),y.jsx("span",{className:"ml-2",children:"- Reference cell A1's prompt text"})]}),y.jsxs("div",{children:[y.jsx("span",{className:"font-mono text-blue-400",children:"{{output:A1}}"}),y.jsx("span",{className:"ml-2",children:"- Explicitly reference cell A1's output"})]}),y.jsx("div",{className:"pt-1 border-t border-blue-500/20",children:y.jsx("span",{className:"font-semibold text-cyan-300",children:"Cross-Sheet References:"})}),y.jsxs("div",{children:[y.jsx("span",{className:"font-mono text-cyan-400",children:"{{Sheet1!A1}}"}),y.jsx("span",{className:"ml-2",children:"- Reference Sheet1's A1 prompt (default for cross-sheet)"})]}),y.jsxs("div",{children:[y.jsx("span",{className:"font-mono text-cyan-400",children:"{{output:Sheet1!A1}}"}),y.jsx("span",{className:"ml-2",children:"- Reference Sheet1's A1 output"})]}),y.jsx("div",{className:"pt-1 border-t border-blue-500/20",children:y.jsx("span",{className:"font-semibold text-purple-300",children:"Generation References:"})}),y.jsxs("div",{children:[y.jsx("span",{className:"font-mono text-purple-400",children:"{{A1-1}}"}),y.jsx("span",{className:"ml-2",children:"- First generation of A1"})]}),y.jsxs("div",{children:[y.jsx("span",{className:"font-mono text-purple-400",children:"{{A1:1-3}}"}),y.jsx("span",{className:"ml-2",children:"- Generations 1 to 3 of A1"})]})]})]}),y.jsx("textarea",{rows:4,value:w,onChange:lt=>S(lt.target.value),className:"w-full bg-gray-800 rounded p-2 text-sm font-mono",placeholder:"Enter your prompt here... Use {{A1}} to reference other cells, {{Sheet1!A1}} for cross-sheet references"}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsxs("p",{className:"text-xs text-gray-400 flex-1",children:["Use ","{{A1}}",", ","{{B1}}",", etc. to reference other cells"]}),y.jsxs("button",{onClick:()=>{ae("value"),Q(!0)},className:"px-2 py-1 text-xs bg-purple-600 hover:bg-purple-700 rounded flex items-center gap-1",title:"Add conditional value selection",children:[y.jsx(LI,{size:12}),"Add IF/ELSE"]})]})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsx("label",{className:"block text-sm",children:"Conditional Execution"}),y.jsxs("button",{onClick:()=>{ae("execution"),Q(!0)},className:"px-2 py-1 text-xs bg-orange-600 hover:bg-orange-700 rounded flex items-center gap-1",title:"Set condition to execute or skip this cell",children:[y.jsx(LI,{size:12}),z?"Edit Condition":"Add Condition"]})]}),z?y.jsx("div",{className:"bg-gray-800 rounded p-2 text-sm font-mono text-green-400 border border-green-500/30",children:z}):y.jsx("div",{className:"bg-gray-800 rounded p-2 text-sm text-gray-500 italic",children:"No condition set - cell will always execute"}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Cell will only execute if condition is true"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1",children:"Model"}),y.jsx("select",{value:s,onChange:lt=>l(lt.target.value),className:"w-full bg-gray-800 rounded p-2 text-sm",children:Object.entries(Ft).map(([lt,It])=>It.length===0?null:y.jsx("optgroup",{label:lt.charAt(0).toUpperCase()+lt.slice(1),children:It.map(tr=>y.jsx("option",{value:tr.originalId||tr.id,children:tr.name},tr.id))},lt))})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm mb-1",children:["Temperature: ",c.toFixed(2)]}),y.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:c,onChange:lt=>d(parseFloat(lt.target.value)),className:"w-full"}),y.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[y.jsx("span",{children:"Conservative"}),y.jsx("span",{children:"Creative"})]})]}),Nt&&y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1",children:"Video Duration (seconds)"}),y.jsxs("select",{value:I,onChange:lt=>D(lt.target.value),className:"w-full bg-gray-800 rounded p-2 text-sm",children:[y.jsx("option",{value:"4",children:"4 seconds"}),y.jsx("option",{value:"8",children:"8 seconds"}),y.jsx("option",{value:"12",children:"12 seconds"})]}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Video length"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1",children:"Resolution"}),y.jsxs("select",{value:$,onChange:lt=>j(lt.target.value),className:"w-full bg-gray-800 rounded p-2 text-sm",children:[y.jsx("option",{value:"720p",children:"720p"}),Je?.id==="sora-2-pro"&&y.jsx("option",{value:"1024p",children:"1024p (Pro only)"})]}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Video resolution"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1",children:"Aspect Ratio"}),y.jsxs("select",{value:V,onChange:lt=>M(lt.target.value),className:"w-full bg-gray-800 rounded p-2 text-sm",children:[y.jsx("option",{value:"9:16",children:"9:16 (Portrait/Vertical)"}),y.jsx("option",{value:"16:9",children:"16:9 (Landscape/Horizontal)"})]}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Video aspect ratio"})]})]}),kt&&y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1",children:"Voice"}),y.jsxs("select",{value:J,onChange:lt=>_e(lt.target.value),className:"w-full bg-gray-800 rounded p-2 text-sm",children:[y.jsx("option",{value:"alloy",children:"Alloy"}),y.jsx("option",{value:"echo",children:"Echo"}),y.jsx("option",{value:"fable",children:"Fable"}),y.jsx("option",{value:"onyx",children:"Onyx"}),y.jsx("option",{value:"nova",children:"Nova"}),y.jsx("option",{value:"shimmer",children:"Shimmer"})]}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Voice selection"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm mb-1",children:["Speed: ",se.toFixed(2),"x"]}),y.jsx("input",{type:"range",min:"0.25",max:"4.0",step:"0.05",value:se,onChange:lt=>ee(parseFloat(lt.target.value)),className:"w-full"}),y.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[y.jsx("span",{children:"0.25x"}),y.jsx("span",{children:"4.0x"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1",children:"Format"}),y.jsxs("select",{value:fe,onChange:lt=>we(lt.target.value),className:"w-full bg-gray-800 rounded p-2 text-sm",children:[y.jsx("option",{value:"mp3",children:"MP3"}),y.jsx("option",{value:"opus",children:"Opus"}),y.jsx("option",{value:"aac",children:"AAC"}),y.jsx("option",{value:"flac",children:"FLAC"})]}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Audio format"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("div",{children:y.jsxs("label",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",checked:f,onChange:lt=>p(lt.target.checked),className:"rounded"}),y.jsx("span",{className:"text-sm",children:"Auto-run when dependencies change"})]})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1",children:"Auto-run Interval (seconds)"}),y.jsx("input",{type:"number",min:"0",value:g,onChange:lt=>m(parseInt(lt.target.value,10)||0),className:"w-full bg-gray-800 rounded p-2 text-sm",placeholder:"0 = disabled"}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"0 = disabled"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1",children:"Cell Prompt Template"}),y.jsx("textarea",{rows:3,value:_,onChange:lt=>k(lt.target.value),className:"w-full bg-gray-800 rounded p-2 text-sm",placeholder:"Optional: Template prompt that will be prepended to the user's prompt"}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This will be prepended to the user's prompt before generation"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1",children:"Character Limit"}),y.jsx("input",{type:"number",min:"0",value:N,onChange:lt=>P(parseInt(lt.target.value,10)||0),className:"w-full bg-gray-800 rounded p-2 text-sm",placeholder:"0 = no limit"}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Max characters (0 = no limit)"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1",children:"Output Format"}),y.jsxs("select",{value:F,onChange:lt=>O(lt.target.value),className:"w-full bg-gray-800 rounded p-2 text-sm",children:[y.jsx("option",{value:"",children:"Default"}),y.jsx("option",{value:"markdown",children:"Markdown"}),y.jsx("option",{value:"json",children:"JSON"}),y.jsx("option",{value:"html",children:"HTML"}),y.jsx("option",{value:"plain",children:"Plain Text"}),y.jsx("option",{value:"bullet-list",children:"Bullet List"}),y.jsx("option",{value:"numbered-list",children:"Numbered List"}),y.jsx("option",{value:"code",children:"Code"})]}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Output format for text"})]})]})]}),y.jsxs("div",{className:"flex justify-end mt-6 space-x-2",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-700 rounded hover:bg-gray-600 text-sm",children:"Cancel"}),y.jsx("button",{onClick:Yt,className:"px-4 py-2 bg-blue-600 rounded hover:bg-blue-500 text-sm",children:"Save"})]})]}),q&&y.jsx(Gge,{condition:re==="execution"?z:null,conditionType:re,onConditionChange:lt=>{re==="execution"?L(lt):S(It=>It?`${It} ${lt}`:lt),Q(!1)},availableCells:Object.keys(a||{}),sheets:i||[],cells:a||{},onClose:()=>Q(!1)})]}),document.body)},Kge=({src:t,alt:e,className:r,...n})=>{const[i,a]=E.useState(t),[s,l]=E.useState(!1),[c,d]=E.useState(0),[f,p]=E.useState(null),[g,m]=E.useState(!1),w=2,S=N=>N&&N.includes("blob.core.windows.net"),_=async N=>{if(g)return!1;m(!0);try{const P=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"":"https://gpt-cells-app-production.up.railway.app",F=await fetch(`${P}/api/proxy-image`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:N})});if(F.ok){const O=await F.json();if(O.success&&O.dataUrl)return a(O.dataUrl),l(!1),d(0),m(!1),!0}}catch{}return m(!1),!1},k=async N=>{if(S(t)){if(p("expired"),c===0&&!g&&await _(t))return;l(!0);return}p("network"),c<w?setTimeout(()=>{d(P=>P+1),a(`${t}?retry=${c+1}&t=${Date.now()}`),l(!1)},1e3*(c+1)):l(!0)};if(E.useEffect(()=>{a(t),l(!1),d(0),p(null),m(!1)},[t]),s){const N=f==="expired"||S(t);return y.jsx("div",{className:`${r} bg-gray-800 rounded border border-gray-700 flex items-center justify-center p-4 min-h-[200px]`,children:y.jsxs("div",{className:"text-center text-gray-400 text-sm max-w-md",children:[y.jsx("div",{className:"mb-3 text-4xl",children:""}),y.jsx("div",{className:"font-semibold text-gray-300 mb-2",children:N?"Image Link Expired":"Failed to Load Image"}),y.jsx("div",{className:"text-xs text-gray-500 mb-4",children:N?"This DALL-E image link has expired. Please regenerate the image to view it.":"The image could not be loaded. Please check your connection and try again."}),!N&&y.jsx("button",{onClick:()=>{d(0),l(!1),p(null),a(`${t}?retry=0&t=${Date.now()}`)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-xs font-medium transition-colors",children:"Retry"})]})})}return y.jsx("img",{src:i,alt:e,className:r,onError:k,loading:"lazy",...n})},Yge=({isOpen:t,onClose:e,cell:r,onRestore:n,userId:i,projectId:a,sheetId:s})=>{const[l,c]=E.useState([]),[d,f]=E.useState(!1),[p,g]=E.useState(null),[m,w]=E.useState(new Set),[S,_]=E.useState(null);E.useEffect(()=>{if(t&&r&&i&&a&&s&&(k(),l.length>0)){const z=new Set(l.map((L,I)=>I));w(z)}},[t,r,i,a,s]),E.useEffect(()=>{if(l.length>0){const z=new Set(l.map((L,I)=>I));w(z)}},[l.length]);const k=async()=>{if(!(!r||!i||!a||!s)){f(!0),g(null);try{const z=await RU(i,a,s,r.cell_id);if(z.success){const L=[...z.generations||[],...r.generations||[]].sort((I,D)=>{const $=I.timestamp?.toDate?I.timestamp.toDate():new Date(I.timestamp||I.createdAt);return(D.timestamp?.toDate?D.timestamp.toDate():new Date(D.timestamp||D.createdAt))-$});c(L)}else g(z.error||"Failed to fetch history")}catch(z){g(z.message)}finally{f(!1)}}},N=z=>{window.confirm("Are you sure you want to restore this version? Current content will be overwritten.")&&(n(z),e())},P=async(z,L)=>{if(window.confirm("Are you sure you want to delete this generation? This action cannot be undone.")){if(!i||!a||!s||!r?.cell_id){g("Missing required information to delete generation");return}try{const I=await OU(i,a,s,r.cell_id,z);I.success?(c(D=>D.filter(($,j)=>j!==L)),await k()):g(I.error||"Failed to delete generation")}catch(I){g(I.message||"Failed to delete generation")}}},F=async(z,L)=>{try{await navigator.clipboard.writeText(z),_(L),setTimeout(()=>_(null),2e3)}catch{const D=document.createElement("textarea");D.value=z,D.style.position="fixed",D.style.opacity="0",document.body.appendChild(D),D.select(),document.execCommand("copy"),document.body.removeChild(D),_(L),setTimeout(()=>_(null),2e3)}},O=z=>{if(!z)return"Unknown time";const L=z.toDate?z.toDate():new Date(z),D=new Date-L,$=Math.floor(D/1e3),j=Math.floor($/60),V=Math.floor(j/60),M=Math.floor(V/24);return M>0?`${M} day${M>1?"s":""} ago`:V>0?`${V} hour${V>1?"s":""} ago`:j>0?`${j} minute${j>1?"s":""} ago`:"Just now"};return t?op.createPortal(y.jsx(yz,{children:y.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[y.jsx(qu.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),y.jsxs(qu.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl bg-white/90 dark:bg-gray-900/90 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 dark:border-white/10 overflow-hidden flex flex-col max-h-[80vh]",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200/50 dark:border-gray-700/50",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:y.jsx(Cx,{className:"w-5 h-5 text-blue-500"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Generation History"}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:r?.cell_id})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[l.length>0&&y.jsxs("button",{onClick:async()=>{if(window.confirm(`Are you sure you want to delete all ${l.length} generation(s)? This action cannot be undone.`)){if(!i||!a||!s||!r?.cell_id){g("Missing required information to delete generations");return}try{f(!0);const z=await tw(i,a,s,r.cell_id);z.success?(c([]),g(null)):g(z.error||"Failed to delete all generations")}catch(z){g(z.message)}finally{f(!1)}}},className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-xs font-medium rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors",title:"Delete all generations",children:[y.jsx(ru,{className:"w-3.5 h-3.5"}),"Clear All"]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors text-gray-500",children:y.jsx(Is,{className:"w-5 h-5"})})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:d?y.jsx("div",{className:"flex justify-center py-8",children:y.jsx(um,{className:"w-8 h-8 animate-spin text-blue-500"})}):p?y.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/10 text-red-600 rounded-lg text-sm",children:p}):l.length===0?y.jsxs("div",{className:"text-center py-12 text-gray-500",children:[y.jsx(Cx,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),y.jsx("p",{children:"No history available for this cell"})]}):l.map((z,L)=>{const I=L===0,D=z.timestamp||z.createdAt,$=z.type||"text",j=z.output!=null?String(z.output):"",V=rC(j,$);return y.jsxs("div",{className:"group bg-white dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700 p-4 hover:border-blue-500/30 transition-all",children:[y.jsxs("div",{className:"flex items-start justify-between mb-3",children:[y.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[I&&y.jsx("span",{className:"px-2 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-[10px] font-semibold",children:"Latest"}),y.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:O(D)}),y.jsx("span",{children:""}),y.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 dark:bg-gray-700",children:z.model||"Unknown Model"}),z.temperature!==void 0&&y.jsxs(y.Fragment,{children:[y.jsx("span",{children:""}),y.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 dark:bg-gray-700",children:["Temp: ",z.temperature.toFixed(2)]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>F(j,L),className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-xs font-medium rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Copy output to clipboard",children:S===L?y.jsxs(y.Fragment,{children:[y.jsx(Xh,{className:"w-3.5 h-3.5"}),"Copied!"]}):y.jsxs(y.Fragment,{children:[y.jsx(Nx,{className:"w-3.5 h-3.5"}),"Copy"]})}),y.jsxs("button",{onClick:()=>N(z),className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-xs font-medium rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:[y.jsx(Ihe,{className:"w-3.5 h-3.5"}),"Restore"]}),y.jsxs("button",{onClick:()=>P(z.id,L),className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-xs font-medium rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors",title:"Delete this generation",children:[y.jsx(ru,{className:"w-3.5 h-3.5"}),"Delete"]})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsxs("button",{onClick:()=>{w(M=>{const J=new Set(M);return J.has(L)?J.delete(L):J.add(L),J})},className:"w-full flex items-center justify-between text-[10px] uppercase tracking-wider text-gray-400 font-semibold hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:[y.jsx("span",{children:"Prompt"}),m.has(L)?y.jsx(uw,{className:"w-3 h-3"}):y.jsx(VC,{className:"w-3 h-3"})]}),!m.has(L)&&y.jsx(qu.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:y.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-900/50 p-2 rounded-lg font-mono",children:z.prompt||z.resolvedPrompt||"(No prompt)"})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-semibold",children:"Output"}),j&&y.jsx("button",{onClick:()=>F(j,L),className:"flex items-center gap-1 px-2 py-1 text-[10px] text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 rounded transition-colors",title:"Copy output to clipboard",children:S===L?y.jsxs(y.Fragment,{children:[y.jsx(Xh,{className:"w-3 h-3"}),"Copied"]}):y.jsxs(y.Fragment,{children:[y.jsx(Nx,{className:"w-3 h-3"}),"Copy"]})})]}),y.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200 bg-gray-50 dark:bg-gray-900/50 p-2 rounded-lg relative",children:$==="image"&&j&&typeof j=="string"&&j.match(/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp)/i)?y.jsx(Kge,{src:j,alt:"Generated",className:"max-w-full h-auto rounded"}):$==="video"&&j&&typeof j=="string"&&j.match(/^https?:\/\/.+\.(mp4|webm|mov)/i)?y.jsx("video",{src:j,controls:!0,className:"max-w-full h-auto rounded"}):$==="audio"&&j&&typeof j=="string"&&(j.match(/^https?:\/\/.+\.(mp3|wav|ogg)/i)||j.startsWith("data:audio"))?y.jsx("audio",{src:j,controls:!0,className:"w-full"}):y.jsx("div",{dangerouslySetInnerHTML:{__html:V}})})]})]})]},z.id||L)})})]})]})}),document.body):null},Xge=({src:t,alt:e,className:r,draggable:n,...i})=>{const[a,s]=E.useState(t),[l,c]=E.useState(!1),[d,f]=E.useState(0),[p,g]=E.useState(null),[m,w]=E.useState(!1),S=2,_=P=>P&&P.includes("blob.core.windows.net"),k=async P=>{if(m)return!1;w(!0);try{const F=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"":"https://gpt-cells-app-production.up.railway.app",O=await fetch(`${F}/api/proxy-image`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:P})});if(O.ok){const z=await O.json();if(z.success&&z.dataUrl)return s(z.dataUrl),c(!1),f(0),w(!1),!0}}catch(F){console.error("Proxy fetch failed:",F)}return w(!1),!1},N=async P=>{if(_(t)){if(g("expired"),d===0&&!m&&await k(t))return;c(!0);return}g("network"),d<S?setTimeout(()=>{f(F=>F+1),s(`${t}?retry=${d+1}&t=${Date.now()}`),c(!1)},1e3*(d+1)):c(!0)};if(E.useEffect(()=>{s(t),c(!1),f(0),g(null),w(!1)},[t]),l){const P=p==="expired"||_(t);return y.jsx("div",{className:`${r} bg-gray-800 rounded border border-gray-700 flex items-center justify-center p-4 min-h-[200px]`,children:y.jsxs("div",{className:"text-center text-gray-400 text-sm max-w-md",children:[y.jsx("div",{className:"mb-3 text-4xl",children:""}),y.jsx("div",{className:"font-semibold text-gray-300 mb-2",children:P?"Image Link Expired":"Failed to Load Image"}),y.jsx("div",{className:"text-xs text-gray-500 mb-4",children:P?"This DALL-E image link has expired. Please regenerate the image to view it.":"The image could not be loaded. Please check your connection and try again."}),!P&&y.jsx("button",{onClick:()=>{f(0),c(!1),g(null),s(`${t}?retry=0&t=${Date.now()}`)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-xs font-medium transition-colors",children:"Retry"})]})})}return y.jsx("img",{src:a,alt:e,className:r,draggable:n,onError:N,loading:"lazy",...i})},Qge=({cell:t,onUpdate:e,onPositionChange:r,onRunCell:n,onStopCell:i,onDelete:a,isRunning:s,userId:l,projectId:c,sheetId:d,scale:f=1,availableModels:p=[],sheets:g=[],allCells:m={}})=>{const[w,S]=E.useState(!1),[_,k]=E.useState(t.prompt||""),[N,P]=E.useState(t.output||""),[F,O]=E.useState(!1),[z,L]=E.useState(!1),[I,D]=E.useState(!1),[$,j]=E.useState(t.outputCollapsed??!1),[V,M]=E.useState(!1),[J,_e]=E.useState(t.name||""),[se,ee]=E.useState(!1),[fe,we]=E.useState(!1),[Be,Z]=E.useState(!1),[q,Q]=E.useState(null),[re,ae]=E.useState(t.width||350),[ye,Te]=E.useState(t.height||null),[Ve,he]=E.useState(!1),Ce=E.useRef(null),We=E.useRef({isDragging:!1,offsetX:0,offsetY:0}),Ie=E.useRef(null),dt=E.useRef({isResizing:!1,startX:0,startY:0,startWidth:0,startHeight:0}),vt=E.useRef({width:t.width||350,height:t.height||null}),ce=E.useRef(null);E.useEffect(()=>{k(t.prompt||"");const Se=t.output||"";if(P(Se),Se&&t.cell_id){const bt=Se.match(/^https?:\/\/.+\.(mp4|webm|mov)/i)||Se.includes("openai.com")||Se.includes("cdn.openai.com")||Se.includes("firebasestorage.googleapis.com")&&Se.match(/videos\//i);console.log(` Card ${t.cell_id} output updated:`,{output:Se,outputLength:Se.length,isVideo:bt}),bt&&console.log(` VIDEO URL IN CARD: ${Se}`)}j(t.outputCollapsed??!1),_e(t.name||t.cell_id||""),t.output&&(t.output.match(/^https?:\/\/.+\.(mp4|webm|mov)/i)||t.output.includes("openai.com")&&t.output.includes("video")||t.output.includes("cdn.openai.com")||t.output.includes("firebasestorage.googleapis.com")&&t.output.match(/videos\//i))&&(t.status==="completed"||!t.status)?he(!0):he(!1);const Et=t.width||350,rt=t.height||null;ae(Et),Te(rt),vt.current={width:Et,height:rt}},[t.prompt,t.output,t.outputCollapsed,t.name,t.cell_id,t.width,t.height]),E.useEffect(()=>{if(se){const Se=Le=>{Ie.current&&!Ie.current.contains(Le.target)&&ee(!1)};return document.addEventListener("mousedown",Se),()=>document.removeEventListener("mousedown",Se)}},[se]),E.useEffect(()=>{const Se=Ce.current;if(!Se)return;const Le=_t=>{if(!_t.target.closest(".card-handle"))return;_t.preventDefault(),_t.stopPropagation();const gt=Se.closest("[data-canvas-container]");if(!gt)return;const W=gt.getBoundingClientRect();Se.getBoundingClientRect();const be=parseFloat(Se.style.left)||t.x||0,Xe=parseFloat(Se.style.top)||t.y||0,xe=_t.clientX-W.left,de=_t.clientY-W.top,ve=f||1;We.current={isDragging:!0,offsetX:xe/ve-be,offsetY:de/ve-Xe},O(!0),Se.style.cursor="grabbing"},Et=_t=>{if(!We.current.isDragging)return;const gt=Se.closest("[data-canvas-container]");if(!gt)return;const W=gt.getBoundingClientRect(),be=f||1,Xe=_t.clientX-W.left,xe=_t.clientY-W.top,de=Xe/be-We.current.offsetX,ve=xe/be-We.current.offsetY;Se.style.left=de+"px",Se.style.top=ve+"px",r&&r(t.cell_id,de,ve)},rt=()=>{if(We.current.isDragging){We.current.isDragging=!1,O(!1),Se&&(Se.style.cursor="move");const _t=parseFloat(Se.style.left)||t.x||0,gt=parseFloat(Se.style.top)||t.y||0;r&&r(t.cell_id,_t,gt,!0)}},bt=Se.querySelector(".card-handle");return bt&&bt.addEventListener("mousedown",Le),document.addEventListener("mousemove",Et),document.addEventListener("mouseup",rt),()=>{bt&&bt.removeEventListener("mousedown",Le),document.removeEventListener("mousemove",Et),document.removeEventListener("mouseup",rt)}},[t.cell_id,t.x,t.y,f,r]);const yt=Se=>{Se.key==="Enter"&&Se.ctrlKey&&(Yt(),_&&n&&n(t.cell_id))},Yt=()=>{const Se={...t,prompt:_,output:N};e(t.cell_id,_,N,Se),S(!1)},Ft=Se=>{Se.stopPropagation(),s&&i?i(t.cell_id):n&&_&&n(t.cell_id)},Je=async Se=>{Se.stopPropagation(),window.confirm("Are you sure you want to delete this card?")&&a&&await a(t.cell_id)},Nt=()=>{const Se={...t,cell_id:t.cell_id,name:J.trim()||"",prompt:t.prompt,output:t.output};e(t.cell_id,t.prompt,t.output,Se),M(!1)},kt=()=>{_e(t.name||""),M(!1)},lt=(Se,Le)=>{Se.stopPropagation(),Se.preventDefault();const Et=Ce.current?.offsetWidth||re,rt=Ce.current?.offsetHeight||ye||150;Z(!0),Q(Le),dt.current={isResizing:!0,startX:Se.clientX,startY:Se.clientY,startWidth:Et,startHeight:rt}};E.useEffect(()=>{if(!Be)return;const Se=Et=>{if(!dt.current.isResizing)return;const rt=Et.clientX-dt.current.startX,bt=Et.clientY-dt.current.startY;let _t=dt.current.startWidth,gt=dt.current.startHeight;(q==="x"||q==="both")&&(_t=Math.max(250,dt.current.startWidth+rt)),(q==="y"||q==="both")&&(gt=Math.max(150,dt.current.startHeight+bt)),ae(_t),Te(gt),vt.current={width:_t,height:gt}},Le=()=>{if(dt.current.isResizing){const Et=vt.current.width,rt=vt.current.height,bt={...t,width:Et,height:rt};e(t.cell_id,t.prompt,t.output,bt)}Z(!1),Q(null),dt.current.isResizing=!1};return document.addEventListener("mousemove",Se),document.addEventListener("mouseup",Le),()=>{document.removeEventListener("mousemove",Se),document.removeEventListener("mouseup",Le)}},[Be,q,t,e]);const It=Se=>{Se.stopPropagation(),ee(!se)},tr=Se=>{const Le=Zc(_);let Et=_;Le.forEach(rt=>{let bt=rt,_t=null;if(rt.includes("!")){const W=rt.split("!");let be=W[0];if(be.includes(":")){const Xe=be.indexOf(":");be=be.substring(Xe+1)}_t=be,bt=W[W.length-1]}else rt.includes(":")&&(bt=rt.split(":").pop());if(bt.includes("-")&&(bt=bt.split("-")[0]),bt.includes(":")&&(bt=bt.split(":")[0]),(_t?`${_t}!${bt}`:bt)===Se){const W=rt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),be=new RegExp(`\\{\\{${W}\\}\\}`,"g");Et=Et.replace(be,"")}}),Et=Et.replace(/\s+/g," ").trim(),k(Et),e(t.cell_id,Et,t.output),ee(!1)},Jt=()=>{const Se=Zc(_),Le=new Set;return Se.forEach(Et=>{let rt=Et,bt=null;if(rt.includes("!")){const _t=rt.split("!");let gt=_t[0];if(gt.includes(":")){const W=gt.indexOf(":");gt=gt.substring(W+1)}bt=gt,rt=_t[_t.length-1]}else if(rt.includes(":")){const _t=rt.split(":");rt=_t[_t.length-1]}if(rt.includes("-")&&(rt=rt.split("-")[0]),rt=rt.split(":")[0],rt){const _t=bt?`${bt}!${rt}`:rt;Le.add(_t)}}),Array.from(Le)},qt=()=>{if(!g||!t.cell_id)return{referenced:!1,fromSheet:null};const Se=g.find(Le=>Le.id===d)?.name;if(!Se)return!1;for(const Le of g){if(Le.id===d)continue;const Et=m[Le.id]||{};for(const rt of Object.values(Et)){if(!rt.prompt)continue;const bt=Zc(rt.prompt);for(const _t of bt)if(_t.includes("!")){const gt=_t.split("!"),W=gt[0];if((W.includes(":")?W.split(":")[1]:W).toLowerCase()===Se.toLowerCase()){let Xe=gt[gt.length-1];if(Xe.includes("-")&&(Xe=Xe.split("-")[0]),Xe.includes(":")&&(Xe=Xe.split(":")[0]),Xe===t.cell_id)return{referenced:!0,fromSheet:Le.name}}}}}return{referenced:!1,fromSheet:null}},ir=()=>{const Se=t.status==="pending"||t.status==="running"||t.status==="queued"||t.status==="processing"||t.status==="in_progress",Le=N&&N.trim()!=="",Et=s||Se&&!Le||Ve,rt=t.model||"",bt=rr(rt);if(Et&&!Le){const be=(()=>{if(Se)switch(t.status){case"queued":return"Job queued, waiting to start...";case"pending":return"Job created, polling status...";case"processing":case"in_progress":case"running":return"Processing video, checking status...";default:return"Processing, checking status..."}return"Generating..."})();return y.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-gray-400",children:[y.jsx(um,{size:32,className:"animate-spin mb-4 text-blue-400"}),y.jsx("span",{className:"text-sm font-medium",children:be}),Se&&t.jobId&&y.jsxs(y.Fragment,{children:[y.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Job ID: ",t.jobId.substring(0,12),"..."]}),y.jsxs("div",{className:"flex items-center gap-2 mt-3 text-xs text-gray-400",children:[y.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),y.jsx("span",{children:"Polling every second..."})]})]})]})}if(!Le)return y.jsx("div",{className:"text-gray-500 text-sm italic p-4 text-center",children:"Enter a prompt and press Ctrl+Enter or click Run"});const _t=rC(N,bt,t.outputFormat);if(bt==="image"&&N.match(/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp)/i))return y.jsx(Xge,{src:N,alt:"Generated",className:"w-full h-auto rounded border border-white/10",draggable:!1});if(bt==="video"&&N&&(N.match(/^https?:\/\/.+\.(mp4|webm|mov)/i)||N.includes("openai.com")&&(N.includes("video")||N.includes("/videos/"))||N.includes("cdn.openai.com")||N.includes("firebasestorage.googleapis.com")&&N.match(/videos\//i)||N.includes("api.openai.com")&&N.includes("/videos/")&&N.includes("/content"))){let W=N;const be=N.includes("firebasestorage.googleapis.com");if(!be&&N.includes("api.openai.com")&&N.includes("/videos/")&&N.includes("/content")){const Xe=N.match(/\/videos\/([^\/]+)\/content/);if(Xe&&Xe[1]){const xe=Xe[1];W=`${window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"":"https://gpt-cells-app-production.up.railway.app"}/api/proxy-video/${xe}`,console.log(` Converted OpenAI content URL to proxy: ${W}`)}}else be&&console.log(` Using Firebase video URL: ${W.substring(0,100)}...`);return y.jsxs("div",{className:"relative w-full max-w-full rounded border border-white/10 bg-black/10",style:{aspectRatio:"16/9",maxHeight:"600px"},children:[Ve&&y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 rounded z-10",children:[y.jsx(um,{size:32,className:"animate-spin mb-2 text-blue-400"}),y.jsx("span",{className:"text-sm text-gray-300",children:"Loading video..."})]}),y.jsx("video",{ref:ce,src:W,controls:!0,className:"w-full h-full rounded",style:{display:"block",width:"100%",height:"100%",objectFit:"contain",objectPosition:"center"},onLoadedData:()=>{console.log("Video loaded"),he(!1)},onCanPlay:()=>{console.log("Video can play"),he(!1)},onError:Xe=>{console.error("Video load error:",Xe),console.error("Failed video src:",W),he(!1)}})]})}return bt==="audio"&&(N.match(/^https?:\/\/.+\.(mp3|wav|ogg)/i)||N.startsWith("data:audio"))?y.jsx("audio",{src:N,controls:!0,className:"w-full"}):y.jsx("div",{className:"text-sm text-gray-300 leading-relaxed max-h-60 overflow-y-auto custom-scrollbar",dangerouslySetInnerHTML:{__html:_t}})},rr=Se=>{if(!Se)return"text";const Le=Se.toLowerCase();return Le.includes("dall-e")||Le.includes("stable-diffusion")||Le.includes("flux")||Le.includes("recraft")?"image":Le.includes("sora")||Le.includes("runway")||Le.includes("pika")||Le.includes("stable-video")?"video":Le.includes("tts")||Le.includes("elevenlabs")||Le.includes("whisper")?"audio":"text"},Pt=async()=>{if(N)try{let Se=N;if(typeof N=="string"){const Le=document.createElement("div");Le.innerHTML=N,Se=Le.textContent||Le.innerText||N}await navigator.clipboard.writeText(Se),we(!0),setTimeout(()=>we(!1),2e3)}catch(Se){console.error("Failed to copy:",Se);const Le=document.createElement("textarea");Le.value=N,Le.style.position="fixed",Le.style.opacity="0",document.body.appendChild(Le),Le.select(),document.execCommand("copy"),document.body.removeChild(Le),we(!0),setTimeout(()=>we(!1),2e3)}},[er,Ct]=E.useState(!1),[Ar,ar]=E.useState(!1),jt=async()=>{ar(!0);try{const Se=new sr,Le=Se.internal.pageSize.getWidth(),Et=Se.internal.pageSize.getHeight(),rt=20,bt=Le-rt*2;let _t=rt;const gt=ve=>_t+ve>Et-rt?(Se.addPage(),_t=rt,!0):!1,W=(ve,Ae=10,je=!1,De=[0,0,0])=>{Se.setFontSize(Ae),Se.setFont("helvetica",je?"bold":"normal"),Se.setTextColor(De[0],De[1],De[2]);const $e=Se.splitTextToSize(ve,bt),et=Ae*.4;gt($e.length*et+5),$e.forEach(it=>{Se.text(it,rt,_t),_t+=et}),_t+=5};Se.setFontSize(18),Se.setFont("helvetica","bold"),Se.setTextColor(0,0,0);const be=J||`Cell ${t.cell_id}`;Se.text(be,rt,_t),_t+=10,W(`Cell ID: ${t.cell_id}`,10,!1,[100,100,100]),_t+=3,t.prompt&&(gt(15),W("PROMPT",12,!0,[0,0,0]),W(t.prompt,10,!1,[0,0,0]),_t+=5),gt(15);const Xe=p.find(ve=>ve.id===t.model||ve.originalId===t.model||ve.id===t.model?.split("/")?.pop())?.name||t.model||"GPT-3.5";if(W("MODEL & SETTINGS",12,!0,[0,0,0]),W(`Model: ${Xe}`,10,!1,[0,0,0]),t.temperature!==void 0&&W(`Temperature: ${t.temperature}`,10,!1,[0,0,0]),t.characterLimit&&W(`Character Limit: ${t.characterLimit}`,10,!1,[0,0,0]),t.outputFormat&&W(`Output Format: ${t.outputFormat}`,10,!1,[0,0,0]),_t+=5,t.output){if(gt(20),W("CURRENT OUTPUT",12,!0,[0,0,0]),t.output.match(/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp|mp4|webm|mov|mp3|wav|ogg)/i)||t.output.startsWith("data:"))W(`[Media URL: ${t.output.substring(0,100)}...]`,10,!1,[100,100,100]);else{const Ae=t.output.replace(/#{1,6}\s+/g,"").replace(/\*\*(.+?)\*\*/g,"$1").replace(/\*(.+?)\*/g,"$1").replace(/`(.+?)`/g,"$1").replace(/\[(.+?)\]\(.+?\)/g,"$1");W(Ae,10,!1,[0,0,0])}_t+=5}t.generations&&Array.isArray(t.generations)&&t.generations.length>0?(gt(20),W("GENERATION HISTORY",12,!0,[0,0,0]),_t+=3,t.generations.forEach((ve,Ae)=>{if(gt(25),W(`Generation ${Ae+1}`,11,!0,[50,50,150]),ve.timestamp){let je;ve.timestamp.toDate?je=ve.timestamp.toDate().toLocaleString():ve.timestamp.seconds?je=new Date(ve.timestamp.seconds*1e3).toLocaleString():je=new Date(ve.timestamp).toLocaleString(),W(`Generated: ${je}`,9,!1,[100,100,100])}if(ve.status&&W(`Status: ${ve.status}`,9,!1,[100,100,100]),ve.output)if(ve.output.match(/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp|mp4|webm|mov|mp3|wav|ogg)/i)||ve.output.startsWith("data:"))W(`[Media URL: ${ve.output.substring(0,100)}...]`,10,!1,[100,100,100]);else{const De=ve.output.replace(/#{1,6}\s+/g,"").replace(/\*\*(.+?)\*\*/g,"$1").replace(/\*(.+?)\*/g,"$1").replace(/`(.+?)`/g,"$1").replace(/\[(.+?)\]\(.+?\)/g,"$1");W(De,10,!1,[0,0,0])}Ae<t.generations.length-1&&(_t+=3,Se.setDrawColor(200,200,200),Se.line(rt,_t,Le-rt,_t),_t+=5)})):(gt(10),W("No generation history available",10,!1,[150,150,150]));const xe=Se.internal.pages.length-1;for(let ve=1;ve<=xe;ve++)Se.setPage(ve),Se.setFontSize(8),Se.setTextColor(150,150,150),Se.text(`Page ${ve} of ${xe} - Generated on ${new Date().toLocaleString()}`,Le/2,Et-10,{align:"center"});const de=`${J||t.cell_id}_${new Date().toISOString().split("T")[0]}.pdf`;Se.save(de),console.log(" PDF generated successfully")}catch(Se){console.error(" Error generating PDF:",Se),alert(`Failed to generate PDF: ${Se.message}`)}finally{ar(!1)}},Ht=async()=>{if(!l||!c||!d||!t.cell_id){console.error("Missing required IDs for saving media");return}const{checkStoragePermission:Se,getStorageLimitMessage:Le}=await Wa(async()=>{const{checkStoragePermission:rt,getStorageLimitMessage:bt}=await Promise.resolve().then(()=>u6);return{checkStoragePermission:rt,getStorageLimitMessage:bt}},void 0),Et=await Se(l);if(!Et.allowed){Ct(!1);const rt=Et.reason||"Storage not available for your subscription plan",bt=Le(Et.subscription||"free");Et.subscription==="free"||Et.subscription==="starter"?alert(`${rt}

${bt}

Please download copies of your images and videos to save them locally.`):alert(rt);return}Ct(!0);try{console.log(" Starting to save media for cell:",t.cell_id);const rt=de=>de&&typeof de=="string"&&de.includes("firebasestorage.googleapis.com"),bt=de=>!de||typeof de!="string"?null:de.startsWith("data:audio")||de.match(/^https?:\/\/.+\.(mp3|wav|ogg)/i)?"audio":de.match(/^https?:\/\/.+\.(mp4|webm|mov)/i)||de.includes("openai.com")&&(de.includes("video")||de.includes("/videos/")||de.includes("/content"))||de.includes("sora")||de.includes("runway")||de.includes("pika")||de.includes("cdn.openai.com")?"video":de.match(/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp)/i)||de.includes("dalle")||de.includes("blob.core.windows.net")||de.includes("imagen")||de.includes("recraft")||de.includes("flux")?"image":null,_t=[];if(t.output&&typeof t.output=="string"&&(t.output.startsWith("http")||t.output.startsWith("data:"))){const de=bt(t.output);console.log(` Checking output URL: ${t.output.substring(0,100)}...`,{mediaType:de,isFirebase:rt(t.output)}),de&&!rt(t.output)&&(_t.push({url:t.output,type:de,location:"output",index:null}),console.log(` Added ${de} from output to save queue`))}if(t.generations&&Array.isArray(t.generations)&&t.generations.forEach((de,ve)=>{if(de.output&&typeof de.output=="string"&&(de.output.startsWith("http")||de.output.startsWith("data:"))){const Ae=bt(de.output);console.log(` Checking generation ${ve} URL: ${de.output.substring(0,100)}...`,{mediaType:Ae,isFirebase:rt(de.output)}),Ae&&!rt(de.output)&&(_t.push({url:de.output,type:Ae,location:"generation",index:ve}),console.log(` Added ${Ae} from generation ${ve} to save queue`))}}),_t.length===0){console.log(" No unsaved media found"),alert("No unsaved media found. All media files are already saved to Firebase or this cell does not contain any media."),Ct(!1);return}console.log(` Found ${_t.length} media file(s) to save`);const gt=[];for(const de of _t)try{console.log(` Uploading ${de.type}: ${de.url.substring(0,100)}...`),console.log(" Media details:",{type:de.type,location:de.location,index:de.index});let ve;if(de.type==="image"?ve=await eC(de.url,l,c,d,t.cell_id):de.type==="video"?(console.log(` Starting video upload for: ${de.url}`),ve=await rw(de.url,l,c,d,t.cell_id),console.log(" Video upload result:",ve)):de.type==="audio"&&(ve=await tC(de.url,l,c,d,t.cell_id)),ve&&ve.success)gt.push({...de,firebaseUrl:ve.url}),console.log(` Uploaded ${de.type} to Firebase: ${ve.url.substring(0,100)}...`);else{const Ae=ve?.error||"Unknown error",je=ve?.blocked||!1;if(Ae.includes("no longer available")||Ae.includes("expire")||Ae.includes("expired")||de.type==="video"&&Ae.includes("1 hours")||de.type==="image"&&Ae.includes("403")){const $e=de.type==="video"?"Video URL expired (OpenAI videos expire after 1 hour). Please regenerate the video or save it immediately after generation.":"Image URL expired (DALL-E images expire after a short time). Please regenerate the image or save it immediately after generation.";console.warn(` ${$e}`),gt.push({...de,firebaseUrl:null,error:$e})}else je?(console.warn(` Upload blocked for ${de.type}: ${Ae}`),gt.push({...de,firebaseUrl:null,error:Ae,blocked:!0})):(console.warn(` Failed to upload ${de.type}:`,Ae),gt.push({...de,firebaseUrl:null,error:Ae,blocked:!1}))}}catch(ve){console.error(` Error uploading ${de.type}:`,ve),console.error(" Error stack:",ve.stack),gt.push({...de,firebaseUrl:null,error:ve.message})}let W=t.output;const be=t.generations?[...t.generations]:[];console.log(` Updating cell with ${gt.length} upload result(s)`),gt.forEach((de,ve)=>{console.log(` Processing upload result ${ve}:`,{type:de.type,location:de.location,index:de.index,hasFirebaseUrl:!!de.firebaseUrl,firebaseUrl:de.firebaseUrl?de.firebaseUrl.substring(0,100):null}),de.firebaseUrl?de.location==="output"?(console.log(` Replacing output URL: ${W.substring(0,100)}... -> ${de.firebaseUrl.substring(0,100)}...`),W=de.firebaseUrl):de.location==="generation"&&de.index!==null&&(be[de.index]?(console.log(` Replacing generation ${de.index} URL: ${be[de.index].output?.substring(0,100)}... -> ${de.firebaseUrl.substring(0,100)}...`),be[de.index]={...be[de.index],output:de.firebaseUrl}):console.warn(` Generation ${de.index} not found in generations array`)):console.warn(` Upload result ${ve} has no Firebase URL, skipping update`)});const Xe={...t,output:W,generations:be,updatedAt:new Date},xe=gt.filter(de=>de.firebaseUrl);if(console.log(` Upload summary: ${xe.length} successful, ${gt.length-xe.length} failed`),console.log(` Updated output: ${W.substring(0,100)}...`),console.log(` Original output: ${t.output?.substring(0,100)}...`),xe.length>0){console.log(" Saving cell with updated URLs...");const de=await Ka(l,c,d,t.cell_id,Xe);if(de.success){console.log(` Cell saved successfully with ${xe.length} Firebase URL(s)`),console.log(` New output URL: ${W.substring(0,100)}...`),P(W),e?(console.log(" Calling onUpdate callback..."),e(t.cell_id,Xe)):console.warn(" onUpdate callback not provided");const ve=gt.filter(je=>je.blocked).length;let Ae=`Successfully saved ${xe.length} media file(s) to Firebase!`;ve>0&&(Ae+=`

${ve} file(s) could not be saved due to subscription limits. Please download copies of your media files.`),alert(Ae)}else console.error(" Failed to save cell:",de.error),alert(`Failed to save cell: ${de.error||"Unknown error"}`)}else{const de=gt.filter(je=>!je.firebaseUrl).length,ve=gt.filter(je=>je.blocked).length,Ae=gt.filter(je=>!je.firebaseUrl&&je.error&&(je.error.includes("expired")||je.error.includes("no longer available"))).length;if(console.error(` All uploads failed. Failed count: ${de}, Blocked: ${ve}, Expired: ${Ae}`),gt.forEach((je,De)=>{je.firebaseUrl||console.error(` Upload ${De} failed:`,je.error,je.blocked?"(BLOCKED)":"")}),de>0)if(ve===de&&ve>0){const{getStorageLimitMessage:je}=await Wa(async()=>{const{getStorageLimitMessage:$e}=await Promise.resolve().then(()=>u6);return{getStorageLimitMessage:$e}},void 0),De=je("free");alert(`Cannot save: ${ve} media file(s) cannot be saved due to subscription limits.

${De}

Please download copies of your media files.`)}else if(Ae===de&&Ae>0)alert(`Cannot save: ${Ae} media file(s) have expired URLs. ${Ae===1?"It":"They"} must be saved within 1 hour of generation. Please regenerate ${Ae===1?"it":"them"} or ensure future generations are saved immediately.`);else{let je=`Failed to upload ${de} media file(s).`;ve>0&&(je+=` ${ve} blocked due to subscription limits.`),Ae>0&&(je+=` ${Ae} expired.`),je+=" Check console for details.",alert(je)}}}catch(rt){console.error(" Error saving media:",rt),console.error(" Error stack:",rt.stack),alert(`Failed to save media: ${rt.message||"Unknown error"}`)}finally{Ct(!1)}};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{ref:Ce,className:`absolute glass-card rounded-2xl flex flex-col transition-shadow duration-300 ${F?"cursor-grabbing shadow-blue-500/20":""} ${Be?"select-none":""} ${s||t.status==="running"||t.status==="processing"||t.status==="in_progress"||t.status==="pending"||t.status==="queued"?"shadow-[0_0_20px_rgba(59,130,246,0.5)] shadow-blue-500/50":""}`,style:{width:`${re}px`,height:ye?`${ye}px`:"auto",minHeight:"150px",minWidth:"250px",left:t.x||0,top:t.y||0,cursor:Be?q==="x"?"ew-resize":q==="y"?"ns-resize":"nwse-resize":"move"},"data-cell-id":t.cell_id,children:[y.jsxs("div",{className:"card-handle h-10 border-b border-white/10 flex items-center justify-between px-4 cursor-grab active:cursor-grabbing select-none group rounded-t-2xl bg-white/5",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[y.jsx(hhe,{size:14,className:"text-gray-500 flex-shrink-0"}),V?y.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[y.jsx("input",{type:"text",value:J,onChange:Se=>_e(Se.target.value),onKeyDown:Se=>{Se.key==="Enter"?Nt():Se.key==="Escape"&&kt()},onBlur:Nt,className:"flex-1 bg-gray-800 rounded px-2 py-0.5 text-xs text-white min-w-0",autoFocus:!0,onClick:Se=>Se.stopPropagation()}),y.jsx("button",{onClick:Se=>{Se.stopPropagation(),Nt()},className:"text-green-400 hover:text-green-300",title:"Save name",children:y.jsx(Xh,{size:12})}),y.jsx("button",{onClick:Se=>{Se.stopPropagation(),kt()},className:"text-red-400 hover:text-red-300",title:"Cancel",children:y.jsx(Is,{size:12})})]}):y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"font-mono text-[10px] font-semibold text-blue-400 flex-shrink-0",title:"Cell reference (cannot be changed)",children:t.cell_id}),(()=>{const Se=qt();return Se.referenced?y.jsxs("span",{className:"text-[8px] px-1 py-0.5 rounded bg-cyan-500/20 text-cyan-300 border border-cyan-500/30 flex items-center gap-1 flex-shrink-0",title:`Referenced from sheet: ${Se.fromSheet}`,children:[y.jsx(the,{size:9}),y.jsx("span",{children:Se.fromSheet})]}):null})(),t.prompt&&YU(t.prompt).some(Se=>Se.type==="conditional")&&y.jsx("span",{className:"text-[8px] px-1 py-0.5 rounded bg-purple-500/20 text-purple-300 border border-purple-500/30 flex-shrink-0",title:"This cell contains conditional logic (if/else/then)",children:"IF"}),t.condition&&y.jsx("span",{className:"text-[8px] px-1 py-0.5 rounded bg-orange-500/20 text-orange-300 border border-orange-500/30 flex-shrink-0",title:`Conditional execution: ${t.condition}`,children:"COND"}),J&&y.jsxs("span",{className:"text-[10px] text-gray-300 ml-1 truncate",title:"Display name (click to edit)",children:["- ",J]}),y.jsx("span",{className:"text-[10px] text-gray-500 hover:text-gray-300 cursor-pointer ml-1 flex-shrink-0",onClick:Se=>{Se.stopPropagation(),M(!0)},title:"Click to edit name",children:J?"":""}),t.status&&t.status!=="completed"&&y.jsxs("span",{className:`text-[10px] ml-2 px-2 py-1 rounded-full flex items-center gap-1.5 font-medium ${t.status==="pending"||t.status==="queued"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":t.status==="running"||t.status==="processing"||t.status==="in_progress"?"bg-blue-500/20 text-blue-400 border border-blue-500/30":t.status==="error"?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}`,title:`Status: ${t.status}${t.jobId?` (Job: ${t.jobId.substring(0,8)}...)`:""} - Polling active`,children:[(t.status==="pending"||t.status==="queued")&&y.jsx(Cx,{size:11,className:"animate-pulse"}),(t.status==="running"||t.status==="processing"||t.status==="in_progress")&&y.jsx(um,{size:11,className:"animate-spin"}),t.status==="error"&&y.jsx("span",{className:"text-xs",children:""}),y.jsx("span",{className:"capitalize font-semibold",children:t.status}),(t.status==="pending"||t.status==="queued"||t.status==="running"||t.status==="processing"||t.status==="in_progress")&&y.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse ml-0.5"})]}),y.jsx("span",{className:"font-mono text-[10px] font-bold text-blue-300 bg-blue-500/10 px-2 py-0.5 rounded-full border border-blue-500/20 flex-shrink-0",children:(()=>{if(!t.model)return"GPT-3.5";const Se=p.find(rt=>rt.id===t.model||rt.originalId===t.model||rt.id===t.model?.split("/")?.pop()||rt.originalId&&rt.originalId===t.model||rt.id&&rt.id.split("/").pop()===t.model?.split("/")?.pop());let Le="";Se&&Se.name?Le=Se.name:Le=(t.model?.split("/")?.pop()||t.model)?.split("-").pop()||"GPT-3.5";const Et=Le.split(/\s+/);return Et.length>2?Et.slice(0,2).join(" ")+"...":Le})()})]})]}),y.jsxs("div",{className:"flex gap-2 opacity-60 group-hover:opacity-100 transition-opacity relative",children:[y.jsx("button",{onClick:Ft,disabled:!s&&!_,className:`transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${s?"text-red-400 hover:text-red-300":"text-gray-400 hover:text-white"}`,title:s?"Stop generation":"Run cell (Ctrl+Enter)",children:s?y.jsx($he,{size:14,fill:"currentColor"}):y.jsx(Che,{size:14})}),y.jsx("button",{type:"button",className:"text-gray-400 hover:text-white transition-colors",title:"History",onMouseDown:Se=>Se.stopPropagation(),onClick:Se=>{Se.stopPropagation(),D(!0)},children:y.jsx(Cx,{size:14})}),y.jsx("button",{type:"button",className:`transition-colors ${Ar?"text-blue-400 cursor-wait":"text-gray-400 hover:text-purple-400"}`,title:"Download PDF of all generations",disabled:Ar,onMouseDown:Se=>Se.stopPropagation(),onClick:Se=>{Se.stopPropagation(),jt()},children:Ar?y.jsx(um,{size:14,className:"animate-spin"}):y.jsx(o$,{size:14})}),y.jsx("button",{type:"button",className:`transition-colors ${er?"text-blue-400 cursor-wait":"text-gray-400 hover:text-green-400"}`,title:"Save media to Firebase",disabled:er,onMouseDown:Se=>Se.stopPropagation(),onClick:Se=>{Se.stopPropagation(),Ht()},children:er?y.jsx(um,{size:14,className:"animate-spin"}):y.jsx(s$,{size:14})}),y.jsx("button",{type:"button",className:"text-gray-400 hover:text-white transition-colors",title:"Settings",onMouseDown:Se=>Se.stopPropagation(),onClick:Se=>{Se.stopPropagation(),L(!0)},children:y.jsx(c$,{size:14})}),y.jsxs("button",{type:"button",className:"text-gray-400 hover:text-orange-400 transition-colors relative",title:"Unlink dependencies",onMouseDown:Se=>Se.stopPropagation(),onClick:It,children:[y.jsx(Ghe,{size:14}),se&&y.jsxs("div",{ref:Ie,className:"absolute top-full right-0 mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50 min-w-[200px]",onClick:Se=>Se.stopPropagation(),children:[y.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-400 border-b border-gray-700",children:"Disconnect from:"}),Jt().length>0?Jt().map(Se=>{const Le=Se.includes("!"),[Et,rt]=Le?Se.split("!"):[null,Se];return y.jsxs("div",{className:"px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 cursor-pointer flex items-center justify-between border-b border-gray-700 last:border-b-0",onClick:()=>tr(Se),children:[y.jsxs("span",{className:"flex items-center gap-2",children:[Le&&y.jsxs("span",{className:"text-cyan-400 text-xs",children:[" ",Et]}),y.jsx("span",{children:rt})]}),y.jsx("span",{className:"text-red-400",children:""})]},Se)}):y.jsx("div",{className:"px-3 py-2 text-sm text-gray-400",children:"No dependencies"})]})]}),y.jsx("button",{onClick:Je,className:"text-gray-400 hover:text-red-400 transition-colors",title:"Delete",children:y.jsx(ru,{size:14})})]})]}),y.jsxs("div",{className:"flex-1 flex flex-col p-0 min-h-0",children:[y.jsx("div",{className:`border-b border-white/5 bg-black/20 flex-shrink-0 ${!N||!$?"flex-1":""}`,children:y.jsx("div",{className:"p-3 h-full flex flex-col",children:y.jsxs("div",{className:"relative w-full flex-1 min-h-0 flex flex-col",children:[y.jsx("div",{className:"absolute top-2 right-2 z-20",children:y.jsx("button",{type:"button",onClick:Se=>{Se.stopPropagation(),L(!0)},className:"text-blue-400 hover:text-blue-300 transition-colors bg-blue-500/10 hover:bg-blue-500/20 rounded-full p-1.5 border border-blue-500/30",title:"Click for reference help and settings",children:y.jsx(a$,{size:14})})}),y.jsx("textarea",{className:"w-full text-sm text-gray-200 placeholder-gray-600 focus:outline-none resize-none bg-transparent font-medium leading-relaxed flex-1 min-h-0",placeholder:"What would you like to create? Use {{A1}} for same-sheet, {{Sheet1!A1}} for cross-sheet references",rows:!N||!$?void 0:2,style:!N||!$?{height:"100%"}:{},value:_,onChange:Se=>{const Le=Se.target.value;k(Le);const Et={...t,cell_id:t.cell_id,prompt:Le,output:t.output};e(t.cell_id,Le,t.output,Et)},onKeyDown:yt,onFocus:()=>S(!0),onBlur:()=>{_!==t.prompt&&Yt()},onMouseDown:Se=>{Se.stopPropagation()},onTouchStart:Se=>{Se.stopPropagation()}})]})})}),N&&y.jsxs("div",{className:`border-t border-white/5 flex flex-col ${$?"flex-shrink-0":"flex-1 min-h-0"}`,children:[y.jsxs("div",{className:"flex items-center justify-between flex-shrink-0",children:[y.jsxs("button",{onClick:Se=>{Se.stopPropagation();const Le=!$;j(Le);const Et={...t,cell_id:t.cell_id,prompt:t.prompt,output:t.output,outputCollapsed:Le};e(t.cell_id,t.prompt,t.output,Et)},className:"flex-1 px-4 py-2 flex items-center justify-between text-xs text-gray-400 hover:text-gray-300 hover:bg-white/5 transition-colors",title:$?"Expand output":"Collapse output",children:[y.jsx("span",{className:"font-medium",children:"Output"}),$?y.jsx(uw,{size:14}):y.jsx(VC,{size:14})]}),y.jsx("button",{onClick:Se=>{Se.stopPropagation(),Pt()},className:"px-3 py-2 text-xs text-gray-400 hover:text-gray-300 transition-colors",title:"Copy output to clipboard",children:fe?y.jsx(Xh,{size:14,className:"text-green-400"}):y.jsx(Nx,{size:14})})]}),!$&&y.jsx("div",{className:"p-4 bg-black/10 flex-1 min-h-0 rounded-b-2xl relative overflow-auto",children:ir()})]}),!N&&y.jsx("div",{className:"p-4 bg-black/10 flex-1 min-h-0 rounded-b-2xl overflow-auto",children:ir()})]}),y.jsx(qu.div,{whileHover:{scale:1.2},className:"absolute top-12 -left-3 w-6 h-6 bg-gray-800 border-2 border-blue-500 rounded-full cursor-crosshair shadow-lg flex items-center justify-center z-20 group",title:"Input",onMouseDown:Se=>{Se.stopPropagation()},onClick:Se=>{Se.stopPropagation(),e(t.cell_id,"connect-input")},children:y.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full group-hover:bg-white transition-colors"})}),y.jsx(qu.div,{whileHover:{scale:1.2},className:"absolute top-12 -right-3 w-6 h-6 bg-gray-800 border-2 border-purple-500 rounded-full cursor-crosshair shadow-lg flex items-center justify-center z-20 group",title:"Output",onMouseDown:Se=>{Se.stopPropagation()},onClick:Se=>{Se.stopPropagation(),e(t.cell_id,"connect-output")},children:y.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full group-hover:bg-white transition-colors"})}),y.jsx("div",{className:"absolute top-0 right-0 w-2 h-full cursor-ew-resize z-30 hover:bg-blue-500/20 transition-colors",onMouseDown:Se=>lt(Se,"x"),title:"Resize width"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-full h-2 cursor-ns-resize z-30 hover:bg-blue-500/20 transition-colors",onMouseDown:Se=>lt(Se,"y"),title:"Resize height"}),y.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-nwse-resize z-30 flex items-center justify-end pr-1 pb-1",onMouseDown:Se=>lt(Se,"both"),title:"Resize both",children:y.jsx(Ahe,{size:14,className:"text-gray-500 opacity-50 hover:opacity-100 transition-opacity",style:{transform:"rotate(90deg)"}})})]}),y.jsx(Wge,{isOpen:z,onClose:()=>L(!1),cell:t,sheets:g,cells:m,onSave:Se=>{const Le={...t,...Se,cell_id:t.cell_id,prompt:Se.prompt||t.prompt,output:t.output};Se.prompt!==void 0&&Se.prompt!==_&&k(Se.prompt),e(t.cell_id,Le.prompt,t.output,Le)}}),y.jsx(Yge,{isOpen:I,onClose:()=>D(!1),cell:t,userId:l,projectId:c,sheetId:d,onRestore:Se=>{e(t.cell_id,Se.prompt,Se.output)}})]})},Zge=({start:t,end:e,isDependency:r=!1})=>{const n=Math.abs(e.x-t.x),i={x:t.x+n*.5,y:t.y},a={x:e.x-n*.5,y:e.y},s=`M ${t.x} ${t.y} C ${i.x} ${i.y}, ${a.x} ${a.y}, ${e.x} ${e.y}`,l=r?"#10b981":"#3b82f6",c=r?"arrowhead-green":"arrowhead-blue";return y.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none overflow-visible",style:{zIndex:0},children:[y.jsxs("defs",{children:[y.jsx("marker",{id:"arrowhead-blue",markerWidth:"10",markerHeight:"7",refX:"10",refY:"3.5",orient:"auto",children:y.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#3b82f6"})}),y.jsx("marker",{id:"arrowhead-green",markerWidth:"10",markerHeight:"7",refX:"10",refY:"3.5",orient:"auto",children:y.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#10b981"})})]}),y.jsx("path",{d:s,fill:"none",stroke:l,strokeWidth:r?"2.5":"2",strokeDasharray:r?"5,5":"none",markerEnd:`url(#${c})`,opacity:.8})]})},Jge=({cells:t,connections:e})=>{const r={},n={};return e.forEach(i=>{const{source_cell_id:a,target_cell_id:s}=i;r[a]||(r[a]=[]),r[a].push(s),n[s]||(n[s]=[]),n[s].push(a)}),y.jsxs("div",{className:"absolute top-0 right-0 h-full w-64 bg-gray-900/80 backdrop-blur-sm text-gray-200 p-4 overflow-y-auto glass-panel",children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Dependencies"}),t.map(i=>y.jsxs("div",{className:"mb-3 border-b border-gray-700 pb-2",children:[y.jsx("div",{className:"font-mono text-sm text-blue-300",children:i.cell_id}),y.jsxs("div",{className:"text-xs mt-1",children:[y.jsx("span",{className:"font-medium",children:"Outputs to:"})," ",r[i.cell_id]?r[i.cell_id].join(", "):""]}),y.jsxs("div",{className:"text-xs mt-1",children:[y.jsx("span",{className:"font-medium",children:"Inputs from:"})," ",n[i.cell_id]?n[i.cell_id].join(", "):""]})]},i.cell_id))]})};function e0e(t){if(!t)return null;let e=t;if(t.includes(":")&&(t.startsWith("prompt:")||t.startsWith("output:"))&&(e=t.substring(t.indexOf(":")+1)),e.includes("!")&&(e=e.substring(e.indexOf("!")+1)),e.includes("-")){const r=e.indexOf("-"),n=e.substring(r+1);isNaN(parseInt(n))||(e=e.substring(0,r))}if(e.includes(":")){const r=e.indexOf(":"),n=e.substring(r+1);(!isNaN(parseInt(n))||n.includes("-"))&&(e=e.substring(0,r))}return e.trim()||null}function t0e(t){const e=[],r=new Set(t.map(a=>a.cell_id));t.forEach(a=>{if(!a.prompt)return;Zc(a.prompt).forEach(l=>{const c=e0e(l);c&&r.has(c)&&e.push({source_cell_id:c,target_cell_id:a.cell_id})})});const n=[],i=new Set;return e.forEach(a=>{const s=`${a.source_cell_id}-${a.target_cell_id}`;i.has(s)||(i.add(s),n.push(a))}),n}function r0e(t=[],e=[]){const r=[...t,...e],n=[],i=new Set;return r.forEach(a=>{const s=`${a.source_cell_id}-${a.target_cell_id}`;i.has(s)||(i.add(s),n.push(a))}),n}const n0e=({cells:t,connections:e=[],onCellUpdate:r,onCellPositionChange:n,onRunCell:i,onStopCell:a,onDeleteCell:s,runningCells:l=new Set,userId:c,projectId:d,sheetId:f,availableModels:p=[],sheets:g=[],allCells:m={}})=>{const[w,S]=E.useState(!1),_=E.useMemo(()=>t.map(F=>`${F.cell_id}:${F.prompt||""}`).join("|"),[t]),k=E.useMemo(()=>t0e(t),[t,_]),N=E.useMemo(()=>r0e(e,k),[e,k]),P=(F,O)=>{const z=t.find(D=>D.cell_id===F);if(!z)return null;const L=288,I=75;return O==="source"?{x:(z.x||0)+L,y:(z.y||0)+I}:O==="target"?{x:z.x||0,y:(z.y||0)+I}:{x:0,y:0}};return y.jsxs("div",{className:"w-full h-full overflow-hidden relative",children:[y.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(rgba(255,255,255,0.1) 1px, transparent 1px)",backgroundSize:"24px 24px",backgroundAttachment:"fixed"}}),y.jsx(zoe,{initialScale:1,initialPositionX:0,initialPositionY:0,minScale:.1,maxScale:4,limitToBounds:!1,wheel:{step:.1},panning:{velocityDisabled:!1,excluded:["textarea","input","button","select"]},doubleClick:{disabled:!0},children:({zoomIn:F,zoomOut:O,resetTransform:z,...L})=>y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"absolute top-4 right-4 z-50 flex flex-col gap-2 glass-panel p-2 rounded-xl",children:[y.jsx("button",{onClick:()=>F(),className:"p-2 hover:bg-white/10 rounded-lg text-gray-300 hover:text-white transition-colors",children:y.jsx(tpe,{size:18})}),y.jsx("button",{onClick:()=>O(),className:"p-2 hover:bg-white/10 rounded-lg text-gray-300 hover:text-white transition-colors",children:y.jsx(npe,{size:18})}),y.jsx("button",{onClick:()=>z(),className:"p-2 hover:bg-white/10 rounded-lg text-gray-300 hover:text-white transition-colors",children:y.jsx(Ehe,{size:18})}),y.jsx("button",{onClick:()=>S(!w),className:"p-2 hover:bg-white/10 rounded-lg text-gray-300 hover:text-white transition-colors",children:w?"Hide":"Deps"})]}),y.jsx(Hoe,{wrapperClass:"w-full h-full",contentClass:"w-full h-full",wrapperStyle:{width:"100%",height:"100%"},children:y.jsxs("div",{className:"w-[5000px] h-[5000px] relative pointer-events-auto","data-canvas-container":!0,children:[N.map(I=>{const D=P(I.source_cell_id,"source"),$=P(I.target_cell_id,"target");return!D||!$?null:y.jsx(Zge,{start:D,end:$,isDependency:k.some(j=>j.source_cell_id===I.source_cell_id&&j.target_cell_id===I.target_cell_id)},`${I.source_cell_id}-${I.target_cell_id}`)}),t.map(I=>y.jsx(Qge,{cell:I,onUpdate:r,onPositionChange:n,onRunCell:i,onStopCell:a,onDelete:s,isRunning:l.has(I.cell_id),userId:c,projectId:d,sheetId:f,scale:L.state?L.state.scale:1,availableModels:p,sheets:g,allCells:m},I.cell_id))]})})]})}),w&&y.jsx(Jge,{cells:t,connections:N})]})};function nq(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=nq(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function sn(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=nq(t))&&(n&&(n+=" "),n+=e);return n}var i0e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function WC(t){if(typeof t!="string")return!1;var e=i0e;return e.includes(t)}var a0e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],s0e=new Set(a0e);function iq(t){return typeof t!="string"?!1:s0e.has(t)}function aq(t){return typeof t=="string"&&t.startsWith("data-")}function Qs(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(iq(r)||aq(r))&&(e[r]=t[r]);return e}function Jh(t){if(t==null)return null;if(E.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Qs(e)}return typeof t=="object"&&!Array.isArray(t)?Qs(t):null}function Ds(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(iq(r)||aq(r)||WC(r))&&(e[r]=t[r]);return e}function o0e(t){return t==null?null:E.isValidElement(t)?Ds(t.props):typeof t=="object"&&!Array.isArray(t)?Ds(t):null}var l0e=["children","width","height","viewBox","className","style","title","desc"];function jT(){return jT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jT.apply(null,arguments)}function u0e(t,e){if(t==null)return{};var r,n,i=c0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function c0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var KC=E.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:l,title:c,desc:d}=t,f=u0e(t,l0e),p=a||{width:n,height:i,x:0,y:0},g=sn("recharts-surface",s);return E.createElement("svg",jT({},Ds(f),{className:g,width:n,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),E.createElement("title",null,c),E.createElement("desc",null,d),r)}),d0e=["children","className"];function RT(){return RT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RT.apply(null,arguments)}function f0e(t,e){if(t==null)return{};var r,n,i=h0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function h0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Vi=E.forwardRef((t,e)=>{var{children:r,className:n}=t,i=f0e(t,d0e),a=sn("recharts-layer",n);return E.createElement("g",RT({className:a},Ds(i),{ref:e}),r)}),sq=E.createContext(null),p0e=()=>E.useContext(sq);function qn(t){return function(){return t}}const oq=Math.cos,Ix=Math.sin,mu=Math.sqrt,Dx=Math.PI,fw=2*Dx,OT=Math.PI,IT=2*OT,bh=1e-6,m0e=IT-bh;function lq(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function g0e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return lq;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class y0e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?lq:g0e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=n-e,d=i-r,f=s-e,p=l-r,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>bh)if(!(Math.abs(p*c-d*f)>bh)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-s,w=i-l,S=c*c+d*d,_=m*m+w*w,k=Math.sqrt(S),N=Math.sqrt(g),P=a*Math.tan((OT-Math.acos((S+g-_)/(2*k*N)))/2),F=P/N,O=P/k;Math.abs(F-1)>bh&&this._append`L${e+F*f},${r+F*p}`,this._append`A${a},${a},0,0,${+(p*m>f*w)},${this._x1=e+O*c},${this._y1=r+O*d}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=e+l,f=r+c,p=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>bh||Math.abs(this._y1-f)>bh)&&this._append`L${d},${f}`,n&&(g<0&&(g=g%IT+IT),g>m0e?this._append`A${n},${n},0,1,${p},${e-l},${r-c}A${n},${n},0,1,${p},${this._x1=d},${this._y1=f}`:g>bh&&this._append`A${n},${n},0,${+(g>=OT)},${p},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function YC(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new y0e(e)}function XC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function uq(t){this._context=t}uq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function hw(t){return new uq(t)}function cq(t){return t[0]}function dq(t){return t[1]}function fq(t,e){var r=qn(!0),n=null,i=hw,a=null,s=YC(l);t=typeof t=="function"?t:t===void 0?cq:qn(t),e=typeof e=="function"?e:e===void 0?dq:qn(e);function l(c){var d,f=(c=XC(c)).length,p,g=!1,m;for(n==null&&(a=i(m=s())),d=0;d<=f;++d)!(d<f&&r(p=c[d],d,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(p,d,c),+e(p,d,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:qn(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:qn(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:qn(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function rb(t,e,r){var n=null,i=qn(!0),a=null,s=hw,l=null,c=YC(d);t=typeof t=="function"?t:t===void 0?cq:qn(+t),e=typeof e=="function"?e:qn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?dq:qn(+r);function d(p){var g,m,w,S=(p=XC(p)).length,_,k=!1,N,P=new Array(S),F=new Array(S);for(a==null&&(l=s(N=c())),g=0;g<=S;++g){if(!(g<S&&i(_=p[g],g,p))===k)if(k=!k)m=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=g-1;w>=m;--w)l.point(P[w],F[w]);l.lineEnd(),l.areaEnd()}k&&(P[g]=+t(_,g,p),F[g]=+e(_,g,p),l.point(n?+n(_,g,p):P[g],r?+r(_,g,p):F[g]))}if(N)return l=null,N+""||null}function f(){return fq().defined(i).curve(s).context(a)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:qn(+p),n=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:qn(+p),d):t},d.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:qn(+p),d):n},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:qn(+p),r=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:qn(+p),d):e},d.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:qn(+p),d):r},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(r)},d.lineX1=function(){return f().x(n).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:qn(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,a!=null&&(l=s(a)),d):s},d.context=function(p){return arguments.length?(p==null?a=l=null:l=s(a=p),d):a},d}class hq{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function v0e(t){return new hq(t,!0)}function b0e(t){return new hq(t,!1)}const QC={draw(t,e){const r=mu(e/Dx);t.moveTo(r,0),t.arc(0,0,r,0,fw)}},x0e={draw(t,e){const r=mu(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},pq=mu(1/3),w0e=pq*2,_0e={draw(t,e){const r=mu(e/w0e),n=r*pq;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},A0e={draw(t,e){const r=mu(e),n=-r/2;t.rect(n,n,r,r)}},S0e=.8908130915292852,mq=Ix(Dx/10)/Ix(7*Dx/10),E0e=Ix(fw/10)*mq,T0e=-oq(fw/10)*mq,k0e={draw(t,e){const r=mu(e*S0e),n=E0e*r,i=T0e*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=fw*a/5,l=oq(s),c=Ix(s);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},EA=mu(3),C0e={draw(t,e){const r=-mu(e/(EA*3));t.moveTo(0,r*2),t.lineTo(-EA*r,-r),t.lineTo(EA*r,-r),t.closePath()}},hl=-.5,pl=mu(3)/2,DT=1/mu(12),N0e=(DT/2+1)*3,P0e={draw(t,e){const r=mu(e/N0e),n=r/2,i=r*DT,a=n,s=r*DT+r,l=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(hl*n-pl*i,pl*n+hl*i),t.lineTo(hl*a-pl*s,pl*a+hl*s),t.lineTo(hl*l-pl*c,pl*l+hl*c),t.lineTo(hl*n+pl*i,hl*i-pl*n),t.lineTo(hl*a+pl*s,hl*s-pl*a),t.lineTo(hl*l+pl*c,hl*c-pl*l),t.closePath()}};function j0e(t,e){let r=null,n=YC(i);t=typeof t=="function"?t:qn(t||QC),e=typeof e=="function"?e:qn(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:qn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:qn(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Lx(){}function Mx(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function gq(t){this._context=t}gq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function R0e(t){return new gq(t)}function yq(t){this._context=t}yq.prototype={areaStart:Lx,areaEnd:Lx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Mx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function O0e(t){return new yq(t)}function vq(t){this._context=t}vq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function I0e(t){return new vq(t)}function bq(t){this._context=t}bq.prototype={areaStart:Lx,areaEnd:Lx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function D0e(t){return new bq(t)}function QD(t){return t<0?-1:1}function ZD(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(QD(a)+QD(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function JD(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function TA(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,s-l*r,a,s)}function Bx(t){this._context=t}Bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:TA(this,this._t0,JD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,TA(this,JD(this,r=ZD(this,t,e)),r);break;default:TA(this,this._t0,r=ZD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function xq(t){this._context=new wq(t)}(xq.prototype=Object.create(Bx.prototype)).point=function(t,e){Bx.prototype.point.call(this,e,t)};function wq(t){this._context=t}wq.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function L0e(t){return new Bx(t)}function M0e(t){return new xq(t)}function _q(t){this._context=t}_q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=eL(t),i=eL(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function eL(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function B0e(t){return new _q(t)}function pw(t,e){this._context=t,this._t=e}pw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function F0e(t){return new pw(t,.5)}function U0e(t){return new pw(t,0)}function V0e(t){return new pw(t,1)}function Km(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,l=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function LT(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function z0e(t,e){return t[e]}function $0e(t){const e=[];return e.key=t,e}function q0e(){var t=qn([]),e=LT,r=Km,n=z0e;function i(a){var s=Array.from(t.apply(this,arguments),$0e),l,c=s.length,d=-1,f;for(const p of a)for(l=0,++d;l<c;++l)(s[l][d]=[0,+n(p,s[l].key,d,a)]).data=p;for(l=0,f=XC(e(s));l<c;++l)s[f[l]].index=l;return r(s,f),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:qn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:qn(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?LT:typeof a=="function"?a:qn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Km,i):r},i}function H0e(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Km(t,e)}}function G0e(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Km(t,e)}}function W0e(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,c=0,d=0;l<s;++l){for(var f=t[e[l]],p=f[n][1]||0,g=f[n-1][1]||0,m=(p-g)/2,w=0;w<l;++w){var S=t[e[w]],_=S[n][1]||0,k=S[n-1][1]||0;m+=_-k}c+=p,d+=m*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,Km(t,e)}}var kA={},CA={},tL;function K0e(){return tL||(tL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(CA)),CA}var NA={},rL;function Aq(){return rL||(rL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(NA)),NA}var PA={},nL;function ZC(){return nL||(nL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=e})(PA)),PA}var jA={},RA={},iL;function Y0e(){return iL||(iL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(RA)),RA}var aL;function JC(){return aL||(aL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y0e(),r=ZC();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let l=0,c="",d="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const p=i[l];d?p==="\\"&&l+1<s?(l++,c+=i[l]):p===d?d="":c+=p:f?p==='"'||p==="'"?d=p:p==="]"?(f=!1,a.push(c),c=""):c+=p:p==="["?(f=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,l++}return c&&a.push(c),a}t.toPath=n})(jA)),jA}var sL;function eN(){return sL||(sL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K0e(),r=Aq(),n=ZC(),i=JC();function a(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?r.isDeepKey(c)?a(l,i.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const f=l[c];return f===void 0?d:f}default:{if(Array.isArray(c))return s(l,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?d:f}}}function s(l,c,d){if(c.length===0)return d;let f=l;for(let p=0;p<c.length;p++){if(f==null||e.isUnsafeProperty(c[p]))return d;f=f[c[p]]}return f===void 0?d:f}t.get=a})(kA)),kA}var OA,oL;function X0e(){return oL||(oL=1,OA=eN().get),OA}var Q0e=X0e();const ep=gd(Q0e);var Ya=t=>t===0?0:t>0?1:-1,kl=t=>typeof t=="number"&&t!=+t,ud=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Bt=t=>(typeof t=="number"||t instanceof Number)&&!kl(t),ic=t=>Bt(t)||typeof t=="string",Z0e=0,wy=t=>{var e=++Z0e;return"".concat(t||"").concat(e)},Rs=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Bt(e)&&typeof e!="string")return n;var a;if(ud(e)){if(r==null)return n;var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return kl(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},Sq=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function bn(t,e,r){return Bt(t)&&Bt(e)?t+r*(e-t):e}function Eq(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):ep(n,e))===r)}var ni=t=>t===null||typeof t>"u",hv=t=>ni(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function J0e(t){return t!=null}function pv(){}var eye=["type","size","sizeType"];function MT(){return MT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MT.apply(null,arguments)}function lL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(r),!0).forEach(function(n){tye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tye(t,e,r){return(e=rye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rye(t){var e=nye(t,"string");return typeof e=="symbol"?e:e+""}function nye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iye(t,e){if(t==null)return{};var r,n,i=aye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function aye(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Tq={symbolCircle:QC,symbolCross:x0e,symbolDiamond:_0e,symbolSquare:A0e,symbolStar:k0e,symbolTriangle:C0e,symbolWye:P0e},sye=Math.PI/180,oye=t=>{var e="symbol".concat(hv(t));return Tq[e]||QC},lye=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*sye;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},uye=(t,e)=>{Tq["symbol".concat(hv(t))]=e},tN=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=iye(t,eye),a=uL(uL({},i),{},{type:e,size:r,sizeType:n}),s="circle";typeof e=="string"&&(s=e);var l=()=>{var g=oye(s),m=j0e().type(g).size(lye(r,n,s)),w=m();if(w!==null)return w},{className:c,cx:d,cy:f}=a,p=Ds(a);return Bt(d)&&Bt(f)&&Bt(r)?E.createElement("path",MT({},p,{className:sn("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};tN.registerSymbol=uye;var kq=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,rN=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(E.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{WC(i)&&(n[i]=(a=>r[i](r,a)))}),n},cye=(t,e,r)=>n=>(t(e,r,n),null),mv=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];WC(i)&&typeof a=="function"&&(n||(n={}),n[i]=cye(a,e,r))}),n};function cL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(r),!0).forEach(function(n){fye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fye(t,e,r){return(e=hye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hye(t){var e=pye(t,"string");return typeof e=="symbol"?e:e+""}function pye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $i(t,e){var r=dye({},t),n=e,i=Object.keys(e),a=i.reduce((s,l)=>(s[l]===void 0&&n[l]!==void 0&&(s[l]=n[l]),s),r);return a}function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fx.apply(null,arguments)}function dL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(r),!0).forEach(function(n){gye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gye(t,e,r){return(e=yye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yye(t){var e=vye(t,"string");return typeof e=="symbol"?e:e+""}function vye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yl=32,bye={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function xye(t){var{data:e,iconType:r,inactiveColor:n}=t,i=yl/2,a=yl/6,s=yl/3,l=e.inactive?n:e.color,c=r??e.type;if(c==="none")return null;if(c==="plainline"){var d;return E.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(d=e.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:yl,y2:i,className:"recharts-legend-icon"})}if(c==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(yl,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return E.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(yl/8,"h").concat(yl,"v").concat(yl*3/4,"h").concat(-yl,"z"),className:"recharts-legend-icon"});if(E.isValidElement(e.legendIcon)){var f=mye({},e);return delete f.legendIcon,E.cloneElement(e.legendIcon,f)}return E.createElement(tN,{fill:l,cx:i,cy:i,size:yl,sizeType:"diameter",type:c})}function wye(t){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=t,l={x:0,y:0,width:yl,height:yl},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((f,p)=>{var g=f.formatter||i,m=sn({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:f.inactive});if(f.type==="none")return null;var w=f.inactive?a:f.color,S=g?g(f.value,f,p):f.value;return E.createElement("li",Fx({className:m,style:c,key:"legend-item-".concat(p)},mv(t,f,p)),E.createElement(KC,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(S," legend icon")},E.createElement(xye,{data:f,iconType:s,inactiveColor:a})),E.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},S))})}var _ye=t=>{var e=$i(t,bye),{payload:r,layout:n,align:i}=e;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:a},E.createElement(wye,Fx({},e,{payload:r})))},IA={},DA={},fL;function Aye(){return fL||(fL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],l=n(s);i.has(l)||i.set(l,s)}return Array.from(i.values())}t.uniqBy=e})(DA)),DA}var LA={},hL;function Cq(){return hL||(hL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(LA)),LA}var MA={},BA={},FA={},pL;function Sye(){return pL||(pL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(FA)),FA}var mL;function nN(){return mL||(mL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sye();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(BA)),BA}var UA={},gL;function Eye(){return gL||(gL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(UA)),UA}var yL;function Tye(){return yL||(yL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nN(),r=Eye();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(MA)),MA}var VA={},zA={},vL;function kye(){return vL||(vL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eN();function r(n){return function(i){return e.get(i,n)}}t.property=r})(zA)),zA}var $A={},qA={},HA={},GA={},bL;function Nq(){return bL||(bL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(GA)),GA}var WA={},xL;function Pq(){return xL||(xL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(WA)),WA}var KA={},wL;function jq(){return wL||(wL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(KA)),KA}var _L;function Cye(){return _L||(_L=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nq(),r=Pq(),n=jq();function i(f,p,g){return typeof g!="function"?i(f,p,()=>{}):a(f,p,function m(w,S,_,k,N,P){const F=g(w,S,_,k,N,P);return F!==void 0?!!F:a(w,S,m,P)},new Map)}function a(f,p,g,m){if(p===f)return!0;switch(typeof p){case"object":return s(f,p,g,m);case"function":return Object.keys(p).length>0?a(f,{...p},g,m):n.eq(f,p);default:return e.isObject(f)?typeof p=="string"?p==="":!0:n.eq(f,p)}}function s(f,p,g,m){if(p==null)return!0;if(Array.isArray(p))return c(f,p,g,m);if(p instanceof Map)return l(f,p,g,m);if(p instanceof Set)return d(f,p,g,m);const w=Object.keys(p);if(f==null)return w.length===0;if(w.length===0)return!0;if(m?.has(p))return m.get(p)===f;m?.set(p,f);try{for(let S=0;S<w.length;S++){const _=w[S];if(!r.isPrimitive(f)&&!(_ in f)||p[_]===void 0&&f[_]!==void 0||p[_]===null&&f[_]!==null||!g(f[_],p[_],_,f,p,m))return!1}return!0}finally{m?.delete(p)}}function l(f,p,g,m){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[w,S]of p.entries()){const _=f.get(w);if(g(_,S,w,f,p,m)===!1)return!1}return!0}function c(f,p,g,m){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const w=new Set;for(let S=0;S<p.length;S++){const _=p[S];let k=!1;for(let N=0;N<f.length;N++){if(w.has(N))continue;const P=f[N];let F=!1;if(g(P,_,S,f,p,m)&&(F=!0),F){w.add(N),k=!0;break}}if(!k)return!1}return!0}function d(f,p,g,m){return p.size===0?!0:f instanceof Set?c([...f],[...p],g,m):!1}t.isMatchWith=i,t.isSetMatch=d})(HA)),HA}var AL;function Rq(){return AL||(AL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cye();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(qA)),qA}var YA={},XA={},QA={},SL;function Nye(){return SL||(SL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(QA)),QA}var ZA={},EL;function Oq(){return EL||(EL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(ZA)),ZA}var JA={},TL;function Iq(){return TL||(TL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",g="[object ArrayBuffer]",m="[object Object]",w="[object Error]",S="[object DataView]",_="[object Uint8Array]",k="[object Uint8ClampedArray]",N="[object Uint16Array]",P="[object Uint32Array]",F="[object BigUint64Array]",O="[object Int8Array]",z="[object Int16Array]",L="[object Int32Array]",I="[object BigInt64Array]",D="[object Float32Array]",$="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=g,t.arrayTag=f,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=F,t.booleanTag=i,t.dataViewTag=S,t.dateTag=l,t.errorTag=w,t.float32ArrayTag=D,t.float64ArrayTag=$,t.functionTag=p,t.int16ArrayTag=z,t.int32ArrayTag=L,t.int8ArrayTag=O,t.mapTag=c,t.numberTag=n,t.objectTag=m,t.regexpTag=e,t.setTag=d,t.stringTag=r,t.symbolTag=s,t.uint16ArrayTag=N,t.uint32ArrayTag=P,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=k})(JA)),JA}var eS={},kL;function Pye(){return kL||(kL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(eS)),eS}var CL;function Dq(){return CL||(CL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nye(),r=Oq(),n=Iq(),i=Pq(),a=Pye();function s(f,p){return l(f,void 0,f,new Map,p)}function l(f,p,g,m=new Map,w=void 0){const S=w?.(f,p,g,m);if(S!==void 0)return S;if(i.isPrimitive(f))return f;if(m.has(f))return m.get(f);if(Array.isArray(f)){const _=new Array(f.length);m.set(f,_);for(let k=0;k<f.length;k++)_[k]=l(f[k],k,g,m,w);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;m.set(f,_);for(const[k,N]of f)_.set(k,l(N,k,g,m,w));return _}if(f instanceof Set){const _=new Set;m.set(f,_);for(const k of f)_.add(l(k,void 0,g,m,w));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);m.set(f,_);for(let k=0;k<f.length;k++)_[k]=l(f[k],k,g,m,w);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return m.set(f,_),c(_,f,g,m,w),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return m.set(f,_),c(_,f,g,m,w),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return m.set(f,_),c(_,f,g,m,w),_}if(f instanceof Error){const _=new f.constructor;return m.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,c(_,f,g,m,w),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return m.set(f,_),c(_,f,g,m,w),_}if(f instanceof Number){const _=new Number(f.valueOf());return m.set(f,_),c(_,f,g,m,w),_}if(f instanceof String){const _=new String(f.valueOf());return m.set(f,_),c(_,f,g,m,w),_}if(typeof f=="object"&&d(f)){const _=Object.create(Object.getPrototypeOf(f));return m.set(f,_),c(_,f,g,m,w),_}return f}function c(f,p,g=f,m,w){const S=[...Object.keys(p),...e.getSymbols(p)];for(let _=0;_<S.length;_++){const k=S[_],N=Object.getOwnPropertyDescriptor(f,k);(N==null||N.writable)&&(f[k]=l(p[k],k,g,m,w))}}function d(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=l,t.copyProperties=c})(XA)),XA}var NL;function jye(){return NL||(NL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dq();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(YA)),YA}var PL;function Rye(){return PL||(PL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rq(),r=jye();function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})($A)),$A}var tS={},rS={},nS={},jL;function Oye(){return jL||(jL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dq(),r=Iq();function n(i,a){return e.cloneDeepWith(i,(s,l,c,d)=>{const f=a?.(s,l,c,d);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case r.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=n})(nS)),nS}var RL;function Iye(){return RL||(RL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oye();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(rS)),rS}var iS={},aS={},OL;function Lq(){return OL||(OL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(aS)),aS}var sS={},IL;function Dye(){return IL||(IL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oq();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(sS)),sS}var DL;function Lye(){return DL||(DL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aq(),r=Lq(),n=Dye(),i=JC();function a(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&s?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let d=s;for(let f=0;f<c.length;f++){const p=c[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=a})(iS)),iS}var LL;function Mye(){return LL||(LL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rq(),r=ZC(),n=Iye(),i=eN(),a=Lye();function s(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(d){const f=i.get(d,l);return f===void 0?a.has(d,l):c===void 0?f===void 0:e.isMatch(f,c)}}t.matchesProperty=s})(tS)),tS}var ML;function Bye(){return ML||(ML=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cq(),r=kye(),n=Rye(),i=Mye();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}t.iteratee=a})(VA)),VA}var BL;function Fye(){return BL||(BL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aye(),r=Cq(),n=Tye(),i=Bye();function a(s,l=r.identity){return n.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(l)):[]}t.uniqBy=a})(IA)),IA}var oS,FL;function Uye(){return FL||(FL=1,oS=Fye().uniqBy),oS}var Vye=Uye();const UL=gd(Vye);function Mq(t,e,r){return e===!0?UL(t,r):typeof e=="function"?UL(t,e):t}var lS={exports:{}},uS={},cS={exports:{}},dS={};var VL;function zye(){if(VL)return dS;VL=1;var t=ng();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(p,g){var m=g(),w=n({inst:{value:m,getSnapshot:g}}),S=w[0].inst,_=w[1];return a(function(){S.value=m,S.getSnapshot=g,c(S)&&_({inst:S})},[p,m,g]),i(function(){return c(S)&&_({inst:S}),p(function(){c(S)&&_({inst:S})})},[p]),s(m),m}function c(p){var g=p.getSnapshot;p=p.value;try{var m=g();return!r(p,m)}catch{return!0}}function d(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return dS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,dS}var zL;function $ye(){return zL||(zL=1,cS.exports=zye()),cS.exports}var $L;function qye(){if($L)return uS;$L=1;var t=ng(),e=$ye();function r(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return uS.useSyncExternalStoreWithSelector=function(d,f,p,g,m){var w=a(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=l(function(){function k(z){if(!N){if(N=!0,P=z,z=g(z),m!==void 0&&S.hasValue){var L=S.value;if(m(L,z))return F=L}return F=z}if(L=F,n(P,z))return L;var I=g(z);return m!==void 0&&m(L,I)?(P=z,L):(P=z,F=I)}var N=!1,P,F,O=p===void 0?null:p;return[function(){return k(f())},O===null?void 0:function(){return k(O())}]},[f,p,g,m]);var _=i(d,w[0],w[1]);return s(function(){S.hasValue=!0,S.value=_},[_]),c(_),_},uS}var qL;function Hye(){return qL||(qL=1,lS.exports=qye()),lS.exports}var Gye=Hye(),iN=E.createContext(null),Wye=t=>t,Wn=()=>{var t=E.useContext(iN);return t?t.store.dispatch:Wye},qb=()=>{},Kye=()=>qb,Yye=(t,e)=>t===e;function $t(t){var e=E.useContext(iN);return Gye.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Kye,e?e.store.getState:qb,e?e.store.getState:qb,e?t:qb,Yye)}function Xye(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Qye(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Zye(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var HL=t=>Array.isArray(t)?t:[t];function Jye(t){const e=Array.isArray(t[0])?t[0]:t;return Zye(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function eve(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var tve=class{constructor(t){this.value=t}deref(){return this.value}},rve=typeof WeakRef<"u"?WeakRef:tve,nve=0,GL=1;function nb(){return{s:nve,v:void 0,o:null,p:null}}function Bq(t,e={}){let r=nb();const{resultEqualityCheck:n}=e;let i,a=0;function s(){let l=r;const{length:c}=arguments;for(let p=0,g=c;p<g;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let w=l.o;w===null&&(l.o=w=new WeakMap);const S=w.get(m);S===void 0?(l=nb(),w.set(m,l)):l=S}else{let w=l.p;w===null&&(l.p=w=new Map);const S=w.get(m);S===void 0?(l=nb(),w.set(m,l)):l=S}}const d=l;let f;if(l.s===GL)f=l.v;else if(f=t.apply(null,arguments),a++,n){const p=i?.deref?.()??i;p!=null&&n(p,f)&&(f=p,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new rve(f):f}return d.s=GL,d.v=f,f}return s.clearCache=()=>{r=nb(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function ive(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,s=0,l,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),Xye(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...r,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:m=Bq,argsMemoizeOptions:w=[]}=f,S=HL(g),_=HL(w),k=Jye(i),N=p(function(){return a++,d.apply(null,arguments)},...S),P=m(function(){s++;const O=eve(k,arguments);return l=N.apply(null,O),l},..._);return Object.assign(P,{resultFunc:d,memoizedResultFunc:N,dependencies:k,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var He=ive(Bq),ave=Object.assign((t,e=He)=>{Qye(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((s,l,c)=>(s[r[c]]=l,s),{}))},{withTypes:()=>ave}),fS={},hS={},pS={},WL;function sve(){return WL||(WL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=e(n),l=e(i);if(s===l&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};t.compareValues=r})(pS)),pS}var mS={},gS={},KL;function Fq(){return KL||(KL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(gS)),gS}var YL;function ove(){return YL||(YL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fq(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(mS)),mS}var XL;function lve(){return XL||(XL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sve(),r=ove(),n=JC();function i(a,s,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const d=(m,w)=>{let S=m;for(let _=0;_<w.length&&S!=null;++_)S=S[w[_]];return S},f=(m,w)=>w==null||m==null?w:typeof m=="object"&&"key"in m?Object.hasOwn(w,m.key)?w[m.key]:d(w,m.path):typeof m=="function"?m(w):Array.isArray(m)?d(w,m):typeof w=="object"?w[m]:w,p=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:p.map(w=>f(w,m))})).slice().sort((m,w)=>{for(let S=0;S<p.length;S++){const _=e.compareValues(m.criteria[S],w.criteria[S],l[S]);if(_!==0)return _}return 0}).map(m=>m.original)}t.orderBy=i})(hS)),hS}var yS={},QL;function uve(){return QL||(QL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),s=(l,c)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&c<a?s(f,c+1):i.push(f)}};return s(r,0),i}t.flatten=e})(yS)),yS}var vS={},ZL;function Uq(){return ZL||(ZL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lq(),r=nN(),n=Nq(),i=jq();function a(s,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],s):!1}t.isIterateeCall=a})(vS)),vS}var JL;function cve(){return JL||(JL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lve(),r=uve(),n=Uq();function i(a,...s){const l=s.length;return l>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,r.flatten(s),["asc"])}t.sortBy=i})(fS)),fS}var bS,eM;function dve(){return eM||(eM=1,bS=cve().sortBy),bS}var fve=dve();const mw=gd(fve);var Vq=t=>t.legend.settings,hve=t=>t.legend.size,pve=t=>t.legend.payload,mve=He([pve,Vq],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?mw(n,r):n});function gve(){return $t(mve)}var ib=1;function zq(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=E.useState({height:0,left:0,top:0,width:0}),n=E.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>ib||Math.abs(s.left-e.left)>ib||Math.abs(s.top-e.top)>ib||Math.abs(s.width-e.width)>ib)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function cs(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var yve=typeof Symbol=="function"&&Symbol.observable||"@@observable",tM=yve,xS=()=>Math.random().toString(36).substring(7).split("").join("."),vve={INIT:`@@redux/INIT${xS()}`,REPLACE:`@@redux/REPLACE${xS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xS()}`},Ux=vve;function aN(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function $q(t,e,r){if(typeof t!="function")throw new Error(cs(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(cs(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(cs(1));return r($q)(t,e)}let n=t,i=e,a=new Map,s=a,l=0,c=!1;function d(){s===a&&(s=new Map,a.forEach((_,k)=>{s.set(k,_)}))}function f(){if(c)throw new Error(cs(3));return i}function p(_){if(typeof _!="function")throw new Error(cs(4));if(c)throw new Error(cs(5));let k=!0;d();const N=l++;return s.set(N,_),function(){if(k){if(c)throw new Error(cs(6));k=!1,d(),s.delete(N),a=null}}}function g(_){if(!aN(_))throw new Error(cs(7));if(typeof _.type>"u")throw new Error(cs(8));if(typeof _.type!="string")throw new Error(cs(17));if(c)throw new Error(cs(9));try{c=!0,i=n(i,_)}finally{c=!1}return(a=s).forEach(N=>{N()}),_}function m(_){if(typeof _!="function")throw new Error(cs(10));n=_,g({type:Ux.REPLACE})}function w(){const _=p;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(cs(11));function N(){const F=k;F.next&&F.next(f())}return N(),{unsubscribe:_(N)}},[tM](){return this}}}return g({type:Ux.INIT}),{dispatch:g,subscribe:p,getState:f,replaceReducer:m,[tM]:w}}function bve(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Ux.INIT})>"u")throw new Error(cs(12));if(typeof r(void 0,{type:Ux.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cs(13))})}function qq(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(r[s]=t[s])}const n=Object.keys(r);let i;try{bve(r)}catch(a){i=a}return function(s={},l){if(i)throw i;let c=!1;const d={};for(let f=0;f<n.length;f++){const p=n[f],g=r[p],m=s[p],w=g(m,l);if(typeof w>"u")throw l&&l.type,new Error(cs(14));d[p]=w,c=c||w!==m}return c=c||n.length!==Object.keys(s).length,c?d:s}}function Vx(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function xve(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(cs(15))};const s={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},l=t.map(c=>c(s));return a=Vx(...l)(i.dispatch),{...i,dispatch:a}}}function Hq(t){return aN(t)&&"type"in t&&typeof t.type=="string"}var Gq=Symbol.for("immer-nothing"),rM=Symbol.for("immer-draftable"),Zs=Symbol.for("immer-state");function nu(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Go=Object,Ym=Go.getPrototypeOf,zx="constructor",gw="prototype",BT="configurable",$x="enumerable",Hb="writable",_y="value",cd=t=>!!t&&!!t[Zs];function du(t){return t?Wq(t)||yw(t)||!!t[rM]||!!t[zx]?.[rM]||vw(t)||bw(t):!1}var wve=Go[gw][zx].toString(),nM=new WeakMap;function Wq(t){if(!t||!sN(t))return!1;const e=Ym(t);if(e===null||e===Go[gw])return!0;const r=Go.hasOwnProperty.call(e,zx)&&e[zx];if(r===Object)return!0;if(!fm(r))return!1;let n=nM.get(r);return n===void 0&&(n=Function.toString.call(r),nM.set(r,n)),n===wve}function gv(t,e,r=!0){yv(t)===0?(r?Reflect.ownKeys(t):Go.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function yv(t){const e=t[Zs];return e?e.type_:yw(t)?1:vw(t)?2:bw(t)?3:0}var iM=(t,e,r=yv(t))=>r===2?t.has(e):Go[gw].hasOwnProperty.call(t,e),FT=(t,e,r=yv(t))=>r===2?t.get(e):t[e],qx=(t,e,r,n=yv(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function _ve(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var yw=Array.isArray,vw=t=>t instanceof Map,bw=t=>t instanceof Set,sN=t=>typeof t=="object",fm=t=>typeof t=="function",wS=t=>typeof t=="boolean",zc=t=>t.copy_||t.base_,oN=t=>t.modified_?t.copy_:t.base_;function UT(t,e){if(vw(t))return new Map(t);if(bw(t))return new Set(t);if(yw(t))return Array[gw].slice.call(t);const r=Wq(t);if(e===!0||e==="class_only"&&!r){const n=Go.getOwnPropertyDescriptors(t);delete n[Zs];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],l=n[s];l[Hb]===!1&&(l[Hb]=!0,l[BT]=!0),(l.get||l.set)&&(n[s]={[BT]:!0,[Hb]:!0,[$x]:l[$x],[_y]:t[s]})}return Go.create(Ym(t),n)}else{const n=Ym(t);if(n!==null&&r)return{...t};const i=Go.create(n);return Go.assign(i,t)}}function lN(t,e=!1){return xw(t)||cd(t)||!du(t)||(yv(t)>1&&Go.defineProperties(t,{set:ab,add:ab,clear:ab,delete:ab}),Go.freeze(t),e&&gv(t,(r,n)=>{lN(n,!0)},!1)),t}function Ave(){nu(2)}var ab={[_y]:Ave};function xw(t){return t===null||!sN(t)?!0:Go.isFrozen(t)}var Hx="MapSet",VT="Patches",Kq={};function Xm(t){const e=Kq[t];return e||nu(0,t),e}var Sve=t=>!!Kq[t],Ay,Yq=()=>Ay,Eve=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Sve(Hx)?Xm(Hx):void 0});function aM(t,e){e&&(t.patchPlugin_=Xm(VT),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function zT(t){$T(t),t.drafts_.forEach(Tve),t.drafts_=null}function $T(t){t===Ay&&(Ay=t.parent_)}var sM=t=>Ay=Eve(Ay,t);function Tve(t){const e=t[Zs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function oM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[Zs].modified_&&(zT(e),nu(4)),du(t)&&(t=lM(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(r[Zs].base_,t,e)}else t=lM(e,r);return kve(e,t,!0),zT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Gq?t:void 0}function lM(t,e){if(xw(e))return e;const r=e[Zs];if(!r)return uN(e,t.handledSet_,t);if(!ww(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);Zq(r,t)}return r.copy_}function kve(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&lN(e,r)}function Xq(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var ww=(t,e)=>t.scope_===e,Cve=[];function Qq(t,e,r,n){const i=zc(t),a=t.type_;if(n!==void 0&&FT(i,n,a)===e){qx(i,n,r,a);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;gv(i,(c,d)=>{if(cd(d)){const f=l.get(d)||[];f.push(c),l.set(d,f)}})}const s=t.draftLocations_.get(e)??Cve;for(const l of s)qx(i,l,r,a)}function Nve(t,e,r){t.callbacks_.push(function(i){const a=e;if(!a||!ww(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=oN(a);Qq(t,a.draft_??a,s,r),Zq(a,i)})}function Zq(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||(t.assigned_?.size??0)>0)){const{patchPlugin_:n}=e;if(n){const i=n.getPath(t);i&&n.generatePatches_(t,i,e)}Xq(t)}}function Pve(t,e,r){const{scope_:n}=t;if(cd(r)){const i=r[Zs];ww(i,n)&&i.callbacks_.push(function(){Gb(t);const s=oN(i);Qq(t,r,s,e)})}else du(r)&&t.callbacks_.push(function(){const a=zc(t);FT(a,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&uN(FT(t.copy_,e,t.type_),n.handledSet_,n)})}function uN(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||cd(t)||e.has(t)||!du(t)||xw(t)||(e.add(t),gv(t,(n,i)=>{if(cd(i)){const a=i[Zs];if(ww(a,r)){const s=oN(a);qx(t,n,s,t.type_),Xq(a)}}else du(i)&&uN(i,e,r)})),t}function jve(t,e){const r=yw(t),n={type_:r?1:0,scope_:e?e.scope_:Yq(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=cN;r&&(i=[n],a=Sy);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=s,[l,n]}var cN={get(t,e){if(e===Zs)return t;const r=zc(t);if(!iM(r,e,t.type_))return Rve(t,r,e);const n=r[e];if(t.finalized_||!du(n))return n;if(n===_S(t.base_,e)){Gb(t);const i=t.type_===1?+e:e,a=HT(t.scope_,n,t,i);return t.copy_[i]=a}return n},has(t,e){return e in zc(t)},ownKeys(t){return Reflect.ownKeys(zc(t))},set(t,e,r){const n=Jq(zc(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=_S(zc(t),e),a=i?.[Zs];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(_ve(r,i)&&(r!==void 0||iM(t.base_,e,t.type_)))return!0;Gb(t),qT(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),Pve(t,e,r)),!0},deleteProperty(t,e){return Gb(t),_S(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),qT(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=zc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[Hb]:!0,[BT]:t.type_!==1||e!=="length",[$x]:n[$x],[_y]:r[e]}},defineProperty(){nu(11)},getPrototypeOf(t){return Ym(t.base_)},setPrototypeOf(){nu(12)}},Sy={};gv(cN,(t,e)=>{Sy[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}});Sy.deleteProperty=function(t,e){return Sy.set.call(this,t,e,void 0)};Sy.set=function(t,e,r){return cN.set.call(this,t[0],e,r,t[0])};function _S(t,e){const r=t[Zs];return(r?zc(r):t)[e]}function Rve(t,e,r){const n=Jq(e,r);return n?_y in n?n[_y]:n.get?.call(t.draft_):void 0}function Jq(t,e){if(!(e in t))return;let r=Ym(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Ym(r)}}function qT(t){t.modified_||(t.modified_=!0,t.parent_&&qT(t.parent_))}function Gb(t){t.copy_||(t.assigned_=new Map,t.copy_=UT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Ove=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(fm(r)&&!fm(n)){const s=n;n=r;const l=this;return function(d=s,...f){return l.produce(d,p=>n.call(this,p,...f))}}fm(n)||nu(6),i!==void 0&&!fm(i)&&nu(7);let a;if(du(r)){const s=sM(this),l=HT(s,r,void 0);let c=!0;try{a=n(l),c=!1}finally{c?zT(s):$T(s)}return aM(s,i),oM(a,s)}else if(!r||!sN(r)){if(a=n(r),a===void 0&&(a=r),a===Gq&&(a=void 0),this.autoFreeze_&&lN(a,!0),i){const s=[],l=[];Xm(VT).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:l}),i(s,l)}return a}else nu(1,r)},this.produceWithPatches=(r,n)=>{if(fm(r))return(l,...c)=>this.produceWithPatches(l,d=>r(d,...c));let i,a;return[this.produce(r,n,(l,c)=>{i=l,a=c}),i,a]},wS(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),wS(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),wS(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){du(e)||nu(8),cd(e)&&(e=lu(e));const r=sM(this),n=HT(r,e,void 0);return n[Zs].isManual_=!0,$T(r),n}finishDraft(e,r){const n=e&&e[Zs];(!n||!n.isManual_)&&nu(9);const{scope_:i}=n;return aM(i,r),oM(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(r=r.slice(n+1));const i=Xm(VT).applyPatches_;return cd(e)?i(e,r):this.produce(e,a=>i(a,r))}};function HT(t,e,r,n){const[i,a]=vw(e)?Xm(Hx).proxyMap_(e,r):bw(e)?Xm(Hx).proxySet_(e,r):jve(e,r);return(r?.scope_??Yq()).drafts_.push(i),a.callbacks_=r?.callbacks_??[],a.key_=n,r&&n!==void 0?Nve(r,a,n):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=c;a.modified_&&d&&d.generatePatches_(a,[],c)}),i}function lu(t){return cd(t)||nu(10,t),eH(t)}function eH(t){if(!du(t)||xw(t))return t;const e=t[Zs];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=UT(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=UT(t,!0);return gv(r,(i,a)=>{qx(r,i,eH(a))},n),e&&(e.finalized_=!1),r}var Ive=new Ove,tH=Ive.produce;function rH(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var Dve=rH(),Lve=rH,Mve=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vx:Vx.apply(null,arguments)};function Cl(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Wo(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>Hq(n)&&n.type===t,r}var nH=class L0 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,L0.prototype)}static get[Symbol.species](){return L0}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new L0(...e[0].concat(this)):new L0(...e.concat(this))}};function uM(t){return du(t)?tH(t,()=>{}):t}function sb(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function Bve(t){return typeof t=="boolean"}var Fve=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new nH;return r&&(Bve(r)?s.push(Dve):s.push(Lve(r.extraArgument))),s},iH="RTK_autoBatch",mi=()=>t=>({payload:t,meta:{[iH]:!0}}),cM=t=>e=>{setTimeout(e,t)},aH=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,s=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cM(10):t.type==="callback"?t.queueNotification:cM(t.timeout),d=()=>{s=!1,a&&(a=!1,l.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const p=()=>i&&f(),g=n.subscribe(p);return l.add(f),()=>{g(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[iH],a=!i,a&&(s||(s=!0,c(d))),n.dispatch(f)}finally{i=!0}}})},Uve=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new nH(t);return n&&i.push(aH(typeof n=="object"?n:void 0)),i};function Vve(t){const e=Fve(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(aN(r))l=qq(r);else throw new Error(Wo(1));let c;typeof n=="function"?c=n(e):c=e();let d=Vx;i&&(d=Mve({trace:!1,...typeof i=="object"&&i}));const f=xve(...c),p=Uve(f);let g=typeof s=="function"?s(p):p();const m=d(...g);return $q(l,a,m)}function sH(t){const e={},r=[];let n;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Wo(28));if(l in e)throw new Error(Wo(29));return e[l]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function zve(t){return typeof t=="function"}function $ve(t,e){let[r,n,i]=sH(e),a;if(zve(t))a=()=>uM(t());else{const l=uM(t);a=()=>l}function s(l=a(),c){let d=[r[c.type],...n.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(cd(f)){const m=p(f,c);return m===void 0?f:m}else{if(du(f))return tH(f,g=>p(g,c));{const g=p(f,c);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},l)}return s.getInitialState=a,s}var qve="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Hve=(t=21)=>{let e="",r=t;for(;r--;)e+=qve[Math.random()*64|0];return e},Gve=Symbol.for("rtk-slice-createasyncthunk");function Wve(t,e){return`${t}/${e}`}function Kve({creators:t}={}){const e=t?.asyncThunk?.[Gve];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(Wo(11));const s=(typeof n.reducers=="function"?n.reducers(Xve()):n.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,F){const O=typeof P=="string"?P:P.type;if(!O)throw new Error(Wo(12));if(O in c.sliceCaseReducersByType)throw new Error(Wo(13));return c.sliceCaseReducersByType[O]=F,d},addMatcher(P,F){return c.sliceMatchers.push({matcher:P,reducer:F}),d},exposeAction(P,F){return c.actionCreators[P]=F,d},exposeCaseReducer(P,F){return c.sliceCaseReducersByName[P]=F,d}};l.forEach(P=>{const F=s[P],O={reducerName:P,type:Wve(i,P),createNotation:typeof n.reducers=="function"};Zve(F)?e1e(O,F,d,e):Qve(O,F,d)});function f(){const[P={},F=[],O=void 0]=typeof n.extraReducers=="function"?sH(n.extraReducers):[n.extraReducers],z={...P,...c.sliceCaseReducersByType};return $ve(n.initialState,L=>{for(let I in z)L.addCase(I,z[I]);for(let I of c.sliceMatchers)L.addMatcher(I.matcher,I.reducer);for(let I of F)L.addMatcher(I.matcher,I.reducer);O&&L.addDefaultCase(O)})}const p=P=>P,g=new Map,m=new WeakMap;let w;function S(P,F){return w||(w=f()),w(P,F)}function _(){return w||(w=f()),w.getInitialState()}function k(P,F=!1){function O(L){let I=L[P];return typeof I>"u"&&F&&(I=sb(m,O,_)),I}function z(L=p){const I=sb(g,F,()=>new WeakMap);return sb(I,L,()=>{const D={};for(const[$,j]of Object.entries(n.selectors??{}))D[$]=Yve(j,L,()=>sb(m,L,_),F);return D})}return{reducerPath:P,getSelectors:z,get selectors(){return z(O)},selectSlice:O}}const N={name:i,reducer:S,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:_,...k(a),injectInto(P,{reducerPath:F,...O}={}){const z=F??a;return P.inject({reducerPath:z,reducer:S},O),{...N,...k(z,!0)}}};return N}}function Yve(t,e,r,n){function i(a,...s){let l=e(a);return typeof l>"u"&&n&&(l=r()),t(l,...s)}return i.unwrapped=t,i}var ko=Kve();function Xve(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Qve({type:t,reducerName:e,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!Jve(n))throw new Error(Wo(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Cl(t,s):Cl(t))}function Zve(t){return t._reducerDefinitionType==="asyncThunk"}function Jve(t){return t._reducerDefinitionType==="reducerWithPrepare"}function e1e({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Wo(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:c,settled:d,options:f}=r,p=i(t,a,f);n.exposeAction(e,p),s&&n.addCase(p.fulfilled,s),l&&n.addCase(p.pending,l),c&&n.addCase(p.rejected,c),d&&n.addMatcher(p.settled,d),n.exposeCaseReducer(e,{fulfilled:s||ob,pending:l||ob,rejected:c||ob,settled:d||ob})}function ob(){}var t1e="task",oH="listener",lH="completed",dN="cancelled",r1e=`task-${dN}`,n1e=`task-${lH}`,GT=`${oH}-${dN}`,i1e=`${oH}-${lH}`,_w=class{constructor(t){this.code=t,this.message=`${t1e} ${dN} (reason: ${t})`}name="TaskAbortError";message},fN=(t,e)=>{if(typeof t!="function")throw new TypeError(Wo(32))},Gx=()=>{},uH=(t,e=Gx)=>(t.catch(e),t),cH=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Uh=t=>{if(t.aborted)throw new _w(t.reason)};function dH(t,e){let r=Gx;return new Promise((n,i)=>{const a=()=>i(new _w(t.reason));if(t.aborted){a();return}r=cH(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=Gx})}var a1e=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof _w?"cancelled":"rejected",error:r}}finally{e?.()}},Wx=t=>e=>uH(dH(t,e).then(r=>(Uh(t),r))),fH=t=>{const e=Wx(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Lm}=Object,dM={},Aw="listenerMiddleware",s1e=(t,e)=>{const r=n=>cH(t,()=>n.abort(t.reason));return(n,i)=>{fN(n);const a=new AbortController;r(a);const s=a1e(async()=>{Uh(t),Uh(a.signal);const l=await n({pause:Wx(a.signal),delay:fH(a.signal),signal:a.signal});return Uh(a.signal),l},()=>a.abort(n1e));return i?.autoJoin&&e.push(s.catch(Gx)),{result:Wx(t)(s),cancel(){a.abort(r1e)}}}},o1e=(t,e)=>{const r=async(n,i)=>{Uh(e);let a=()=>{};const l=[new Promise((c,d)=>{let f=t({predicate:n,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});a=()=>{f(),d()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await dH(e,Promise.race(l));return Uh(e),c}finally{a()}};return(n,i)=>uH(r(n,i))},hH=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=Cl(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Wo(21));return fN(a),{predicate:i,type:e,effect:a}},pH=Lm(t=>{const{type:e,predicate:r,effect:n}=hH(t);return{id:Hve(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Wo(22))}}},{withTypes:()=>pH}),fM=(t,e)=>{const{type:r,effect:n,predicate:i}=hH(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},WT=t=>{t.pending.forEach(e=>{e.abort(GT)})},l1e=(t,e)=>()=>{for(const r of e.keys())WT(r);t.clear()},hM=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},mH=Lm(Cl(`${Aw}/add`),{withTypes:()=>mH}),u1e=Cl(`${Aw}/removeAll`),gH=Lm(Cl(`${Aw}/remove`),{withTypes:()=>gH}),c1e=(...t)=>{console.error(`${Aw}/error`,...t)},vv=(t={})=>{const e=new Map,r=new Map,n=m=>{const w=r.get(m)??0;r.set(m,w+1)},i=m=>{const w=r.get(m)??1;w===1?r.delete(m):r.set(m,w-1)},{extra:a,onError:s=c1e}=t;fN(s);const l=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),w=>{m.unsubscribe(),w?.cancelActive&&WT(m)}),c=m=>{const w=fM(e,m)??pH(m);return l(w)};Lm(c,{withTypes:()=>c});const d=m=>{const w=fM(e,m);return w&&(w.unsubscribe(),m.cancelActive&&WT(w)),!!w};Lm(d,{withTypes:()=>d});const f=async(m,w,S,_)=>{const k=new AbortController,N=o1e(c,k.signal),P=[];try{m.pending.add(k),n(m),await Promise.resolve(m.effect(w,Lm({},S,{getOriginalState:_,condition:(F,O)=>N(F,O).then(Boolean),take:N,delay:fH(k.signal),pause:Wx(k.signal),extra:a,signal:k.signal,fork:s1e(k.signal,P),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((F,O,z)=>{F!==k&&(F.abort(GT),z.delete(F))})},cancel:()=>{k.abort(GT),m.pending.delete(k)},throwIfCancelled:()=>{Uh(k.signal)}})))}catch(F){F instanceof _w||hM(s,F,{raisedBy:"effect"})}finally{await Promise.all(P),k.abort(i1e),i(m),m.pending.delete(k)}},p=l1e(e,r);return{middleware:m=>w=>S=>{if(!Hq(S))return w(S);if(mH.match(S))return c(S.payload);if(u1e.match(S)){p();return}if(gH.match(S))return d(S.payload);let _=m.getState();const k=()=>{if(_===dM)throw new Error(Wo(23));return _};let N;try{if(N=w(S),e.size>0){const P=m.getState(),F=Array.from(e.values());for(const O of F){let z=!1;try{z=O.predicate(S,P,_)}catch(L){z=!1,hM(s,L,{raisedBy:"predicate"})}z&&f(O,S,m,k)}}}finally{_=dM}return N},startListening:c,stopListening:d,clearListeners:p}};function Wo(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var d1e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},yH=ko({name:"chartLayout",initialState:d1e,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:f1e,setLayout:h1e,setChartSize:p1e,setScale:m1e}=yH.actions,g1e=yH.reducer;function vH(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function pM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Am(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(r),!0).forEach(function(n){y1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y1e(t,e,r){return(e=v1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v1e(t){var e=b1e(t,"string");return typeof e=="symbol"?e:e+""}function b1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cn(t,e,r){return ni(t)||ni(e)?r:ic(e)?ep(t,e,r):typeof e=="function"?e(t):r}var x1e=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:l}=e;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&Bt(t[a]))return Am(Am({},t),{},{[a]:t[a]+(n||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&Bt(t[s]))return Am(Am({},t),{},{[s]:t[s]+(i||0)})}return t},dc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",bH=(t,e,r,n)=>{if(n)return t.map(l=>l.coordinate);var i,a,s=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===r&&(a=!0),l.coordinate));return i||s.push(e),a||s.push(r),s},xH=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:g,axisType:m}=t;if(!s)return null;var w=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,S=i==="category"&&s.bandwidth?s.bandwidth()/w:0;if(S=m==="angleAxis"&&a&&a.length>=2?Ya(a[0]-a[1])*2*S:S,p||g){var _=(p||g||[]).map((k,N)=>{var P=n?n.indexOf(k):k;return{coordinate:s(P)+S,value:k,offset:S,index:N}});return _.filter(k=>!kl(k.coordinate))}return c&&d?d.map((k,N)=>({coordinate:s(k)+S,value:k,index:N,offset:S})):s.ticks&&f!=null?s.ticks(f).map((k,N)=>({coordinate:s(k)+S,value:k,offset:S,index:N})):s.domain().map((k,N)=>({coordinate:s(k)+S,value:n?n[k]:k,index:N,offset:S}))},mM=1e-4,w1e=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-mM,a=Math.max(n[0],n[1])+mM,s=t(e[0]),l=t(e[r-1]);(s<i||s>a||l<i||l>a)&&t.domain([e[0],e[r-1]])}},_1e=(t,e)=>{if(!e||e.length!==2||!Bt(e[0])||!Bt(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Bt(t[0])||t[0]<r)&&(i[0]=r),(!Bt(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},A1e=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,s=0;s<e;++s){var l=kl(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=i,t[s][r][1]=i+l,i=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1])}},S1e=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var s=kl(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=i,t[a][r][1]=i+s,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},E1e={sign:A1e,expand:H0e,none:Km,silhouette:G0e,wiggle:W0e,positive:S1e},T1e=(t,e,r)=>{var n=E1e[r],i=q0e().keys(e).value((a,s)=>Number(Cn(a,s,0))).order(LT).offset(n);return i(t)};function wH(t){return t==null?void 0:String(t)}function Kx(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ni(i[e.dataKey])){var l=Eq(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Cn(i,ni(s)?e.dataKey:s);return ni(c)?null:e.scale(c)}var gM=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return r[s]?r[s].coordinate+n:null;var l=Cn(a,e.dataKey,e.scale.domain()[s]);return ni(l)?null:e.scale(l)-i/2+n},k1e=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},C1e=t=>{var e=t.flat(2).filter(Bt);return[Math.min(...e),Math.max(...e)]},N1e=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],P1e=(t,e,r)=>{if(t!=null)return N1e(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:s}=a,l=s.reduce((c,d)=>{var f=vH(d,e,r),p=C1e(f);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},yM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Of=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=mw(e,f=>f.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var c=i[s],d=i[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function bM(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return Am(Am({},e),{},{dataKey:r,payload:n,value:i,name:a})}function qf(t,e){if(t)return String(t);if(typeof e=="string")return e}var j1e=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},R1e=(t,e)=>e==="centric"?t.angle:t.radius,xd=t=>t.layout.width,wd=t=>t.layout.height,O1e=t=>t.layout.scale,_H=t=>t.layout.margin,Sw=He(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Ew=He(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),AH="data-recharts-item-index",SH="data-recharts-item-data-key",bv=60;function xM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(r),!0).forEach(function(n){I1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I1e(t,e,r){return(e=D1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D1e(t){var e=L1e(t,"string");return typeof e=="symbol"?e:e+""}function L1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M1e=t=>t.brush.height;function B1e(t){var e=Ew(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:bv;return r+i}return r},0)}function F1e(t){var e=Ew(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:bv;return r+i}return r},0)}function U1e(t){var e=Sw(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function V1e(t){var e=Sw(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Na=He([xd,wd,_H,M1e,B1e,F1e,U1e,V1e,Vq,hve],(t,e,r,n,i,a,s,l,c,d)=>{var f={left:(r.left||0)+i,right:(r.right||0)+a},p={top:(r.top||0)+s,bottom:(r.bottom||0)+l},g=lb(lb({},p),f),m=g.bottom;g.bottom+=n,g=x1e(g,c,d);var w=t-g.left-g.right,S=e-g.top-g.bottom;return lb(lb({brushBottom:m},g),{},{width:Math.max(w,0),height:Math.max(S,0)})}),z1e=He(Na,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),hN=He(xd,wd,(t,e)=>({x:0,y:0,width:t,height:e})),$1e=E.createContext(null),Xa=()=>E.useContext($1e)!=null,Tw=t=>t.brush,kw=He([Tw,Na,_H],(t,e,r)=>({height:t.height,x:Bt(t.x)?t.x:e.left,y:Bt(t.y)?t.y:e.top+e.height+e.brushBottom-(r?.bottom||0),width:Bt(t.width)?t.width:e.width})),AS={},SS={},ES={},wM;function q1e(){return wM||(wM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let s,l=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),f=()=>{l!==null&&(r.apply(s,l),s=void 0,l=null)},p=()=>{d&&f(),S()};let g=null;const m=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},n)},w=()=>{g!==null&&(clearTimeout(g),g=null)},S=()=>{w(),s=void 0,l=null},_=()=>{f()},k=function(...N){if(i?.aborted)return;s=this,l=N;const P=g==null;m(),c&&P&&f()};return k.schedule=m,k.cancel=S,k.flush=_,i?.addEventListener("abort",S,{once:!0}),k}t.debounce=e})(ES)),ES}var _M;function H1e(){return _M||(_M=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q1e();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:c}=a,d=Array(2);s&&(d[0]="leading"),l&&(d[1]="trailing");let f,p=null;const g=e.debounce(function(...S){f=n.apply(this,S),p=null},i,{edges:d}),m=function(...S){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(f=n.apply(this,S),p=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,S),f)},w=()=>(g.flush(),f);return m.cancel=g.cancel,m.flush=w,m}t.debounce=r})(SS)),SS}var AM;function G1e(){return AM||(AM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H1e();function r(n,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return e.debounce(n,i,{leading:s,maxWait:i,trailing:l})}t.throttle=r})(AS)),AS}var TS,SM;function W1e(){return SM||(SM=1,TS=G1e().throttle),TS}var K1e=W1e();const Y1e=gd(K1e);var Yx=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},EH=(t,e,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,l=ud(n)?t:Number(n),c=ud(i)?e:Number(i);return a&&a>0&&(l?c=l/a:c&&(l=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:l,calculatedHeight:c}},X1e={width:0,height:0,overflow:"visible"},Q1e={width:0,overflowX:"visible"},Z1e={height:0,overflowY:"visible"},J1e={},ebe=t=>{var{width:e,height:r}=t,n=ud(e),i=ud(r);return n&&i?X1e:n?Q1e:i?Z1e:J1e};function tbe(t){var{width:e,height:r,aspect:n}=t,i=e,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function ai(t){return Number.isFinite(t)}function ac(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function KT(){return KT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KT.apply(null,arguments)}function EM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(r),!0).forEach(function(n){rbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rbe(t,e,r){return(e=nbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nbe(t){var e=ibe(t,"string");return typeof e=="symbol"?e:e+""}function ibe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TH=E.createContext({width:-1,height:-1});function abe(t){return ac(t.width)&&ac(t.height)}function kH(t){var{children:e,width:r,height:n}=t,i=E.useMemo(()=>({width:r,height:n}),[r,n]);return abe(i)?E.createElement(TH.Provider,{value:i},e):null}var pN=()=>E.useContext(TH),sbe=E.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:l,maxHeight:c,children:d,debounce:f=0,id:p,className:g,onResize:m,style:w={}}=t,S=E.useRef(null),_=E.useRef();_.current=m,E.useImperativeHandle(e,()=>S.current);var[k,N]=E.useState({containerWidth:n.width,containerHeight:n.height}),P=E.useCallback((I,D)=>{N($=>{var j=Math.round(I),V=Math.round(D);return $.containerWidth===j&&$.containerHeight===V?$:{containerWidth:j,containerHeight:V}})},[]);E.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return pv;var I=V=>{var M,{width:J,height:_e}=V[0].contentRect;P(J,_e),(M=_.current)===null||M===void 0||M.call(_,J,_e)};f>0&&(I=Y1e(I,f,{trailing:!0,leading:!1}));var D=new ResizeObserver(I),{width:$,height:j}=S.current.getBoundingClientRect();return P($,j),D.observe(S.current),()=>{D.disconnect()}},[P,f]);var{containerWidth:F,containerHeight:O}=k;Yx(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:z,calculatedHeight:L}=EH(F,O,{width:i,height:a,aspect:r,maxHeight:c});return Yx(z!=null&&z>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,L,i,a,s,l,r),E.createElement("div",{id:p?"".concat(p):void 0,className:sn("recharts-responsive-container",g),style:TM(TM({},w),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:c}),ref:S},E.createElement("div",{style:ebe({width:i,height:a})},E.createElement(kH,{width:z,height:L},d)))}),hh=E.forwardRef((t,e)=>{var r=pN();if(ac(r.width)&&ac(r.height))return t.children;var{width:n,height:i}=tbe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=EH(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Bt(a)&&Bt(s)?E.createElement(kH,{width:a,height:s},t.children):E.createElement(sbe,KT({},t,{width:n,height:i,ref:e}))});function CH(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Cw=()=>{var t,e=Xa(),r=$t(z1e),n=$t(kw),i=(t=$t(Tw))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},obe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},NH=()=>{var t;return(t=$t(Na))!==null&&t!==void 0?t:obe},mN=()=>$t(xd),gN=()=>$t(wd),lbe=()=>$t(t=>t.layout.margin),qr=t=>t.layout.layoutType,mp=()=>$t(qr),ube=()=>{var t=mp();if(t==="horizontal"||t==="vertical")return t},cbe=()=>{var t=mp();return t!==void 0},Nw=t=>{var e=Wn(),r=Xa(),{width:n,height:i}=t,a=pN(),s=n,l=i;return a&&(s=a.width>0?a.width:n,l=a.height>0?a.height:i),E.useEffect(()=>{!r&&ac(s)&&ac(l)&&e(p1e({width:s,height:l}))},[e,r,s,l]),null},PH=Symbol.for("immer-nothing"),kM=Symbol.for("immer-draftable"),Ko=Symbol.for("immer-state");function iu(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ey=Object.getPrototypeOf;function Qm(t){return!!t&&!!t[Ko]}function tp(t){return t?jH(t)||Array.isArray(t)||!!t[kM]||!!t.constructor?.[kM]||xv(t)||jw(t):!1}var dbe=Object.prototype.constructor.toString(),CM=new WeakMap;function jH(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=CM.get(r);return n===void 0&&(n=Function.toString.call(r),CM.set(r,n)),n===dbe}function Xx(t,e,r=!0){Pw(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function Pw(t){const e=t[Ko];return e?e.type_:Array.isArray(t)?1:xv(t)?2:jw(t)?3:0}function YT(t,e){return Pw(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function RH(t,e,r){const n=Pw(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function fbe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function xv(t){return t instanceof Map}function jw(t){return t instanceof Set}function xh(t){return t.copy_||t.base_}function XT(t,e){if(xv(t))return new Map(t);if(jw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=jH(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Ko];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],l=n[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[s]})}return Object.create(Ey(t),n)}else{const n=Ey(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function yN(t,e=!1){return Rw(t)||Qm(t)||!tp(t)||(Pw(t)>1&&Object.defineProperties(t,{set:ub,add:ub,clear:ub,delete:ub}),Object.freeze(t),e&&Object.values(t).forEach(r=>yN(r,!0))),t}function hbe(){iu(2)}var ub={value:hbe};function Rw(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var pbe={};function rp(t){const e=pbe[t];return e||iu(0,t),e}var Ty;function OH(){return Ty}function mbe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function NM(t,e){e&&(rp("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function QT(t){ZT(t),t.drafts_.forEach(gbe),t.drafts_=null}function ZT(t){t===Ty&&(Ty=t.parent_)}function PM(t){return Ty=mbe(Ty,t)}function gbe(t){const e=t[Ko];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function jM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Ko].modified_&&(QT(e),iu(4)),tp(t)&&(t=Qx(e,t),e.parent_||Zx(e,t)),e.patches_&&rp("Patches").generateReplacementPatches_(r[Ko].base_,t,e.patches_,e.inversePatches_)):t=Qx(e,r,[]),QT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==PH?t:void 0}function Qx(t,e,r){if(Rw(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[Ko];if(!i)return Xx(e,(a,s)=>RM(t,i,e,a,s,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return Zx(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,l=!1;i.type_===3&&(s=new Set(a),a.clear(),l=!0),Xx(s,(c,d)=>RM(t,i,a,c,d,r,l),n),Zx(t,a,!1),r&&t.patches_&&rp("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function RM(t,e,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const l=Rw(i);if(!(l&&!s)){if(Qm(i)){const c=a&&e&&e.type_!==3&&!YT(e.assigned_,n)?a.concat(n):void 0,d=Qx(t,i,c);if(RH(r,n,d),Qm(d))t.canAutoFreeze_=!1;else return}else s&&r.add(i);if(tp(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&l)return;Qx(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(xv(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Zx(t,i)}}}function Zx(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&yN(e,r)}function ybe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:OH(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=vN;r&&(i=[n],a=ky);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=s,l}var vN={get(t,e){if(e===Ko)return t;const r=xh(t);if(!YT(r,e))return vbe(t,r,e);const n=r[e];return t.finalized_||!tp(n)?n:n===kS(t.base_,e)?(CS(t),t.copy_[e]=e4(n,t)):n},has(t,e){return e in xh(t)},ownKeys(t){return Reflect.ownKeys(xh(t))},set(t,e,r){const n=IH(xh(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=kS(xh(t),e),a=i?.[Ko];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(fbe(r,i)&&(r!==void 0||YT(t.base_,e)))return!0;CS(t),JT(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return kS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,CS(t),JT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=xh(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){iu(11)},getPrototypeOf(t){return Ey(t.base_)},setPrototypeOf(){iu(12)}},ky={};Xx(vN,(t,e)=>{ky[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ky.deleteProperty=function(t,e){return ky.set.call(this,t,e,void 0)};ky.set=function(t,e,r){return vN.set.call(this,t[0],e,r,t[0])};function kS(t,e){const r=t[Ko];return(r?xh(r):t)[e]}function vbe(t,e,r){const n=IH(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function IH(t,e){if(!(e in t))return;let r=Ey(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Ey(r)}}function JT(t){t.modified_||(t.modified_=!0,t.parent_&&JT(t.parent_))}function CS(t){t.copy_||(t.copy_=XT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var bbe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const s=this;return function(c=a,...d){return s.produce(c,f=>r.call(this,f,...d))}}typeof r!="function"&&iu(6),n!==void 0&&typeof n!="function"&&iu(7);let i;if(tp(e)){const a=PM(this),s=e4(e,void 0);let l=!0;try{i=r(s),l=!1}finally{l?QT(a):ZT(a)}return NM(a,n),jM(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===PH&&(i=void 0),this.autoFreeze_&&yN(i,!0),n){const a=[],s=[];rp("Patches").generateReplacementPatches_(e,i,a,s),n(a,s)}return i}else iu(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,c=>e(c,...l));let n,i;return[this.produce(e,r,(s,l)=>{n=s,i=l}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){tp(t)||iu(8),Qm(t)&&(t=xbe(t));const e=PM(this),r=e4(t,void 0);return r[Ko].isManual_=!0,ZT(e),r}finishDraft(t,e){const r=t&&t[Ko];(!r||!r.isManual_)&&iu(9);const{scope_:n}=r;return NM(n,e),jM(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=rp("Patches").applyPatches_;return Qm(t)?n(t,e):this.produce(t,i=>n(i,e))}};function e4(t,e){const r=xv(t)?rp("MapSet").proxyMap_(t,e):jw(t)?rp("MapSet").proxySet_(t,e):ybe(t,e);return(e?e.scope_:OH()).drafts_.push(r),r}function xbe(t){return Qm(t)||iu(10,t),DH(t)}function DH(t){if(!tp(t)||Rw(t))return t;const e=t[Ko];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=XT(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=XT(t,!0);return Xx(r,(i,a)=>{RH(r,i,DH(a))},n),e&&(e.finalized_=!1),r}var wbe=new bbe;wbe.produce;var _be={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},LH=ko({name:"legend",initialState:_be,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:mi()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,i=lu(t).payload.indexOf(r);i>-1&&(t.payload[i]=n)},prepare:mi()},removeLegendPayload:{reducer(t,e){var r=lu(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:mi()}}}),{setLegendSize:OM,setLegendSettings:Abe,addLegendPayload:MH,replaceLegendPayload:BH,removeLegendPayload:FH}=LH.actions,Sbe=LH.reducer,Ebe=["contextPayload"];function t4(){return t4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t4.apply(null,arguments)}function IM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(r),!0).forEach(function(n){Tbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tbe(t,e,r){return(e=kbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kbe(t){var e=Cbe(t,"string");return typeof e=="symbol"?e:e+""}function Cbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nbe(t,e){if(t==null)return{};var r,n,i=Pbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Pbe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function jbe(t){return t.value}function Rbe(t){var{contextPayload:e}=t,r=Nbe(t,Ebe),n=Mq(e,t.payloadUniqBy,jbe),i=Zm(Zm({},r),{},{payload:n});return E.isValidElement(t.content)?E.cloneElement(t.content,i):typeof t.content=="function"?E.createElement(t.content,i):E.createElement(_ye,i)}function Obe(t,e,r,n,i,a){var{layout:s,align:l,verticalAlign:c}=e,d,f;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&s==="vertical"?d={left:((n||0)-a.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?f={top:((i||0)-a.height)/2}:f=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Zm(Zm({},d),f)}function Ibe(t){var e=Wn();return E.useEffect(()=>{e(Abe(t))},[e,t]),null}function Dbe(t){var e=Wn();return E.useEffect(()=>(e(OM(t)),()=>{e(OM({width:0,height:0}))}),[e,t]),null}function Lbe(t,e,r,n){return t==="vertical"&&Bt(e)?{height:e}:t==="horizontal"?{width:r||n}:null}var Mbe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Wb(t){var e=$i(t,Mbe),r=gve(),n=p0e(),i=lbe(),{width:a,height:s,wrapperStyle:l,portal:c}=e,[d,f]=zq([r]),p=mN(),g=gN();if(p==null||g==null)return null;var m=p-(i?.left||0)-(i?.right||0),w=Lbe(e.layout,s,a,m),S=c?l:Zm(Zm({position:"absolute",width:w?.width||a||"auto",height:w?.height||s||"auto"},Obe(l,e,i,p,g,d)),l),_=c??n;if(_==null||r==null)return null;var k=E.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:f},E.createElement(Ibe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!c&&E.createElement(Dbe,{width:d.width,height:d.height}),E.createElement(Rbe,t4({},e,w,{margin:i,chartWidth:p,chartHeight:g,contextPayload:r})));return op.createPortal(k,_)}Wb.displayName="Legend";function r4(){return r4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r4.apply(null,arguments)}function DM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(r),!0).forEach(function(n){Bbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bbe(t,e,r){return(e=Fbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fbe(t){var e=Ube(t,"string");return typeof e=="symbol"?e:e+""}function Ube(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vbe(t){return Array.isArray(t)&&ic(t[0])&&ic(t[1])?t.join(" ~ "):t}var zbe=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:g=!1}=t,m=()=>{if(a&&a.length){var O={padding:0,margin:0},z=(l?mw(a,l):a).map((L,I)=>{if(L.type==="none")return null;var D=L.formatter||s||Vbe,{value:$,name:j}=L,V=$,M=j;if(D){var J=D($,j,L,I,a);if(Array.isArray(J))[V,M]=J;else if(J!=null)V=J;else return null}var _e=NS({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},n);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:_e},ic(M)?E.createElement("span",{className:"recharts-tooltip-item-name"},M):null,ic(M)?E.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,E.createElement("span",{className:"recharts-tooltip-item-value"},V),E.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:O},z)}return null},w=NS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),S=NS({margin:0},i),_=!ni(f),k=_?f:"",N=sn("recharts-default-tooltip",c),P=sn("recharts-tooltip-label",d);_&&p&&a!==void 0&&a!==null&&(k=p(f,a));var F=g?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",r4({className:N,style:w},F),E.createElement("p",{className:P,style:S},E.isValidElement(k)?k:"".concat(k)),m())},w0="recharts-tooltip-wrapper",$be={visibility:"hidden"};function qbe(t){var{coordinate:e,translateX:r,translateY:n}=t;return sn(w0,{["".concat(w0,"-right")]:Bt(r)&&e&&Bt(e.x)&&r>=e.x,["".concat(w0,"-left")]:Bt(r)&&e&&Bt(e.x)&&r<e.x,["".concat(w0,"-bottom")]:Bt(n)&&e&&Bt(e.y)&&n>=e.y,["".concat(w0,"-top")]:Bt(n)&&e&&Bt(e.y)&&n<e.y})}function LM(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=t;if(a&&Bt(a[n]))return a[n];var f=r[n]-l-(i>0?i:0),p=r[n]+i;if(e[n])return s[n]?f:p;var g=c[n];if(g==null)return 0;if(s[n]){var m=f,w=g;return m<w?Math.max(p,g):Math.max(f,g)}if(d==null)return 0;var S=p+l,_=g+d;return S>_?Math.max(f,g):Math.max(p,g)}function Hbe(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Gbe(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:c}=t,d,f,p;return s.height>0&&s.width>0&&r?(f=LM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=LM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=Hbe({translateX:f,translateY:p,useTranslate3d:l})):d=$be,{cssProperties:d,cssClasses:qbe({translateX:f,translateY:p,coordinate:r})}}function MM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(r),!0).forEach(function(n){n4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n4(t,e,r){return(e=Wbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wbe(t){var e=Kbe(t,"string");return typeof e=="symbol"?e:e+""}function Kbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ybe extends E.PureComponent{constructor(){super(...arguments),n4(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),n4(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:c,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:m,wrapperStyle:w,lastBoundingBox:S,innerRef:_,hasPortalFromProps:k}=this.props,{cssClasses:N,cssProperties:P}=Gbe({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:g,viewBox:m}),F=k?{}:cb(cb({transition:c&&e?"transform ".concat(n,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),O=cb(cb({},F),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},w);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:O,ref:_},a)}}var UH=()=>{var t;return(t=$t(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function i4(){return i4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i4.apply(null,arguments)}function BM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(r),!0).forEach(function(n){Xbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xbe(t,e,r){return(e=Qbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qbe(t){var e=Zbe(t,"string");return typeof e=="symbol"?e:e+""}function Zbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UM={curveBasisClosed:O0e,curveBasisOpen:I0e,curveBasis:R0e,curveBumpX:v0e,curveBumpY:b0e,curveLinearClosed:D0e,curveLinear:hw,curveMonotoneX:L0e,curveMonotoneY:M0e,curveNatural:B0e,curveStep:F0e,curveStepAfter:V0e,curveStepBefore:U0e},Jx=t=>ai(t.x)&&ai(t.y),VM=t=>t.base!=null&&Jx(t.base)&&Jx(t),_0=t=>t.x,A0=t=>t.y,Jbe=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(hv(t));return(r==="curveMonotone"||r==="curveBump")&&e?UM["".concat(r).concat(e==="vertical"?"Y":"X")]:UM[r]||hw},exe=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,s=Jbe(e,i),l=a?r.filter(Jx):r,c;if(Array.isArray(n)){var d=r.map((m,w)=>FM(FM({},m),{},{base:n[w]}));i==="vertical"?c=rb().y(A0).x1(_0).x0(m=>m.base.x):c=rb().x(_0).y1(A0).y0(m=>m.base.y);var f=c.defined(VM).curve(s),p=a?d.filter(VM):d;return f(p)}i==="vertical"&&Bt(n)?c=rb().y(A0).x1(_0).x0(n):Bt(n)?c=rb().x(_0).y1(A0).y0(n):c=fq().x(_0).y(A0);var g=c.defined(Jx).curve(s);return g(l)},Mm=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?exe(t):n;return E.createElement("path",i4({},Qs(t),rN(t),{className:sn("recharts-curve",e),d:a===null?void 0:a,ref:i}))},txe=["x","y","top","left","width","height","className"];function a4(){return a4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a4.apply(null,arguments)}function zM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rxe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(r),!0).forEach(function(n){nxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nxe(t,e,r){return(e=ixe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ixe(t){var e=axe(t,"string");return typeof e=="symbol"?e:e+""}function axe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sxe(t,e){if(t==null)return{};var r,n,i=oxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function oxe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var lxe=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),uxe=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:l}=t,c=sxe(t,txe),d=rxe({x:e,y:r,top:n,left:i,width:a,height:s},c);return!Bt(e)||!Bt(r)||!Bt(a)||!Bt(s)||!Bt(n)||!Bt(i)?null:E.createElement("path",a4({},Ds(d),{className:sn("recharts-cross",l),d:lxe(e,r,a,s,n,i)}))};function cxe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function $M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(r),!0).forEach(function(n){dxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dxe(t,e,r){return(e=fxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fxe(t){var e=hxe(t,"string");return typeof e=="symbol"?e:e+""}function hxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pxe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),VH=(t,e,r)=>t.map(n=>"".concat(pxe(n)," ").concat(e,"ms ").concat(r)).join(","),mxe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),Cy=(t,e)=>Object.keys(e).reduce((r,n)=>qM(qM({},r),{},{[n]:t(n,e[n])}),{});function HM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ka(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(r),!0).forEach(function(n){gxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gxe(t,e,r){return(e=yxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yxe(t){var e=vxe(t,"string");return typeof e=="symbol"?e:e+""}function vxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e2=(t,e,r)=>t+(e-t)*r,s4=t=>{var{from:e,to:r}=t;return e!==r},zH=(t,e,r)=>{var n=Cy((i,a)=>{if(s4(a)){var[s,l]=t(a.from,a.to,a.velocity);return ka(ka({},a),{},{from:s,velocity:l})}return a},e);return r<1?Cy((i,a)=>s4(a)?ka(ka({},a),{},{velocity:e2(a.velocity,n[i].velocity,r),from:e2(a.from,n[i].from,r)}):a,e):zH(t,n,r-1)};function bxe(t,e,r,n,i,a){var s,l=n.reduce((g,m)=>ka(ka({},g),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),c=()=>Cy((g,m)=>m.from,l),d=()=>!Object.values(l).filter(s4).length,f=null,p=g=>{s||(s=g);var m=g-s,w=m/r.dt;l=zH(r,l,w),i(ka(ka(ka({},t),e),c())),s=g,d()||(f=a.setTimeout(p))};return()=>(f=a.setTimeout(p),()=>{var g;(g=f)===null||g===void 0||g()})}function xxe(t,e,r,n,i,a,s){var l=null,c=i.reduce((p,g)=>ka(ka({},p),{},{[g]:[t[g],e[g]]}),{}),d,f=p=>{d||(d=p);var g=(p-d)/n,m=Cy((S,_)=>e2(..._,r(g)),c);if(a(ka(ka(ka({},t),e),m)),g<1)l=s.setTimeout(f);else{var w=Cy((S,_)=>e2(..._,r(1)),c);a(ka(ka(ka({},t),e),w))}};return()=>(l=s.setTimeout(f),()=>{var p;(p=l)===null||p===void 0||p()})}const wxe=(t,e,r,n,i,a)=>{var s=mxe(t,e);return r==null?()=>(i(ka(ka({},t),e)),()=>{}):r.isStepper===!0?bxe(t,e,r,s,i,a):xxe(t,e,r,n,s,i,a)};var t2=1e-4,$H=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],qH=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),GM=(t,e)=>r=>{var n=$H(t,e);return qH(n,r)},_xe=(t,e)=>r=>{var n=$H(t,e),i=[...n.map((a,s)=>a*s).slice(1),0];return qH(i,r)},Axe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},Sxe=(t,e,r,n)=>{var i=GM(t,r),a=GM(e,n),s=_xe(t,r),l=d=>d>1?1:d<0?0:d,c=d=>{for(var f=d>1?1:d,p=f,g=0;g<8;++g){var m=i(p)-f,w=s(p);if(Math.abs(m-f)<t2||w<t2)return a(p);p=l(p-m/w)}return a(p)};return c.isStepper=!1,c},WM=function(){return Sxe(...Axe(...arguments))},Exe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(s,l,c)=>{var d=-(s-l)*r,f=c*n,p=c+(d-f)*i/1e3,g=c*i/1e3+s;return Math.abs(g-l)<t2&&Math.abs(p)<t2?[l,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},Txe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WM(t);case"spring":return Exe();default:if(t.split("(")[0]==="cubic-bezier")return WM(t)}return typeof t=="function"?t:null};function kxe(t){var e,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...d]=l;if(typeof c=="number"){i=t.setTimeout(a.bind(null,d),c);return}a(c),i=t.setTimeout(a.bind(null,d));return}typeof s=="string"&&(e=s,r(e)),typeof s=="object"&&(e=s,r(e)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>t}}class Cxe{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Nxe(){return kxe(new Cxe)}var Pxe=E.createContext(Nxe);function jxe(t,e){var r=E.useContext(Pxe);return E.useMemo(()=>e??r(t),[t,e,r])}var Rxe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),bg={devToolsEnabled:!1,isSsr:Rxe()},Oxe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},KM={t:0},PS={t:1};function xg(t){var e=$i(t,Oxe),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:c,children:d}=e,f=r==="auto"?!bg.isSsr:r,p=jxe(e.animationId,e.animationManager),[g,m]=E.useState(f?KM:PS),w=E.useRef(null);return E.useEffect(()=>{f||m(PS)},[f]),E.useEffect(()=>{if(!f||!n)return pv;var S=wxe(KM,PS,Txe(a),i,m,p.getTimeoutController()),_=()=>{w.current=S()};return p.start([c,s,_,i,l]),()=>{p.stop(),w.current&&w.current(),l()}},[f,n,i,a,s,c,l,p]),d(g.t)}function wg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=E.useRef(wy(e)),n=E.useRef(t);return n.current!==t&&(r.current=wy(e),n.current=t),r.current}var Ixe=["radius"],Dxe=["radius"];function YM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(r),!0).forEach(function(n){Lxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lxe(t,e,r){return(e=Mxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mxe(t){var e=Bxe(t,"string");return typeof e=="symbol"?e:e+""}function Bxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r2(){return r2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r2.apply(null,arguments)}function QM(t,e){if(t==null)return{};var r,n,i=Fxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Fxe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ZM=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,g=4;p<g;p++)f[p]=i[p]>a?a:i[p];d="M".concat(t,",").concat(e+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(e)),d+="L ".concat(t+r-l*f[1],",").concat(e),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(e+s*f[1])),d+="L ".concat(t+r,",").concat(e+n-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+r-l*f[2],",").concat(e+n)),d+="L ".concat(t+l*f[3],",").concat(e+n),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+n-s*f[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);d="M ".concat(t,",").concat(e+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+r-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r,",").concat(e+s*m,`
            L `).concat(t+r,",").concat(e+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r-l*m,",").concat(e+n,`
            L `).concat(t+l*m,",").concat(e+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(e+n-s*m," Z")}else d="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},JM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HH=t=>{var e=$i(t,JM),r=E.useRef(null),[n,i]=E.useState(-1);E.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ee=r.current.getTotalLength();ee&&i(ee)}catch{}},[]);var{x:a,y:s,width:l,height:c,radius:d,className:f}=e,{animationEasing:p,animationDuration:g,animationBegin:m,isAnimationActive:w,isUpdateAnimationActive:S}=e,_=E.useRef(l),k=E.useRef(c),N=E.useRef(a),P=E.useRef(s),F=E.useMemo(()=>({x:a,y:s,width:l,height:c,radius:d}),[a,s,l,c,d]),O=wg(F,"rectangle-");if(a!==+a||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var z=sn("recharts-rectangle",f);if(!S){var L=Ds(e),{radius:I}=L,D=QM(L,Ixe);return E.createElement("path",r2({},D,{radius:typeof d=="number"?d:void 0,className:z,d:ZM(a,s,l,c,d)}))}var $=_.current,j=k.current,V=N.current,M=P.current,J="0px ".concat(n===-1?1:n,"px"),_e="".concat(n,"px 0px"),se=VH(["strokeDasharray"],g,typeof p=="string"?p:JM.animationEasing);return E.createElement(xg,{animationId:O,key:O,canBegin:n>0,duration:g,easing:p,isActive:S,begin:m},ee=>{var fe=bn($,l,ee),we=bn(j,c,ee),Be=bn(V,a,ee),Z=bn(M,s,ee);r.current&&(_.current=fe,k.current=we,N.current=Be,P.current=Z);var q;w?ee>0?q={transition:se,strokeDasharray:_e}:q={strokeDasharray:J}:q={strokeDasharray:_e};var Q=Ds(e),{radius:re}=Q,ae=QM(Q,Dxe);return E.createElement("path",r2({},ae,{radius:typeof d=="number"?d:void 0,className:z,d:ZM(Be,Z,fe,we,d),ref:r,style:XM(XM({},q),e.style)}))})};function e8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e8(Object(r),!0).forEach(function(n){Uxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uxe(t,e,r){return(e=Vxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vxe(t){var e=zxe(t,"string");return typeof e=="symbol"?e:e+""}function zxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n2=Math.PI/180,$xe=t=>t*180/Math.PI,pa=(t,e,r,n)=>({x:t+Math.cos(-n2*n)*r,y:e+Math.sin(-n2*n)*r}),GH=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},qxe=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},Hxe=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,s=qxe({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(r-i)/s,c=Math.acos(l);return n>a&&(c=2*Math.PI-c),{radius:s,angle:$xe(c),angleInRadian:c}},Gxe=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},Wxe=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return t+s*360},Kxe=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:a}=Hxe({x:r,y:n},e),{innerRadius:s,outerRadius:l}=e;if(i<s||i>l||i===0)return null;var{startAngle:c,endAngle:d}=Gxe(e),f=a,p;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;p=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=c}return p?t8(t8({},e),{},{radius:i,angle:Wxe(f,e)}):null};function WH(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,s=pa(e,r,n,i),l=pa(e,r,n,a);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function o4(){return o4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o4.apply(null,arguments)}var Yxe=(t,e)=>{var r=Ya(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},db=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:c}=t,d=l*(s?1:-1)+n,f=Math.asin(l/d)/n2,p=c?i:i+a*f,g=pa(e,r,d,p),m=pa(e,r,n,p),w=c?i-a*f:i,S=pa(e,r,d*Math.cos(f*n2),w);return{center:g,circleTangency:m,lineTangency:S,theta:f}},KH=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=t,l=Yxe(a,s),c=a+l,d=pa(e,r,i,a),f=pa(e,r,i,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var g=pa(e,r,n,a),m=pa(e,r,n,c);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(e,",").concat(r," Z");return p},Xxe=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}=t,f=Ya(d-c),{circleTangency:p,lineTangency:g,theta:m}=db({cx:e,cy:r,radius:i,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),{circleTangency:w,lineTangency:S,theta:_}=db({cx:e,cy:r,radius:i,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),k=l?Math.abs(c-d):Math.abs(c-d)-m-_;if(k<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):KH({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:d});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
  `);if(n>0){var{circleTangency:P,lineTangency:F,theta:O}=db({cx:e,cy:r,radius:n,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:z,lineTangency:L,theta:I}=db({cx:e,cy:r,radius:n,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),D=l?Math.abs(c-d):Math.abs(c-d)-O-I;if(D<0&&a===0)return"".concat(N,"L").concat(e,",").concat(r,"Z");N+="L".concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(F.x,",").concat(F.y,"Z")}else N+="L".concat(e,",").concat(r,"Z");return N},Qxe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},YH=t=>{var e=$i(t,Qxe),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f,className:p}=e;if(a<i||d===f)return null;var g=sn("recharts-sector",p),m=a-i,w=Rs(s,m,0,!0),S;return w>0&&Math.abs(d-f)<360?S=Xxe({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):S=KH({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f}),E.createElement("path",o4({},Ds(e),{className:g,d:S}))};function Zxe(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(kq(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:l}=e,c=pa(n,i,a,l),d=pa(n,i,s,l);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return WH(e)}}var jS={},RS={},OS={},r8;function Jxe(){return r8||(r8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fq();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(OS)),OS}var n8;function e2e(){return n8||(n8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jxe();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(RS)),RS}var i8;function t2e(){return i8||(i8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uq(),r=e2e();function n(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=i,i+=s;return c}t.range=n})(jS)),jS}var IS,a8;function r2e(){return a8||(a8=1,IS=t2e().range),IS}var n2e=r2e();const XH=gd(n2e);function xf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function i2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bN(t){let e,r,n;t.length!==2?(e=xf,r=(l,c)=>xf(t(l),c),n=(l,c)=>t(l)-c):(e=t===xf||t===i2e?t:a2e,r=t,n=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const p=d+f>>>1;r(l[p],c)<0?d=p+1:f=p}while(d<f)}return d}function a(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const p=d+f>>>1;r(l[p],c)<=0?d=p+1:f=p}while(d<f)}return d}function s(l,c,d=0,f=l.length){const p=i(l,c,d,f-1);return p>d&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:i,center:s,right:a}}function a2e(){return 0}function QH(t){return t===null?NaN:+t}function*s2e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const o2e=bN(xf),wv=o2e.right;bN(QH).center;class s8 extends Map{constructor(e,r=c2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(o8(this,e))}has(e){return super.has(o8(this,e))}set(e,r){return super.set(l2e(this,e),r)}delete(e){return super.delete(u2e(this,e))}}function o8({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function l2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function u2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function c2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function d2e(t=xf){if(t===xf)return ZH;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function ZH(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const f2e=Math.sqrt(50),h2e=Math.sqrt(10),p2e=Math.sqrt(2);function i2(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=f2e?10:a>=h2e?5:a>=p2e?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*s,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?i2(t,e,r*2):[l,c,d]}function l4(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?i2(e,t,r):i2(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(s<0)for(let d=0;d<l;++d)c[d]=(a-d)/-s;else for(let d=0;d<l;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<l;++d)c[d]=(i+d)/-s;else for(let d=0;d<l;++d)c[d]=(i+d)*s;return c}function u4(t,e,r){return e=+e,t=+t,r=+r,i2(t,e,r)[2]}function c4(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?u4(e,t,r):u4(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function l8(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function u8(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function JH(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?ZH:d2e(i);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(c-p)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(e-d*p/c+g)),w=Math.min(n,Math.floor(e+(c-d)*p/c+g));JH(t,e,m,w,i)}const a=t[e];let s=r,l=n;for(S0(t,r,e),i(t[n],a)>0&&S0(t,r,n);s<l;){for(S0(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?S0(t,r,l):(++l,S0(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function S0(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function m2e(t,e,r){if(t=Float64Array.from(s2e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return u8(t);if(e>=1)return l8(t);var n,i=(n-1)*e,a=Math.floor(i),s=l8(JH(t,a).subarray(0,a+1)),l=u8(t.subarray(a+1));return s+(l-s)*(i-a)}}function g2e(t,e,r=QH){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function y2e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Pl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _d(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const d4=Symbol("implicit");function xN(){var t=new s8,e=[],r=[],n=d4;function i(a){let s=t.get(a);if(s===void 0){if(n!==d4)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new s8;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return xN(e,r).unknown(n)},Pl.apply(i,arguments),i}function wN(){var t=xN().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,l=!1,c=0,d=0,f=.5;delete t.unknown;function p(){var g=e().length,m=i<n,w=m?i:n,S=m?n:i;a=(S-w)/Math.max(1,g-c+d*2),l&&(a=Math.floor(a)),w+=(S-w-a*(g-c))*f,s=a*(1-c),l&&(w=Math.round(w),s=Math.round(s));var _=y2e(g).map(function(k){return w+a*k});return r(m?_.reverse():_)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(l=!!g,p()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(d=+g,p()):d},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},t.copy=function(){return wN(e(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},Pl.apply(p(),arguments)}function eG(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return eG(e())},t}function v2e(){return eG(wN.apply(null,arguments).paddingInner(1))}function _N(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function tG(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function _v(){}var Ny=.7,a2=1/Ny,Bm="\\s*([+-]?\\d+)\\s*",Py="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",b2e=/^#([0-9a-f]{3,8})$/,x2e=new RegExp(`^rgb\\(${Bm},${Bm},${Bm}\\)$`),w2e=new RegExp(`^rgb\\(${tc},${tc},${tc}\\)$`),_2e=new RegExp(`^rgba\\(${Bm},${Bm},${Bm},${Py}\\)$`),A2e=new RegExp(`^rgba\\(${tc},${tc},${tc},${Py}\\)$`),S2e=new RegExp(`^hsl\\(${Py},${tc},${tc}\\)$`),E2e=new RegExp(`^hsla\\(${Py},${tc},${tc},${Py}\\)$`),c8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_N(_v,jy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:d8,formatHex:d8,formatHex8:T2e,formatHsl:k2e,formatRgb:f8,toString:f8});function d8(){return this.rgb().formatHex()}function T2e(){return this.rgb().formatHex8()}function k2e(){return rG(this).formatHsl()}function f8(){return this.rgb().formatRgb()}function jy(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=b2e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?h8(e):r===3?new Eo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?fb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?fb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=x2e.exec(t))?new Eo(e[1],e[2],e[3],1):(e=w2e.exec(t))?new Eo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_2e.exec(t))?fb(e[1],e[2],e[3],e[4]):(e=A2e.exec(t))?fb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=S2e.exec(t))?g8(e[1],e[2]/100,e[3]/100,1):(e=E2e.exec(t))?g8(e[1],e[2]/100,e[3]/100,e[4]):c8.hasOwnProperty(t)?h8(c8[t]):t==="transparent"?new Eo(NaN,NaN,NaN,0):null}function h8(t){return new Eo(t>>16&255,t>>8&255,t&255,1)}function fb(t,e,r,n){return n<=0&&(t=e=r=NaN),new Eo(t,e,r,n)}function C2e(t){return t instanceof _v||(t=jy(t)),t?(t=t.rgb(),new Eo(t.r,t.g,t.b,t.opacity)):new Eo}function f4(t,e,r,n){return arguments.length===1?C2e(t):new Eo(t,e,r,n??1)}function Eo(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}_N(Eo,f4,tG(_v,{brighter(t){return t=t==null?a2:Math.pow(a2,t),new Eo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ny:Math.pow(Ny,t),new Eo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Eo(Vh(this.r),Vh(this.g),Vh(this.b),s2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p8,formatHex:p8,formatHex8:N2e,formatRgb:m8,toString:m8}));function p8(){return`#${Ch(this.r)}${Ch(this.g)}${Ch(this.b)}`}function N2e(){return`#${Ch(this.r)}${Ch(this.g)}${Ch(this.b)}${Ch((isNaN(this.opacity)?1:this.opacity)*255)}`}function m8(){const t=s2(this.opacity);return`${t===1?"rgb(":"rgba("}${Vh(this.r)}, ${Vh(this.g)}, ${Vh(this.b)}${t===1?")":`, ${t})`}`}function s2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ch(t){return t=Vh(t),(t<16?"0":"")+t.toString(16)}function g8(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new au(t,e,r,n)}function rG(t){if(t instanceof au)return new au(t.h,t.s,t.l,t.opacity);if(t instanceof _v||(t=jy(t)),!t)return new au;if(t instanceof au)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-e)/l+2:s=(e-r)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new au(s,l,c,t.opacity)}function P2e(t,e,r,n){return arguments.length===1?rG(t):new au(t,e,r,n??1)}function au(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}_N(au,P2e,tG(_v,{brighter(t){return t=t==null?a2:Math.pow(a2,t),new au(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ny:Math.pow(Ny,t),new au(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Eo(DS(t>=240?t-240:t+120,i,n),DS(t,i,n),DS(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new au(y8(this.h),hb(this.s),hb(this.l),s2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=s2(this.opacity);return`${t===1?"hsl(":"hsla("}${y8(this.h)}, ${hb(this.s)*100}%, ${hb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function y8(t){return t=(t||0)%360,t<0?t+360:t}function hb(t){return Math.max(0,Math.min(1,t||0))}function DS(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const AN=t=>()=>t;function j2e(t,e){return function(r){return t+r*e}}function R2e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function O2e(t){return(t=+t)==1?nG:function(e,r){return r-e?R2e(e,r,t):AN(isNaN(e)?r:e)}}function nG(t,e){var r=e-t;return r?j2e(t,r):AN(isNaN(t)?e:t)}const v8=(function t(e){var r=O2e(e);function n(i,a){var s=r((i=f4(i)).r,(a=f4(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),d=nG(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return n.gamma=t,n})(1);function I2e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function D2e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function L2e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=_g(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function M2e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function o2(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function B2e(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=_g(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var h4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,LS=new RegExp(h4.source,"g");function F2e(t){return function(){return t}}function U2e(t){return function(e){return t(e)+""}}function V2e(t,e){var r=h4.lastIndex=LS.lastIndex=0,n,i,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(n=h4.exec(t))&&(i=LS.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:o2(n,i)})),r=LS.lastIndex;return r<e.length&&(a=e.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?U2e(c[0].x):F2e(e):(e=c.length,function(d){for(var f=0,p;f<e;++f)l[(p=c[f]).i]=p.x(d);return l.join("")})}function _g(t,e){var r=typeof e,n;return e==null||r==="boolean"?AN(e):(r==="number"?o2:r==="string"?(n=jy(e))?(e=n,v8):V2e:e instanceof jy?v8:e instanceof Date?M2e:D2e(e)?I2e:Array.isArray(e)?L2e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?B2e:o2)(t,e)}function SN(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function z2e(t,e){e===void 0&&(e=t,t=_g);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function $2e(t){return function(){return t}}function l2(t){return+t}var b8=[0,1];function Ys(t){return t}function p4(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:$2e(isNaN(e)?NaN:.5)}function q2e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function H2e(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=p4(i,n),a=r(s,a)):(n=p4(n,i),a=r(a,s)),function(l){return a(n(l))}}function G2e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=p4(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(l){var c=wv(t,l,1,n)-1;return a[c](i[c](l))}}function Av(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ow(){var t=b8,e=b8,r=_g,n,i,a,s=Ys,l,c,d;function f(){var g=Math.min(t.length,e.length);return s!==Ys&&(s=q2e(t[0],t[g-1])),l=g>2?G2e:H2e,c=d=null,p}function p(g){return g==null||isNaN(g=+g)?a:(c||(c=l(t.map(n),e,r)))(n(s(g)))}return p.invert=function(g){return s(i((d||(d=l(e,t.map(n),o2)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,l2),f()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),r=SN,f()},p.clamp=function(g){return arguments.length?(s=g?!0:Ys,f()):s!==Ys},p.interpolate=function(g){return arguments.length?(r=g,f()):r},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,m){return n=g,i=m,f()}}function EN(){return Ow()(Ys,Ys)}function W2e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function u2(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Jm(t){return t=u2(Math.abs(t)),t?t[1]:NaN}function K2e(t,e){return function(r,n){for(var i=r.length,a=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Y2e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var X2e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ry(t){if(!(e=X2e.exec(t)))throw new Error("invalid format: "+t);var e;return new TN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ry.prototype=TN.prototype;function TN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Q2e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var iG;function Z2e(t,e){var r=u2(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(iG=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+u2(t,Math.max(0,e+a-1))[0]}function x8(t,e){var r=u2(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const w8={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:W2e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>x8(t*100,e),r:x8,s:Z2e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _8(t){return t}var A8=Array.prototype.map,S8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function J2e(t){var e=t.grouping===void 0||t.thousands===void 0?_8:K2e(A8.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?_8:Y2e(A8.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(p){p=Ry(p);var g=p.fill,m=p.align,w=p.sign,S=p.symbol,_=p.zero,k=p.width,N=p.comma,P=p.precision,F=p.trim,O=p.type;O==="n"?(N=!0,O="g"):w8[O]||(P===void 0&&(P=12),F=!0,O="g"),(_||g==="0"&&m==="=")&&(_=!0,g="0",m="=");var z=S==="$"?r:S==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",L=S==="$"?n:/[%p]/.test(O)?s:"",I=w8[O],D=/[defgprs%]/.test(O);P=P===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function $(j){var V=z,M=L,J,_e,se;if(O==="c")M=I(j)+M,j="";else{j=+j;var ee=j<0||1/j<0;if(j=isNaN(j)?c:I(Math.abs(j),P),F&&(j=Q2e(j)),ee&&+j==0&&w!=="+"&&(ee=!1),V=(ee?w==="("?w:l:w==="-"||w==="("?"":w)+V,M=(O==="s"?S8[8+iG/3]:"")+M+(ee&&w==="("?")":""),D){for(J=-1,_e=j.length;++J<_e;)if(se=j.charCodeAt(J),48>se||se>57){M=(se===46?i+j.slice(J+1):j.slice(J))+M,j=j.slice(0,J);break}}}N&&!_&&(j=e(j,1/0));var fe=V.length+j.length+M.length,we=fe<k?new Array(k-fe+1).join(g):"";switch(N&&_&&(j=e(we+j,we.length?k-M.length:1/0),we=""),m){case"<":j=V+j+M+we;break;case"=":j=V+we+j+M;break;case"^":j=we.slice(0,fe=we.length>>1)+V+j+M+we.slice(fe);break;default:j=we+V+j+M;break}return a(j)}return $.toString=function(){return p+""},$}function f(p,g){var m=d((p=Ry(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Jm(g)/3)))*3,S=Math.pow(10,-w),_=S8[8+w/3];return function(k){return m(S*k)+_}}return{format:d,formatPrefix:f}}var pb,kN,aG;ewe({thousands:",",grouping:[3],currency:["$",""]});function ewe(t){return pb=J2e(t),kN=pb.format,aG=pb.formatPrefix,pb}function twe(t){return Math.max(0,-Jm(Math.abs(t)))}function rwe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jm(e)/3)))*3-Jm(Math.abs(t)))}function nwe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jm(e)-Jm(t))+1}function sG(t,e,r,n){var i=c4(t,e,r),a;switch(n=Ry(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=rwe(i,s))&&(n.precision=a),aG(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=nwe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=twe(i))&&(n.precision=a-(n.type==="%")*2);break}}return kN(n)}function Hf(t){var e=t.domain;return t.ticks=function(r){var n=e();return l4(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return sG(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],l=n[a],c,d,f=10;for(l<s&&(d=s,s=l,l=d,d=i,i=a,a=d);f-- >0;){if(d=u4(s,l,r),d===c)return n[i]=s,n[a]=l,e(n);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function oG(){var t=EN();return t.copy=function(){return Av(t,oG())},Pl.apply(t,arguments),Hf(t)}function lG(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,l2),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return lG(t).unknown(e)},t=arguments.length?Array.from(t,l2):[0,1],Hf(r)}function uG(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function E8(t){return Math.log(t)}function T8(t){return Math.exp(t)}function iwe(t){return-Math.log(-t)}function awe(t){return-Math.exp(-t)}function swe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function owe(t){return t===10?swe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lwe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function k8(t){return(e,r)=>-t(-e,r)}function CN(t){const e=t(E8,T8),r=e.domain;let n=10,i,a;function s(){return i=lwe(n),a=owe(n),r()[0]<0?(i=k8(i),a=k8(a),t(iwe,awe)):t(E8,T8),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const c=r();let d=c[0],f=c[c.length-1];const p=f<d;p&&([d,f]=[f,d]);let g=i(d),m=i(f),w,S;const _=l==null?10:+l;let k=[];if(!(n%1)&&m-g<_){if(g=Math.floor(g),m=Math.ceil(m),d>0){for(;g<=m;++g)for(w=1;w<n;++w)if(S=g<0?w/a(-g):w*a(g),!(S<d)){if(S>f)break;k.push(S)}}else for(;g<=m;++g)for(w=n-1;w>=1;--w)if(S=g>0?w/a(-g):w*a(g),!(S<d)){if(S>f)break;k.push(S)}k.length*2<_&&(k=l4(d,f,_))}else k=l4(g,m,Math.min(m-g,_)).map(a);return p?k.reverse():k},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ry(c)).precision==null&&(c.trim=!0),c=kN(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return f=>{let p=f/a(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=d?c(f):""}},e.nice=()=>r(uG(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function cG(){const t=CN(Ow()).domain([1,10]);return t.copy=()=>Av(t,cG()).base(t.base()),Pl.apply(t,arguments),t}function C8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function N8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function NN(t){var e=1,r=t(C8(e),N8(e));return r.constant=function(n){return arguments.length?t(C8(e=+n),N8(e)):e},Hf(r)}function dG(){var t=NN(Ow());return t.copy=function(){return Av(t,dG()).constant(t.constant())},Pl.apply(t,arguments)}function P8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function uwe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function cwe(t){return t<0?-t*t:t*t}function PN(t){var e=t(Ys,Ys),r=1;function n(){return r===1?t(Ys,Ys):r===.5?t(uwe,cwe):t(P8(r),P8(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Hf(e)}function jN(){var t=PN(Ow());return t.copy=function(){return Av(t,jN()).exponent(t.exponent())},Pl.apply(t,arguments),t}function dwe(){return jN.apply(null,arguments).exponent(.5)}function j8(t){return Math.sign(t)*t*t}function fwe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function fG(){var t=EN(),e=[0,1],r=!1,n;function i(a){var s=fwe(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(j8(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,l2)).map(j8)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return fG(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Pl.apply(i,arguments),Hf(i)}function hG(){var t=[],e=[],r=[],n;function i(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=g2e(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:e[wv(r,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(xf),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return hG().domain(t).range(e).unknown(n)},Pl.apply(a,arguments)}function pG(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[wv(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return pG().domain([t,e]).range(i).unknown(a)},Pl.apply(Hf(s),arguments)}function mG(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[wv(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return mG().domain(t).range(e).unknown(r)},Pl.apply(i,arguments)}const MS=new Date,BS=new Date;function Pa(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<s);return c},i.filter=a=>Pa(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(MS.setTime(+a),BS.setTime(+s),t(MS),t(BS),Math.floor(r(MS,BS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const c2=Pa(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);c2.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Pa(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):c2);c2.range;const Kc=1e3,_l=Kc*60,Yc=_l*60,dd=Yc*24,RN=dd*7,R8=dd*30,FS=dd*365,Nh=Pa(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Kc)},(t,e)=>(e-t)/Kc,t=>t.getUTCSeconds());Nh.range;const ON=Pa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kc)},(t,e)=>{t.setTime(+t+e*_l)},(t,e)=>(e-t)/_l,t=>t.getMinutes());ON.range;const IN=Pa(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_l)},(t,e)=>(e-t)/_l,t=>t.getUTCMinutes());IN.range;const DN=Pa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kc-t.getMinutes()*_l)},(t,e)=>{t.setTime(+t+e*Yc)},(t,e)=>(e-t)/Yc,t=>t.getHours());DN.range;const LN=Pa(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Yc)},(t,e)=>(e-t)/Yc,t=>t.getUTCHours());LN.range;const Sv=Pa(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_l)/dd,t=>t.getDate()-1);Sv.range;const Iw=Pa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/dd,t=>t.getUTCDate()-1);Iw.range;const gG=Pa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/dd,t=>Math.floor(t/dd));gG.range;function gp(t){return Pa(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*_l)/RN)}const Dw=gp(0),d2=gp(1),hwe=gp(2),pwe=gp(3),eg=gp(4),mwe=gp(5),gwe=gp(6);Dw.range;d2.range;hwe.range;pwe.range;eg.range;mwe.range;gwe.range;function yp(t){return Pa(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/RN)}const Lw=yp(0),f2=yp(1),ywe=yp(2),vwe=yp(3),tg=yp(4),bwe=yp(5),xwe=yp(6);Lw.range;f2.range;ywe.range;vwe.range;tg.range;bwe.range;xwe.range;const MN=Pa(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());MN.range;const BN=Pa(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());BN.range;const fd=Pa(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());fd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pa(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});fd.range;const hd=Pa(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());hd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pa(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});hd.range;function yG(t,e,r,n,i,a){const s=[[Nh,1,Kc],[Nh,5,5*Kc],[Nh,15,15*Kc],[Nh,30,30*Kc],[a,1,_l],[a,5,5*_l],[a,15,15*_l],[a,30,30*_l],[i,1,Yc],[i,3,3*Yc],[i,6,6*Yc],[i,12,12*Yc],[n,1,dd],[n,2,2*dd],[r,1,RN],[e,1,R8],[e,3,3*R8],[t,1,FS]];function l(d,f,p){const g=f<d;g&&([d,f]=[f,d]);const m=p&&typeof p.range=="function"?p:c(d,f,p),w=m?m.range(d,+f+1):[];return g?w.reverse():w}function c(d,f,p){const g=Math.abs(f-d)/p,m=bN(([,,_])=>_).right(s,g);if(m===s.length)return t.every(c4(d/FS,f/FS,p));if(m===0)return c2.every(Math.max(c4(d,f,p),1));const[w,S]=s[g/s[m-1][2]<s[m][2]/g?m-1:m];return w.every(S)}return[l,c]}const[wwe,_we]=yG(hd,BN,Lw,gG,LN,IN),[Awe,Swe]=yG(fd,MN,Dw,Sv,DN,ON);function US(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function VS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function E0(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Ewe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,d=T0(i),f=k0(i),p=T0(a),g=k0(a),m=T0(s),w=k0(s),S=T0(l),_=k0(l),k=T0(c),N=k0(c),P={a:ee,A:fe,b:we,B:Be,c:null,d:B8,e:B8,f:Kwe,g:i5e,G:s5e,H:Hwe,I:Gwe,j:Wwe,L:vG,m:Ywe,M:Xwe,p:Z,q,Q:V8,s:z8,S:Qwe,u:Zwe,U:Jwe,V:e5e,w:t5e,W:r5e,x:null,X:null,y:n5e,Y:a5e,Z:o5e,"%":U8},F={a:Q,A:re,b:ae,B:ye,c:null,d:F8,e:F8,f:d5e,g:w5e,G:A5e,H:l5e,I:u5e,j:c5e,L:xG,m:f5e,M:h5e,p:Te,q:Ve,Q:V8,s:z8,S:p5e,u:m5e,U:g5e,V:y5e,w:v5e,W:b5e,x:null,X:null,y:x5e,Y:_5e,Z:S5e,"%":U8},O={a:$,A:j,b:V,B:M,c:J,d:L8,e:L8,f:Vwe,g:D8,G:I8,H:M8,I:M8,j:Mwe,L:Uwe,m:Lwe,M:Bwe,p:D,q:Dwe,Q:$we,s:qwe,S:Fwe,u:Pwe,U:jwe,V:Rwe,w:Nwe,W:Owe,x:_e,X:se,y:D8,Y:I8,Z:Iwe,"%":zwe};P.x=z(r,P),P.X=z(n,P),P.c=z(e,P),F.x=z(r,F),F.X=z(n,F),F.c=z(e,F);function z(he,Ce){return function(We){var Ie=[],dt=-1,vt=0,ce=he.length,yt,Yt,Ft;for(We instanceof Date||(We=new Date(+We));++dt<ce;)he.charCodeAt(dt)===37&&(Ie.push(he.slice(vt,dt)),(Yt=O8[yt=he.charAt(++dt)])!=null?yt=he.charAt(++dt):Yt=yt==="e"?" ":"0",(Ft=Ce[yt])&&(yt=Ft(We,Yt)),Ie.push(yt),vt=dt+1);return Ie.push(he.slice(vt,dt)),Ie.join("")}}function L(he,Ce){return function(We){var Ie=E0(1900,void 0,1),dt=I(Ie,he,We+="",0),vt,ce;if(dt!=We.length)return null;if("Q"in Ie)return new Date(Ie.Q);if("s"in Ie)return new Date(Ie.s*1e3+("L"in Ie?Ie.L:0));if(Ce&&!("Z"in Ie)&&(Ie.Z=0),"p"in Ie&&(Ie.H=Ie.H%12+Ie.p*12),Ie.m===void 0&&(Ie.m="q"in Ie?Ie.q:0),"V"in Ie){if(Ie.V<1||Ie.V>53)return null;"w"in Ie||(Ie.w=1),"Z"in Ie?(vt=VS(E0(Ie.y,0,1)),ce=vt.getUTCDay(),vt=ce>4||ce===0?f2.ceil(vt):f2(vt),vt=Iw.offset(vt,(Ie.V-1)*7),Ie.y=vt.getUTCFullYear(),Ie.m=vt.getUTCMonth(),Ie.d=vt.getUTCDate()+(Ie.w+6)%7):(vt=US(E0(Ie.y,0,1)),ce=vt.getDay(),vt=ce>4||ce===0?d2.ceil(vt):d2(vt),vt=Sv.offset(vt,(Ie.V-1)*7),Ie.y=vt.getFullYear(),Ie.m=vt.getMonth(),Ie.d=vt.getDate()+(Ie.w+6)%7)}else("W"in Ie||"U"in Ie)&&("w"in Ie||(Ie.w="u"in Ie?Ie.u%7:"W"in Ie?1:0),ce="Z"in Ie?VS(E0(Ie.y,0,1)).getUTCDay():US(E0(Ie.y,0,1)).getDay(),Ie.m=0,Ie.d="W"in Ie?(Ie.w+6)%7+Ie.W*7-(ce+5)%7:Ie.w+Ie.U*7-(ce+6)%7);return"Z"in Ie?(Ie.H+=Ie.Z/100|0,Ie.M+=Ie.Z%100,VS(Ie)):US(Ie)}}function I(he,Ce,We,Ie){for(var dt=0,vt=Ce.length,ce=We.length,yt,Yt;dt<vt;){if(Ie>=ce)return-1;if(yt=Ce.charCodeAt(dt++),yt===37){if(yt=Ce.charAt(dt++),Yt=O[yt in O8?Ce.charAt(dt++):yt],!Yt||(Ie=Yt(he,We,Ie))<0)return-1}else if(yt!=We.charCodeAt(Ie++))return-1}return Ie}function D(he,Ce,We){var Ie=d.exec(Ce.slice(We));return Ie?(he.p=f.get(Ie[0].toLowerCase()),We+Ie[0].length):-1}function $(he,Ce,We){var Ie=m.exec(Ce.slice(We));return Ie?(he.w=w.get(Ie[0].toLowerCase()),We+Ie[0].length):-1}function j(he,Ce,We){var Ie=p.exec(Ce.slice(We));return Ie?(he.w=g.get(Ie[0].toLowerCase()),We+Ie[0].length):-1}function V(he,Ce,We){var Ie=k.exec(Ce.slice(We));return Ie?(he.m=N.get(Ie[0].toLowerCase()),We+Ie[0].length):-1}function M(he,Ce,We){var Ie=S.exec(Ce.slice(We));return Ie?(he.m=_.get(Ie[0].toLowerCase()),We+Ie[0].length):-1}function J(he,Ce,We){return I(he,e,Ce,We)}function _e(he,Ce,We){return I(he,r,Ce,We)}function se(he,Ce,We){return I(he,n,Ce,We)}function ee(he){return s[he.getDay()]}function fe(he){return a[he.getDay()]}function we(he){return c[he.getMonth()]}function Be(he){return l[he.getMonth()]}function Z(he){return i[+(he.getHours()>=12)]}function q(he){return 1+~~(he.getMonth()/3)}function Q(he){return s[he.getUTCDay()]}function re(he){return a[he.getUTCDay()]}function ae(he){return c[he.getUTCMonth()]}function ye(he){return l[he.getUTCMonth()]}function Te(he){return i[+(he.getUTCHours()>=12)]}function Ve(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Ce=z(he+="",P);return Ce.toString=function(){return he},Ce},parse:function(he){var Ce=L(he+="",!1);return Ce.toString=function(){return he},Ce},utcFormat:function(he){var Ce=z(he+="",F);return Ce.toString=function(){return he},Ce},utcParse:function(he){var Ce=L(he+="",!0);return Ce.toString=function(){return he},Ce}}}var O8={"-":"",_:" ",0:"0"},Qa=/^\s*\d+/,Twe=/^%/,kwe=/[\\^$*+?|[\]().{}]/g;function dn(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Cwe(t){return t.replace(kwe,"\\$&")}function T0(t){return new RegExp("^(?:"+t.map(Cwe).join("|")+")","i")}function k0(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Nwe(t,e,r){var n=Qa.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Pwe(t,e,r){var n=Qa.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function jwe(t,e,r){var n=Qa.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Rwe(t,e,r){var n=Qa.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Owe(t,e,r){var n=Qa.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function I8(t,e,r){var n=Qa.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function D8(t,e,r){var n=Qa.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Iwe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Dwe(t,e,r){var n=Qa.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Lwe(t,e,r){var n=Qa.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function L8(t,e,r){var n=Qa.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Mwe(t,e,r){var n=Qa.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function M8(t,e,r){var n=Qa.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Bwe(t,e,r){var n=Qa.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Fwe(t,e,r){var n=Qa.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Uwe(t,e,r){var n=Qa.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Vwe(t,e,r){var n=Qa.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zwe(t,e,r){var n=Twe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function $we(t,e,r){var n=Qa.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function qwe(t,e,r){var n=Qa.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function B8(t,e){return dn(t.getDate(),e,2)}function Hwe(t,e){return dn(t.getHours(),e,2)}function Gwe(t,e){return dn(t.getHours()%12||12,e,2)}function Wwe(t,e){return dn(1+Sv.count(fd(t),t),e,3)}function vG(t,e){return dn(t.getMilliseconds(),e,3)}function Kwe(t,e){return vG(t,e)+"000"}function Ywe(t,e){return dn(t.getMonth()+1,e,2)}function Xwe(t,e){return dn(t.getMinutes(),e,2)}function Qwe(t,e){return dn(t.getSeconds(),e,2)}function Zwe(t){var e=t.getDay();return e===0?7:e}function Jwe(t,e){return dn(Dw.count(fd(t)-1,t),e,2)}function bG(t){var e=t.getDay();return e>=4||e===0?eg(t):eg.ceil(t)}function e5e(t,e){return t=bG(t),dn(eg.count(fd(t),t)+(fd(t).getDay()===4),e,2)}function t5e(t){return t.getDay()}function r5e(t,e){return dn(d2.count(fd(t)-1,t),e,2)}function n5e(t,e){return dn(t.getFullYear()%100,e,2)}function i5e(t,e){return t=bG(t),dn(t.getFullYear()%100,e,2)}function a5e(t,e){return dn(t.getFullYear()%1e4,e,4)}function s5e(t,e){var r=t.getDay();return t=r>=4||r===0?eg(t):eg.ceil(t),dn(t.getFullYear()%1e4,e,4)}function o5e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dn(e/60|0,"0",2)+dn(e%60,"0",2)}function F8(t,e){return dn(t.getUTCDate(),e,2)}function l5e(t,e){return dn(t.getUTCHours(),e,2)}function u5e(t,e){return dn(t.getUTCHours()%12||12,e,2)}function c5e(t,e){return dn(1+Iw.count(hd(t),t),e,3)}function xG(t,e){return dn(t.getUTCMilliseconds(),e,3)}function d5e(t,e){return xG(t,e)+"000"}function f5e(t,e){return dn(t.getUTCMonth()+1,e,2)}function h5e(t,e){return dn(t.getUTCMinutes(),e,2)}function p5e(t,e){return dn(t.getUTCSeconds(),e,2)}function m5e(t){var e=t.getUTCDay();return e===0?7:e}function g5e(t,e){return dn(Lw.count(hd(t)-1,t),e,2)}function wG(t){var e=t.getUTCDay();return e>=4||e===0?tg(t):tg.ceil(t)}function y5e(t,e){return t=wG(t),dn(tg.count(hd(t),t)+(hd(t).getUTCDay()===4),e,2)}function v5e(t){return t.getUTCDay()}function b5e(t,e){return dn(f2.count(hd(t)-1,t),e,2)}function x5e(t,e){return dn(t.getUTCFullYear()%100,e,2)}function w5e(t,e){return t=wG(t),dn(t.getUTCFullYear()%100,e,2)}function _5e(t,e){return dn(t.getUTCFullYear()%1e4,e,4)}function A5e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?tg(t):tg.ceil(t),dn(t.getUTCFullYear()%1e4,e,4)}function S5e(){return"+0000"}function U8(){return"%"}function V8(t){return+t}function z8(t){return Math.floor(+t/1e3)}var tm,_G,AG;E5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function E5e(t){return tm=Ewe(t),_G=tm.format,tm.parse,AG=tm.utcFormat,tm.utcParse,tm}function T5e(t){return new Date(t)}function k5e(t){return t instanceof Date?+t:+new Date(+t)}function FN(t,e,r,n,i,a,s,l,c,d){var f=EN(),p=f.invert,g=f.domain,m=d(".%L"),w=d(":%S"),S=d("%I:%M"),_=d("%I %p"),k=d("%a %d"),N=d("%b %d"),P=d("%B"),F=d("%Y");function O(z){return(c(z)<z?m:l(z)<z?w:s(z)<z?S:a(z)<z?_:n(z)<z?i(z)<z?k:N:r(z)<z?P:F)(z)}return f.invert=function(z){return new Date(p(z))},f.domain=function(z){return arguments.length?g(Array.from(z,k5e)):g().map(T5e)},f.ticks=function(z){var L=g();return t(L[0],L[L.length-1],z??10)},f.tickFormat=function(z,L){return L==null?O:d(L)},f.nice=function(z){var L=g();return(!z||typeof z.range!="function")&&(z=e(L[0],L[L.length-1],z??10)),z?g(uG(L,z)):f},f.copy=function(){return Av(f,FN(t,e,r,n,i,a,s,l,c,d))},f}function C5e(){return Pl.apply(FN(Awe,Swe,fd,MN,Dw,Sv,DN,ON,Nh,_G).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function N5e(){return Pl.apply(FN(wwe,_we,hd,BN,Lw,Iw,LN,IN,Nh,AG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mw(){var t=0,e=1,r,n,i,a,s=Ys,l=!1,c;function d(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(s=p,d):s};function f(p){return function(g){var m,w;return arguments.length?([m,w]=g,s=p(m,w),d):[s(0),s(1)]}}return d.range=f(_g),d.rangeRound=f(SN),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return a=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),d}}function Gf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function SG(){var t=Hf(Mw()(Ys));return t.copy=function(){return Gf(t,SG())},_d.apply(t,arguments)}function EG(){var t=CN(Mw()).domain([1,10]);return t.copy=function(){return Gf(t,EG()).base(t.base())},_d.apply(t,arguments)}function TG(){var t=NN(Mw());return t.copy=function(){return Gf(t,TG()).constant(t.constant())},_d.apply(t,arguments)}function UN(){var t=PN(Mw());return t.copy=function(){return Gf(t,UN()).exponent(t.exponent())},_d.apply(t,arguments)}function P5e(){return UN.apply(null,arguments).exponent(.5)}function kG(){var t=[],e=Ys;function r(n){if(n!=null&&!isNaN(n=+n))return e((wv(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xf),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>m2e(t,a/n))},r.copy=function(){return kG(e).domain(t)},_d.apply(r,arguments)}function Bw(){var t=0,e=.5,r=1,n=1,i,a,s,l,c,d=Ys,f,p=!1,g;function m(S){return isNaN(S=+S)?g:(S=.5+((S=+f(S))-a)*(n*S<n*a?l:c),d(p?Math.max(0,Math.min(1,S)):S))}m.domain=function(S){return arguments.length?([t,e,r]=S,i=f(t=+t),a=f(e=+e),s=f(r=+r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m):[t,e,r]},m.clamp=function(S){return arguments.length?(p=!!S,m):p},m.interpolator=function(S){return arguments.length?(d=S,m):d};function w(S){return function(_){var k,N,P;return arguments.length?([k,N,P]=_,d=z2e(S,[k,N,P]),m):[d(0),d(.5),d(1)]}}return m.range=w(_g),m.rangeRound=w(SN),m.unknown=function(S){return arguments.length?(g=S,m):g},function(S){return f=S,i=S(t),a=S(e),s=S(r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function CG(){var t=Hf(Bw()(Ys));return t.copy=function(){return Gf(t,CG())},_d.apply(t,arguments)}function NG(){var t=CN(Bw()).domain([.1,1,10]);return t.copy=function(){return Gf(t,NG()).base(t.base())},_d.apply(t,arguments)}function PG(){var t=NN(Bw());return t.copy=function(){return Gf(t,PG()).constant(t.constant())},_d.apply(t,arguments)}function VN(){var t=PN(Bw());return t.copy=function(){return Gf(t,VN()).exponent(t.exponent())},_d.apply(t,arguments)}function j5e(){return VN.apply(null,arguments).exponent(.5)}const M0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wN,scaleDiverging:CG,scaleDivergingLog:NG,scaleDivergingPow:VN,scaleDivergingSqrt:j5e,scaleDivergingSymlog:PG,scaleIdentity:lG,scaleImplicit:d4,scaleLinear:oG,scaleLog:cG,scaleOrdinal:xN,scalePoint:v2e,scalePow:jN,scaleQuantile:hG,scaleQuantize:pG,scaleRadial:fG,scaleSequential:SG,scaleSequentialLog:EG,scaleSequentialPow:UN,scaleSequentialQuantile:kG,scaleSequentialSqrt:P5e,scaleSequentialSymlog:TG,scaleSqrt:dwe,scaleSymlog:dG,scaleThreshold:mG,scaleTime:C5e,scaleUtc:N5e,tickFormat:sG},Symbol.toStringTag,{value:"Module"}));var Wf=t=>t.chartData,zN=He([Wf],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Ev=(t,e,r,n)=>n?zN(t):Wf(t);function If(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(ai(e)&&ai(r))return!0}return!1}function $8(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function jG(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(ai(r))i=r;else if(typeof r=="function")return;if(ai(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(If(s))return s}}function R5e(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(If(n))return $8(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,l;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Bt(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e?.[0]))}catch{}else if(typeof i=="string"&&yM.test(i)){var c=yM.exec(i);if(c==null||e==null)s=void 0;else{var d=+c[1];s=e[0]-d}}else s=e?.[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Bt(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[1]))}catch{}else if(typeof a=="string"&&vM.test(a)){var f=vM.exec(a);if(f==null||e==null)l=void 0;else{var p=+f[1];l=e[1]+p}}else l=e?.[1];var g=[s,l];if(If(g))return e==null?g:$8(g,e,r)}}}var Ag=1e9,O5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qN,yi=!0,Nl="[DecimalError] ",zh=Nl+"Invalid argument: ",$N=Nl+"Exponent out of range: ",Sg=Math.floor,wh=Math.pow,I5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$o,Ha=1e7,Jn=7,RG=9007199254740991,h2=Sg(RG/Jn),Wt={};Wt.absoluteValue=Wt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Wt.comparedTo=Wt.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Wt.decimalPlaces=Wt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Jn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Wt.dividedBy=Wt.div=function(t){return Jc(this,new this.constructor(t))};Wt.dividedToIntegerBy=Wt.idiv=function(t){var e=this,r=e.constructor;return Vn(Jc(e,new r(t),0,1),r.precision)};Wt.equals=Wt.eq=function(t){return!this.cmp(t)};Wt.exponent=function(){return ma(this)};Wt.greaterThan=Wt.gt=function(t){return this.cmp(t)>0};Wt.greaterThanOrEqualTo=Wt.gte=function(t){return this.cmp(t)>=0};Wt.isInteger=Wt.isint=function(){return this.e>this.d.length-2};Wt.isNegative=Wt.isneg=function(){return this.s<0};Wt.isPositive=Wt.ispos=function(){return this.s>0};Wt.isZero=function(){return this.s===0};Wt.lessThan=Wt.lt=function(t){return this.cmp(t)<0};Wt.lessThanOrEqualTo=Wt.lte=function(t){return this.cmp(t)<1};Wt.logarithm=Wt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq($o))throw Error(Nl+"NaN");if(r.s<1)throw Error(Nl+(r.s?"NaN":"-Infinity"));return r.eq($o)?new n(0):(yi=!1,e=Jc(Oy(r,a),Oy(t,a),a),yi=!0,Vn(e,i))};Wt.minus=Wt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?DG(e,t):OG(e,(t.s=-t.s,t))};Wt.modulo=Wt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Nl+"NaN");return r.s?(yi=!1,e=Jc(r,t,0,1).times(t),yi=!0,r.minus(e)):Vn(new n(r),i)};Wt.naturalExponential=Wt.exp=function(){return IG(this)};Wt.naturalLogarithm=Wt.ln=function(){return Oy(this)};Wt.negated=Wt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Wt.plus=Wt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?OG(e,t):DG(e,(t.s=-t.s,t))};Wt.precision=Wt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(zh+t);if(e=ma(i)+1,n=i.d.length-1,r=n*Jn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Wt.squareRoot=Wt.sqrt=function(){var t,e,r,n,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Nl+"NaN")}for(t=ma(l),yi=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Gu(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sg((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Jc(l,a,s+2)).times(.5),Gu(a.d).slice(0,s)===(e=Gu(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Vn(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;s+=4}return yi=!0,Vn(n,r)};Wt.times=Wt.mul=function(t){var e,r,n,i,a,s,l,c,d,f=this,p=f.constructor,g=f.d,m=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,r=f.e+t.e,c=g.length,d=m.length,c<d&&(a=g,g=m,m=a,s=c,c=d,d=s),a=[],s=c+d,n=s;n--;)a.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+m[n]*g[i-n-1]+e,a[i--]=l%Ha|0,e=l/Ha|0;a[i]=(a[i]+e)%Ha|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,yi?Vn(t,p.precision):t};Wt.toDecimalPlaces=Wt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(sc(t,0,Ag),e===void 0?e=n.rounding:sc(e,0,8),Vn(r,t+ma(r)+1,e))};Wt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=np(n,!0):(sc(t,0,Ag),e===void 0?e=i.rounding:sc(e,0,8),n=Vn(new i(n),t+1,e),r=np(n,!0,t+1)),r};Wt.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?np(i):(sc(t,0,Ag),e===void 0?e=a.rounding:sc(e,0,8),n=Vn(new a(i),t+ma(i)+1,e),r=np(n.abs(),!1,t+ma(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Wt.toInteger=Wt.toint=function(){var t=this,e=t.constructor;return Vn(new e(t),ma(t)+1,e.rounding)};Wt.toNumber=function(){return+this};Wt.toPower=Wt.pow=function(t){var e,r,n,i,a,s,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c($o);if(l=new c(l),!l.s){if(t.s<1)throw Error(Nl+"Infinity");return l}if(l.eq($o))return l;if(n=c.precision,t.eq($o))return Vn(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=l.s,s){if((r=f<0?-f:f)<=RG){for(i=new c($o),e=Math.ceil(n/Jn+4),yi=!1;r%2&&(i=i.times(l),H8(i.d,e)),r=Sg(r/2),r!==0;)l=l.times(l),H8(l.d,e);return yi=!0,t.s<0?new c($o).div(i):Vn(i,n)}}else if(a<0)throw Error(Nl+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,yi=!1,i=t.times(Oy(l,n+d)),yi=!0,i=IG(i),i.s=a,i};Wt.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=ma(i),n=np(i,r<=a.toExpNeg||r>=a.toExpPos)):(sc(t,1,Ag),e===void 0?e=a.rounding:sc(e,0,8),i=Vn(new a(i),t,e),r=ma(i),n=np(i,t<=r||r<=a.toExpNeg,t)),n};Wt.toSignificantDigits=Wt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(sc(t,1,Ag),e===void 0?e=n.rounding:sc(e,0,8)),Vn(new n(r),t,e)};Wt.toString=Wt.valueOf=Wt.val=Wt.toJSON=Wt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ma(t),r=t.constructor;return np(t,e<=r.toExpNeg||e>=r.toExpPos)};function OG(t,e){var r,n,i,a,s,l,c,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),yi?Vn(e,p):e;if(c=t.d,d=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,l=d.length):(n=d,i=s,l=c.length),s=Math.ceil(p/Jn),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/Ha|0,c[a]%=Ha;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,yi?Vn(e,p):e}function sc(t,e,r){if(t!==~~t||t<e||t>r)throw Error(zh+t)}function Gu(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Jn-n.length,r&&(a+=sf(r)),a+=n;s=t[e],n=s+"",r=Jn-n.length,r&&(a+=sf(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Jc=(function(){function t(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%Ha|0,s=a/Ha|0;return s&&n.unshift(s),n}function e(n,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ha+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,c,d,f,p,g,m,w,S,_,k,N,P,F,O,z,L,I,D=n.constructor,$=n.s==i.s?1:-1,j=n.d,V=i.d;if(!n.s)return new D(n);if(!i.s)throw Error(Nl+"Division by zero");for(c=n.e-i.e,L=V.length,O=j.length,m=new D($),w=m.d=[],d=0;V[d]==(j[d]||0);)++d;if(V[d]>(j[d]||0)&&--c,a==null?N=a=D.precision:s?N=a+(ma(n)-ma(i))+1:N=a,N<0)return new D(0);if(N=N/Jn+2|0,d=0,L==1)for(f=0,V=V[0],N++;(d<O||f)&&N--;d++)P=f*Ha+(j[d]||0),w[d]=P/V|0,f=P%V|0;else{for(f=Ha/(V[0]+1)|0,f>1&&(V=t(V,f),j=t(j,f),L=V.length,O=j.length),F=L,S=j.slice(0,L),_=S.length;_<L;)S[_++]=0;I=V.slice(),I.unshift(0),z=V[0],V[1]>=Ha/2&&++z;do f=0,l=e(V,S,L,_),l<0?(k=S[0],L!=_&&(k=k*Ha+(S[1]||0)),f=k/z|0,f>1?(f>=Ha&&(f=Ha-1),p=t(V,f),g=p.length,_=S.length,l=e(p,S,g,_),l==1&&(f--,r(p,L<g?I:V,g))):(f==0&&(l=f=1),p=V.slice()),g=p.length,g<_&&p.unshift(0),r(S,p,_),l==-1&&(_=S.length,l=e(V,S,L,_),l<1&&(f++,r(S,L<_?I:V,_))),_=S.length):l===0&&(f++,S=[0]),w[d++]=f,l&&S[0]?S[_++]=j[F]||0:(S=[j[F]],_=1);while((F++<O||S[0]!==void 0)&&N--)}return w[0]||w.shift(),m.e=c,Vn(m,s?a+ma(m)+1:a)}})();function IG(t,e){var r,n,i,a,s,l,c=0,d=0,f=t.constructor,p=f.precision;if(ma(t)>16)throw Error($N+ma(t));if(!t.s)return new f($o);for(yi=!1,l=p,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(n=Math.log(wh(2,d))/Math.LN10*2+5|0,l+=n,r=i=a=new f($o),f.precision=l;;){if(i=Vn(i.times(t),l),r=r.times(++c),s=a.plus(Jc(i,r,l)),Gu(s.d).slice(0,l)===Gu(a.d).slice(0,l)){for(;d--;)a=Vn(a.times(a),l);return f.precision=p,e==null?(yi=!0,Vn(a,p)):a}a=s}}function ma(t){for(var e=t.e*Jn,r=t.d[0];r>=10;r/=10)e++;return e}function zS(t,e,r){if(e>t.LN10.sd())throw yi=!0,r&&(t.precision=r),Error(Nl+"LN10 precision limit exceeded");return Vn(new t(t.LN10),e)}function sf(t){for(var e="";t--;)e+="0";return e}function Oy(t,e){var r,n,i,a,s,l,c,d,f,p=1,g=10,m=t,w=m.d,S=m.constructor,_=S.precision;if(m.s<1)throw Error(Nl+(m.s?"NaN":"-Infinity"));if(m.eq($o))return new S(0);if(e==null?(yi=!1,d=_):d=e,m.eq(10))return e==null&&(yi=!0),zS(S,d);if(d+=g,S.precision=d,r=Gu(w),n=r.charAt(0),a=ma(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Gu(m.d),n=r.charAt(0),p++;a=ma(m),n>1?(m=new S("0."+r),a++):m=new S(n+"."+r.slice(1))}else return c=zS(S,d+2,_).times(a+""),m=Oy(new S(n+"."+r.slice(1)),d-g).plus(c),S.precision=_,e==null?(yi=!0,Vn(m,_)):m;for(l=s=m=Jc(m.minus($o),m.plus($o),d),f=Vn(m.times(m),d),i=3;;){if(s=Vn(s.times(f),d),c=l.plus(Jc(s,new S(i),d)),Gu(c.d).slice(0,d)===Gu(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(zS(S,d+2,_).times(a+""))),l=Jc(l,new S(p),d),S.precision=_,e==null?(yi=!0,Vn(l,_)):l;l=c,i+=2}}function q8(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Sg(r/Jn),t.d=[],n=(r+1)%Jn,r<0&&(n+=Jn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Jn;n<i;)t.d.push(+e.slice(n,n+=Jn));e=e.slice(n),n=Jn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),yi&&(t.e>h2||t.e<-h2))throw Error($N+r)}else t.s=0,t.e=0,t.d=[0];return t}function Vn(t,e,r){var n,i,a,s,l,c,d,f,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Jn,i=e,d=p[f=0];else{if(f=Math.ceil((n+1)/Jn),a=p.length,f>=a)return t;for(d=a=p[f],s=1;a>=10;a/=10)s++;n%=Jn,i=n-Jn+s}if(r!==void 0&&(a=wh(10,s-i-1),l=d/a%10|0,c=e<0||p[f+1]!==void 0||d%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?d/wh(10,s-i):0:p[f-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(a=ma(t),p.length=1,e=e-a-1,p[0]=wh(10,(Jn-e%Jn)%Jn),t.e=Sg(-e/Jn)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=f,a=1,f--):(p.length=f+1,a=wh(10,Jn-n),p[f]=i>0?(d/wh(10,s-i)%wh(10,i)|0)*a:0),c)for(;;)if(f==0){(p[0]+=a)==Ha&&(p[0]=1,++t.e);break}else{if(p[f]+=a,p[f]!=Ha)break;p[f--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(yi&&(t.e>h2||t.e<-h2))throw Error($N+ma(t));return t}function DG(t,e){var r,n,i,a,s,l,c,d,f,p,g=t.constructor,m=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),yi?Vn(e,m):e;if(c=t.d,p=e.d,n=e.e,d=t.e,c=c.slice(),s=d-n,s){for(f=s<0,f?(r=c,s=-s,l=p.length):(r=p,n=d,l=c.length),i=Math.max(Math.ceil(m/Jn),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}s=0}for(f&&(r=c,c=p,p=r,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Ha-1;--c[a],c[i]+=Ha}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,yi?Vn(e,m):e):new g(0)}function np(t,e,r){var n,i=ma(t),a=Gu(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+sf(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+sf(-i-1)+a,r&&(n=r-s)>0&&(a+=sf(n))):i>=s?(a+=sf(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+sf(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=sf(n))),t.s<0?"-"+a:a}function H8(t,e){if(t.length>e)return t.length=e,!0}function LG(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(zh+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return q8(s,a.toString())}else if(typeof a!="string")throw Error(zh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,I5e.test(a))q8(s,a);else throw Error(zh+a)}if(i.prototype=Wt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=LG,i.config=i.set=D5e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function D5e(t){if(!t||typeof t!="object")throw Error(Nl+"Object expected");var e,r,n,i=["precision",1,Ag,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Sg(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(zh+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zh+r+": "+n);return this}var qN=LG(O5e);$o=new qN(1);const Tn=qN;var L5e=t=>t,MG={},BG=t=>t===MG,G8=t=>function e(){return arguments.length===0||arguments.length===1&&BG(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},FG=(t,e)=>t===1?e:G8(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==MG).length;return a>=t?e(...n):FG(t-a,G8(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=n.map(f=>BG(f)?l.shift():f);return e(...d,...l)}))}),M5e=t=>FG(t.length,t),m4=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},B5e=M5e((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),F5e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return L5e;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((l,c)=>c(l),a(...arguments))}},g4=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function UG(t){var e;return t===0?e=1:e=Math.floor(new Tn(t).abs().log(10).toNumber())+1,e}function VG(t,e,r){for(var n=new Tn(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var zG=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},$G=(t,e,r)=>{if(t.lte(0))return new Tn(0);var n=UG(t.toNumber()),i=new Tn(10).pow(n),a=t.div(i),s=n!==1?.05:.1,l=new Tn(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return e?new Tn(c.toNumber()):new Tn(Math.ceil(c.toNumber()))},U5e=(t,e,r)=>{var n=new Tn(1),i=new Tn(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Tn(10).pow(UG(t)-1),i=new Tn(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Tn(Math.floor(t)))}else t===0?i=new Tn(Math.floor((e-1)/2)):r||(i=new Tn(Math.floor(t)));var s=Math.floor((e-1)/2),l=F5e(B5e(c=>i.add(new Tn(c-s).mul(n)).toNumber()),m4);return l(0,e)},qG=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Tn(0),tickMin:new Tn(0),tickMax:new Tn(0)};var s=$G(new Tn(r).sub(e).div(n-1),i,a),l;e<=0&&r>=0?l=new Tn(0):(l=new Tn(e).add(r).div(2),l=l.sub(new Tn(l).mod(s)));var c=Math.ceil(l.sub(e).div(s).toNumber()),d=Math.ceil(new Tn(r).sub(l).div(s).toNumber()),f=c+d+1;return f>n?qG(e,r,n,i,a+1):(f<n&&(d=r>0?d+(n-f):d,c=r>0?c:c+(n-f)),{step:s,tickMin:l.sub(new Tn(c).mul(s)),tickMax:l.add(new Tn(d).mul(s))})},V5e=function(e){var[r,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[l,c]=zG([r,n]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...m4(0,i-1).map(()=>1/0)]:[...m4(0,i-1).map(()=>-1/0),c];return r>n?g4(d):d}if(l===c)return U5e(l,i,a);var{step:f,tickMin:p,tickMax:g}=qG(l,c,s,a,0),m=VG(p,g.add(new Tn(.1).mul(f)),f);return r>n?g4(m):m},z5e=function(e,r){var[n,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=zG([n,i]);if(s===-1/0||l===1/0)return[n,i];if(s===l)return[s];var c=Math.max(r,2),d=$G(new Tn(l).sub(s).div(c-1),a,0),f=[...VG(new Tn(s),new Tn(l),d),l];return a===!1&&(f=f.map(p=>Math.round(p))),n>i?g4(f):f},HG=t=>t.rootProps.maxBarSize,$5e=t=>t.rootProps.barGap,GG=t=>t.rootProps.barCategoryGap,q5e=t=>t.rootProps.barSize,Tv=t=>t.rootProps.stackOffset,WG=t=>t.rootProps.reverseStackOrder,HN=t=>t.options.chartName,GN=t=>t.rootProps.syncId,KG=t=>t.rootProps.syncMethod,WN=t=>t.options.eventEmitter,H5e=t=>t.rootProps.baseValue,ra={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},qc={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},zo={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Fw=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},G5e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:qc.angleAxisId,includeHidden:!1,name:void 0,reversed:qc.reversed,scale:qc.scale,tick:qc.tick,tickCount:void 0,ticks:void 0,type:qc.type,unit:void 0},W5e={allowDataOverflow:zo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zo.scale,tick:zo.tick,tickCount:zo.tickCount,ticks:void 0,type:zo.type,unit:void 0},K5e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:qc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qc.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qc.scale,tick:qc.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Y5e={allowDataOverflow:zo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zo.scale,tick:zo.tick,tickCount:zo.tickCount,ticks:void 0,type:"category",unit:void 0},KN=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?K5e:G5e,YN=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Y5e:W5e,Uw=t=>t.polarOptions,XN=He([xd,wd,Na],GH),YG=He([Uw,XN],(t,e)=>{if(t!=null)return Rs(t.innerRadius,e,0)}),XG=He([Uw,XN],(t,e)=>{if(t!=null)return Rs(t.outerRadius,e,e*.8)}),X5e=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},QG=He([Uw],X5e);He([KN,QG],Fw);var ZG=He([XN,YG,XG],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});He([YN,ZG],Fw);var JG=He([qr,Uw,YG,XG,xd,wd],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:s,cy:l,startAngle:c,endAngle:d}=e;return{cx:Rs(s,i,i/2),cy:Rs(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),vi=(t,e)=>e,kv=(t,e,r)=>r;function Vw(t){return t?.id}function eW(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return t.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var f=Vw(l);d.forEach((p,g)=>{var m=a==null||i?g:String(Cn(p,a,null)),w=Cn(p,l.dataKey,0),S;s.has(m)?S=s.get(m):S={},Object.assign(S,{[f]:w}),s.set(m,S)})}}),Array.from(s.values())}function zw(t){return t.stackId!=null&&t.dataKey!=null}var $w=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function qw(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Q5e(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var ja=t=>{var e=qr(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Eg=t=>t.tooltip.settings.axisId;function W8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(r),!0).forEach(function(n){Z5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z5e(t,e,r){return(e=J5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J5e(t){var e=e_e(t,"string");return typeof e=="symbol"?e:e+""}function e_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y4=[0,"auto"],za={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},tW=(t,e)=>t.cartesianAxis.xAxis[e],Ad=(t,e)=>{var r=tW(t,e);return r??za},$a={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:y4,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:bv},rW=(t,e)=>t.cartesianAxis.yAxis[e],Sd=(t,e)=>{var r=rW(t,e);return r??$a},t_e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},QN=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??t_e},Ni=(t,e,r)=>{switch(e){case"xAxis":return Ad(t,r);case"yAxis":return Sd(t,r);case"zAxis":return QN(t,r);case"angleAxis":return KN(t,r);case"radiusAxis":return YN(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},r_e=(t,e,r)=>{switch(e){case"xAxis":return Ad(t,r);case"yAxis":return Sd(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Cv=(t,e,r)=>{switch(e){case"xAxis":return Ad(t,r);case"yAxis":return Sd(t,r);case"angleAxis":return KN(t,r);case"radiusAxis":return YN(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},nW=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function ZN(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var Nv=t=>t.graphicalItems.cartesianItems,n_e=He([vi,kv],ZN),JN=(t,e,r)=>t.filter(r).filter(n=>e?.includeHidden===!0?!0:!n.hide),Pv=He([Nv,Ni,n_e],JN,{memoizeOptions:{resultEqualityCheck:qw}}),iW=He([Pv],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(zw)),aW=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),i_e=He([Pv],aW),eP=t=>t.map(e=>e.data).filter(Boolean).flat(1),a_e=He([Pv],eP,{memoizeOptions:{resultEqualityCheck:qw}}),tP=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},rP=He([a_e,Ev],tP),nP=(t,e,r)=>e?.dataKey!=null?t.map(n=>({value:Cn(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:Cn(i,n)}))):t.map(n=>({value:n})),Hw=He([rP,Ni,Pv],nP);function sW(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Kb(t){if(ic(t)||t instanceof Date){var e=Number(t);if(ai(e))return e}}function K8(t){if(Array.isArray(t)){var e=[Kb(t[0]),Kb(t[1])];return If(e)?e:void 0}var r=Kb(t);if(r!=null)return[r,r]}function pd(t){return t.map(Kb).filter(J0e)}function s_e(t,e,r){return!r||typeof e!="number"||kl(e)?[]:r.length?pd(r.flatMap(n=>{var i=Cn(t,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!ai(a)||!ai(s)))return[e-a,e+s]})):[]}var Ra=t=>{var e=ja(t),r=Eg(t);return Cv(t,e,r)},jv=He([Ra],t=>t?.dataKey),o_e=He([iW,Ev,Ra],eW),oW=(t,e,r,n)=>{var i={},a=e.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[l,c]=s,d=n?[...c].reverse():c,f=d.map(Vw);return[l,{stackedData:T1e(t,f,r),graphicalItems:d}]}))},Iy=He([o_e,iW,Tv,WG],oW),lW=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(n==null&&r!=="zAxis"){var s=P1e(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},l_e=He([Ni],t=>t.allowDataOverflow),iP=t=>{var e;if(t==null||!("domain"in t))return y4;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=pd(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:y4},aP=He([Ni],iP),sP=He([aP,l_e],jG),u_e=He([Iy,Wf,vi,sP],lW,{memoizeOptions:{resultEqualityCheck:$w}}),Gw=t=>t.errorBars,c_e=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>sW(r,n)),m2=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},oP=(t,e,r,n,i)=>{var a,s;if(r.length>0&&t.forEach(l=>{r.forEach(c=>{var d,f,p=(d=n[c.id])===null||d===void 0?void 0:d.filter(k=>sW(i,k)),g=Cn(l,(f=e.dataKey)!==null&&f!==void 0?f:c.dataKey),m=s_e(l,g,p);if(m.length>=2){var w=Math.min(...m),S=Math.max(...m);(a==null||w<a)&&(a=w),(s==null||S>s)&&(s=S)}var _=K8(g);_!=null&&(a=a==null?_[0]:Math.min(a,_[0]),s=s==null?_[1]:Math.max(s,_[1]))})}),e?.dataKey!=null&&t.forEach(l=>{var c=K8(Cn(l,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),ai(a)&&ai(s))return[a,s]},d_e=He([rP,Ni,i_e,Gw,vi],oP,{memoizeOptions:{resultEqualityCheck:$w}});function f_e(t){var{value:e}=t;if(ic(e)||e instanceof Date)return e}var h_e=(t,e,r)=>{var n=t.map(f_e).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&Sq(n))?XH(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},uW=t=>t.referenceElements.dots,Tg=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),p_e=He([uW,vi,kv],Tg),cW=t=>t.referenceElements.areas,m_e=He([cW,vi,kv],Tg),dW=t=>t.referenceElements.lines,g_e=He([dW,vi,kv],Tg),fW=(t,e)=>{var r=pd(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},y_e=He(p_e,vi,fW),hW=(t,e)=>{var r=pd(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},v_e=He([m_e,vi],hW);function b_e(t){var e;if(t.x!=null)return pd([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:pd(r)}function x_e(t){var e;if(t.y!=null)return pd([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:pd(r)}var pW=(t,e)=>{var r=t.flatMap(n=>e==="xAxis"?b_e(n):x_e(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},w_e=He([g_e,vi],pW),__e=He(y_e,w_e,v_e,(t,e,r)=>m2(t,r,e)),lP=(t,e,r,n,i,a,s,l)=>{if(r!=null)return r;var c=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",d=c?m2(n,a,i):m2(a,i);return R5e(e,d,t.allowDataOverflow)},A_e=He([Ni,aP,sP,u_e,d_e,__e,qr,vi],lP,{memoizeOptions:{resultEqualityCheck:$w}}),S_e=[0,1],uP=(t,e,r,n,i,a,s)=>{if(!((t==null||r==null||r.length===0)&&s===void 0)){var{dataKey:l,type:c}=t,d=dc(e,a);if(d&&l==null){var f;return XH(0,(f=r?.length)!==null&&f!==void 0?f:0)}return c==="category"?h_e(n,t,d):i==="expand"?S_e:s}},cP=He([Ni,qr,rP,Hw,Tv,vi,A_e],uP),mW=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(hv(a));return l in M0?l:"point"}}},kg=He([Ni,qr,nW,HN,vi],mW);function E_e(t){if(t!=null){if(t in M0)return M0[t]();var e="scale".concat(hv(t));if(e in M0)return M0[e]()}}function dP(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=E_e(e);if(i!=null){var a=i.domain(r).range(n);return w1e(a),a}}}var fP=(t,e,r)=>{var n=iP(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&If(t))return V5e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&If(t))return z5e(t,e.tickCount,e.allowDecimals)}},hP=He([cP,Cv,kg],fP),pP=(t,e,r,n)=>{if(n!=="angleAxis"&&t?.type==="number"&&If(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],s=e[1],l=r[r.length-1];return[Math.min(i,a),Math.max(s,l)]}return e},T_e=He([Ni,cP,hP,vi],pP),k_e=He(Hw,Ni,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(pd(t.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),gW=He(k_e,qr,GG,Na,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!ai(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Rs(r,t*a),l=t*a/2;return l-s-(l-s)/a*s}return 0}),C_e=(t,e)=>{var r=Ad(t,e);return r==null||typeof r.padding!="string"?0:gW(t,"xAxis",e,r.padding)},N_e=(t,e)=>{var r=Sd(t,e);return r==null||typeof r.padding!="string"?0:gW(t,"yAxis",e,r.padding)},P_e=He(Ad,C_e,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),j_e=He(Sd,N_e,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),R_e=He([Na,P_e,kw,Tw,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),O_e=He([Na,qr,j_e,kw,Tw,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Rv=(t,e,r,n)=>{var i;switch(e){case"xAxis":return R_e(t,r,n);case"yAxis":return O_e(t,r,n);case"zAxis":return(i=QN(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return QG(t);case"radiusAxis":return ZG(t,r);default:return}},yW=He([Ni,Rv],Fw),Cg=He([Ni,kg,T_e,yW],dP);He([Pv,Gw,vi],c_e);function vW(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Ww=(t,e)=>e,Kw=(t,e,r)=>r,I_e=He(Sw,Ww,Kw,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(vW)),D_e=He(Ew,Ww,Kw,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(vW)),bW=(t,e)=>({width:t.width,height:e.height}),L_e=(t,e)=>{var r=typeof e.width=="number"?e.width:bv;return{width:r,height:t.height}},xW=He(Na,Ad,bW),M_e=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},B_e=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},F_e=He(wd,Na,I_e,Ww,Kw,(t,e,r,n,i)=>{var a={},s;return r.forEach(l=>{var c=bW(e,l);s==null&&(s=M_e(e,n,t));var d=n==="top"&&!i||n==="bottom"&&i;a[l.id]=s-Number(d)*c.height,s+=(d?-1:1)*c.height}),a}),U_e=He(xd,Na,D_e,Ww,Kw,(t,e,r,n,i)=>{var a={},s;return r.forEach(l=>{var c=L_e(e,l);s==null&&(s=B_e(e,n,t));var d=n==="left"&&!i||n==="right"&&i;a[l.id]=s-Number(d)*c.width,s+=(d?-1:1)*c.width}),a}),V_e=(t,e)=>{var r=Ad(t,e);if(r!=null)return F_e(t,r.orientation,r.mirror)},z_e=He([Na,Ad,V_e,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),$_e=(t,e)=>{var r=Sd(t,e);if(r!=null)return U_e(t,r.orientation,r.mirror)},q_e=He([Na,Sd,$_e,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),wW=He(Na,Sd,(t,e)=>{var r=typeof e.width=="number"?e.width:bv;return{width:r,height:t.height}}),Y8=(t,e,r)=>{switch(e){case"xAxis":return xW(t,r).width;case"yAxis":return wW(t,r).height;default:return}},_W=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,l=dc(t,n),c=e.map(d=>d.value);if(s&&l&&a==="category"&&i&&Sq(c))return c}},mP=He([qr,Hw,Ni,vi],_W),AW=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=dc(t,n);if(s&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},gP=He([qr,Hw,Cv,vi],AW),X8=He([qr,r_e,kg,Cg,mP,gP,Rv,hP,vi],(t,e,r,n,i,a,s,l,c)=>{if(e!=null){var d=dc(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:s,realScaleType:r,scale:n}}}),H_e=(t,e,r,n,i,a,s,l,c)=>{if(!(e==null||n==null)){var d=dc(t,c),{type:f,ticks:p,tickCount:g}=e,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=f==="category"&&n.bandwidth?n.bandwidth()/m:0;w=c==="angleAxis"&&a!=null&&a.length>=2?Ya(a[0]-a[1])*2*w:w;var S=p||i;if(S){var _=S.map((k,N)=>{var P=s?s.indexOf(k):k;return{index:N,coordinate:n(P)+w,value:k,offset:w}});return _.filter(k=>ai(k.coordinate))}return d&&l?l.map((k,N)=>({coordinate:n(k)+w,value:k,index:N,offset:w})).filter(k=>ai(k.coordinate)):n.ticks?n.ticks(g).map(k=>({coordinate:n(k)+w,value:k,offset:w})):n.domain().map((k,N)=>({coordinate:n(k)+w,value:s?s[k]:k,index:N,offset:w}))}},SW=He([qr,Cv,kg,Cg,hP,Rv,mP,gP,vi],H_e),G_e=(t,e,r,n,i,a,s)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var l=dc(t,s),{tickCount:c}=e,d=0;return d=s==="angleAxis"&&n?.length>=2?Ya(n[0]-n[1])*2*d:d,l&&a?a.map((f,p)=>({coordinate:r(f)+d,value:f,index:p,offset:d})):r.ticks?r.ticks(c).map(f=>({coordinate:r(f)+d,value:f,offset:d})):r.domain().map((f,p)=>({coordinate:r(f)+d,value:i?i[f]:f,index:p,offset:d}))}},oc=He([qr,Cv,Cg,Rv,mP,gP,vi],G_e),lc=He(Ni,Cg,(t,e)=>{if(!(t==null||e==null))return p2(p2({},t),{},{scale:e})}),W_e=He([Ni,kg,cP,yW],dP);He((t,e,r)=>QN(t,r),W_e,(t,e)=>{if(!(t==null||e==null))return p2(p2({},t),{},{scale:e})});var K_e=He([qr,Sw,Ew],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),EW=t=>t.options.defaultTooltipEventType,TW=t=>t.options.validateTooltipEventTypes;function kW(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function yP(t,e){var r=EW(t),n=TW(t);return kW(e,r,n)}function Y_e(t){return $t(e=>yP(e,t))}var CW=(t,e)=>{var r,n=Number(e);if(!(kl(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},X_e=t=>t.tooltip.settings,ff={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Q_e={itemInteraction:{click:ff,hover:ff},axisInteraction:{click:ff,hover:ff},keyboardInteraction:ff,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},NW=ko({name:"tooltip",initialState:Q_e,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:mi()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,i=lu(t).tooltipItemPayloads.indexOf(r);i>-1&&(t.tooltipItemPayloads[i]=n)},prepare:mi()},removeTooltipEntrySettings:{reducer(t,e){var r=lu(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:mi()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Z_e,replaceTooltipEntrySettings:J_e,removeTooltipEntrySettings:eAe,setTooltipSettingsState:tAe,setActiveMouseOverItemIndex:PW,mouseLeaveItem:rAe,mouseLeaveChart:jW,setActiveClickItemIndex:nAe,setMouseOverAxisIndex:RW,setMouseClickAxisIndex:iAe,setSyncInteraction:v4,setKeyboardInteraction:b4}=NW.actions,aAe=NW.reducer;function Q8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(r),!0).forEach(function(n){sAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sAe(t,e,r){return(e=oAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oAe(t){var e=lAe(t,"string");return typeof e=="symbol"?e:e+""}function lAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uAe(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function cAe(t){return t.index!=null}var OW=(t,e,r,n)=>{if(e==null)return ff;var i=uAe(t,e,r);if(i==null)return ff;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(cAe(i)){if(a)return mb(mb({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return mb(mb({},ff),{},{coordinate:i.coordinate})};function dAe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function fAe(t,e){var r=dAe(t),n=e[0],i=e[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function hAe(t,e,r){if(r==null||e==null)return!0;var n=Cn(t,e);return n==null||!If(r)?!0:fAe(n,r)}var vP=(t,e,r,n)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!ai(a))return i;var s=0,l=1/0;e.length>0&&(l=e.length-1);var c=Math.max(s,Math.min(a,l)),d=e[c];return d==null||hAe(d,r,n)?String(c):null},IW=(t,e,r,n,i,a,s,l)=>{if(!(a==null||l==null)){var c=s[0],d=c==null?void 0:l(c.positions,a);if(d!=null)return d;var f=i?.[Number(a)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:f.coordinate}}}},DW=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Ov=t=>t.options.tooltipPayloadSearcher,Ng=t=>t.tooltip;function Z8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z8(Object(r),!0).forEach(function(n){pAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pAe(t,e,r){return(e=mAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mAe(t){var e=gAe(t,"string");return typeof e=="symbol"?e:e+""}function gAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yAe(t,e){return t??e}var LW=(t,e,r,n,i,a,s)=>{if(!(e==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:f}=r,p=[];return t.reduce((g,m)=>{var w,{dataDefinedOnItem:S,settings:_}=m,k=yAe(S,l),N=Array.isArray(k)?vH(k,d,f):k,P=(w=_?.dataKey)!==null&&w!==void 0?w:n,F=_?.nameKey,O;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&s==="axis"?O=Eq(N,n,i):O=a(N,e,c,F),Array.isArray(O))O.forEach(L=>{var I=J8(J8({},_),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});g.push(bM({tooltipEntrySettings:I,dataKey:L.dataKey,payload:L.payload,value:Cn(L.payload,L.dataKey),name:L.name}))});else{var z;g.push(bM({tooltipEntrySettings:_,dataKey:P,payload:O,value:Cn(O,P),name:(z=Cn(O,F))!==null&&z!==void 0?z:_?.name}))}return g},p)}},bP=He([Ra,qr,nW,HN,ja],mW),vAe=He([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),bAe=He([ja,Eg],ZN),Iv=He([vAe,Ra,bAe],JN,{memoizeOptions:{resultEqualityCheck:qw}}),xAe=He([Iv],t=>t.filter(zw)),wAe=He([Iv],eP,{memoizeOptions:{resultEqualityCheck:qw}}),Pg=He([wAe,Wf],tP),_Ae=He([xAe,Wf,Ra],eW),xP=He([Pg,Ra,Iv],nP),MW=He([Ra],iP),AAe=He([Ra],t=>t.allowDataOverflow),BW=He([MW,AAe],jG),SAe=He([Iv],t=>t.filter(zw)),EAe=He([_Ae,SAe,Tv,WG],oW),TAe=He([EAe,Wf,ja,BW],lW),kAe=He([Iv],aW),CAe=He([Pg,Ra,kAe,Gw,ja],oP,{memoizeOptions:{resultEqualityCheck:$w}}),NAe=He([uW,ja,Eg],Tg),PAe=He([NAe,ja],fW),jAe=He([cW,ja,Eg],Tg),RAe=He([jAe,ja],hW),OAe=He([dW,ja,Eg],Tg),IAe=He([OAe,ja],pW),DAe=He([PAe,IAe,RAe],m2),LAe=He([Ra,MW,BW,TAe,CAe,DAe,qr,ja],lP),Dv=He([Ra,qr,Pg,xP,Tv,ja,LAe],uP),MAe=He([Dv,Ra,bP],fP),BAe=He([Ra,Dv,MAe,ja],pP),FW=t=>{var e=ja(t),r=Eg(t),n=!1;return Rv(t,e,r,n)},UW=He([Ra,FW],Fw),VW=He([Ra,bP,BAe,UW],dP),FAe=He([qr,xP,Ra,ja],_W),UAe=He([qr,xP,Ra,ja],AW),VAe=(t,e,r,n,i,a,s,l)=>{if(e){var{type:c}=e,d=dc(t,l);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/f:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?Ya(i[0]-i[1])*2*p:p,d&&s?s.map((g,m)=>({coordinate:n(g)+p,value:g,index:m,offset:p})):n.domain().map((g,m)=>({coordinate:n(g)+p,value:a?a[g]:g,index:m,offset:p}))}}},Ed=He([qr,Ra,bP,VW,FW,FAe,UAe,ja],VAe),wP=He([EW,TW,X_e],(t,e,r)=>kW(r.shared,t,e)),zW=t=>t.tooltip.settings.trigger,_P=t=>t.tooltip.settings.defaultIndex,Lv=He([Ng,wP,zW,_P],OW),Df=He([Lv,Pg,jv,Dv],vP),$W=He([Ed,Df],CW),AP=He([Lv],t=>{if(t)return t.dataKey}),zAe=He([Lv],t=>{if(t)return t.graphicalItemId}),qW=He([Ng,wP,zW,_P],DW),$Ae=He([xd,wd,qr,Na,Ed,_P,qW,Ov],IW),qAe=He([Lv,$Ae],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),HAe=He([Lv],t=>t.active),GAe=He([qW,Df,Wf,jv,$W,Ov,wP],LW),WAe=He([GAe],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function e7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e7(Object(r),!0).forEach(function(n){KAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KAe(t,e,r){return(e=YAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YAe(t){var e=XAe(t,"string");return typeof e=="symbol"?e:e+""}function XAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QAe=()=>$t(Ra),ZAe=()=>{var t=QAe(),e=$t(Ed),r=$t(VW);return Of(!t||!r?void 0:t7(t7({},t),{},{scale:r}),e)};function r7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r7(Object(r),!0).forEach(function(n){JAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JAe(t,e,r){return(e=eSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eSe(t){var e=tSe(t,"string");return typeof e=="symbol"?e:e+""}function tSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rSe=(t,e,r,n)=>{var i=e.find(a=>a&&a.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},nSe=(t,e,r,n)=>{var i=e.find(d=>d&&d.index===r);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=n;return rm(rm(rm({},n),pa(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:c}=n;return rm(rm(rm({},n),pa(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function iSe(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var HW=(t,e,r,n,i)=>{var a,s=-1,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?r[c-1].coordinate:r[l-1].coordinate,f=r[c].coordinate,p=c>=l-1?r[0].coordinate:r[c+1].coordinate,g=void 0;if(Ya(f-d)!==Ya(p-f)){var m=[];if(Ya(p-f)===Ya(i[1]-i[0])){g=p;var w=f+i[1]-i[0];m[0]=Math.min(w,(w+d)/2),m[1]=Math.max(w,(w+d)/2)}else{g=d;var S=p+i[1]-i[0];m[0]=Math.min(f,(S+f)/2),m[1]=Math.max(f,(S+f)/2)}var _=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>_[0]&&t<=_[1]||t>=m[0]&&t<=m[1]){({index:s}=r[c]);break}}else{var k=Math.min(d,p),N=Math.max(d,p);if(t>(k+f)/2&&t<=(N+f)/2){({index:s}=r[c]);break}}}else if(e){for(var P=0;P<l;P++)if(P===0&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P>0&&P<l-1&&t>(e[P].coordinate+e[P-1].coordinate)/2&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P===l-1&&t>(e[P].coordinate+e[P-1].coordinate)/2){({index:s}=e[P]);break}}return s},GW=()=>$t(HN),SP=(t,e)=>e,WW=(t,e,r)=>r,EP=(t,e,r,n)=>n,aSe=He(Ed,t=>mw(t,e=>e.coordinate)),TP=He([Ng,SP,WW,EP],OW),kP=He([TP,Pg,jv,Dv],vP),sSe=(t,e,r)=>{if(e!=null){var n=Ng(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},KW=He([Ng,SP,WW,EP],DW),g2=He([xd,wd,qr,Na,Ed,EP,KW,Ov],IW),oSe=He([TP,g2],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),YW=He([Ed,kP],CW),lSe=He([KW,kP,Wf,jv,YW,Ov,SP],LW),uSe=He([TP,kP],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),cSe=(t,e,r,n,i,a,s)=>{if(!(!t||!r||!n||!i)&&iSe(t,s)){var l=j1e(t,e),c=HW(l,a,i,r,n),d=rSe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},dSe=(t,e,r,n,i,a,s)=>{if(!(!t||!n||!i||!a||!r)){var l=Kxe(t,r);if(l){var c=R1e(l,e),d=HW(c,s,a,n,i),f=nSe(e,a,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},fSe=(t,e,r,n,i,a,s,l)=>{if(!(!t||!e||!n||!i||!a))return e==="horizontal"||e==="vertical"?cSe(t,e,n,i,a,s,l):dSe(t,e,r,n,i,a,s)},hSe=He(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElementId:n.elementId}}),pSe=He(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(ra)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:Q5e}});function n7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n7(Object(r),!0).forEach(function(n){mSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mSe(t,e,r){return(e=gSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gSe(t){var e=ySe(t,"string");return typeof e=="symbol"?e:e+""}function ySe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vSe={},bSe={zIndexMap:Object.values(ra).reduce((t,e)=>i7(i7({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),vSe)},xSe=new Set(Object.values(ra));function wSe(t){return xSe.has(t)}var XW=ko({name:"zIndex",initialState:bSe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:mi()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!wSe(r)&&delete t.zIndexMap[r])},prepare:mi()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:r,elementId:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElementId=n:t.zIndexMap[r].elementId=n:t.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:mi()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElementId=void 0:t.zIndexMap[r].elementId=void 0)},prepare:mi()}}}),{registerZIndexPortal:_Se,unregisterZIndexPortal:ASe,registerZIndexPortalId:SSe,unregisterZIndexPortalId:ESe}=XW.actions,TSe=XW.reducer;function Js(t){var{zIndex:e,children:r}=t,n=cbe(),i=n&&e!==void 0&&e!==0,a=Xa(),s=Wn();E.useLayoutEffect(()=>i?(s(_Se({zIndex:e})),()=>{s(ASe({zIndex:e}))}):pv,[s,e,i]);var l=$t(d=>hSe(d,e,a));if(!i)return r;if(!l)return null;var c=document.getElementById(l);return c?op.createPortal(r,c):null}function x4(){return x4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x4.apply(null,arguments)}function a7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a7(Object(r),!0).forEach(function(n){kSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kSe(t,e,r){return(e=CSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CSe(t){var e=NSe(t,"string");return typeof e=="symbol"?e:e+""}function NSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PSe(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return E.isValidElement(e)?E.cloneElement(e,n):E.createElement(r,n)}function jSe(t){var e,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:l,cursor:c,tooltipEventType:d,chartName:f}=t,p=r,g=n,m=i;if(!c||!p||f!=="ScatterChart"&&d!=="axis")return null;var w,S,_;if(f==="ScatterChart")w=p,S=uxe,_=ra.cursorLine;else if(f==="BarChart")w=cxe(l,p,a,s),S=HH,_=ra.cursorRectangle;else if(l==="radial"&&kq(p)){var{cx:k,cy:N,radius:P,startAngle:F,endAngle:O}=WH(p);w={cx:k,cy:N,startAngle:F,endAngle:O,innerRadius:P,outerRadius:P},S=YH,_=ra.cursorLine}else w={points:Zxe(l,p,a)},S=Mm,_=ra.cursorLine;var z=typeof c=="object"&&"className"in c?c.className:void 0,L=gb(gb(gb(gb({stroke:"#ccc",pointerEvents:"none"},a),w),Jh(c)),{},{payload:g,payloadIndex:m,className:sn("recharts-tooltip-cursor",z)});return E.createElement(Js,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},E.createElement(PSe,{cursor:c,cursorComp:S,cursorProps:L}))}function RSe(t){var e=ZAe(),r=NH(),n=mp(),i=GW();return e==null||r==null||n==null||i==null?null:E.createElement(jSe,x4({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var QW=E.createContext(null),OSe=()=>E.useContext(QW),$S={exports:{}},s7;function ISe(){return s7||(s7=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function a(c,d,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,p||c,g),w=r?r+d:d;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],m]:c._events[w].push(m):(c._events[w]=m,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,m=p.length,w=new Array(m);g<m;g++)w[g]=p[g].fn;return w},l.prototype.listenerCount=function(d){var f=r?r+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,g,m,w){var S=r?r+d:d;if(!this._events[S])return!1;var _=this._events[S],k=arguments.length,N,P;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),k){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,p),!0;case 4:return _.fn.call(_.context,f,p,g),!0;case 5:return _.fn.call(_.context,f,p,g,m),!0;case 6:return _.fn.call(_.context,f,p,g,m,w),!0}for(P=1,N=new Array(k-1);P<k;P++)N[P-1]=arguments[P];_.fn.apply(_.context,N)}else{var F=_.length,O;for(P=0;P<F;P++)switch(_[P].once&&this.removeListener(d,_[P].fn,void 0,!0),k){case 1:_[P].fn.call(_[P].context);break;case 2:_[P].fn.call(_[P].context,f);break;case 3:_[P].fn.call(_[P].context,f,p);break;case 4:_[P].fn.call(_[P].context,f,p,g);break;default:if(!N)for(O=1,N=new Array(k-1);O<k;O++)N[O-1]=arguments[O];_[P].fn.apply(_[P].context,N)}}return!0},l.prototype.on=function(d,f,p){return a(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return a(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,g){var m=r?r+d:d;if(!this._events[m])return this;if(!f)return s(this,m),this;var w=this._events[m];if(w.fn)w.fn===f&&(!g||w.once)&&(!p||w.context===p)&&s(this,m);else{for(var S=0,_=[],k=w.length;S<k;S++)(w[S].fn!==f||g&&!w[S].once||p&&w[S].context!==p)&&_.push(w[S]);_.length?this._events[m]=_.length===1?_[0]:_:s(this,m)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})($S)),$S.exports}var DSe=ISe();const LSe=gd(DSe);var Dy=new LSe,w4="recharts.syncEvent.tooltip",o7="recharts.syncEvent.brush";function Yw(t,e){if(e){var r=Number.parseInt(e,10);if(!kl(r))return t?.[r]}}var MSe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ZW=ko({name:"options",initialState:MSe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),BSe=ZW.reducer,{createEventEmitter:FSe}=ZW.actions;function USe(t){return t.tooltip.syncInteraction}var VSe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},JW=ko({name:"chartData",initialState:VSe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:l7,setDataStartEndIndexes:zSe,setComputedData:aje}=JW.actions,$Se=JW.reducer,qSe=["x","y"];function u7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u7(Object(r),!0).forEach(function(n){HSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HSe(t,e,r){return(e=GSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GSe(t){var e=WSe(t,"string");return typeof e=="symbol"?e:e+""}function WSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KSe(t,e){if(t==null)return{};var r,n,i=YSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function YSe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function XSe(){var t=$t(GN),e=$t(WN),r=Wn(),n=$t(KG),i=$t(Ed),a=mp(),s=Cw(),l=$t(c=>c.rootProps.className);E.useEffect(()=>{if(t==null)return pv;var c=(d,f,p)=>{if(e!==p&&t===d){if(n==="index"){var g;if(s&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var m=f.payload.coordinate,{x:w,y:S}=m,_=KSe(m,qSe),{x:k,y:N,width:P,height:F}=f.payload.sourceViewBox,O=nm(nm({},_),{},{x:s.x+(P?(w-k)/P:0)*s.width,y:s.y+(F?(S-N)/F:0)*s.height});r(nm(nm({},f),{},{payload:nm(nm({},f.payload),{},{coordinate:O})}))}else r(f);return}if(i!=null){var z;if(typeof n=="function"){var L={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},I=n(i,L);z=i[I]}else n==="value"&&(z=i.find(se=>String(se.value)===f.payload.label));var{coordinate:D}=f.payload;if(z==null||f.payload.active===!1||D==null||s==null){r(v4({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:$,y:j}=D,V=Math.min($,s.x+s.width),M=Math.min(j,s.y+s.height),J={x:a==="horizontal"?z.coordinate:V,y:a==="horizontal"?M:z.coordinate},_e=v4({active:f.payload.active,coordinate:J,dataKey:f.payload.dataKey,index:String(z.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});r(_e)}}};return Dy.on(w4,c),()=>{Dy.off(w4,c)}},[l,r,e,t,n,i,a,s])}function QSe(){var t=$t(GN),e=$t(WN),r=Wn();E.useEffect(()=>{if(t==null)return pv;var n=(i,a,s)=>{e!==s&&t===i&&r(zSe(a))};return Dy.on(o7,n),()=>{Dy.off(o7,n)}},[r,e,t])}function ZSe(){var t=Wn();E.useEffect(()=>{t(FSe())},[t]),XSe(),QSe()}function JSe(t,e,r,n,i,a){var s=$t(m=>sSe(m,t,e)),l=$t(WN),c=$t(GN),d=$t(KG),f=$t(USe),p=f?.active,g=Cw();E.useEffect(()=>{if(!p&&c!=null&&l!=null){var m=v4({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:g,graphicalItemId:void 0});Dy.emit(w4,c,m,l)}},[p,r,s,i,n,l,c,d,a,g])}function c7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c7(Object(r),!0).forEach(function(n){eEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eEe(t,e,r){return(e=tEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tEe(t){var e=rEe(t,"string");return typeof e=="symbol"?e:e+""}function rEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nEe(t){return t.dataKey}function iEe(t,e){return E.isValidElement(t)?E.cloneElement(t,e):typeof t=="function"?E.createElement(t,e):E.createElement(zbe,e)}var f7=[],aEe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ph(t){var e,r,n=$i(t,aEe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:p,payloadUniqBy:g,position:m,reverseDirection:w,useTranslate3d:S,wrapperStyle:_,cursor:k,shared:N,trigger:P,defaultIndex:F,portal:O,axisId:z}=n,L=Wn(),I=typeof F=="number"?String(F):F;E.useEffect(()=>{L(tAe({shared:N,trigger:P,axisId:z,active:i,defaultIndex:I}))},[L,N,P,z,i,I]);var D=Cw(),$=UH(),j=Y_e(N),{activeIndex:V,isActive:M}=(e=$t(Te=>uSe(Te,j,P,I)))!==null&&e!==void 0?e:{},J=$t(Te=>lSe(Te,j,P,I)),_e=$t(Te=>YW(Te,j,P,I)),se=$t(Te=>oSe(Te,j,P,I)),ee=J,fe=OSe(),we=(r=i??M)!==null&&r!==void 0?r:!1,[Be,Z]=zq([ee,we]),q=j==="axis"?_e:void 0;JSe(j,P,se,q,V,we);var Q=O??fe;if(Q==null||D==null||j==null)return null;var re=ee??f7;we||(re=f7),d&&re.length&&(re=Mq(re.filter(Te=>Te.value!=null&&(Te.hide!==!0||n.includeHidden)),g,nEe));var ae=re.length>0,ye=E.createElement(Ybe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:f,active:we,coordinate:se,hasPayload:ae,offset:p,position:m,reverseDirection:w,useTranslate3d:S,viewBox:D,wrapperStyle:_,lastBoundingBox:Be,innerRef:Z,hasPortalFromProps:!!O},iEe(c,d7(d7({},n),{},{payload:re,label:q,active:we,activeIndex:V,coordinate:se,accessibilityLayer:$})));return E.createElement(E.Fragment,null,op.createPortal(ye,Q),we&&E.createElement(RSe,{cursor:k,tooltipEventType:j,coordinate:se,payload:re,index:V}))}var rg=t=>null;rg.displayName="Cell";function sEe(t,e,r){return(e=oEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oEe(t){var e=lEe(t,"string");return typeof e=="symbol"?e:e+""}function lEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class uEe{constructor(e){sEe(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function h7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cEe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h7(Object(r),!0).forEach(function(n){dEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dEe(t,e,r){return(e=fEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fEe(t){var e=hEe(t,"string");return typeof e=="symbol"?e:e+""}function hEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pEe={cacheSize:2e3,enableCache:!0},eK=cEe({},pEe),p7=new uEe(eK.cacheSize),mEe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},m7="recharts_measurement_span";function gEe(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var g7=(t,e)=>{try{var r=document.getElementById(m7);r||(r=document.createElement("span"),r.setAttribute("id",m7),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,mEe,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},J0=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||bg.isSsr)return{width:0,height:0};if(!eK.enableCache)return g7(e,r);var n=gEe(e,r),i=p7.get(n);if(i)return i;var a=g7(e,r);return p7.set(n,a),a},y7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yEe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vEe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bEe=Object.keys(tK),Sm="NaN";function xEe(t,e){return t*tK[e]}class wo{static parse(e){var r,[,n,i]=(r=vEe.exec(e))!==null&&r!==void 0?r:[];return new wo(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,kl(e)&&(this.unit=""),r!==""&&!yEe.test(r)&&(this.num=NaN,this.unit=""),bEe.includes(r)&&(this.num=xEe(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new wo(NaN,""):new wo(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new wo(NaN,""):new wo(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wo(NaN,""):new wo(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wo(NaN,""):new wo(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return kl(this.num)}}function rK(t){if(t.includes(Sm))return Sm;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=y7.exec(e))!==null&&r!==void 0?r:[],s=wo.parse(n??""),l=wo.parse(a??""),c=i==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return Sm;e=e.replace(y7,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,p,g]=(d=v7.exec(e))!==null&&d!==void 0?d:[],m=wo.parse(f??""),w=wo.parse(g??""),S=p==="+"?m.add(w):m.subtract(w);if(S.isNaN())return Sm;e=e.replace(v7,S.toString())}return e}var b7=/\(([^()]*)\)/;function wEe(t){for(var e=t,r;(r=b7.exec(e))!=null;){var[,n]=r;e=e.replace(b7,rK(n))}return e}function _Ee(t){var e=t.replace(/\s+/g,"");return e=wEe(e),e=rK(e),e}function AEe(t){try{return _Ee(t)}catch{return Sm}}function qS(t){var e=AEe(t.slice(5,-1));return e===Sm?"":e}var SEe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],EEe=["dx","dy","angle","className","breakAll"];function _4(){return _4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_4.apply(null,arguments)}function x7(t,e){if(t==null)return{};var r,n,i=TEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function TEe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var nK=/[ \f\n\r\t\v\u2028\u2029]+/,iK=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];ni(e)||(r?i=e.toString().split(""):i=e.toString().split(nK));var a=i.map(l=>({word:l,width:J0(l,n).width})),s=r?0:J0("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function kEe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var aK=(t,e,r,n)=>t.reduce((i,a)=>{var{word:s,width:l}=a,c=i[i.length-1];if(c&&l!=null&&(e==null||n||c.width+l+r<Number(e)))c.words.push(s),c.width+=l+r;else{var d={words:[s],width:l};i.push(d)}return i},[]),sK=t=>t.reduce((e,r)=>e.width>r.width?e:r),CEe="",w7=(t,e,r,n,i,a,s,l)=>{var c=t.slice(0,e),d=iK({breakAll:r,style:n,children:c+CEe});if(!d)return[!1,[]];var f=aK(d.wordsWithComputedWidth,a,s,l),p=f.length>i||sK(f).width>Number(a);return[p,f]},NEe=(t,e,r,n,i)=>{var{maxLines:a,children:s,style:l,breakAll:c}=t,d=Bt(a),f=String(s),p=aK(e,n,r,i);if(!d||i)return p;var g=p.length>a||sK(p).width>Number(n);if(!g)return p;for(var m=0,w=f.length-1,S=0,_;m<=w&&S<=f.length-1;){var k=Math.floor((m+w)/2),N=k-1,[P,F]=w7(f,N,c,l,a,n,r,i),[O]=w7(f,k,c,l,a,n,r,i);if(!P&&!O&&(m=k+1),P&&O&&(w=k-1),!P&&O){_=F;break}S++}return _||p},_7=t=>{var e=ni(t)?[]:t.toString().split(nK);return[{words:e,width:void 0}]},PEe=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=t;if((e||r)&&!bg.isSsr){var l,c,d=iK({breakAll:a,children:n,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;l=f,c=p}else return _7(n);return NEe({breakAll:a,children:n,maxLines:s,style:i},l,c,e,!!r)}return _7(n)},oK="#808080",jEe={angle:0,breakAll:!1,capHeight:"0.71em",fill:oK,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Xw=E.forwardRef((t,e)=>{var r=$i(t,jEe),{x:n,y:i,lineHeight:a,capHeight:s,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:f}=r,p=x7(r,SEe),g=E.useMemo(()=>PEe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:m,dy:w,angle:S,className:_,breakAll:k}=p,N=x7(p,EEe);if(!ic(n)||!ic(i)||g.length===0)return null;var P=Number(n)+(Bt(m)?m:0),F=Number(i)+(Bt(w)?w:0);if(!ai(P)||!ai(F))return null;var O;switch(f){case"start":O=qS("calc(".concat(s,")"));break;case"middle":O=qS("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:O=qS("calc(".concat(g.length-1," * -").concat(a,")"));break}var z=[];if(c){var L=g[0].width,{width:I}=p;z.push("scale(".concat(Bt(I)&&Bt(L)?I/L:1,")"))}return S&&z.push("rotate(".concat(S,", ").concat(P,", ").concat(F,")")),z.length&&(N.transform=z.join(" ")),E.createElement("text",_4({},Ds(N),{ref:e,x:P,y:F,className:sn("recharts-text",_),textAnchor:d,fill:l.includes("url")?oK:l}),g.map((D,$)=>{var j=D.words.join(k?"":" ");return E.createElement("tspan",{x:P,dy:$===0?O:a,key:"".concat(j,"-").concat($)},j)}))});Xw.displayName="Text";var REe=["labelRef"];function OEe(t,e){if(t==null)return{};var r,n,i=IEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function IEe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function A7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A7(Object(r),!0).forEach(function(n){DEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DEe(t,e,r){return(e=LEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LEe(t){var e=MEe(t,"string");return typeof e=="symbol"?e:e+""}function MEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hc.apply(null,arguments)}var lK=E.createContext(null),BEe=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:l}=t,c=E.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[e,r,n,i,a,s]);return E.createElement(lK.Provider,{value:c},l)},uK=()=>{var t=E.useContext(lK),e=Cw();return t||CH(e)},FEe=E.createContext(null),UEe=()=>{var t=E.useContext(FEe),e=$t(JG);return t||e},VEe=t=>{var{value:e,formatter:r}=t,n=ni(t.children)?e:t.children;return typeof r=="function"?r(n):n},CP=t=>t!=null&&typeof t=="function",zEe=(t,e)=>{var r=Ya(e-t),n=Math.min(Math.abs(e-t),360);return r*n},$Ee=(t,e,r,n,i)=>{var{offset:a,className:s}=t,{cx:l,cy:c,innerRadius:d,outerRadius:f,startAngle:p,endAngle:g,clockWise:m}=i,w=(d+f)/2,S=zEe(p,g),_=S>=0?1:-1,k,N;switch(e){case"insideStart":k=p+_*a,N=m;break;case"insideEnd":k=g-_*a,N=!m;break;case"end":k=g+_*a,N=m;break;default:throw new Error("Unsupported position ".concat(e))}N=S<=0?N:!N;var P=pa(l,c,w,k),F=pa(l,c,w,k+(N?1:-1)*359),O="M".concat(P.x,",").concat(P.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(N?0:1,`,
    `).concat(F.x,",").concat(F.y),z=ni(t.id)?wy("recharts-radial-line-"):t.id;return E.createElement("text",Hc({},n,{dominantBaseline:"central",className:sn("recharts-radial-bar-label",s)}),E.createElement("defs",null,E.createElement("path",{id:z,d:O})),E.createElement("textPath",{xlinkHref:"#".concat(z)},r))},qEe=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=t,d=(l+c)/2;if(r==="outside"){var{x:f,y:p}=pa(n,i,s+e,d);return{x:f,y:p,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+s)/2,{x:m,y:w}=pa(n,i,g,d);return{x:m,y:w,textAnchor:"middle",verticalAnchor:"middle"}},A4=t=>"cx"in t&&Bt(t.cx),HEe=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,a;r!=null&&!A4(r)&&(a=r);var{x:s,y:l,upperWidth:c,lowerWidth:d,height:f}=e,p=s,g=s+(c-d)/2,m=(p+g)/2,w=(c+d)/2,S=p+c/2,_=f>=0?1:-1,k=_*n,N=_>0?"end":"start",P=_>0?"start":"end",F=c>=0?1:-1,O=F*n,z=F>0?"end":"start",L=F>0?"start":"end";if(i==="top"){var I={x:p+c/2,y:l-k,textAnchor:"middle",verticalAnchor:N};return Yi(Yi({},I),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var D={x:g+d/2,y:l+f+k,textAnchor:"middle",verticalAnchor:P};return Yi(Yi({},D),a?{height:Math.max(a.y+a.height-(l+f),0),width:d}:{})}if(i==="left"){var $={x:m-O,y:l+f/2,textAnchor:z,verticalAnchor:"middle"};return Yi(Yi({},$),a?{width:Math.max($.x-a.x,0),height:f}:{})}if(i==="right"){var j={x:m+w+O,y:l+f/2,textAnchor:L,verticalAnchor:"middle"};return Yi(Yi({},j),a?{width:Math.max(a.x+a.width-j.x,0),height:f}:{})}var V=a?{width:w,height:f}:{};return i==="insideLeft"?Yi({x:m+O,y:l+f/2,textAnchor:L,verticalAnchor:"middle"},V):i==="insideRight"?Yi({x:m+w-O,y:l+f/2,textAnchor:z,verticalAnchor:"middle"},V):i==="insideTop"?Yi({x:p+c/2,y:l+k,textAnchor:"middle",verticalAnchor:P},V):i==="insideBottom"?Yi({x:g+d/2,y:l+f-k,textAnchor:"middle",verticalAnchor:N},V):i==="insideTopLeft"?Yi({x:p+O,y:l+k,textAnchor:L,verticalAnchor:P},V):i==="insideTopRight"?Yi({x:p+c-O,y:l+k,textAnchor:z,verticalAnchor:P},V):i==="insideBottomLeft"?Yi({x:g+O,y:l+f-k,textAnchor:L,verticalAnchor:N},V):i==="insideBottomRight"?Yi({x:g+d-O,y:l+f-k,textAnchor:z,verticalAnchor:N},V):i&&typeof i=="object"&&(Bt(i.x)||ud(i.x))&&(Bt(i.y)||ud(i.y))?Yi({x:s+Rs(i.x,w),y:l+Rs(i.y,f),textAnchor:"end",verticalAnchor:"end"},V):Yi({x:S,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},V)},GEe={angle:0,offset:5,zIndex:ra.label,position:"middle",textBreakAll:!1};function of(t){var e=$i(t,GEe),{viewBox:r,position:n,value:i,children:a,content:s,className:l="",textBreakAll:c,labelRef:d}=e,f=UEe(),p=uK(),g=n==="center"?p:f??p,m,w,S;if(r==null?m=g:A4(r)?m=r:m=CH(r),!m||ni(i)&&ni(a)&&!E.isValidElement(s)&&typeof s!="function")return null;var _=Yi(Yi({},e),{},{viewBox:m});if(E.isValidElement(s)){var{labelRef:k}=_,N=OEe(_,REe);return E.cloneElement(s,N)}if(typeof s=="function"){if(w=E.createElement(s,_),E.isValidElement(w))return w}else w=VEe(e);var P=Ds(e);if(A4(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return $Ee(e,n,w,P,m);S=qEe(m,e.offset,e.position)}else S=HEe(e,m);return E.createElement(Js,{zIndex:e.zIndex},E.createElement(Xw,Hc({ref:d,className:sn("recharts-label",l)},P,S,{textAnchor:kEe(P.textAnchor)?P.textAnchor:S.textAnchor,breakAll:c}),w))}of.displayName="Label";var WEe=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?E.createElement(of,Hc({key:"label-implicit"},n)):ic(t)?E.createElement(of,Hc({key:"label-implicit",value:t},n)):E.isValidElement(t)?t.type===of?E.cloneElement(t,Yi({key:"label-implicit"},n)):E.createElement(of,Hc({key:"label-implicit",content:t},n)):CP(t)?E.createElement(of,Hc({key:"label-implicit",content:t},n)):t&&typeof t=="object"?E.createElement(of,Hc({},t,{key:"label-implicit"},n)):null};function KEe(t){var{label:e,labelRef:r}=t,n=uK();return WEe(e,n,r)||null}var HS={},GS={},S7;function YEe(){return S7||(S7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(GS)),GS}var WS={},E7;function XEe(){return E7||(E7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(WS)),WS}var T7;function QEe(){return T7||(T7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YEe(),r=XEe(),n=nN();function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(HS)),HS}var KS,k7;function ZEe(){return k7||(k7=1,KS=QEe().last),KS}var JEe=ZEe();const eTe=gd(JEe);var tTe=["valueAccessor"],rTe=["dataKey","clockWise","id","textBreakAll","zIndex"];function y2(){return y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y2.apply(null,arguments)}function C7(t,e){if(t==null)return{};var r,n,i=nTe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nTe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var iTe=t=>Array.isArray(t.value)?eTe(t.value):t.value,cK=E.createContext(void 0),NP=cK.Provider,dK=E.createContext(void 0),aTe=dK.Provider;function sTe(){return E.useContext(cK)}function oTe(){return E.useContext(dK)}function Yb(t){var{valueAccessor:e=iTe}=t,r=C7(t,tTe),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:l}=r,c=C7(r,rTe),d=sTe(),f=oTe(),p=d||f;return!p||!p.length?null:E.createElement(Js,{zIndex:l??ra.label},E.createElement(Vi,{className:"recharts-label-list"},p.map((g,m)=>{var w,S=ni(n)?e(g,m):Cn(g&&g.payload,n),_=ni(a)?{}:{id:"".concat(a,"-").concat(m)};return E.createElement(of,y2({key:"label-".concat(m)},Ds(g),c,_,{fill:(w=r.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:S,textBreakAll:s,viewBox:g.viewBox,index:m,zIndex:0}))})))}Yb.displayName="LabelList";function Qw(t){var{label:e}=t;return e?e===!0?E.createElement(Yb,{key:"labelList-implicit"}):E.isValidElement(e)||CP(e)?E.createElement(Yb,{key:"labelList-implicit",content:e}):typeof e=="object"?E.createElement(Yb,y2({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function S4(){return S4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S4.apply(null,arguments)}var fK=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=sn("recharts-dot",i);return Bt(e)&&Bt(r)&&Bt(n)?E.createElement("circle",S4({},Qs(t),rN(t),{className:a,cx:e,cy:r,r:n})):null},hK=t=>t.graphicalItems.polarItems,lTe=He([vi,kv],ZN),Zw=He([hK,Ni,lTe],JN),uTe=He([Zw],eP),Jw=He([uTe,zN],tP),cTe=He([Jw,Ni,Zw],nP);He([Jw,Ni,Zw],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,s=Cn(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(n=>({value:Cn(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var N7=()=>{},dTe=He([Jw,Ni,Zw,Gw,vi],oP),fTe=He([Ni,aP,sP,N7,dTe,N7,qr,vi],lP),pK=He([Ni,qr,Jw,cTe,Tv,vi,fTe],uP),hTe=He([pK,Ni,kg],fP);He([Ni,pK,hTe,vi],pP);var pTe={radiusAxis:{},angleAxis:{}},mK=ko({name:"polarAxis",initialState:pTe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:sje,removeRadiusAxis:oje,addAngleAxis:lje,removeAngleAxis:uje}=mK.actions,mTe=mK.reducer;function P7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P7(Object(r),!0).forEach(function(n){gTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gTe(t,e,r){return(e=yTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yTe(t){var e=vTe(t,"string");return typeof e=="symbol"?e:e+""}function vTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bTe=(t,e)=>e,PP=He([hK,bTe],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),xTe=[],jP=(t,e,r)=>r?.length===0?xTe:r,gK=He([zN,PP,jP],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>j7(j7({},e.presentationProps),a.props))),i!=null)return i}}),wTe=He([gK,PP,jP],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var a,s=Cn(n,e.nameKey,e.name),l;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=e.fill,{value:qf(s,e.dataKey),color:l,payload:n,type:e.legendType}})}),_Te=He([gK,PP,jP,Na],(t,e,r,n)=>{if(!(e==null||t==null))return A4e({offset:n,pieSettings:e,displayedData:t,cells:r})}),YS={exports:{}},vn={};var R7;function ATe(){if(R7)return vn;R7=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,w=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,_=t?Symbol.for("react.fundamental"):60117,k=t?Symbol.for("react.responder"):60118,N=t?Symbol.for("react.scope"):60119;function P(O){if(typeof O=="object"&&O!==null){var z=O.$$typeof;switch(z){case e:switch(O=O.type,O){case c:case d:case n:case a:case i:case p:return O;default:switch(O=O&&O.$$typeof,O){case l:case f:case w:case m:case s:return O;default:return z}}case r:return z}}}function F(O){return P(O)===d}return vn.AsyncMode=c,vn.ConcurrentMode=d,vn.ContextConsumer=l,vn.ContextProvider=s,vn.Element=e,vn.ForwardRef=f,vn.Fragment=n,vn.Lazy=w,vn.Memo=m,vn.Portal=r,vn.Profiler=a,vn.StrictMode=i,vn.Suspense=p,vn.isAsyncMode=function(O){return F(O)||P(O)===c},vn.isConcurrentMode=F,vn.isContextConsumer=function(O){return P(O)===l},vn.isContextProvider=function(O){return P(O)===s},vn.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},vn.isForwardRef=function(O){return P(O)===f},vn.isFragment=function(O){return P(O)===n},vn.isLazy=function(O){return P(O)===w},vn.isMemo=function(O){return P(O)===m},vn.isPortal=function(O){return P(O)===r},vn.isProfiler=function(O){return P(O)===a},vn.isStrictMode=function(O){return P(O)===i},vn.isSuspense=function(O){return P(O)===p},vn.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===n||O===d||O===a||O===i||O===p||O===g||typeof O=="object"&&O!==null&&(O.$$typeof===w||O.$$typeof===m||O.$$typeof===s||O.$$typeof===l||O.$$typeof===f||O.$$typeof===_||O.$$typeof===k||O.$$typeof===N||O.$$typeof===S)},vn.typeOf=P,vn}var O7;function STe(){return O7||(O7=1,YS.exports=ATe()),YS.exports}var ETe=STe(),I7=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",D7=null,XS=null,yK=t=>{if(t===D7&&Array.isArray(XS))return XS;var e=[];return E.Children.forEach(t,r=>{ni(r)||(ETe.isFragment(r)?e=e.concat(yK(r.props.children)):e.push(r))}),XS=e,D7=t,e};function RP(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>I7(i)):n=[I7(e)],yK(t).forEach(i=>{var a=ep(i,"type.displayName")||ep(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var OP=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,QS={},L7;function TTe(){return L7||(L7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(QS)),QS}var ZS,M7;function kTe(){return M7||(M7=1,ZS=TTe().isPlainObject),ZS}var CTe=kTe();const NTe=gd(CTe);function B7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B7(Object(r),!0).forEach(function(n){PTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PTe(t,e,r){return(e=jTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jTe(t){var e=RTe(t,"string");return typeof e=="symbol"?e:e+""}function RTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v2(){return v2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v2.apply(null,arguments)}var U7=(t,e,r,n,i)=>{var a=r-n,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+r,",").concat(e),s+="L ".concat(t+r-a/2,",").concat(e+i),s+="L ".concat(t+r-a/2-n,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},OTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ITe=t=>{var e=$i(t,OTe),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:l}=e,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:p}=e,g=E.useRef(null),[m,w]=E.useState(-1),S=E.useRef(i),_=E.useRef(a),k=E.useRef(s),N=E.useRef(r),P=E.useRef(n),F=wg(t,"trapezoid-");if(E.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var J=g.current.getTotalLength();J&&w(J)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var O=sn("recharts-trapezoid",l);if(!p)return E.createElement("g",null,E.createElement("path",v2({},Ds(e),{className:O,d:U7(r,n,i,a,s)})));var z=S.current,L=_.current,I=k.current,D=N.current,$=P.current,j="0px ".concat(m===-1?1:m,"px"),V="".concat(m,"px 0px"),M=VH(["strokeDasharray"],d,c);return E.createElement(xg,{animationId:F,key:F,canBegin:m>0,duration:d,easing:c,isActive:p,begin:f},J=>{var _e=bn(z,i,J),se=bn(L,a,J),ee=bn(I,s,J),fe=bn(D,r,J),we=bn($,n,J);g.current&&(S.current=_e,_.current=se,k.current=ee,N.current=fe,P.current=we);var Be=J>0?{transition:M,strokeDasharray:V}:{strokeDasharray:j};return E.createElement("path",v2({},Ds(e),{className:O,d:U7(fe,we,_e,se,ee),ref:g,style:F7(F7({},Be),e.style)}))})},DTe=["option","shapeType","propTransformer","activeClassName"];function LTe(t,e){if(t==null)return{};var r,n,i=MTe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function MTe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function V7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V7(Object(r),!0).forEach(function(n){BTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BTe(t,e,r){return(e=FTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FTe(t){var e=UTe(t,"string");return typeof e=="symbol"?e:e+""}function UTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VTe(t,e){return b2(b2({},e),t)}function zTe(t,e){return t==="symbols"}function z7(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return E.createElement(HH,r);case"trapezoid":return E.createElement(ITe,r);case"sector":return E.createElement(YH,r);case"symbols":if(zTe(e))return E.createElement(tN,r);break;case"curve":return E.createElement(Mm,r);default:return null}}function $Te(t){return E.isValidElement(t)?t.props:t}function IP(t){var{option:e,shapeType:r,propTransformer:n=VTe,activeClassName:i="recharts-active-shape"}=t,a=LTe(t,DTe),s;if(E.isValidElement(e))s=E.cloneElement(e,b2(b2({},a),$Te(e)));else if(typeof e=="function")s=e(a,a.index);else if(NTe(e)&&typeof e!="boolean"){var l=n(e,a);s=E.createElement(z7,{shapeType:r,elementProps:l})}else{var c=a;s=E.createElement(z7,{shapeType:r,elementProps:c})}return a.isActive?E.createElement(Vi,{className:i},s):s}var DP=(t,e,r)=>{var n=Wn();return(i,a)=>s=>{t?.(i,a,s),n(PW({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},LP=t=>{var e=Wn();return(r,n)=>i=>{t?.(r,n,i),e(rAe())}},MP=(t,e,r)=>{var n=Wn();return(i,a)=>s=>{t?.(i,a,s),n(nAe({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function e5(t){var{tooltipEntrySettings:e}=t,r=Wn(),n=Xa(),i=E.useRef(null);return E.useLayoutEffect(()=>{n||(i.current===null?r(Z_e(e)):i.current!==e&&r(J_e({prev:i.current,next:e})),i.current=e)},[e,r,n]),E.useLayoutEffect(()=>()=>{i.current&&(r(eAe(i.current)),i.current=null)},[r]),null}function BP(t){var{legendPayload:e}=t,r=Wn(),n=Xa(),i=E.useRef(null);return E.useLayoutEffect(()=>{n||(i.current===null?r(MH(e)):i.current!==e&&r(BH({prev:i.current,next:e})),i.current=e)},[r,n,e]),E.useLayoutEffect(()=>()=>{i.current&&(r(FH(i.current)),i.current=null)},[r]),null}function qTe(t){var{legendPayload:e}=t,r=Wn(),n=$t(qr),i=E.useRef(null);return E.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(MH(e)):i.current!==e&&r(BH({prev:i.current,next:e})),i.current=e)},[r,n,e]),E.useLayoutEffect(()=>()=>{i.current&&(r(FH(i.current)),i.current=null)},[r]),null}var JS,HTe=()=>{var[t]=E.useState(()=>wy("uid-"));return t},GTe=(JS=xX.useId)!==null&&JS!==void 0?JS:HTe;function vK(t,e){var r=GTe();return e||(t?"".concat(t,"-").concat(r):r)}var WTe=E.createContext(void 0),t5=t=>{var{id:e,type:r,children:n}=t,i=vK("recharts-".concat(r),e);return E.createElement(WTe.Provider,{value:i},n(i))},KTe={cartesianItems:[],polarItems:[]},bK=ko({name:"graphicalItems",initialState:KTe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:mi()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=lu(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:mi()},removeCartesianGraphicalItem:{reducer(t,e){var r=lu(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:mi()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:mi()},removePolarGraphicalItem:{reducer(t,e){var r=lu(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:mi()}}}),{addCartesianGraphicalItem:YTe,replaceCartesianGraphicalItem:XTe,removeCartesianGraphicalItem:QTe,addPolarGraphicalItem:ZTe,removePolarGraphicalItem:JTe}=bK.actions,e4e=bK.reducer,t4e=t=>{var e=Wn(),r=E.useRef(null);return E.useLayoutEffect(()=>{r.current===null?e(YTe(t)):r.current!==t&&e(XTe({prev:r.current,next:t})),r.current=t},[e,t]),E.useLayoutEffect(()=>()=>{r.current&&(e(QTe(r.current)),r.current=null)},[e]),null},FP=E.memo(t4e);function r4e(t){var e=Wn();return E.useLayoutEffect(()=>(e(ZTe(t)),()=>{e(JTe(t))}),[e,t]),null}var n4e=["key"],i4e=["onMouseEnter","onClick","onMouseLeave"],a4e=["id"],s4e=["id"];function $7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$7(Object(r),!0).forEach(function(n){o4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o4e(t,e,r){return(e=l4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l4e(t){var e=u4e(t,"string");return typeof e=="symbol"?e:e+""}function u4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lf.apply(null,arguments)}function r5(t,e){if(t==null)return{};var r,n,i=c4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function c4e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function d4e(t){var e=E.useMemo(()=>RP(t.children,rg),[t.children]),r=$t(n=>wTe(n,t.id,e));return r==null?null:E.createElement(qTe,{legendPayload:r})}var f4e=E.memo(t=>{var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:l,hide:c,tooltipType:d}=t,f={dataDefinedOnItem:n.map(p=>p.tooltipPayload),positions:n.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:r,name:qf(l,e),hide:c,type:d,color:s,unit:""}};return E.createElement(e5,{tooltipEntrySettings:f})}),h4e=(t,e)=>t>e?"start":t<e?"end":"middle",p4e=(t,e,r)=>Rs(typeof e=="function"?e(t):e,r,r*.8),m4e=(t,e,r)=>{var{top:n,left:i,width:a,height:s}=e,l=GH(a,s),c=i+Rs(t.cx,a,a/2),d=n+Rs(t.cy,s,s/2),f=Rs(t.innerRadius,l,0),p=p4e(r,t.outerRadius,l),g=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:d,innerRadius:f,outerRadius:p,maxRadius:g}},g4e=(t,e)=>{var r=Ya(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function y4e(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var v4e=(t,e)=>{if(E.isValidElement(t))return E.cloneElement(t,e);if(typeof t=="function")return t(e);var r=sn("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:n}=e,i=r5(e,n4e);return E.createElement(Mm,Lf({},i,{type:"linear",className:r}))},b4e=(t,e,r)=>{if(E.isValidElement(t))return E.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),E.isValidElement(n)))return n;var i=sn("recharts-pie-label-text",y4e(t));return E.createElement(Xw,Lf({},e,{alignmentBaseline:"middle",className:i}),n)};function x4e(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!e)return null;var l=Qs(r),c=Jh(i),d=Jh(a),f=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((g,m)=>{var w=(g.startAngle+g.endAngle)/2,S=pa(g.cx,g.cy,g.outerRadius+f,w),_=Fi(Fi(Fi(Fi({},l),g),{},{stroke:"none"},c),{},{index:m,textAnchor:h4e(S.x,g.cx)},S),k=Fi(Fi(Fi(Fi({},l),g),{},{fill:"none",stroke:g.fill},d),{},{index:m,points:[pa(g.cx,g.cy,g.outerRadius,w),S],key:"line"});return E.createElement(Js,{zIndex:ra.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(m)},E.createElement(Vi,null,a&&v4e(a,k),b4e(i,_,Cn(g,s))))});return E.createElement(Vi,{className:"recharts-pie-labels"},p)}function w4e(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?E.createElement(Qw,{label:i}):E.createElement(x4e,{sectors:e,props:r,showLabels:n})}function _4e(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=t,l=$t(Df),c=$t(AP),d=$t(zAe),{onMouseEnter:f,onClick:p,onMouseLeave:g}=i,m=r5(i,i4e),w=DP(f,i.dataKey,s),S=LP(g),_=MP(p,i.dataKey,s);return e==null||e.length===0?null:E.createElement(E.Fragment,null,e.map((k,N)=>{if(k?.startAngle===0&&k?.endAngle===0&&e.length!==1)return null;var P=d==null||d===s,F=String(N)===l&&(c==null||i.dataKey===c)&&P,O=l?n:null,z=r&&F?r:O,L=Fi(Fi({},k),{},{stroke:k.stroke,tabIndex:-1,[AH]:N,[SH]:i.dataKey});return E.createElement(Vi,Lf({key:"sector-".concat(k?.startAngle,"-").concat(k?.endAngle,"-").concat(k.midAngle,"-").concat(N),tabIndex:-1,className:"recharts-pie-sector"},mv(m,k,N),{onMouseEnter:w(k,N),onMouseLeave:S(k,N),onClick:_(k,N)}),E.createElement(IP,Lf({option:a??z,index:N,shapeType:"sector",isActive:F},L)))}))}function A4e(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:s,startAngle:l,endAngle:c,dataKey:d,nameKey:f,tooltipType:p}=r,g=Math.abs(r.minAngle),m=g4e(l,c),w=Math.abs(m),S=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,_=n.filter(z=>Cn(z,d,0)!==0).length,k=(w>=360?_:_-1)*S,N=w-_*g-k,P=n.reduce((z,L)=>{var I=Cn(L,d,0);return z+(Bt(I)?I:0)},0),F;if(P>0){var O;F=n.map((z,L)=>{var I=Cn(z,d,0),D=Cn(z,f,L),$=m4e(r,a,z),j=(Bt(I)?I:0)/P,V,M=Fi(Fi({},z),i&&i[L]&&i[L].props);L?V=O.endAngle+Ya(m)*S*(I!==0?1:0):V=l;var J=V+Ya(m)*((I!==0?g:0)+j*N),_e=(V+J)/2,se=($.innerRadius+$.outerRadius)/2,ee=[{name:D,value:I,payload:M,dataKey:d,type:p}],fe=pa($.cx,$.cy,se,_e);return O=Fi(Fi(Fi(Fi({},r.presentationProps),{},{percent:j,cornerRadius:typeof s=="string"?parseFloat(s):s,name:D,tooltipPayload:ee,midAngle:_e,middleRadius:se,tooltipPosition:fe},M),$),{},{value:I,dataKey:d,startAngle:V,endAngle:J,payload:M,paddingAngle:Ya(m)*S}),O})}return F}function S4e(t){var{showLabels:e,sectors:r,children:n}=t,i=E.useMemo(()=>!e||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,e]);return E.createElement(aTe,{value:e?i:void 0},n)}function E4e(t){var{props:e,previousSectorsRef:r,id:n}=t,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:c,activeShape:d,inactiveShape:f,onAnimationStart:p,onAnimationEnd:g}=e,m=wg(e,"recharts-pie-"),w=r.current,[S,_]=E.useState(!1),k=E.useCallback(()=>{typeof g=="function"&&g(),_(!1)},[g]),N=E.useCallback(()=>{typeof p=="function"&&p(),_(!0)},[p]);return E.createElement(S4e,{showLabels:!S,sectors:i},E.createElement(xg,{animationId:m,begin:s,duration:l,isActive:a,easing:c,onAnimationStart:N,onAnimationEnd:k,key:m},P=>{var F=[],O=i&&i[0],z=O?.startAngle;return i?.forEach((L,I)=>{var D=w&&w[I],$=I>0?ep(L,"paddingAngle",0):0;if(D){var j=bn(D.endAngle-D.startAngle,L.endAngle-L.startAngle,P),V=Fi(Fi({},L),{},{startAngle:z+$,endAngle:z+j+$});F.push(V),z=V.endAngle}else{var{endAngle:M,startAngle:J}=L,_e=bn(0,M-J,P),se=Fi(Fi({},L),{},{startAngle:z+$,endAngle:z+_e+$});F.push(se),z=se.endAngle}}),r.current=F,E.createElement(Vi,null,E.createElement(_4e,{sectors:F,activeShape:d,inactiveShape:f,allOtherPieProps:e,shape:e.shape,id:n}))}),E.createElement(w4e,{showLabels:!S,sectors:i,props:e}),e.children)}var T4e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ra.area};function k4e(t){var{id:e}=t,r=r5(t,a4e),{hide:n,className:i,rootTabIndex:a}=t,s=E.useMemo(()=>RP(t.children,rg),[t.children]),l=$t(f=>_Te(f,e,s)),c=E.useRef(null),d=sn("recharts-pie",i);return n||l==null?(c.current=null,E.createElement(Vi,{tabIndex:a,className:d})):E.createElement(Js,{zIndex:t.zIndex},E.createElement(f4e,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:l,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),E.createElement(Vi,{tabIndex:a,className:d},E.createElement(E4e,{props:Fi(Fi({},r),{},{sectors:l}),previousSectorsRef:c,id:e})))}function E4(t){var e=$i(t,T4e),{id:r}=e,n=r5(e,s4e),i=Qs(n);return E.createElement(t5,{id:r,type:"pie"},a=>E.createElement(E.Fragment,null,E.createElement(r4e,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),E.createElement(d4e,Lf({},n,{id:a})),E.createElement(k4e,Lf({},n,{id:a}))))}E4.displayName="Pie";var C4e=["points"];function q7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q7(Object(r),!0).forEach(function(n){N4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N4e(t,e,r){return(e=P4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P4e(t){var e=j4e(t,"string");return typeof e=="symbol"?e:e+""}function j4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x2(){return x2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x2.apply(null,arguments)}function R4e(t,e){if(t==null)return{};var r,n,i=O4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function O4e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function I4e(t){var{option:e,dotProps:r,className:n}=t;if(E.isValidElement(e))return E.cloneElement(e,r);if(typeof e=="function")return e(r);var i=sn(n,typeof e!="boolean"?e.className:""),a=r??{},{points:s}=a,l=R4e(a,C4e);return E.createElement(fK,x2({},l,{className:i}))}function D4e(t,e){return t==null?!1:e?!0:t.length===1}function xK(t){var{points:e,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:l,clipPathId:c,zIndex:d=ra.scatter}=t;if(!D4e(e,r))return null;var f=OP(r),p=o0e(r),g=e.map((w,S)=>{var _,k,N=eE(eE(eE({r:3},s),p),{},{index:S,cx:(_=w.x)!==null&&_!==void 0?_:void 0,cy:(k=w.y)!==null&&k!==void 0?k:void 0,dataKey:a,value:w.value,payload:w.payload,points:e});return E.createElement(I4e,{key:"dot-".concat(S),option:r,dotProps:N,className:i})}),m={};return l&&c!=null&&(m.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(c,")")),E.createElement(Js,{zIndex:d},E.createElement(Vi,x2({className:n},m),g))}function H7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H7(Object(r),!0).forEach(function(n){L4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L4e(t,e,r){return(e=M4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M4e(t){var e=B4e(t,"string");return typeof e=="symbol"?e:e+""}function B4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F4e={xAxis:{},yAxis:{},zAxis:{}},wK=ko({name:"cartesianAxis",initialState:F4e,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:mi()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:mi()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:mi()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:mi()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:mi()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:mi()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:mi()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:mi()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:mi()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);t.yAxis[r]=G7(G7({},t.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:U4e,replaceXAxis:V4e,removeXAxis:z4e,addYAxis:$4e,replaceYAxis:q4e,removeYAxis:H4e,addZAxis:cje,replaceZAxis:dje,removeZAxis:fje,updateYAxisWidth:G4e}=wK.actions,W4e=wK.reducer,K4e=He([Na],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Y4e=He([K4e,xd,wd],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),n5=()=>$t(Y4e),X4e=()=>$t(WAe);function W7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W7(Object(r),!0).forEach(function(n){Q4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q4e(t,e,r){return(e=Z4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z4e(t){var e=J4e(t,"string");return typeof e=="symbol"?e:e+""}function J4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eke=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=tE(tE(tE({},l),Jh(i)),rN(i)),d;return E.isValidElement(i)?d=E.cloneElement(i,c):typeof i=="function"?d=i(c):d=E.createElement(fK,c),E.createElement(Vi,{className:"recharts-active-dot",clipPath:s},d)};function T4(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=ra.activeDot}=t,l=$t(Df),c=X4e();if(e==null||c==null)return null;var d=e.find(f=>c.includes(f.payload));return ni(d)?null:E.createElement(Js,{zIndex:s},E.createElement(eke,{point:d,childIndex:Number(l),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var tke="Invariant failed";function rke(t,e){throw new Error(tke)}var nke=["x","y"];function k4(){return k4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k4.apply(null,arguments)}function K7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K7(Object(r),!0).forEach(function(n){ike(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ike(t,e,r){return(e=ake(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ake(t){var e=ske(t,"string");return typeof e=="symbol"?e:e+""}function ske(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oke(t,e){if(t==null)return{};var r,n,i=lke(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function lke(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function uke(t,e){var{x:r,y:n}=t,i=oke(t,nke),a="".concat(r),s=parseInt(a,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),p="".concat(e.width||i.width),g=parseInt(p,10);return C0(C0(C0(C0(C0({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:f,width:g,name:e.name,radius:e.radius})}function w2(t){return E.createElement(IP,k4({shapeType:"rectangle",propTransformer:uke,activeClassName:"recharts-active-bar"},t))}var cke=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Bt(e))return e;var a=Bt(n)||ni(n);return a?e(n,i):(a||rke(),r)}},dke={},_K=ko({name:"errorBars",initialState:dke,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:hje,replaceErrorBar:pje,removeErrorBar:mje}=_K.actions,fke=_K.reducer,hke=["children"];function pke(t,e){if(t==null)return{};var r,n,i=mke(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function mke(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var gke={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},yke=E.createContext(gke);function AK(t){var{children:e}=t,r=pke(t,hke);return E.createElement(yke.Provider,{value:r},e)}function i5(t,e){var r,n,i=$t(d=>Ad(d,t)),a=$t(d=>Sd(d,e)),s=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:za.allowDataOverflow,l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:$a.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function UP(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=n5(),{needClipX:a,needClipY:s,needClip:l}=i5(e,r);if(!l||!i)return null;var{x:c,y:d,width:f,height:p}=i;return E.createElement("clipPath",{id:"clipPath-".concat(n)},E.createElement("rect",{x:a?c:c-f/2,y:s?d:d-p/2,width:a?f:f*2,height:s?p:p*2}))}function vke(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&ai(t.zIndex)?t.zIndex:e}var rE={exports:{}},nE={};var Y7;function bke(){if(Y7)return nE;Y7=1;var t=ng();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,l=t.useDebugValue;return nE.useSyncExternalStoreWithSelector=function(c,d,f,p,g){var m=i(null);if(m.current===null){var w={hasValue:!1,value:null};m.current=w}else w=m.current;m=s(function(){function _(O){if(!k){if(k=!0,N=O,O=p(O),g!==void 0&&w.hasValue){var z=w.value;if(g(z,O))return P=z}return P=O}if(z=P,r(N,O))return z;var L=p(O);return g!==void 0&&g(z,L)?(N=O,z):(N=O,P=L)}var k=!1,N,P,F=f===void 0?null:f;return[function(){return _(d())},F===null?void 0:function(){return _(F())}]},[d,f,p,g]);var S=n(c,m[0],m[1]);return a(function(){w.hasValue=!0,w.value=S},[S]),l(S),S},nE}var X7;function xke(){return X7||(X7=1,rE.exports=bke()),rE.exports}xke();function wke(t){t()}function _ke(){let t=null,e=null;return{clear(){t=null,e=null},notify(){wke(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Q7={notify(){},get:()=>[]};function Ake(t,e){let r,n=Q7,i=0,a=!1;function s(S){f();const _=n.subscribe(S);let k=!1;return()=>{k||(k=!0,_(),p())}}function l(){n.notify()}function c(){w.onStateChange&&w.onStateChange()}function d(){return a}function f(){i++,r||(r=t.subscribe(c),n=_ke())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Q7)}function g(){a||(a=!0,f())}function m(){a&&(a=!1,p())}const w={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:m,getListeners:()=>n};return w}var Ske=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Eke=Ske(),Tke=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kke=Tke(),Cke=()=>Eke||kke?E.useLayoutEffect:E.useEffect,Nke=Cke();function Z7(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Pke(t,e){if(Z7(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!Z7(t[r[i]],e[r[i]]))return!1;return!0}var jke=Symbol.for("react-redux-context"),Rke=typeof globalThis<"u"?globalThis:{};function Oke(){if(!E.createContext)return{};const t=Rke[jke]??=new Map;let e=t.get(E.createContext);return e||(e=E.createContext(null),t.set(E.createContext,e)),e}var Ike=Oke();function Dke(t){const{children:e,context:r,serverState:n,store:i}=t,a=E.useMemo(()=>{const c=Ake(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=E.useMemo(()=>i.getState(),[i]);Nke(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=r||Ike;return E.createElement(l.Provider,{value:a},e)}var Lke=Dke,Mke=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Bke(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Mv(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(Mke.has(n)){if(t[n]==null&&e[n]==null)continue;if(!Pke(t[n],e[n]))return!1}else if(!Bke(t[n],e[n]))return!1;return!0}var Fke=["onMouseEnter","onMouseLeave","onClick"],Uke=["value","background","tooltipPosition"],Vke=["id"],zke=["onMouseEnter","onClick","onMouseLeave"];function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},md.apply(null,arguments)}function J7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J7(Object(r),!0).forEach(function(n){$ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ke(t,e,r){return(e=qke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qke(t){var e=Hke(t,"string");return typeof e=="symbol"?e:e+""}function Hke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _2(t,e){if(t==null)return{};var r,n,i=Gke(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Gke(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Wke=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:qf(r,e),payload:t}]},Kke=E.memo(t=>{var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:l,tooltipType:c}=t,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:qf(a,e),hide:s,type:c,color:i,unit:l}};return E.createElement(e5,{tooltipEntrySettings:d})});function Yke(t){var e=$t(Df),{data:r,dataKey:n,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:l,onClick:c}=a,d=_2(a,Fke),f=DP(s,n),p=LP(l),g=MP(c,n);if(!i||r==null)return null;var m=Jh(i);return E.createElement(Js,{zIndex:vke(i,ra.barBackground)},r.map((w,S)=>{var{value:_,background:k,tooltipPosition:N}=w,P=_2(w,Uke);if(!k)return null;var F=f(w,S),O=p(w,S),z=g(w,S),L=Gs(Gs(Gs(Gs(Gs({option:i,isActive:String(S)===e},P),{},{fill:"#eee"},k),m),mv(d,w,S)),{},{onMouseEnter:F,onMouseLeave:O,onClick:z,dataKey:n,index:S,className:"recharts-bar-background-rectangle"});return E.createElement(w2,md({key:"background-bar-".concat(S)},L))}))}function Xke(t){var{showLabels:e,children:r,rects:n}=t,i=n?.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Gs(Gs({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return E.createElement(NP,{value:e?i:void 0},r)}function Qke(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=t,l=$t(Df),c=$t(AP),d=r&&String(a)===l&&(c==null||s===c),f=d?r:e;return d?E.createElement(Js,{zIndex:ra.activeBar},E.createElement(w2,md({},n,{name:String(n.name)},i,{isActive:d,option:f,index:a,dataKey:s}))):E.createElement(w2,md({},n,{name:String(n.name)},i,{isActive:d,option:f,index:a,dataKey:s}))}function Zke(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:a}=t;return E.createElement(w2,md({},r,{name:String(r.name)},n,{isActive:!1,option:e,index:i,dataKey:a}))}function Jke(t){var e,{data:r,props:n}=t,i=(e=Qs(n))!==null&&e!==void 0?e:{},{id:a}=i,s=_2(i,Vke),{shape:l,dataKey:c,activeBar:d}=n,{onMouseEnter:f,onClick:p,onMouseLeave:g}=n,m=_2(n,zke),w=DP(f,c),S=LP(g),_=MP(p,c);return r?E.createElement(E.Fragment,null,r.map((k,N)=>E.createElement(Vi,md({key:"rectangle-".concat(k?.x,"-").concat(k?.y,"-").concat(k?.value,"-").concat(N),className:"recharts-bar-rectangle"},mv(m,k,N),{onMouseEnter:w(k,N),onMouseLeave:S(k,N),onClick:_(k,N)}),d?E.createElement(Qke,{shape:l,activeBar:d,baseProps:s,entry:k,index:N,dataKey:c}):E.createElement(Zke,{shape:l,baseProps:s,entry:k,index:N,dataKey:c})))):null}function eCe(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:f}=e,p=r.current,g=wg(e,"recharts-bar-"),[m,w]=E.useState(!1),S=!m,_=E.useCallback(()=>{typeof d=="function"&&d(),w(!1)},[d]),k=E.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return E.createElement(Xke,{showLabels:S,rects:n},E.createElement(xg,{animationId:g,begin:s,duration:l,isActive:a,easing:c,onAnimationEnd:_,onAnimationStart:k,key:g},N=>{var P=N===1?n:n?.map((F,O)=>{var z=p&&p[O];if(z)return Gs(Gs({},F),{},{x:bn(z.x,F.x,N),y:bn(z.y,F.y,N),width:bn(z.width,F.width,N),height:bn(z.height,F.height,N)});if(i==="horizontal"){var L=bn(0,F.height,N),I=bn(F.stackedBarStart,F.y,N);return Gs(Gs({},F),{},{y:I,height:L})}var D=bn(0,F.width,N),$=bn(F.stackedBarStart,F.x,N);return Gs(Gs({},F),{},{width:D,x:$})});return N>0&&(r.current=P??null),P==null?null:E.createElement(Vi,null,E.createElement(Jke,{props:e,data:P}))}),E.createElement(Qw,{label:e.label}),e.children)}function tCe(t){var e=E.useRef(null);return E.createElement(eCe,{previousRectanglesRef:e,props:t})}var SK=0,rCe=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:Cn(t,e)}};class nCe extends E.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:l,background:c,id:d}=this.props;if(e||r==null)return null;var f=sn("recharts-bar",i),p=d;return E.createElement(Vi,{className:f,id:d},l&&E.createElement("defs",null,E.createElement(UP,{clipPathId:p,xAxisId:a,yAxisId:s})),E.createElement(Vi,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},E.createElement(Yke,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),E.createElement(tCe,this.props)))}}var iCe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:SK,xAxisId:0,yAxisId:0,zIndex:ra.bar};function aCe(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:f}=t,{needClip:p}=i5(e,r),g=mp(),m=Xa(),w=RP(t.children,rg),S=$t(N=>OCe(N,e,r,m,t.id,w));if(g!=="vertical"&&g!=="horizontal")return null;var _,k=S?.[0];return k==null||k.height==null||k.width==null?_=0:_=g==="vertical"?k.height/2:k.width/2,E.createElement(AK,{xAxisId:e,yAxisId:r,data:S,dataPointFormatter:rCe,errorBarOffset:_},E.createElement(nCe,md({},t,{layout:g,needClip:p,data:S,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:f})))}function sCe(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:l,xAxisTicks:c,yAxisTicks:d,stackedData:f,displayedData:p,offset:g,cells:m,parentViewBox:w,dataStartIndex:S}=t,_=e==="horizontal"?l:s,k=f?_.scale.domain():null,N=k1e({numericAxis:_}),P=_.scale(N);return p.map((F,O)=>{var z,L,I,D,$,j;f?z=_1e(f[O+S],k):(z=Cn(F,r),Array.isArray(z)||(z=[N,z]));var V=cke(n,SK)(z[1],O);if(e==="horizontal"){var M,[J,_e]=[l.scale(z[0]),l.scale(z[1])];L=gM({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:F,index:O}),I=(M=_e??J)!==null&&M!==void 0?M:void 0,D=i.size;var se=J-_e;if($=kl(se)?0:se,j={x:L,y:g.top,width:D,height:g.height},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var ee=Ya($||V)*(Math.abs(V)-Math.abs($));I-=ee,$+=ee}}else{var[fe,we]=[s.scale(z[0]),s.scale(z[1])];if(L=fe,I=gM({axis:l,ticks:d,bandSize:a,offset:i.offset,entry:F,index:O}),D=we-fe,$=i.size,j={x:g.left,y:I,width:g.width,height:$},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var Be=Ya(D||V)*(Math.abs(V)-Math.abs(D));D+=Be}}if(L==null||I==null||D==null||$==null)return null;var Z=Gs(Gs({},F),{},{stackedBarStart:P,x:L,y:I,width:D,height:$,value:f?z:z[1],payload:F,background:j,tooltipPosition:{x:L+D/2,y:I+$/2},parentViewBox:w},m&&m[O]&&m[O].props);return Z}).filter(Boolean)}function oCe(t){var e=$i(t,iCe),r=Xa();return E.createElement(t5,{id:e.id,type:"bar"},n=>E.createElement(E.Fragment,null,E.createElement(BP,{legendPayload:Wke(e)}),E.createElement(Kke,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),E.createElement(FP,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:wH(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),E.createElement(Js,{zIndex:e.zIndex},E.createElement(aCe,md({},e,{id:n})))))}var Xb=E.memo(oCe,Mv);Xb.displayName="Bar";function e9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e9(Object(r),!0).forEach(function(n){lCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lCe(t,e,r){return(e=uCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uCe(t){var e=cCe(t,"string");return typeof e=="symbol"?e:e+""}function cCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dCe=(t,e)=>e,fCe=(t,e,r)=>r,hCe=(t,e,r,n)=>n,pCe=(t,e,r,n,i)=>i,Bv=He([Nv,pCe],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),mCe=He([Bv],t=>t?.maxBarSize),gCe=(t,e,r,n,i,a)=>a,t9=(t,e,r)=>{var n=r??t;if(!ni(n))return Rs(n,e,0)},yCe=He([qr,Nv,dCe,fCe,hCe],(t,e,r,n,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),vCe=(t,e,r,n)=>{var i=qr(t);return i==="horizontal"?Iy(t,"yAxis",r,n):Iy(t,"xAxis",e,n)},bCe=(t,e,r)=>{var n=qr(t);return n==="horizontal"?Y8(t,"xAxis",e):Y8(t,"yAxis",r)},xCe=(t,e,r)=>{var n={},i=t.filter(zw),a=t.filter(d=>d.stackId==null),s=i.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),n),l=Object.entries(s).map(d=>{var[f,p]=d,g=p.map(w=>w.dataKey),m=t9(e,r,p[0].barSize);return{stackId:f,dataKeys:g,barSize:m}}),c=a.map(d=>{var f=[d.dataKey].filter(g=>g!=null),p=t9(e,r,d.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...l,...c]},wCe=He([yCe,q5e,bCe],xCe),_Ce=(t,e,r,n,i)=>{var a,s,l=Bv(t,e,r,n,i);if(l!=null){var c=qr(t),d=HG(t),{maxBarSize:f}=l,p=ni(f)?d:f,g,m;return c==="horizontal"?(g=lc(t,"xAxis",e,n),m=oc(t,"xAxis",e,n)):(g=lc(t,"yAxis",r,n),m=oc(t,"yAxis",r,n)),(a=(s=Of(g,m,!0))!==null&&s!==void 0?s:p)!==null&&a!==void 0?a:0}},EK=(t,e,r,n)=>{var i=qr(t),a,s;return i==="horizontal"?(a=lc(t,"xAxis",e,n),s=oc(t,"xAxis",e,n)):(a=lc(t,"yAxis",r,n),s=oc(t,"yAxis",r,n)),Of(a,s)};function ACe(t,e,r,n,i){var a=n.length;if(!(a<1)){var s=Rs(t,r,0,!0),l,c=[];if(ai(n[0].barSize)){var d=!1,f=r/a,p=n.reduce((k,N)=>k+(N.barSize||0),0);p+=(a-1)*s,p>=r&&(p-=(a-1)*s,s=0),p>=r&&f>0&&(d=!0,f*=.9,p=a*f);var g=(r-p)/2>>0,m={offset:g-s,size:0};l=n.reduce((k,N)=>{var P,F={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:m.offset+m.size+s,size:d?f:(P=N.barSize)!==null&&P!==void 0?P:0}},O=[...k,F];return m=O[O.length-1].position,O},c)}else{var w=Rs(e,r,0,!0);r-2*w-(a-1)*s<=0&&(s=0);var S=(r-2*w-(a-1)*s)/a;S>1&&(S>>=0);var _=ai(i)?Math.min(S,i):S;l=n.reduce((k,N,P)=>[...k,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:w+(S+s)*P+(S-_)/2,size:_}}],c)}return l}}var SCe=(t,e,r,n,i,a,s)=>{var l=ni(s)?e:s,c=ACe(r,n,i!==a?i:a,t,l);return i!==a&&c!=null&&(c=c.map(d=>yb(yb({},d),{},{position:yb(yb({},d.position),{},{offset:d.position.offset-i/2})}))),c},ECe=He([wCe,HG,$5e,GG,_Ce,EK,mCe],SCe),TCe=(t,e,r,n)=>lc(t,"xAxis",e,n),kCe=(t,e,r,n)=>lc(t,"yAxis",r,n),CCe=(t,e,r,n)=>oc(t,"xAxis",e,n),NCe=(t,e,r,n)=>oc(t,"yAxis",r,n),PCe=He([ECe,Bv],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),jCe=(t,e)=>{var r=Vw(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},RCe=He([vCe,Bv],jCe),OCe=He([Na,hN,TCe,kCe,CCe,NCe,PCe,qr,Ev,EK,RCe,Bv,gCe],(t,e,r,n,i,a,s,l,c,d,f,p,g)=>{var{chartData:m,dataStartIndex:w,dataEndIndex:S}=c;if(!(p==null||s==null||e==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||i==null||a==null||d==null)){var{data:_}=p,k;if(_!=null&&_.length>0?k=_:k=m?.slice(w,S+1),k!=null)return sCe({layout:l,barSettings:p,pos:s,parentViewBox:e,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:f,displayedData:k,offset:t,cells:g,dataStartIndex:w})}}),TK=t=>{var{chartData:e}=t,r=Wn(),n=Xa();return E.useEffect(()=>n?()=>{}:(r(l7(e)),()=>{r(l7(void 0))}),[e,r,n]),null},r9={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},kK=ko({name:"brush",initialState:r9,reducers:{setBrushSettings(t,e){return e.payload==null?r9:e.payload}}}),{setBrushSettings:gje}=kK.actions,ICe=kK.reducer;function DCe(t,e,r){return(e=LCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LCe(t){var e=MCe(t,"string");return typeof e=="symbol"?e:e+""}function MCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class VP{static create(e){return new VP(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}DCe(VP,"EPS",1e-4);function BCe(t){return(t%180+180)%180}var FCe=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=BCe(i),s=a*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},UCe={dots:[],areas:[],lines:[]},CK=ko({name:"referenceElements",initialState:UCe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=lu(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=lu(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=lu(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:yje,removeDot:vje,addArea:bje,removeArea:xje,addLine:wje,removeLine:_je}=CK.actions,VCe=CK.reducer,zCe=E.createContext(void 0),$Ce=t=>{var{children:e}=t,[r]=E.useState("".concat(wy("recharts"),"-clip")),n=n5();if(n==null)return null;var{x:i,y:a,width:s,height:l}=n;return E.createElement(zCe.Provider,{value:r},E.createElement("defs",null,E.createElement("clipPath",{id:r},E.createElement("rect",{x:i,y:a,height:l,width:s}))),e)};function NK(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e)r.push(t[n]);return r}function qCe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return FCe(n,r)}function HCe(t,e,r){var n=r==="width",{x:i,y:a,width:s,height:l}=t;return e===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function A2(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function GCe(t,e){return NK(t,e+1)}function WCe(t,e,r,n,i){for(var a=(n||[]).slice(),{start:s,end:l}=e,c=0,d=1,f=s,p=function(){var w=n?.[c];if(w===void 0)return{v:NK(n,d)};var S=c,_,k=()=>(_===void 0&&(_=r(w,S)),_),N=w.coordinate,P=c===0||A2(t,N,k,f,l);P||(c=0,f=s,d+=1),P&&(f=N+t*(k()/2+i),c+=d)},g;d<=a.length;)if(g=p(),g)return g.v;return[]}function n9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ks(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n9(Object(r),!0).forEach(function(n){KCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KCe(t,e,r){return(e=YCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YCe(t){var e=XCe(t,"string");return typeof e=="symbol"?e:e+""}function XCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QCe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:l}=e,{end:c}=e,d=function(g){var m=a[g],w,S=()=>(w===void 0&&(w=r(m,g)),w);if(g===s-1){var _=t*(m.coordinate+t*S()/2-c);a[g]=m=ks(ks({},m),{},{tickCoord:_>0?m.coordinate-_*t:m.coordinate})}else a[g]=m=ks(ks({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var k=A2(t,m.tickCoord,S,l,c);k&&(c=m.tickCoord-t*(S()/2+i),a[g]=ks(ks({},m),{},{isShow:!0}))}},f=s-1;f>=0;f--)d(f);return a}function ZCe(t,e,r,n,i,a){var s=(n||[]).slice(),l=s.length,{start:c,end:d}=e;if(a){var f=n[l-1],p=r(f,l-1),g=t*(f.coordinate+t*p/2-d);if(s[l-1]=f=ks(ks({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate}),f.tickCoord!=null){var m=A2(t,f.tickCoord,()=>p,c,d);m&&(d=f.tickCoord-t*(p/2+i),s[l-1]=ks(ks({},f),{},{isShow:!0}))}}for(var w=a?l-1:l,S=function(N){var P=s[N],F,O=()=>(F===void 0&&(F=r(P,N)),F);if(N===0){var z=t*(P.coordinate-t*O()/2-c);s[N]=P=ks(ks({},P),{},{tickCoord:z<0?P.coordinate-z*t:P.coordinate})}else s[N]=P=ks(ks({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var L=A2(t,P.tickCoord,O,c,d);L&&(c=P.tickCoord+t*(O()/2+i),s[N]=ks(ks({},P),{},{isShow:!0}))}},_=0;_<w;_++)S(_);return s}function zP(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:c,tickFormatter:d,unit:f,angle:p}=t;if(!i||!i.length||!n)return[];if(Bt(c)||bg.isSsr){var g;return(g=GCe(i,Bt(c)?c:0))!==null&&g!==void 0?g:[]}var m=[],w=l==="top"||l==="bottom"?"width":"height",S=f&&w==="width"?J0(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},_=(P,F)=>{var O=typeof d=="function"?d(P.value,F):P.value;return w==="width"?qCe(J0(O,{fontSize:e,letterSpacing:r}),S,p):J0(O,{fontSize:e,letterSpacing:r})[w]},k=i.length>=2?Ya(i[1].coordinate-i[0].coordinate):1,N=HCe(a,k,w);return c==="equidistantPreserveStart"?WCe(k,N,_,i,s):(c==="preserveStart"||c==="preserveStartEnd"?m=ZCe(k,N,_,i,s,c==="preserveStartEnd"):m=QCe(k,N,_,i,s),m.filter(P=>P.isShow))}var JCe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>s&&(s=p.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+a,d=s+c+l+(r?n:0);return Math.round(d)}return 0},eNe=["axisLine","width","height","className","hide","ticks","axisType"];function tNe(t,e){if(t==null)return{};var r,n,i=rNe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ip.apply(null,arguments)}function i9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i9(Object(r),!0).forEach(function(n){nNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nNe(t,e,r){return(e=iNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iNe(t){var e=aNe(t,"string");return typeof e=="symbol"?e:e+""}function aNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ed={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ra.axis};function sNe(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var d=da(da(da({},c),Qs(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!s||a==="bottom"&&s);d=da(da({},d),{},{x1:e,y1:r+f*i,x2:e+n,y2:r+f*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);d=da(da({},d),{},{x1:e+p*n,y1:r,x2:e+p*n,y2:r+i})}return E.createElement("line",ip({},d,{className:sn("recharts-cartesian-axis-line",ep(l,"className"))}))}function oNe(t,e,r,n,i,a,s,l,c){var d,f,p,g,m,w,S=l?-1:1,_=t.tickSize||s,k=Bt(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,g=r+ +!l*i,p=g-S*_,w=p-S*c,m=k;break;case"left":p=g=t.coordinate,f=e+ +!l*n,d=f-S*_,m=d-S*c,w=k;break;case"right":p=g=t.coordinate,f=e+ +l*n,d=f+S*_,m=d+S*c,w=k;break;default:d=f=t.coordinate,g=r+ +l*i,p=g+S*_,w=p+S*c,m=k;break}return{line:{x1:d,y1:p,x2:f,y2:g},tick:{x:m,y:w}}}function lNe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function uNe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function cNe(t){var{option:e,tickProps:r,value:n}=t,i,a=sn(r.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(e))i=E.cloneElement(e,da(da({},r),{},{className:a}));else if(typeof e=="function")i=e(da(da({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=sn(s,e?.className)),i=E.createElement(Xw,ip({},r,{className:s}),n)}return i}var dNe=E.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:l,padding:c,tickTextProps:d,orientation:f,mirror:p,x:g,y:m,width:w,height:S,tickSize:_,tickMargin:k,fontSize:N,letterSpacing:P,getTicksConfig:F,events:O,axisType:z}=t,L=zP(da(da({},F),{},{ticks:r}),N,P),I=lNe(f,p),D=uNe(f,p),$=Qs(F),j=Jh(n),V={};typeof i=="object"&&(V=i);var M=da(da({},$),{},{fill:"none"},V),J=L.map(ee=>da({entry:ee},oNe(ee,g,m,w,S,f,_,p,k))),_e=J.map(ee=>{var{entry:fe,line:we}=ee;return E.createElement(Vi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},i&&E.createElement("line",ip({},M,we,{className:sn("recharts-cartesian-axis-tick-line",ep(i,"className"))})))}),se=J.map((ee,fe)=>{var{entry:we,tick:Be}=ee,Z=da(da(da(da({textAnchor:I,verticalAnchor:D},$),{},{stroke:"none",fill:a},j),Be),{},{index:fe,payload:we,visibleTicksCount:L.length,tickFormatter:s,padding:c},d);return E.createElement(Vi,ip({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(we.value,"-").concat(we.coordinate,"-").concat(we.tickCoord)},mv(O,we,fe)),n&&E.createElement(cNe,{option:n,tickProps:Z,value:"".concat(typeof s=="function"?s(we.value,fe):we.value).concat(l||"")}))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},se.length>0&&E.createElement(Js,{zIndex:ra.label},E.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},se)),_e.length>0&&E.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},_e))}),fNe=E.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:l,axisType:c}=t,d=tNe(t,eNe),[f,p]=E.useState(""),[g,m]=E.useState(""),w=E.useRef(null);E.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return JCe({ticks:w.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=E.useCallback(_=>{if(_){var k=_.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=k;var N=k[0];if(N){var P=window.getComputedStyle(N),F=P.fontSize,O=P.letterSpacing;(F!==f||O!==g)&&(p(F),m(O))}}},[f,g]);return s||n!=null&&n<=0||i!=null&&i<=0?null:E.createElement(Js,{zIndex:t.zIndex},E.createElement(Vi,{className:sn("recharts-cartesian-axis",a)},E.createElement(sNe,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:Qs(t)}),E.createElement(dNe,{ref:S,axisType:c,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),E.createElement(BEe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},E.createElement(KEe,{label:t.label,labelRef:t.labelRef}),t.children)))}),$P=E.forwardRef((t,e)=>{var r=$i(t,ed);return E.createElement(fNe,ip({},r,{ref:e}))});$P.displayName="CartesianAxis";var hNe=["x1","y1","x2","y2","key"],pNe=["offset"],mNe=["xAxisId","yAxisId"],gNe=["xAxisId","yAxisId"];function a9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ps(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a9(Object(r),!0).forEach(function(n){yNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yNe(t,e,r){return(e=vNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vNe(t){var e=bNe(t,"string");return typeof e=="symbol"?e:e+""}function bNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ph.apply(null,arguments)}function S2(t,e){if(t==null)return{};var r,n,i=xNe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function xNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var wNe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:l}=t;return E.createElement("rect",{x:n,y:i,ry:l,width:a,height:s,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function PK(t){var{option:e,lineItemProps:r}=t,n;if(E.isValidElement(e))n=E.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:a,y1:s,x2:l,y2:c,key:d}=r,f=S2(r,hNe),p=(i=Qs(f))!==null&&i!==void 0?i:{},{offset:g}=p,m=S2(p,pNe);n=E.createElement("line",Ph({},m,{x1:a,y1:s,x2:l,y2:c,fill:"none",key:d}))}return n}function _Ne(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=S2(t,mNe),c=i.map((d,f)=>{var p=Ps(Ps({},l),{},{x1:e,y1:d,x2:e+r,y2:d,key:"line-".concat(f),index:f});return E.createElement(PK,{key:"line-".concat(f),option:n,lineItemProps:p})});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function ANe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=S2(t,gNe),c=i.map((d,f)=>{var p=Ps(Ps({},l),{},{x1:d,y1:e,x2:d,y2:e+r,key:"line-".concat(f),index:f});return E.createElement(PK,{option:n,lineItemProps:p,key:"line-".concat(f)})});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function SNe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var m=!d[g+1],w=m?i+s-p:d[g+1]-p;if(w<=0)return null;var S=g%e.length;return E.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:w,width:a,stroke:"none",fill:e[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ENe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:l,verticalPoints:c}=t;if(!e||!r||!r.length)return null;var d=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var m=!d[g+1],w=m?i+s-p:d[g+1]-p;if(w<=0)return null;var S=g%r.length;return E.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:w,height:l,stroke:"none",fill:r[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var TNe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return bH(zP(Ps(Ps(Ps({},ed),r),{},{ticks:xH(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},kNe=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return bH(zP(Ps(Ps(Ps({},ed),r),{},{ticks:xH(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},CNe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ra.grid};function hm(t){var e=mN(),r=gN(),n=NH(),i=Ps(Ps({},$i(t,CNe)),{},{x:Bt(t.x)?t.x:n.left,y:Bt(t.y)?t.y:n.top,width:Bt(t.width)?t.width:n.width,height:Bt(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:s,x:l,y:c,width:d,height:f,syncWithTicks:p,horizontalValues:g,verticalValues:m}=i,w=Xa(),S=$t(D=>X8(D,"xAxis",a,w)),_=$t(D=>X8(D,"yAxis",s,w));if(!ac(d)||!ac(f)||!Bt(l)||!Bt(c))return null;var k=i.verticalCoordinatesGenerator||TNe,N=i.horizontalCoordinatesGenerator||kNe,{horizontalPoints:P,verticalPoints:F}=i;if((!P||!P.length)&&typeof N=="function"){var O=g&&g.length,z=N({yAxis:_?Ps(Ps({},_),{},{ticks:O?g:_.ticks}):void 0,width:e??d,height:r??f,offset:n},O?!0:p);Yx(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(P=z)}if((!F||!F.length)&&typeof k=="function"){var L=m&&m.length,I=k({xAxis:S?Ps(Ps({},S),{},{ticks:L?m:S.ticks}):void 0,width:e??d,height:r??f,offset:n},L?!0:p);Yx(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(F=I)}return E.createElement(Js,{zIndex:i.zIndex},E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(wNe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),E.createElement(SNe,Ph({},i,{horizontalPoints:P})),E.createElement(ENe,Ph({},i,{verticalPoints:F})),E.createElement(_Ne,Ph({},i,{offset:n,horizontalPoints:P,xAxis:S,yAxis:_})),E.createElement(ANe,Ph({},i,{offset:n,verticalPoints:F,xAxis:S,yAxis:_}))))}hm.displayName="CartesianGrid";var jK=(t,e,r,n)=>lc(t,"xAxis",e,n),RK=(t,e,r,n)=>oc(t,"xAxis",e,n),OK=(t,e,r,n)=>lc(t,"yAxis",r,n),IK=(t,e,r,n)=>oc(t,"yAxis",r,n),NNe=He([qr,jK,OK,RK,IK],(t,e,r,n,i)=>dc(t,"xAxis")?Of(e,n,!1):Of(r,i,!1)),PNe=(t,e,r,n,i)=>i;function jNe(t){return t.type==="line"}var RNe=He([Nv,PNe],(t,e)=>t.filter(jNe).find(r=>r.id===e)),ONe=He([qr,jK,OK,RK,IK,RNe,NNe,Ev],(t,e,r,n,i,a,s,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=l;if(!(a==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:g}=a,m;if(g!=null&&g.length>0?m=g:m=c?.slice(d,f+1),m!=null)return JNe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:p,bandSize:s,displayedData:m})}});function DK(t){var e=Jh(t),r=3,n=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),l=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(l)||l<0)&&(l=n),{r:s,strokeWidth:l}}return{r,strokeWidth:n}}var INe=["id"],DNe=["type","layout","connectNulls","needClip","shape"],LNe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ly.apply(null,arguments)}function s9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s9(Object(r),!0).forEach(function(n){MNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MNe(t,e,r){return(e=BNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BNe(t){var e=FNe(t,"string");return typeof e=="symbol"?e:e+""}function FNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qP(t,e){if(t==null)return{};var r,n,i=UNe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function UNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var VNe=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:qf(r,e),payload:t}]},zNe=E.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:l,unit:c,tooltipType:d}=t,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:qf(s,e),hide:l,type:d,color:n,unit:c}};return E.createElement(e5,{tooltipEntrySettings:f})}),LK=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function $Ne(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var qNe=(t,e,r)=>{var n=r.reduce((p,g)=>p+g);if(!n)return LK(e,t);for(var i=Math.floor(t/n),a=t%n,s=e-t,l=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>a){l=[...r.slice(0,c),a-d];break}var f=l.length%2===0?[0,s]:[s];return[...$Ne(r,i),...l,...f].map(p=>"".concat(p,"px")).join(", ")};function HNe(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:a,needClip:s}=n,{id:l}=n,c=qP(n,INe),d=Qs(c);return E.createElement(xK,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:s,clipPathId:e})}function GNe(t){var{showLabels:e,children:r,points:n}=t,i=E.useMemo(()=>n?.map(a=>{var s,l,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Vu(Vu({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return E.createElement(NP,{value:e?i:void 0},r)}function o9(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:a}=t,{type:s,layout:l,connectNulls:c,needClip:d,shape:f}=a,p=qP(a,DNe),g=Vu(Vu({},Ds(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:n,type:s,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return E.createElement(E.Fragment,null,n?.length>1&&E.createElement(IP,Ly({shapeType:"curve",option:f},g,{pathRef:r})),E.createElement(HNe,{points:n,clipPathId:e,props:a}))}function WNe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function KNe(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:p,animateNewValues:g,width:m,height:w,onAnimationEnd:S,onAnimationStart:_}=r,k=i.current,N=wg(s,"recharts-line-"),P=E.useRef(N),[F,O]=E.useState(!1),z=!F,L=E.useCallback(()=>{typeof S=="function"&&S(),O(!1)},[S]),I=E.useCallback(()=>{typeof _=="function"&&_(),O(!0)},[_]),D=WNe(n.current),$=E.useRef(0);P.current!==N&&($.current=a.current,P.current=N);var j=$.current;return E.createElement(GNe,{points:s,showLabels:z},r.children,E.createElement(xg,{animationId:N,begin:d,duration:f,isActive:c,easing:p,onAnimationEnd:L,onAnimationStart:I,key:N},V=>{var M=bn(j,D+j,V),J=Math.min(M,D),_e;if(c)if(l){var se="".concat(l).split(/[,\s]+/gim).map(we=>parseFloat(we));_e=qNe(J,D,se)}else _e=LK(D,J);else _e=l==null?void 0:String(l);if(V>0&&D>0&&(i.current=s,a.current=Math.max(a.current,J)),k){var ee=k.length/s.length,fe=V===1?s:s.map((we,Be)=>{var Z=Math.floor(Be*ee);if(k[Z]){var q=k[Z];return Vu(Vu({},we),{},{x:bn(q.x,we.x,V),y:bn(q.y,we.y,V)})}return g?Vu(Vu({},we),{},{x:bn(m*2,we.x,V),y:bn(w/2,we.y,V)}):Vu(Vu({},we),{},{x:we.x,y:we.y})});return i.current=fe,E.createElement(o9,{props:r,points:fe,clipPathId:e,pathRef:n,strokeDasharray:_e})}return E.createElement(o9,{props:r,points:s,clipPathId:e,pathRef:n,strokeDasharray:_e})}),E.createElement(Qw,{label:r.label}))}function YNe(t){var{clipPathId:e,props:r}=t,n=E.useRef(null),i=E.useRef(0),a=E.useRef(null);return E.createElement(KNe,{props:r,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var XNe=(t,e)=>{var r,n;return{x:(r=t.x)!==null&&r!==void 0?r:void 0,y:(n=t.y)!==null&&n!==void 0?n:void 0,value:t.value,errorVal:Cn(t.payload,e)}};class QNe extends E.Component{render(){var{hide:e,dot:r,points:n,className:i,xAxisId:a,yAxisId:s,top:l,left:c,width:d,height:f,id:p,needClip:g,zIndex:m}=this.props;if(e)return null;var w=sn("recharts-line",i),S=p,{r:_,strokeWidth:k}=DK(r),N=OP(r),P=_*2+k,F=g?"url(#clipPath-".concat(N?"":"dots-").concat(S,")"):void 0;return E.createElement(Js,{zIndex:m},E.createElement(Vi,{className:w},g&&E.createElement("defs",null,E.createElement(UP,{clipPathId:S,xAxisId:a,yAxisId:s}),!N&&E.createElement("clipPath",{id:"clipPath-dots-".concat(S)},E.createElement("rect",{x:c-P/2,y:l-P/2,width:d+P,height:f+P}))),E.createElement(AK,{xAxisId:a,yAxisId:s,data:n,dataPointFormatter:XNe,errorBarOffset:0},E.createElement(YNe,{props:this.props,clipPathId:S}))),E.createElement(T4,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:F}))}}var MK={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ra.line,type:"linear"};function ZNe(t){var e=$i(t,MK),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:c,hide:d,isAnimationActive:f,label:p,legendType:g,xAxisId:m,yAxisId:w,id:S}=e,_=qP(e,LNe),{needClip:k}=i5(m,w),N=n5(),P=mp(),F=Xa(),O=$t($=>ONe($,m,w,F,S));if(P!=="horizontal"&&P!=="vertical"||O==null||N==null)return null;var{height:z,width:L,x:I,y:D}=N;return E.createElement(QNe,Ly({},_,{id:S,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:f,hide:d,label:p,legendType:g,xAxisId:m,yAxisId:w,points:O,layout:P,height:z,width:L,left:I,top:D,needClip:k}))}function JNe(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:l,displayedData:c}=t;return c.map((d,f)=>{var p=Cn(d,s);if(e==="horizontal"){var g=Kx({axis:r,ticks:i,bandSize:l,entry:d,index:f}),m=ni(p)?null:n.scale(p);return{x:g,y:m,value:p,payload:d}}var w=ni(p)?null:r.scale(p),S=Kx({axis:n,ticks:a,bandSize:l,entry:d,index:f});return w==null||S==null?null:{x:w,y:S,value:p,payload:d}}).filter(Boolean)}function ePe(t){var e=$i(t,MK),r=Xa();return E.createElement(t5,{id:e.id,type:"line"},n=>E.createElement(E.Fragment,null,E.createElement(BP,{legendPayload:VNe(e)}),E.createElement(zNe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),E.createElement(FP,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),E.createElement(ZNe,Ly({},e,{id:n}))))}var C4=E.memo(ePe,Mv);C4.displayName="Line";var BK=(t,e,r,n)=>lc(t,"xAxis",e,n),FK=(t,e,r,n)=>oc(t,"xAxis",e,n),UK=(t,e,r,n)=>lc(t,"yAxis",r,n),VK=(t,e,r,n)=>oc(t,"yAxis",r,n),tPe=He([qr,BK,UK,FK,VK],(t,e,r,n,i)=>dc(t,"xAxis")?Of(e,n,!1):Of(r,i,!1)),rPe=(t,e,r,n,i)=>i,zK=He([Nv,rPe],(t,e)=>t.filter(r=>r.type==="area").find(r=>r.id===e)),nPe=(t,e,r,n,i)=>{var a,s=zK(t,e,r,n,i);if(s!=null){var l=qr(t),c=dc(l,"xAxis"),d;if(c?d=Iy(t,"yAxis",r,n):d=Iy(t,"xAxis",e,n),d!=null){var{stackId:f}=s,p=Vw(s);if(!(f==null||p==null)){var g=(a=d[f])===null||a===void 0?void 0:a.stackedData;return g?.find(m=>m.key===p)}}}},iPe=He([qr,BK,UK,FK,VK,nPe,Ev,tPe,zK,H5e],(t,e,r,n,i,a,s,l,c,d)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:g}=s;if(!(c==null||t!=="horizontal"&&t!=="vertical"||e==null||r==null||n==null||i==null||n.length===0||i.length===0||l==null)){var{data:m}=c,w;if(m&&m.length>0?w=m:w=f?.slice(p,g+1),w!=null)return APe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:p,areaSettings:c,stackedData:a,displayedData:w,chartBaseValue:d,bandSize:l})}}),aPe=["id"],sPe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$h.apply(null,arguments)}function $K(t,e){if(t==null)return{};var r,n,i=oPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function oPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function l9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Em(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l9(Object(r),!0).forEach(function(n){lPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lPe(t,e,r){return(e=uPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uPe(t){var e=cPe(t,"string");return typeof e=="symbol"?e:e+""}function cPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E2(t,e){return t&&t!=="none"?t:e}var dPe=t=>{var{dataKey:e,name:r,stroke:n,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:E2(n,i),value:qf(r,e),payload:t}]},fPe=E.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:l,unit:c,tooltipType:d}=t,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:qf(s,e),hide:l,type:d,color:E2(n,a),unit:c}};return E.createElement(e5,{tooltipEntrySettings:f})});function hPe(t){var{clipPathId:e,points:r,props:n}=t,{needClip:i,dot:a,dataKey:s}=n,l=Qs(n);return E.createElement(xK,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:l,needClip:i,clipPathId:e})}function pPe(t){var{showLabels:e,children:r,points:n}=t,i=n.map(a=>{var s,l,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Em(Em({},c),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return E.createElement(NP,{value:e?i:void 0},r)}function u9(t){var{points:e,baseLine:r,needClip:n,clipPathId:i,props:a}=t,{layout:s,type:l,stroke:c,connectNulls:d,isRange:f}=a,{id:p}=a,g=$K(a,aPe),m=Qs(g),w=Ds(g);return E.createElement(E.Fragment,null,e?.length>1&&E.createElement(Vi,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},E.createElement(Mm,$h({},w,{id:p,points:e,connectNulls:d,type:l,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),c!=="none"&&E.createElement(Mm,$h({},m,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:e})),c!=="none"&&f&&E.createElement(Mm,$h({},m,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:r}))),E.createElement(hPe,{points:e,props:g,clipPathId:i}))}function mPe(t){var{alpha:e,baseLine:r,points:n,strokeWidth:i}=t,a=n[0].y,s=n[n.length-1].y;if(!ai(a)||!ai(s))return null;var l=e*Math.abs(a-s),c=Math.max(...n.map(d=>d.x||0));return Bt(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.x||0),c)),Bt(c)?E.createElement("rect",{x:0,y:a<s?a:a-l,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function gPe(t){var{alpha:e,baseLine:r,points:n,strokeWidth:i}=t,a=n[0].x,s=n[n.length-1].x;if(!ai(a)||!ai(s))return null;var l=e*Math.abs(a-s),c=Math.max(...n.map(d=>d.y||0));return Bt(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.y||0),c)),Bt(c)?E.createElement("rect",{x:a<s?a:a-l,y:0,width:l,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}function yPe(t){var{alpha:e,layout:r,points:n,baseLine:i,strokeWidth:a}=t;return r==="vertical"?E.createElement(mPe,{alpha:e,points:n,baseLine:i,strokeWidth:a}):E.createElement(gPe,{alpha:e,points:n,baseLine:i,strokeWidth:a})}function vPe(t){var{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:p,onAnimationStart:g,onAnimationEnd:m}=n,w=E.useMemo(()=>({points:s,baseLine:l}),[s,l]),S=wg(w,"recharts-area-"),_=ube(),[k,N]=E.useState(!1),P=!k,F=E.useCallback(()=>{typeof m=="function"&&m(),N(!1)},[m]),O=E.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]);if(_==null)return null;var z=i.current,L=a.current;return E.createElement(pPe,{showLabels:P,points:s},n.children,E.createElement(xg,{animationId:S,begin:d,duration:f,isActive:c,easing:p,onAnimationEnd:F,onAnimationStart:O,key:S},I=>{if(z){var D=z.length/s.length,$=I===1?s:s.map((V,M)=>{var J=Math.floor(M*D);if(z[J]){var _e=z[J];return Em(Em({},V),{},{x:bn(_e.x,V.x,I),y:bn(_e.y,V.y,I)})}return V}),j;return Bt(l)?j=bn(L,l,I):ni(l)||kl(l)?j=bn(L,0,I):j=l.map((V,M)=>{var J=Math.floor(M*D);if(Array.isArray(L)&&L[J]){var _e=L[J];return Em(Em({},V),{},{x:bn(_e.x,V.x,I),y:bn(_e.y,V.y,I)})}return V}),I>0&&(i.current=$,a.current=j),E.createElement(u9,{points:$,baseLine:j,needClip:e,clipPathId:r,props:n})}return I>0&&(i.current=s,a.current=l),E.createElement(Vi,null,c&&E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(r)},E.createElement(yPe,{alpha:I,points:s,baseLine:l,layout:_,strokeWidth:n.strokeWidth}))),E.createElement(Vi,{clipPath:"url(#animationClipPath-".concat(r,")")},E.createElement(u9,{points:s,baseLine:l,needClip:e,clipPathId:r,props:n})))}),E.createElement(Qw,{label:n.label}))}function bPe(t){var{needClip:e,clipPathId:r,props:n}=t,i=E.useRef(null),a=E.useRef();return E.createElement(vPe,{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class xPe extends E.PureComponent{render(){var{hide:e,dot:r,points:n,className:i,top:a,left:s,needClip:l,xAxisId:c,yAxisId:d,width:f,height:p,id:g,baseLine:m,zIndex:w}=this.props;if(e)return null;var S=sn("recharts-area",i),_=g,{r:k,strokeWidth:N}=DK(r),P=OP(r),F=k*2+N,O=l?"url(#clipPath-".concat(P?"":"dots-").concat(_,")"):void 0;return E.createElement(Js,{zIndex:w},E.createElement(Vi,{className:S},l&&E.createElement("defs",null,E.createElement(UP,{clipPathId:_,xAxisId:c,yAxisId:d}),!P&&E.createElement("clipPath",{id:"clipPath-dots-".concat(_)},E.createElement("rect",{x:s-F/2,y:a-F/2,width:f+F,height:p+F}))),E.createElement(bPe,{needClip:l,clipPathId:_,props:this.props})),E.createElement(T4,{points:n,mainColor:E2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}),this.props.isRange&&Array.isArray(m)&&E.createElement(T4,{points:m,mainColor:E2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}))}}var qK={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ra.area};function wPe(t){var e,r=$i(t,qK),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:c,fill:d,fillOpacity:f,hide:p,isAnimationActive:g,legendType:m,stroke:w,xAxisId:S,yAxisId:_}=r,k=$K(r,sPe),N=mp(),P=GW(),{needClip:F}=i5(S,_),O=Xa(),{points:z,isRange:L,baseLine:I}=(e=$t(J=>iPe(J,S,_,O,t.id)))!==null&&e!==void 0?e:{},D=n5();if(N!=="horizontal"&&N!=="vertical"||D==null||P!=="AreaChart"&&P!=="ComposedChart")return null;var{height:$,width:j,x:V,y:M}=D;return!z||!z.length?null:E.createElement(xPe,$h({},k,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:I,connectNulls:l,dot:c,fill:d,fillOpacity:f,height:$,hide:p,layout:N,isAnimationActive:g==="auto"?!bg.isSsr:g,isRange:L,legendType:m,needClip:F,points:z,stroke:w,width:j,left:V,top:M,xAxisId:S,yAxisId:_}))}var _Pe=(t,e,r,n,i)=>{var a=r??e;if(Bt(a))return a;var s=t==="horizontal"?i:n,l=s.scale.domain();if(s.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return a==="dataMin"?d:a==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function APe(t){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:s,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:f,xAxisTicks:p,yAxisTicks:g,bandSize:m}=t,w=i&&i.length,S=_Pe(a,s,r,l,c),_=a==="horizontal",k=!1,N=d.map((F,O)=>{var z;w?z=i[f+O]:(z=Cn(F,n),Array.isArray(z)?k=!0:z=[S,z]);var L=z[1]==null||w&&!e&&Cn(F,n)==null;return _?{x:Kx({axis:l,ticks:p,bandSize:m,entry:F,index:O}),y:L?null:c.scale(z[1]),value:z,payload:F}:{x:L?null:l.scale(z[1]),y:Kx({axis:c,ticks:g,bandSize:m,entry:F,index:O}),value:z,payload:F}}),P;return w||k?P=N.map(F=>{var O=Array.isArray(F.value)?F.value[0]:null;return _?{x:F.x,y:O!=null&&F.y!=null?c.scale(O):null,payload:F.payload}:{x:O!=null?l.scale(O):null,y:F.y,payload:F.payload}}):P=_?c.scale(S):l.scale(S),{points:N,baseLine:P,isRange:k}}function SPe(t){var e=$i(t,qK),r=Xa();return E.createElement(t5,{id:e.id,type:"area"},n=>E.createElement(E.Fragment,null,E.createElement(BP,{legendPayload:dPe(e)}),E.createElement(fPe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),E.createElement(FP,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:wH(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),E.createElement(wPe,$h({},e,{id:n}))))}var HK=E.memo(SPe,Mv);HK.displayName="Area";var EPe=["domain","range"],TPe=["domain","range"];function c9(t,e){if(t==null)return{};var r,n,i=kPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function d9(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function GK(t,e){if(t===e)return!0;var{domain:r,range:n}=t,i=c9(t,EPe),{domain:a,range:s}=e,l=c9(e,TPe);return!d9(r,a)||!d9(n,s)?!1:Mv(i,l)}var CPe=["dangerouslySetInnerHTML","ticks"],NPe=["id"];function N4(){return N4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N4.apply(null,arguments)}function f9(t,e){if(t==null)return{};var r,n,i=PPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function PPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function jPe(t){var e=Wn(),r=E.useRef(null);return E.useLayoutEffect(()=>{r.current===null?e(U4e(t)):r.current!==t&&e(V4e({prev:r.current,next:t})),r.current=t},[t,e]),E.useLayoutEffect(()=>()=>{r.current&&(e(z4e(r.current)),r.current=null)},[e]),null}var RPe=t=>{var{xAxisId:e,className:r}=t,n=$t(hN),i=Xa(),a="xAxis",s=$t(_=>Cg(_,a,e,i)),l=$t(_=>SW(_,a,e,i)),c=$t(_=>xW(_,e)),d=$t(_=>z_e(_,e)),f=$t(_=>tW(_,e));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=t,m=f9(t,CPe),{id:w}=f,S=f9(f,NPe);return E.createElement($P,N4({},m,S,{scale:s,x:d.x,y:d.y,width:c.width,height:c.height,className:sn("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:l,axisType:a}))},OPe={allowDataOverflow:za.allowDataOverflow,allowDecimals:za.allowDecimals,allowDuplicatedCategory:za.allowDuplicatedCategory,angle:za.angle,axisLine:ed.axisLine,height:za.height,hide:!1,includeHidden:za.includeHidden,interval:za.interval,minTickGap:za.minTickGap,mirror:za.mirror,orientation:za.orientation,padding:za.padding,reversed:za.reversed,scale:za.scale,tick:za.tick,tickCount:za.tickCount,tickLine:ed.tickLine,tickSize:ed.tickSize,type:za.type,xAxisId:0},IPe=t=>{var e=$i(t,OPe);return E.createElement(E.Fragment,null,E.createElement(jPe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),E.createElement(RPe,e))},pm=E.memo(IPe,GK);pm.displayName="XAxis";var DPe=["dangerouslySetInnerHTML","ticks"],LPe=["id"];function P4(){return P4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P4.apply(null,arguments)}function h9(t,e){if(t==null)return{};var r,n,i=MPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function MPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function BPe(t){var e=Wn(),r=E.useRef(null);return E.useLayoutEffect(()=>{r.current===null?e($4e(t)):r.current!==t&&e(q4e({prev:r.current,next:t})),r.current=t},[t,e]),E.useLayoutEffect(()=>()=>{r.current&&(e(H4e(r.current)),r.current=null)},[e]),null}var FPe=t=>{var{yAxisId:e,className:r,width:n,label:i}=t,a=E.useRef(null),s=E.useRef(null),l=$t(hN),c=Xa(),d=Wn(),f="yAxis",p=$t(O=>Cg(O,f,e,c)),g=$t(O=>wW(O,e)),m=$t(O=>q_e(O,e)),w=$t(O=>SW(O,f,e,c)),S=$t(O=>rW(O,e));if(E.useLayoutEffect(()=>{if(!(n!=="auto"||!g||CP(i)||E.isValidElement(i)||S==null)){var O=a.current;if(O){var z=O.getCalculatedWidth();Math.round(g.width)!==Math.round(z)&&d(G4e({id:e,width:z}))}}},[w,g,d,i,e,n,S]),g==null||m==null||S==null)return null;var{dangerouslySetInnerHTML:_,ticks:k}=t,N=h9(t,DPe),{id:P}=S,F=h9(S,LPe);return E.createElement($P,P4({},N,F,{ref:a,labelRef:s,scale:p,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:sn("recharts-".concat(f," ").concat(f),r),viewBox:l,ticks:w,axisType:f}))},UPe={allowDataOverflow:$a.allowDataOverflow,allowDecimals:$a.allowDecimals,allowDuplicatedCategory:$a.allowDuplicatedCategory,angle:$a.angle,axisLine:ed.axisLine,hide:!1,includeHidden:$a.includeHidden,interval:$a.interval,minTickGap:$a.minTickGap,mirror:$a.mirror,orientation:$a.orientation,padding:$a.padding,reversed:$a.reversed,scale:$a.scale,tick:$a.tick,tickCount:$a.tickCount,tickLine:ed.tickLine,tickSize:ed.tickSize,type:$a.type,width:$a.width,yAxisId:0},VPe=t=>{var e=$i(t,UPe);return E.createElement(E.Fragment,null,E.createElement(BPe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),E.createElement(FPe,e))},mm=E.memo(VPe,GK);mm.displayName="YAxis";var zPe=(t,e)=>e,HP=He([zPe,qr,JG,ja,UW,Ed,aSe,Na],fSe),GP=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},WK=Cl("mouseClick"),KK=vv();KK.startListening({actionCreator:WK,effect:(t,e)=>{var r=t.payload,n=HP(e.getState(),GP(r));n?.activeIndex!=null&&e.dispatch(iAe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var j4=Cl("mouseMove"),YK=vv(),vb=null;YK.startListening({actionCreator:j4,effect:(t,e)=>{var r=t.payload;vb!==null&&cancelAnimationFrame(vb);var n=GP(r);vb=requestAnimationFrame(()=>{var i=e.getState(),a=yP(i,i.tooltip.settings.shared);if(a==="axis"){var s=HP(i,n);s?.activeIndex!=null?e.dispatch(RW({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(jW())}vb=null})}});var p9={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},XK=ko({name:"rootProps",initialState:p9,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:p9.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),$Pe=XK.reducer,{updateOptions:qPe}=XK.actions,QK=ko({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:HPe}=QK.actions,GPe=QK.reducer,ZK=Cl("keyDown"),JK=Cl("focus"),WP=vv();WP.startListening({actionCreator:ZK,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=vP(i,Pg(r),jv(r),Dv(r)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var c=Ed(r);if(a==="Enter"){var d=g2(r,"axis","hover",String(i.index));e.dispatch(b4({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=K_e(r),p=f==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,m=l+g*p;if(!(c==null||m>=c.length||m<0)){var w=g2(r,"axis","hover",String(m));e.dispatch(b4({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});WP.startListening({actionCreator:JK,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=g2(r,"axis","hover",String(a));e.dispatch(b4({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ml=Cl("externalEvent"),eY=vv(),iE=new Map;eY.startListening({actionCreator:ml,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var i=n.type,a=iE.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var l=e.getState(),c={activeCoordinate:qAe(l),activeDataKey:AP(l),activeIndex:Df(l),activeLabel:$W(l),activeTooltipIndex:Df(l),isTooltipActive:HAe(l)};r(c,n)}finally{iE.delete(i)}});iE.set(i,s)}}});var WPe=He([Ng],t=>t.tooltipItemPayloads),KPe=He([WPe,Ov,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,r);return s}}}),tY=Cl("touchMove"),rY=vv();rY.startListening({actionCreator:tY,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=yP(n,n.tooltip.settings.shared);if(i==="axis"){var a=HP(n,GP({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));a?.activeIndex!=null&&e.dispatch(RW({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(AH),f=(s=c.getAttribute(SH))!==null&&s!==void 0?s:void 0,p=KPe(e.getState(),d,f);e.dispatch(PW({activeDataKey:f,activeIndex:d,activeCoordinate:p}))}}}});var YPe=qq({brush:ICe,cartesianAxis:W4e,chartData:$Se,errorBars:fke,graphicalItems:e4e,layout:g1e,legend:Sbe,options:BSe,polarAxis:mTe,polarOptions:GPe,referenceElements:VCe,rootProps:$Pe,tooltip:aAe,zIndex:TSe}),XPe=function(e){return Vve({reducer:YPe,preloadedState:e,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([KK.middleware,YK.middleware,WP.middleware,eY.middleware,rY.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(aH({type:"raf"}))},devTools:bg.devToolsEnabled})};function nY(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=Xa(),a=E.useRef(null);if(i)return r;a.current==null&&(a.current=XPe(e));var s=iN;return E.createElement(Lke,{context:s,store:a.current},r)}function QPe(t){var{layout:e,margin:r}=t,n=Wn(),i=Xa();return E.useEffect(()=>{i||(n(h1e(e)),n(f1e(r)))},[n,i,e,r]),null}var iY=E.memo(QPe,Mv);function aY(t){var e=Wn();return E.useEffect(()=>{e(qPe(t))},[e,t]),null}function m9(t){var{zIndex:e,isPanorama:r}=t,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=vK("".concat(n).concat(e)),a=Wn();return E.useLayoutEffect(()=>(a(SSe({zIndex:e,elementId:i,isPanorama:r})),()=>{a(ESe({zIndex:e,isPanorama:r}))}),[a,e,i,r]),E.createElement("g",{tabIndex:-1,id:i})}function g9(t){var{children:e,isPanorama:r}=t,n=$t(pSe);if(!n||n.length===0)return e;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return E.createElement(E.Fragment,null,i.map(s=>E.createElement(m9,{key:s,zIndex:s,isPanorama:r})),e,a.map(s=>E.createElement(m9,{key:s,zIndex:s,isPanorama:r})))}var ZPe=["children"];function JPe(t,e){if(t==null)return{};var r,n,i=e3e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function e3e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function T2(){return T2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T2.apply(null,arguments)}var t3e={width:"100%",height:"100%",display:"block"},r3e=E.forwardRef((t,e)=>{var r=mN(),n=gN(),i=UH();if(!ac(r)||!ac(n))return null;var{children:a,otherAttributes:s,title:l,desc:c}=t,d,f;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?f=s.role:f=i?"application":void 0),E.createElement(KC,T2({},s,{title:l,desc:c,role:f,tabIndex:d,width:r,height:n,style:t3e,ref:e}),a)}),n3e=t=>{var{children:e}=t,r=$t(kw);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return E.createElement(KC,{width:n,height:i,x:s,y:a},e)},y9=E.forwardRef((t,e)=>{var{children:r}=t,n=JPe(t,ZPe),i=Xa();return i?E.createElement(n3e,null,E.createElement(g9,{isPanorama:!0},r)):E.createElement(r3e,T2({ref:e},n),E.createElement(g9,{isPanorama:!1},r))});function i3e(){var t=Wn(),[e,r]=E.useState(null),n=$t(O1e);return E.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;ai(a)&&a!==n&&t(m1e(a))}},[e,t,n]),r}function v9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a3e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v9(Object(r),!0).forEach(function(n){s3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s3e(t,e,r){return(e=o3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o3e(t){var e=l3e(t,"string");return typeof e=="symbol"?e:e+""}function l3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ap.apply(null,arguments)}var u3e=()=>(ZSe(),null);function k2(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var c3e=E.forwardRef((t,e)=>{var r,n,i=E.useRef(null),[a,s]=E.useState({containerWidth:k2((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:k2((n=t.style)===null||n===void 0?void 0:n.height)}),l=E.useCallback((d,f)=>{s(p=>{var g=Math.round(d),m=Math.round(f);return p.containerWidth===g&&p.containerHeight===m?p:{containerWidth:g,containerHeight:m}})},[]),c=E.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=d.getBoundingClientRect();l(f,p);var g=w=>{var{width:S,height:_}=w[0].contentRect;l(S,_)},m=new ResizeObserver(g);m.observe(d),i.current=m}},[e,l]);return E.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),E.createElement(E.Fragment,null,E.createElement(Nw,{width:a.containerWidth,height:a.containerHeight}),E.createElement("div",ap({ref:c},t)))}),d3e=E.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,a]=E.useState({containerWidth:k2(r),containerHeight:k2(n)}),s=E.useCallback((c,d)=>{a(f=>{var p=Math.round(c),g=Math.round(d);return f.containerWidth===p&&f.containerHeight===g?f:{containerWidth:p,containerHeight:g}})},[]),l=E.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();s(d,f)}},[e,s]);return E.createElement(E.Fragment,null,E.createElement(Nw,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",ap({ref:l},t)))}),f3e=E.forwardRef((t,e)=>{var{width:r,height:n}=t;return E.createElement(E.Fragment,null,E.createElement(Nw,{width:r,height:n}),E.createElement("div",ap({ref:e},t)))}),h3e=E.forwardRef((t,e)=>{var{width:r,height:n}=t;return ud(r)||ud(n)?E.createElement(d3e,ap({},t,{ref:e})):E.createElement(f3e,ap({},t,{ref:e}))});function p3e(t){return t===!0?c3e:h3e}var m3e=E.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:g,onTouchEnd:m,onTouchMove:w,onTouchStart:S,style:_,width:k,responsive:N,dispatchTouchEvents:P=!0}=t,F=E.useRef(null),O=Wn(),[z,L]=E.useState(null),[I,D]=E.useState(null),$=i3e(),j=pN(),V=j?.width>0?j.width:k,M=j?.height>0?j.height:i,J=E.useCallback(he=>{$(he),typeof e=="function"&&e(he),L(he),D(he),he!=null&&(F.current=he)},[$,e,L,D]),_e=E.useCallback(he=>{O(WK(he)),O(ml({handler:a,reactEvent:he}))},[O,a]),se=E.useCallback(he=>{O(j4(he)),O(ml({handler:d,reactEvent:he}))},[O,d]),ee=E.useCallback(he=>{O(jW()),O(ml({handler:f,reactEvent:he}))},[O,f]),fe=E.useCallback(he=>{O(j4(he)),O(ml({handler:p,reactEvent:he}))},[O,p]),we=E.useCallback(()=>{O(JK())},[O]),Be=E.useCallback(he=>{O(ZK(he.key))},[O]),Z=E.useCallback(he=>{O(ml({handler:s,reactEvent:he}))},[O,s]),q=E.useCallback(he=>{O(ml({handler:l,reactEvent:he}))},[O,l]),Q=E.useCallback(he=>{O(ml({handler:c,reactEvent:he}))},[O,c]),re=E.useCallback(he=>{O(ml({handler:g,reactEvent:he}))},[O,g]),ae=E.useCallback(he=>{O(ml({handler:S,reactEvent:he}))},[O,S]),ye=E.useCallback(he=>{P&&O(tY(he)),O(ml({handler:w,reactEvent:he}))},[O,P,w]),Te=E.useCallback(he=>{O(ml({handler:m,reactEvent:he}))},[O,m]),Ve=p3e(N);return E.createElement(QW.Provider,{value:z},E.createElement(sq.Provider,{value:I},E.createElement(Ve,{width:V??_?.width,height:M??_?.height,className:sn("recharts-wrapper",n),style:a3e({position:"relative",cursor:"default",width:V,height:M},_),onClick:_e,onContextMenu:Z,onDoubleClick:q,onFocus:we,onKeyDown:Be,onMouseDown:Q,onMouseEnter:se,onMouseLeave:ee,onMouseMove:fe,onMouseUp:re,onTouchEnd:Te,onTouchMove:ye,onTouchStart:ae,ref:J},E.createElement(u3e,null),r)))}),g3e=["width","height","responsive","children","className","style","compact","title","desc"];function y3e(t,e){if(t==null)return{};var r,n,i=v3e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function v3e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var sY=E.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:l,compact:c,title:d,desc:f}=t,p=y3e(t,g3e),g=Qs(p);return c?E.createElement(E.Fragment,null,E.createElement(Nw,{width:r,height:n}),E.createElement(y9,{otherAttributes:g,title:d,desc:f},a)):E.createElement(m3e,{className:s,style:l,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},E.createElement(y9,{otherAttributes:g,title:d,desc:f,ref:e},E.createElement($Ce,null,a)))});function R4(){return R4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R4.apply(null,arguments)}var b3e={top:5,right:5,bottom:5,left:5},x3e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:b3e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},KP=E.forwardRef(function(e,r){var n,i=$i(e.categoricalChartProps,x3e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,f={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return E.createElement(nY,{preloadedState:{options:f},reduxStoreName:(n=d.id)!==null&&n!==void 0?n:a},E.createElement(TK,{chartData:d.data}),E.createElement(iY,{layout:i.layout,margin:i.margin}),E.createElement(aY,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(sY,R4({},i,{ref:r})))}),w3e=["axis"],_3e=E.forwardRef((t,e)=>E.createElement(KP,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:w3e,tooltipPayloadSearcher:Yw,categoricalChartProps:t,ref:e})),A3e=["axis","item"],aE=E.forwardRef((t,e)=>E.createElement(KP,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:A3e,tooltipPayloadSearcher:Yw,categoricalChartProps:t,ref:e}));function S3e(t){var e=Wn();return E.useEffect(()=>{e(HPe(t))},[e,t]),null}var E3e=["layout"];function O4(){return O4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O4.apply(null,arguments)}function T3e(t,e){if(t==null)return{};var r,n,i=k3e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function k3e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var C3e={top:5,right:5,bottom:5,left:5},oY={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:C3e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},N3e=E.forwardRef(function(e,r){var n,i=$i(e.categoricalChartProps,oY),{layout:a}=i,s=T3e(i,E3e),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f}=e,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return E.createElement(nY,{preloadedState:{options:p},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:l},E.createElement(TK,{chartData:i.data}),E.createElement(iY,{layout:a,margin:i.margin}),E.createElement(aY,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(S3e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),E.createElement(sY,O4({},s,{ref:r})))});function b9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b9(Object(r),!0).forEach(function(n){P3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P3e(t,e,r){return(e=j3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j3e(t){var e=R3e(t,"string");return typeof e=="symbol"?e:e+""}function R3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O3e=["item"],I3e=x9(x9({},oY),{},{layout:"centric",startAngle:0,endAngle:360}),w9=E.forwardRef((t,e)=>{var r=$i(t,I3e);return E.createElement(N3e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:O3e,tooltipPayloadSearcher:Yw,categoricalChartProps:r,ref:e})}),D3e=["axis"],L3e=E.forwardRef((t,e)=>E.createElement(KP,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:D3e,tooltipPayloadSearcher:Yw,categoricalChartProps:t,ref:e}));const M3e=({user:t,onBack:e})=>{const[r,n]=E.useState(!1),[i,a]=E.useState(!0),[s,l]=E.useState("dashboard"),[c,d]=E.useState({users:[],projects:[],models:[],subscriptions:[],payments:[],packages:[],templates:[]}),[f,p]=E.useState({}),[g,m]=E.useState([]),[w,S]=E.useState({userGrowth:[],subscriptionDistribution:[],paymentTrends:[],revenueByPlan:[],activeUsers:0,inactiveUsers:0,totalRevenue:0,monthlyRevenue:[],paymentStatusBreakdown:[]}),[_,k]=E.useState({totalUsers:0,totalProjects:0,totalModels:0,totalRevenue:0}),[N,P]=E.useState({userSearch:"",userStatus:"",userRole:"",projectSearch:"",projectStatus:"",modelSearch:"",modelType:"",modelProvider:"",modelStatus:"",subscriptionSearch:"",subscriptionPlan:"",subscriptionStatus:"",paymentSearch:"",paymentStatus:"",paymentDateFrom:""}),[F,O]=E.useState({user:{open:!1,editing:null},project:{open:!1,editing:null},model:{open:!1,editing:null},package:{open:!1,editing:null},template:{open:!1,editing:null}}),[z,L]=E.useState({}),[I,D]=E.useState([]),[$,j]=E.useState({users:{page:1,perPage:10},projects:{page:1,perPage:10},models:{page:1,perPage:10},subscriptions:{page:1,perPage:10},payments:{page:1,perPage:10},templates:{page:1,perPage:10},packages:{page:1,perPage:10}});E.useEffect(()=>{V()},[t]),E.useEffect(()=>{r&&M()},[r]);const V=async()=>{try{const W=await kU();n(W),a(!1),W||(ae("Access denied. Admin privileges required.","error"),setTimeout(()=>{e()},2e3))}catch{a(!1),ae("Error checking admin status","error")}},M=async()=>{try{a(!0);const[W,be,Xe,xe,de,ve,Ae,je,De]=await Promise.all([J(),_e(),se(),ee(),fe(),we(),Be(),Z(),q()]),$e=W||[],et=be||[],it=Xe||[],xt=xe||[],Rt=de||[];k({totalUsers:$e.length,totalProjects:et.length,totalModels:it.length,totalRevenue:Rt.filter(Ut=>Ut.status==="completed").reduce((Ut,br)=>Ut+(br.amount||0),0)}),await Q($e,Rt,xt),je&&p(je),De&&m(De),a(!1)}catch{ae("Failed to load dashboard data","error"),a(!1)}},J=async()=>{try{const W=await Rb();if(W.success){const be=W.data||[];return d(Xe=>({...Xe,users:be})),be}return[]}catch{return[]}},_e=async()=>{try{const W=await LU();if(W.success){const be=W.data||[];return d(Xe=>({...Xe,projects:be})),be}return[]}catch{return[]}},se=async()=>{try{const W=await MU();if(W.success){const be=W.data||[],Xe=be.filter(xe=>(xe.type||(xe.id?.includes("sora")?"video":null))==="video");return console.log(" Video models:",Xe),d(xe=>({...xe,models:be})),be}return[]}catch{return[]}},ee=async()=>{try{const W=await Rb();if(W.success){const be=W.data.map(Xe=>({userId:Xe.id,userEmail:Xe.email,displayName:Xe.displayName,plan:Xe.subscription||"free",status:Xe.subscriptionStatus||"active",credits:Xe.credits||{current:0,total:0},stripeCustomerId:Xe.stripeCustomerId,stripeSubscriptionId:Xe.stripeSubscriptionId,createdAt:Xe.createdAt}));return d(Xe=>({...Xe,subscriptions:be})),be}return[]}catch{return[]}},fe=async()=>{try{const W=await Rb();if(W.success){const be=await Ih(),Xe=[];for(const xe of W.data)if(xe.subscription&&xe.subscription!=="free"&&xe.stripeSubscriptionId){const de=be[xe.subscription];de&&Xe.push({id:xe.stripeSubscriptionId||`sub_${xe.id}`,userId:xe.id,userEmail:xe.email,amount:de.price,status:xe.subscriptionStatus==="active"?"completed":xe.subscriptionStatus||"pending",date:xe.createdAt,description:`${de.name} Subscription`,plan:xe.subscription})}return d(xe=>({...xe,payments:Xe})),Xe}return[]}catch{return[]}},we=async()=>{try{const W=await Qk();if(W.success){const be=W.data||[];return d(Xe=>({...Xe,packages:be})),be}return[]}catch{return[]}},Be=async()=>{try{const W=await Zk();if(W.success){const be=W.data||[];return d(Xe=>({...Xe,templates:be})),be}return[]}catch{return[]}},Z=async()=>{try{const W=await Ih();return p(W),W}catch{return null}},q=async()=>{try{const W=await IU();if(W.success&&W.data){const be={};W.data.forEach(xe=>{const de=xe.model||"unknown";be[de]||(be[de]={model:de,count:0,type:xe.type||"text"}),be[de].count++});const Xe=Object.values(be).sort((xe,de)=>de.count-xe.count).slice(0,20);return m(Xe),Xe}return[]}catch{return[]}},Q=async(W,be,Xe)=>{try{const xe=Array.isArray(W)?W:c.users||[],de=Array.isArray(be)?be:c.payments||[],ve=Array.isArray(Xe)?Xe:c.subscriptions||[],Ae={};xe.forEach(Dt=>{let fr;if(Dt.createdAt?.toDate)fr=Dt.createdAt.toDate();else if(Dt.createdAt?.seconds)fr=new Date(Dt.createdAt.seconds*1e3);else if(Dt.createdAt)fr=new Date(Dt.createdAt);else return;const Mr=`${fr.getFullYear()}-${String(fr.getMonth()+1).padStart(2,"0")}`;Ae[Mr]||(Ae[Mr]=0),Ae[Mr]++});const je=Object.entries(Ae).map(([Dt,fr])=>({month:Dt,users:fr})).sort((Dt,fr)=>Dt.month.localeCompare(fr.month)),De={};ve.forEach(Dt=>{const fr=Dt.plan||"free";De[fr]=(De[fr]||0)+1});const $e=Object.entries(De).map(([Dt,fr])=>({name:Dt.charAt(0).toUpperCase()+Dt.slice(1),value:fr})),et={};de.forEach(Dt=>{let fr;if(Dt.date?.toDate)fr=Dt.date.toDate();else if(Dt.date?.seconds)fr=new Date(Dt.date.seconds*1e3);else if(Dt.date)fr=new Date(Dt.date);else return;const Mr=`${fr.getFullYear()}-${String(fr.getMonth()+1).padStart(2,"0")}`;et[Mr]||(et[Mr]={revenue:0,count:0}),et[Mr].revenue+=Dt.amount||0,et[Mr].count++});const it=Object.entries(et).map(([Dt,fr])=>({month:Dt,revenue:fr.revenue,count:fr.count})).sort((Dt,fr)=>Dt.month.localeCompare(fr.month)),xt={};de.forEach(Dt=>{if(Dt.status==="completed"){const fr=Dt.plan||"unknown";xt[fr]=(xt[fr]||0)+(Dt.amount||0)}});const Rt=Object.entries(xt).map(([Dt,fr])=>({name:Dt.charAt(0).toUpperCase()+Dt.slice(1),revenue:fr})),Ut=xe.filter(Dt=>Dt.isActive!==!1).length,br=xe.length-Ut,St=de.filter(Dt=>Dt.status==="completed").reduce((Dt,fr)=>Dt+(fr.amount||0),0),Cr=it.map(Dt=>({month:Dt.month,revenue:Dt.revenue})),fn={};de.forEach(Dt=>{const fr=Dt.status||"pending";fn[fr]=(fn[fr]||0)+1});const gn=Object.entries(fn).map(([Dt,fr])=>({name:Dt.charAt(0).toUpperCase()+Dt.slice(1),value:fr}));S({userGrowth:je,subscriptionDistribution:$e,paymentTrends:it,revenueByPlan:Rt,activeUsers:Ut,inactiveUsers:br,totalRevenue:St,monthlyRevenue:Cr,paymentStatusBreakdown:gn})}catch{}},re=async()=>{if(!window.confirm("This will create default packages in the database. Continue?"))return;if(!r){ae("Admin privileges required to create packages","error");return}const W=[{id:"free",name:"Free",price:0,priceId:null,monthlyCredits:50,features:["50 credits per month","Basic AI models","Community support"],limits:{maxProjects:3,maxSheets:5,maxCells:20}},{id:"starter",name:"Starter",price:9.99,priceId:null,monthlyCredits:500,features:["500 credits per month","All AI models","Priority support","Unlimited projects","Unlimited sheets"],limits:{maxProjects:-1,maxSheets:-1,maxCells:-1}},{id:"pro",name:"Pro",price:29.99,priceId:null,monthlyCredits:2e3,features:["2,000 credits per month","All AI models","Priority support","Unlimited projects","Unlimited sheets","Advanced features"],limits:{maxProjects:-1,maxSheets:-1,maxCells:-1}},{id:"enterprise",name:"Enterprise",price:99.99,priceId:null,monthlyCredits:1e4,features:["10,000 credits per month","All AI models","24/7 support","Unlimited everything","Custom integrations","Dedicated account manager"],limits:{maxProjects:-1,maxSheets:-1,maxCells:-1}}];try{a(!0);let be=0,Xe=0,xe=[];await we();for(const de of W)try{if(c.packages.find(je=>je.id===de.id)){Xe++;continue}const Ae=await VE(de);Ae.success?be++:xe.push(`${de.id}: ${Ae.error}`)}catch(ve){xe.push(`${de.id}: ${ve.message}`)}await we(),xe.length>0?ae(`Created ${be} packages, skipped ${Xe}, ${xe.length} errors: ${xe.join(", ")}`,"error"):ae(`Successfully created ${be} packages, skipped ${Xe} existing packages`,"success")}catch(be){ae("Error populating packages: "+be.message,"error")}finally{a(!1)}};E.useEffect(()=>{const W=c.payments.filter(be=>be.status==="completed").reduce((be,Xe)=>be+(Xe.amount||0),0);k({totalUsers:c.users.length,totalProjects:c.projects.length,totalModels:c.models.length,totalRevenue:W})},[c.users.length,c.projects.length,c.models.length,c.payments.length]);const ae=(W,be="success")=>{const Xe=Date.now();D(xe=>[...xe,{id:Xe,message:W,type:be}]),setTimeout(()=>{D(xe=>xe.filter(de=>de.id!==Xe))},5e3)},ye=async()=>{try{await EU(),e()}catch{}},Te=async(W,be=100)=>{try{const Xe=await VU(W,be);Xe.success?(ae(`Successfully added ${be} credits to user. New balance: ${Xe.newCredits}`,"success"),J()):ae(`Failed to add credits: ${Xe.error}`,"error")}catch{ae("Error adding credits","error")}},Ve=async W=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const be=await DU(W);be.success?(ae("User deleted successfully","success"),J()):ae(`Failed to delete user: ${be.error}`,"error")}catch{ae("Error deleting user","error")}},he=async(W,be)=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone."))try{const Xe=await Kk(be,W);Xe.success?(ae("Project deleted successfully","success"),_e()):ae(`Failed to delete project: ${Xe.error}`,"error")}catch{ae("Error deleting project","error")}},Ce=async W=>{if(window.confirm("Are you sure you want to delete this model? This action cannot be undone."))try{const be=await BU(W);be.success?(ae("Model deleted successfully","success"),se()):ae(`Failed to delete model: ${be.error}`,"error")}catch{ae("Error deleting model","error")}},We=async(W,be)=>{try{const Xe=await O0(W,{isActive:be,status:be?"active":"inactive",updatedAt:new Date});Xe.success?(ae(`Model ${be?"enabled":"disabled"} successfully`,"success"),se()):ae(`Failed to update model: ${Xe.error}`,"error")}catch{ae("Error updating model","error")}},Ie=async W=>{try{const be=await VE(W);be.success?(ae("Package created successfully","success"),O(Xe=>({...Xe,package:{open:!1,editing:null}})),L({}),we()):ae(`Failed to create package: ${be.error}`,"error")}catch{ae("Error creating package","error")}},dt=async W=>{try{const be=await $U(F.package.editing,W);be.success?(ae("Package updated successfully","success"),O(Xe=>({...Xe,package:{open:!1,editing:null}})),L({}),we()):ae(`Failed to update package: ${be.error}`,"error")}catch{ae("Error updating package","error")}},vt=async W=>{if(window.confirm("Are you sure you want to delete this package? This action cannot be undone."))try{const be=await qU(W);be.success?(ae("Package deleted successfully","success"),we()):ae(`Failed to delete package: ${be.error}`,"error")}catch{ae("Error deleting package","error")}},ce=async W=>{try{const be=await gx(W);be.success?(ae("Template created successfully","success"),O(Xe=>({...Xe,template:{open:!1,editing:null}})),L({}),Be()):ae(`Failed to create template: ${be.error}`,"error")}catch{ae("Error creating template","error")}},yt=async W=>{try{const be=await HU(F.template.editing,W);be.success?(ae("Template updated successfully","success"),O(Xe=>({...Xe,template:{open:!1,editing:null}})),L({}),Be()):ae(`Failed to update template: ${be.error}`,"error")}catch{ae("Error updating template","error")}},Yt=async W=>{if(window.confirm("Are you sure you want to delete this template? This action cannot be undone."))try{const be=await GU(W);be.success?(ae("Template deleted successfully","success"),Be()):ae(`Failed to delete template: ${be.error}`,"error")}catch{ae("Error deleting template","error")}},Ft=async()=>{if(!window.confirm("This will create default templates in the database. Continue?"))return;if(!r){ae("Admin privileges required to create templates","error");return}const{TEMPLATES:W}=await Wa(async()=>{const{TEMPLATES:Ae}=await Promise.resolve().then(()=>$3e);return{TEMPLATES:Ae}},void 0),be=Object.values(W);let Xe=0,xe=0,de=[];for(const Ae of be)try{const je=await gx(Ae);je.success?Xe++:(xe++,de.push(`${Ae.id}: ${je.error}`))}catch(je){xe++,de.push(`${Ae.id}: ${je.message}`)}const ve=`Created ${Xe} templates, skipped ${xe}${de.length>0?`, ${de.length} errors: ${de.join(", ")}`:""}`;ae(ve,de.length>0?"error":"success"),Be()},Je=async()=>[{id:"gpt-4o",name:"GPT-4o",description:"Most advanced GPT-4 model",provider:"openai",type:"text"},{id:"gpt-4o-mini",name:"GPT-4o Mini",description:"Faster, cheaper GPT-4 model",provider:"openai",type:"text"},{id:"gpt-4-turbo",name:"GPT-4 Turbo",description:"Previous generation GPT-4",provider:"openai",type:"text"},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo",description:"Fast and efficient model",provider:"openai",type:"text"},{id:"dall-e-3",name:"DALL-E 3",description:"Latest DALL-E image generation model",provider:"openai",type:"image"},{id:"dall-e-2",name:"DALL-E 2",description:"Previous generation image model",provider:"openai",type:"image"},{id:"sora-2",name:"Sora 2",description:"OpenAI Sora 2 - Standard quality video generation (720p)",provider:"openai",type:"video"},{id:"sora-2-pro",name:"Sora 2 Pro",description:"OpenAI Sora 2 Pro - Cinematic quality video generation (720p or 1024p)",provider:"openai",type:"video"},{id:"tts-1",name:"TTS-1",description:"Text-to-Speech model",provider:"openai",type:"audio"},{id:"tts-1-hd",name:"TTS-1 HD",description:"High-definition Text-to-Speech model",provider:"openai",type:"audio"}],Nt=async()=>[{id:"gemini-2.0-flash-exp",name:"Gemini 2.0 Flash (Experimental)",description:"Latest experimental Gemini model",provider:"gemini",type:"text"},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",description:"Most capable Gemini model",provider:"gemini",type:"text"},{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash",description:"Fast and efficient Gemini model",provider:"gemini",type:"text"},{id:"gemini-pro",name:"Gemini Pro",description:"Standard Gemini model",provider:"gemini",type:"text"},{id:"imagen-3",name:"Imagen 3",description:"Google Imagen 3 image generation",provider:"gemini",type:"image"}],kt=async()=>{try{ae("Syncing OpenAI models...","success");const W=await Je();let be=0,Xe=0;const xe=W.filter(De=>De.type==="video");for(const De of W){const $e=De.id.replace(/\//g,"-").replace(/[^a-zA-Z0-9-]/g,"-"),et=c.models.find(Rt=>Rt.id===$e),it=De.type||(De.id.includes("sora")?"video":De.id.includes("tts")?"audio":De.id.includes("dall-e")?"image":"text"),xt={id:$e,originalId:De.id,name:De.name,description:De.description,provider:"openai",type:it,source:"openai",status:et?.status||"inactive",isActive:et?.isActive!==void 0?et.isActive:!1,updatedAt:new Date};et?(await O0($e,xt),Xe++):(await Ob({...xt,createdAt:new Date}),be++)}const de=W.filter(De=>De.type==="text").length,ve=W.filter(De=>De.type==="image").length,Ae=W.filter(De=>De.type==="video").length,je=W.filter(De=>De.type==="audio").length;ae(`Synced ${W.length} OpenAI models (${be} new, ${Xe} updated, ${de} text, ${ve} image, ${Ae} video, ${je} audio)`,"success"),se()}catch(W){ae("Failed to sync OpenAI models: "+W.message,"error")}},lt=async()=>{try{ae("Syncing Gemini models...","success");const W=await Nt();let be=0,Xe=0;for(const ve of W){const Ae=ve.id.replace(/\//g,"-").replace(/[^a-zA-Z0-9-]/g,"-"),je=c.models.find($e=>$e.id===Ae),De={id:Ae,originalId:ve.id,name:ve.name,description:ve.description,provider:"gemini",type:ve.type||"text",source:"gemini",status:je?.status||"inactive",isActive:je?.isActive!==void 0?je.isActive:!1,updatedAt:new Date};je?(await O0(Ae,De),Xe++):(await Ob({...De,createdAt:new Date}),be++)}const xe=W.filter(ve=>ve.type==="text").length,de=W.filter(ve=>ve.type==="image").length;ae(`Synced ${W.length} Gemini models (${be} new, ${Xe} updated, ${xe} text, ${de} image)`,"success"),se()}catch(W){ae("Failed to sync Gemini models: "+W.message,"error")}},It=async W=>{const be=await Ih(),Xe=Object.keys(be).join(", "),xe=window.prompt(`Change subscription plan for ${W.userEmail}

Current: ${W.plan}

Enter new plan (${Xe}):`,W.plan);if(!(!xe||!be[xe])){if(xe===W.plan){ae("Plan is already set to "+xe,"error");return}try{const de=be[xe]||await bx(xe),ve=new Date,Ae=new Date(ve.getTime()+720*60*60*1e3),je=await UE(W.userId,{subscription:xe,subscriptionStatus:"active",credits:{current:de.monthlyCredits,total:de.monthlyCredits,lastReset:ve,nextReset:Ae}});je.success?(ae(`Subscription updated to ${de.name}`,"success"),ee(),J()):ae(`Failed to update subscription: ${je.error}`,"error")}catch{ae("Error updating subscription","error")}}},tr=async(W,be)=>{if(window.confirm("Reset credits for this user? This will set credits to the monthly amount for their plan."))try{const Xe=await bx(be),xe=await Xk(W,be,Xe.monthlyCredits);xe.success?(ae("Credits reset successfully","success"),ee()):ae(`Failed to reset credits: ${xe.error}`,"error")}catch{ae("Error resetting credits","error")}},Jt=(W,be)=>{const{page:Xe,perPage:xe}=$[be],de=(Xe-1)*xe,ve=de+xe;return W.slice(de,ve)},qt=(W,be)=>{const{perPage:Xe}=$[be];return Math.ceil(W.length/Xe)||1},ir=(W,be)=>{j(Xe=>({...Xe,[W]:{...Xe[W],page:be}})),window.scrollTo({top:0,behavior:"smooth"})},rr=(W,be)=>{j(Xe=>({...Xe,[W]:{page:1,perPage:be}}))};E.useEffect(()=>{j(W=>({users:{...W.users,page:1},projects:{...W.projects,page:1},models:{...W.models,page:1},subscriptions:{...W.subscriptions,page:1},payments:{...W.payments,page:1},templates:{...W.templates,page:1},packages:{...W.packages,page:1}}))},[N.userSearch,N.userStatus,N.userRole,N.projectSearch,N.projectStatus,N.modelSearch,N.modelType,N.modelProvider,N.modelStatus]);const Pt=c.users.filter(W=>{const be=!N.userSearch||W.email?.toLowerCase().includes(N.userSearch.toLowerCase())||W.displayName?.toLowerCase().includes(N.userSearch.toLowerCase()),Xe=!N.userStatus||(N.userStatus==="active"?W.isActive!==!1:W.isActive===!1),xe=!N.userRole||W.role===N.userRole;return be&&Xe&&xe}),er=c.projects.filter(W=>{const be=!N.projectSearch||W.name?.toLowerCase().includes(N.projectSearch.toLowerCase())||W.userEmail?.toLowerCase().includes(N.projectSearch.toLowerCase()),Xe=!N.projectStatus||W.status===N.projectStatus;return be&&Xe}),Ct=c.models.filter(W=>{const be=!N.modelSearch||W.id?.toLowerCase().includes(N.modelSearch.toLowerCase())||W.name?.toLowerCase().includes(N.modelSearch.toLowerCase()),Xe=W.type||(W.id?.includes("sora")?"video":W.id?.includes("tts")?"audio":W.id?.includes("dall-e")||W.id?.includes("imagen")?"image":"text"),xe=!N.modelType||Xe===N.modelType,de=!N.modelProvider||W.provider===N.modelProvider,ve=!N.modelStatus||(N.modelStatus==="active"?W.isActive||W.status==="active":W.isActive===!1||W.status==="inactive");return be&&xe&&de&&ve}),Ar=(c.subscriptions||[]).filter(W=>{const be=!N.subscriptionSearch||W.userEmail?.toLowerCase().includes(N.subscriptionSearch.toLowerCase())||W.displayName?.toLowerCase().includes(N.subscriptionSearch.toLowerCase()),Xe=!N.subscriptionPlan||W.plan===N.subscriptionPlan,xe=!N.subscriptionStatus||W.status===N.subscriptionStatus;return be&&Xe&&xe}),ar=(c.payments||[]).filter(W=>{const be=!N.paymentSearch||W.userEmail?.toLowerCase().includes(N.paymentSearch.toLowerCase())||W.plan?.toLowerCase().includes(N.paymentSearch.toLowerCase()),Xe=!N.paymentStatus||W.status===N.paymentStatus;return be&&Xe}),jt=c.templates||[],Ht=c.packages||[],Se=Jt(Pt,"users"),Le=Jt(er,"projects"),Et=Jt(Ct,"models"),rt=Jt(Ar,"subscriptions"),bt=Jt(ar,"payments"),_t=Jt(jt,"templates"),gt=Jt(Ht,"packages");return i?y.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading admin dashboard..."})]})}):r?y.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:[y.jsxs("div",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 fixed h-screen overflow-y-auto",children:[y.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(d$,{className:"h-6 w-6 text-green-600"}),y.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Admin Panel"})]}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cellulai Management"})]}),y.jsxs("nav",{className:"p-4 space-y-1",children:[[{id:"dashboard",icon:DI,label:"Dashboard"},{id:"users",icon:G1,label:"Users"},{id:"projects",icon:vy,label:"Projects"},{id:"models",icon:II,label:"AI Models"},{id:"templates",icon:Bh,label:"Templates"},{id:"packages",icon:X0,label:"Packages"},{id:"subscriptions",icon:X0,label:"Subscriptions"},{id:"payments",icon:nA,label:"Payments"},{id:"analytics",icon:DI,label:"Analytics"},{id:"settings",icon:c$,label:"Settings"}].map(W=>{const be=W.icon;return y.jsxs("button",{onClick:()=>l(W.id),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg transition-colors ${s===W.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[y.jsx(be,{className:"h-5 w-5"}),y.jsx("span",{children:W.label})]},W.id)}),y.jsxs("button",{onClick:ye,className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors mt-4",children:[y.jsx(l$,{className:"h-5 w-5"}),y.jsx("span",{children:"Logout"})]})]})]}),y.jsx("div",{className:"flex-1 ml-64",children:y.jsxs("div",{className:"p-6",children:[y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[s==="dashboard"&&"Dashboard",s==="users"&&"User Management",s==="projects"&&"Project Management",s==="models"&&"AI Model Management",s==="templates"&&"Template Management",s==="packages"&&"Package Management",s==="subscriptions"&&"Subscription Management",s==="payments"&&"Payment Management",s==="analytics"&&"Analytics",s==="settings"&&"System Settings"]}),y.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Welcome, ",t?.email]})]}),y.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[y.jsx(fh,{className:"h-4 w-4"}),y.jsx("span",{children:"Refresh"})]})]})}),s==="dashboard"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Users"}),y.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:_.totalUsers})]}),y.jsx(G1,{className:"h-12 w-12 text-blue-500"})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Projects"}),y.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:_.totalProjects})]}),y.jsx(vy,{className:"h-12 w-12 text-red-500"})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"AI Models"}),y.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:_.totalModels})]}),y.jsx(II,{className:"h-12 w-12 text-yellow-500"})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Revenue"}),y.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:["$",_.totalRevenue.toFixed(2)]})]}),y.jsx(nA,{className:"h-12 w-12 text-green-500"})]})})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Model Usage Statistics"}),g.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No usage data available"}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:"Usage by Model (Top 20)"}),y.jsx(hh,{width:"100%",height:400,children:y.jsxs(aE,{data:g,children:[y.jsx(hm,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),y.jsx(pm,{dataKey:"model",angle:-45,textAnchor:"end",height:120,tick:{fontSize:12},stroke:"#6b7280"}),y.jsx(mm,{label:{value:"Usage Count",angle:-90,position:"insideLeft"},stroke:"#6b7280"}),y.jsx(ph,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"}}),y.jsx(Wb,{}),y.jsx(Xb,{dataKey:"count",fill:"#3b82f6",name:"Generations"})]})})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:"Detailed Breakdown"}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Model"}),y.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Type"}),y.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Usage Count"}),y.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Percentage"})]})}),y.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:g.map((W,be)=>{const Xe=g.reduce((de,ve)=>de+ve.count,0),xe=(W.count/Xe*100).toFixed(1);return y.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[y.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-white font-mono text-xs",children:W.model}),y.jsx("td",{className:"px-4 py-2",children:y.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${W.type==="image"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":W.type==="video"?"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200":W.type==="audio"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:W.type||"text"})}),y.jsx("td",{className:"px-4 py-2 text-right text-gray-900 dark:text-white font-semibold",children:W.count.toLocaleString()}),y.jsxs("td",{className:"px-4 py-2 text-right text-gray-600 dark:text-gray-400",children:[xe,"%"]})]},be)})})]})})]})]})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),y.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Recent activity will appear here"})]})]}),s==="users"&&y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"User Management"}),y.jsxs("button",{onClick:()=>O(W=>({...W,user:{open:!0,editing:null}})),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[y.jsx(zu,{className:"h-4 w-4"}),y.jsx("span",{children:"Add User"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[y.jsx("div",{children:y.jsxs("div",{className:"relative",children:[y.jsx(_h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search users...",value:N.userSearch,onChange:W=>P(be=>({...be,userSearch:W.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})}),y.jsxs("select",{value:N.userStatus,onChange:W=>P(be=>({...be,userStatus:W.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"",children:"All Status"}),y.jsx("option",{value:"active",children:"Active"}),y.jsx("option",{value:"inactive",children:"Inactive"})]}),y.jsxs("select",{value:N.userRole,onChange:W=>P(be=>({...be,userRole:W.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"",children:"All Roles"}),y.jsx("option",{value:"user",children:"User"}),y.jsx("option",{value:"admin",children:"Admin"})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Email"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Credits"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Joined"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:Pt.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"No users found"})}):Se.map(W=>y.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold mr-3",children:W.displayName?.charAt(0)||W.email?.charAt(0)||"U"}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:W.displayName||"No Name"}),y.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",W.id]})]})]})}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.email}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W.role==="admin"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:W.role||"user"})}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:W.credits?.current||0}),y.jsx("button",{onClick:()=>Te(W.id,100),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",title:"Add 100 credits",children:y.jsx(Yfe,{className:"h-4 w-4"})})]})}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W.isActive!==!1?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:W.isActive!==!1?"Active":"Inactive"})}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:W.createdAt?.toDate?new Date(W.createdAt.toDate()).toLocaleDateString():W.createdAt?.seconds?new Date(W.createdAt.seconds*1e3).toLocaleDateString():W.createdAt?new Date(W.createdAt).toLocaleDateString():"Unknown"}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>O(be=>({...be,user:{open:!0,editing:W}})),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"Edit user",children:y.jsx(v0,{className:"h-4 w-4"})}),y.jsx("button",{onClick:()=>Ve(W.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Delete user",children:y.jsx(ru,{className:"h-4 w-4"})})]})})]},W.id))})]})}),Pt.length>0&&y.jsx(mh,{currentPage:$.users.page,totalPages:qt(Pt,"users"),totalItems:Pt.length,perPage:$.users.perPage,onPageChange:W=>ir("users",W),onPerPageChange:W=>rr("users",W),startIndex:($.users.page-1)*$.users.perPage+1,endIndex:Math.min($.users.page*$.users.perPage,Pt.length)})]}),s==="projects"&&y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsx("div",{className:"flex items-center justify-between mb-6",children:y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Project Management"})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[y.jsx("div",{children:y.jsxs("div",{className:"relative",children:[y.jsx(_h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search projects...",value:N.projectSearch,onChange:W=>P(be=>({...be,projectSearch:W.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})}),y.jsxs("select",{value:N.projectStatus,onChange:W=>P(be=>({...be,projectStatus:W.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"",children:"All Status"}),y.jsx("option",{value:"active",children:"Active"}),y.jsx("option",{value:"archived",children:"Archived"})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Project Name"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Owner"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Created"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:er.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"No projects found"})}):Le.map(W=>y.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[y.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:W.name||"Unnamed Project"}),y.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",W.id]})]}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.userEmail||"Unknown"}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:W.createdAt?.toDate?new Date(W.createdAt.toDate()).toLocaleDateString():W.createdAt?.seconds?new Date(W.createdAt.seconds*1e3).toLocaleDateString():W.createdAt?new Date(W.createdAt).toLocaleDateString():"Unknown"}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W.status==="archived"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:W.status||"Active"})}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:y.jsx("button",{onClick:()=>he(W.id,W.userId),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:y.jsx(ru,{className:"h-4 w-4"})})})]},W.id))})]})}),er.length>0&&y.jsx(mh,{currentPage:$.projects.page,totalPages:qt(er,"projects"),totalItems:er.length,perPage:$.projects.perPage,onPageChange:W=>ir("projects",W),onPerPageChange:W=>rr("projects",W),startIndex:($.projects.page-1)*$.projects.perPage+1,endIndex:Math.min($.projects.page*$.projects.perPage,er.length)})]}),s==="models"&&y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AI Model Management"}),y.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.jsxs("button",{onClick:kt,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[y.jsx(fh,{className:"h-4 w-4"}),y.jsx("span",{children:"Sync OpenAI"})]}),y.jsxs("button",{onClick:lt,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[y.jsx(fh,{className:"h-4 w-4"}),y.jsx("span",{children:"Sync Gemini"})]}),y.jsxs("button",{onClick:()=>O(W=>({...W,model:{open:!0,editing:null}})),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[y.jsx(zu,{className:"h-4 w-4"}),y.jsx("span",{children:"Add Model"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[y.jsx("div",{children:y.jsxs("div",{className:"relative",children:[y.jsx(_h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search models...",value:N.modelSearch,onChange:W=>P(be=>({...be,modelSearch:W.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})}),y.jsxs("select",{value:N.modelType,onChange:W=>P(be=>({...be,modelType:W.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"",children:"All Types"}),y.jsx("option",{value:"text",children:"Text"}),y.jsx("option",{value:"image",children:"Image"}),y.jsx("option",{value:"audio",children:"Audio"}),y.jsx("option",{value:"video",children:"Video"})]}),y.jsxs("select",{value:N.modelProvider,onChange:W=>P(be=>({...be,modelProvider:W.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"",children:"All Providers"}),y.jsx("option",{value:"openai",children:"OpenAI"}),y.jsx("option",{value:"gemini",children:"Gemini"})]}),y.jsxs("select",{value:N.modelStatus,onChange:W=>P(be=>({...be,modelStatus:W.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"",children:"All Status"}),y.jsx("option",{value:"active",children:"Active"}),y.jsx("option",{value:"inactive",children:"Inactive"})]})]}),y.jsx("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:y.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4",children:y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Models: "}),y.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:Ct.length})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Video Models: "}),y.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:Ct.filter(W=>(W.type||(W.id?.includes("sora")?"video":null))==="video").length})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Showing: "}),y.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Et.length," of ",Ct.length]})]})]})})}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Model ID"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Provider"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Active"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Source"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:Ct.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"No models found"})}):Et.map(W=>y.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[y.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:W.id}),W.originalId&&y.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Original: ",W.originalId]})]}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.name||"Unnamed Model"}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:(()=>{const be=W.type||(W.id?.includes("sora")?"video":W.id?.includes("tts")?"audio":W.id?.includes("dall-e")||W.id?.includes("imagen")?"image":"text");return y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${be==="text"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":be==="image"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":be==="audio"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":be==="video"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}`,children:be})})()}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.provider||"Unknown"}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:W.isActive||W.status==="active",onChange:be=>We(W.id,be.target.checked),className:"sr-only peer"}),y.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W.status==="active"||W.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:W.status||(W.isActive?"active":"inactive")})}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>O(be=>({...be,model:{open:!0,editing:W}})),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:y.jsx(v0,{className:"h-4 w-4"})}),y.jsx("button",{onClick:()=>Ce(W.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:y.jsx(ru,{className:"h-4 w-4"})})]})})]},W.id))})]})}),Ct.length>0&&y.jsx(mh,{currentPage:$.models.page,totalPages:qt(Ct,"models"),totalItems:Ct.length,perPage:$.models.perPage,onPageChange:W=>ir("models",W),onPerPageChange:W=>rr("models",W),startIndex:($.models.page-1)*$.models.perPage+1,endIndex:Math.min($.models.page*$.models.perPage,Ct.length)})]}),s==="templates"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Templates"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{onClick:Ft,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Create default templates in database",children:[y.jsx(fh,{className:"h-4 w-4"}),"Populate Default Templates"]}),y.jsxs("button",{onClick:()=>{O(W=>({...W,template:{open:!0,editing:null}})),L({})},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[y.jsx(zu,{className:"h-4 w-4"}),"Create Template"]})]})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Icon"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Category"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cells"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Description"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:jt.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:'No templates found. Click "Populate Default Templates" to create default templates.'})}):_t.map(W=>y.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-2xl",children:W.icon||""}),y.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:W.name}),y.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:W.id})]}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W.category==="content"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":W.category==="marketing"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":W.category==="business"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":W.category==="productivity"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":W.category==="education"?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200":W.category==="creative"?"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}`,children:W.category||"uncategorized"})}),y.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[W.cells?.length||0," cards"]}),y.jsx("td",{className:"px-4 py-4 text-sm text-gray-600 dark:text-gray-400 max-w-md truncate",children:W.description||"No description"}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>{O(be=>({...be,template:{open:!0,editing:W.id}})),L(W)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:y.jsx(v0,{className:"h-4 w-4"})}),y.jsx("button",{onClick:()=>Yt(W.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:y.jsx(ru,{className:"h-4 w-4"})})]})})]},W.id))})]})}),jt.length>0&&y.jsx(mh,{currentPage:$.templates.page,totalPages:qt(jt,"templates"),totalItems:jt.length,perPage:$.templates.perPage,onPageChange:W=>ir("templates",W),onPerPageChange:W=>rr("templates",W),startIndex:($.templates.page-1)*$.templates.perPage+1,endIndex:Math.min($.templates.page*$.templates.perPage,jt.length)})]})]}),s==="packages"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Subscription Packages"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Create default packages (Free, Starter, Pro, Enterprise) in database",children:[y.jsx(zu,{className:"h-4 w-4"}),c.packages.length===0?"Populate Default Packages":"Re-populate Packages"]}),y.jsxs("button",{onClick:()=>{L({}),O(W=>({...W,package:{open:!0,editing:null}}))},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[y.jsx(zu,{className:"h-4 w-4"}),"Add Package"]})]})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[y.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[y.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"ID"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Price"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Credits"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Stripe Price ID"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:Ht.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"No packages found. Create your first package to get started."})}):gt.map(W=>y.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:W.id}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:W.name}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:["$",W.price?.toFixed(2)||"0.00"]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:W.monthlyCredits||0}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 font-mono text-xs",children:W.priceId||"Not set"}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>{L(W),O(be=>({...be,package:{open:!0,editing:W.id}}))},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:y.jsx(v0,{className:"h-4 w-4"})}),y.jsx("button",{onClick:()=>vt(W.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:y.jsx(ru,{className:"h-4 w-4"})})]})})]},W.id))})]}),Ht.length>0&&y.jsx(mh,{currentPage:$.packages.page,totalPages:qt(Ht,"packages"),totalItems:Ht.length,perPage:$.packages.perPage,onPageChange:W=>ir("packages",W),onPerPageChange:W=>rr("packages",W),startIndex:($.packages.page-1)*$.packages.perPage+1,endIndex:Math.min($.packages.page*$.packages.perPage,Ht.length)})]})]}),s==="subscriptions"&&y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Subscription Management"}),y.jsxs("button",{onClick:ee,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[y.jsx(fh,{className:"h-4 w-4"}),y.jsx("span",{children:"Refresh"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[y.jsx("div",{children:y.jsxs("div",{className:"relative",children:[y.jsx(_h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search subscriptions...",value:N.subscriptionSearch||"",onChange:W=>P(be=>({...be,subscriptionSearch:W.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})}),y.jsxs("select",{value:N.subscriptionPlan||"",onChange:W=>P(be=>({...be,subscriptionPlan:W.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"",children:"All Plans"}),y.jsx("option",{value:"free",children:"Free"}),y.jsx("option",{value:"starter",children:"Starter"}),y.jsx("option",{value:"pro",children:"Pro"}),y.jsx("option",{value:"enterprise",children:"Enterprise"})]}),y.jsxs("select",{value:N.subscriptionStatus||"",onChange:W=>P(be=>({...be,subscriptionStatus:W.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"",children:"All Status"}),y.jsx("option",{value:"active",children:"Active"}),y.jsx("option",{value:"past_due",children:"Past Due"}),y.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Plan"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Credits"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Stripe ID"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:Ar.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"No subscriptions found"})}):rt.map(W=>y.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[y.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:W.userEmail}),y.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:W.displayName||"No name"})]}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W.plan==="enterprise"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":W.plan==="pro"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":W.plan==="starter"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:f[W.plan]?.name||W.plan})}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[W.credits?.current||0," / ",W.credits?.total||0]})}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":W.status==="past_due"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:W.status||"active"})}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:W.stripeSubscriptionId?W.stripeSubscriptionId.substring(0,20)+"...":"N/A"})}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>It(W),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"Edit Subscription",children:y.jsx(v0,{className:"h-4 w-4"})}),y.jsx("button",{onClick:()=>tr(W.userId,W.plan),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",title:"Reset Credits",children:y.jsx(fh,{className:"h-4 w-4"})})]})})]},W.userId))})]})}),Ar.length>0&&y.jsx(mh,{currentPage:$.subscriptions.page,totalPages:qt(Ar,"subscriptions"),totalItems:Ar.length,perPage:$.subscriptions.perPage,onPageChange:W=>ir("subscriptions",W),onPerPageChange:W=>rr("subscriptions",W),startIndex:($.subscriptions.page-1)*$.subscriptions.perPage+1,endIndex:Math.min($.subscriptions.page*$.subscriptions.perPage,Ar.length)})]}),s==="payments"&&y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Management"}),y.jsxs("button",{onClick:fe,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[y.jsx(fh,{className:"h-4 w-4"}),y.jsx("span",{children:"Refresh"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[y.jsx("div",{children:y.jsxs("div",{className:"relative",children:[y.jsx(_h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search payments...",value:N.paymentSearch||"",onChange:W=>P(be=>({...be,paymentSearch:W.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})}),y.jsxs("select",{value:N.paymentStatus||"",onChange:W=>P(be=>({...be,paymentStatus:W.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"",children:"All Status"}),y.jsx("option",{value:"completed",children:"Completed"}),y.jsx("option",{value:"pending",children:"Pending"}),y.jsx("option",{value:"failed",children:"Failed"}),y.jsx("option",{value:"past_due",children:"Past Due"})]}),y.jsx("input",{type:"date",value:N.paymentDateFrom||"",onChange:W=>P(be=>({...be,paymentDateFrom:W.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"From Date"})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Transaction ID"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Plan"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"})]})}),y.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:ar.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"No payments found"})}):bt.map(W=>y.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white font-mono",children:[W.id?.substring(0,20),"..."]})}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.userEmail}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:f[W.plan]?.name||W.plan||"N/A"})}),y.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-semibold text-gray-900 dark:text-white",children:["$",W.amount?.toFixed(2)||"0.00"]}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":W.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:W.status})}),y.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:W.date?.toDate?new Date(W.date.toDate()).toLocaleDateString():W.date?.seconds?new Date(W.date.seconds*1e3).toLocaleDateString():W.date?new Date(W.date).toLocaleDateString():"Unknown"})]},W.id))})]})}),ar.length>0&&y.jsx(mh,{currentPage:$.payments.page,totalPages:qt(ar,"payments"),totalItems:ar.length,perPage:$.payments.perPage,onPageChange:W=>ir("payments",W),onPerPageChange:W=>rr("payments",W),startIndex:($.payments.page-1)*$.payments.perPage+1,endIndex:Math.min($.payments.page*$.payments.perPage,ar.length)})]}),s==="analytics"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Revenue"}),y.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:["$",w.totalRevenue.toFixed(2)]})]}),y.jsx(nA,{className:"h-12 w-12 text-green-500"})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active Users"}),y.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:w.activeUsers})]}),y.jsx(G1,{className:"h-12 w-12 text-blue-500"})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Inactive Users"}),y.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:w.inactiveUsers})]}),y.jsx(G1,{className:"h-12 w-12 text-gray-400"})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Subscriptions"}),y.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:w.subscriptionDistribution.reduce((W,be)=>W+be.value,0)})]}),y.jsx(X0,{className:"h-12 w-12 text-yellow-500"})]})})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"User Growth Over Time"}),w.userGrowth.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No data available"}):y.jsx(hh,{width:"100%",height:300,children:y.jsxs(L3e,{data:w.userGrowth,children:[y.jsx(hm,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),y.jsx(pm,{dataKey:"month",stroke:"#6b7280"}),y.jsx(mm,{stroke:"#6b7280"}),y.jsx(ph,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"}}),y.jsx(HK,{type:"monotone",dataKey:"users",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6})]})})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Subscription Distribution"}),w.subscriptionDistribution.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No data available"}):y.jsx(hh,{width:"100%",height:300,children:y.jsxs(w9,{children:[y.jsx(E4,{data:w.subscriptionDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:W,percent:be})=>`${W}: ${(be*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:w.subscriptionDistribution.map((W,be)=>{const Xe=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"];return y.jsx(rg,{fill:Xe[be%Xe.length]},`cell-${be}`)})}),y.jsx(ph,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"}})]})})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Status Breakdown"}),w.paymentStatusBreakdown.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No data available"}):y.jsx(hh,{width:"100%",height:300,children:y.jsxs(w9,{children:[y.jsx(E4,{data:w.paymentStatusBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({name:W,percent:be})=>`${W}: ${(be*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:w.paymentStatusBreakdown.map((W,be)=>{const Xe=["#10b981","#f59e0b","#ef4444","#6b7280"];return y.jsx(rg,{fill:Xe[be%Xe.length]},`cell-${be}`)})}),y.jsx(ph,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"}})]})})]})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Revenue Trends"}),w.paymentTrends.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No data available"}):y.jsx(hh,{width:"100%",height:300,children:y.jsxs(_3e,{data:w.paymentTrends,children:[y.jsx(hm,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),y.jsx(pm,{dataKey:"month",stroke:"#6b7280"}),y.jsx(mm,{stroke:"#6b7280"}),y.jsx(ph,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"}}),y.jsx(Wb,{}),y.jsx(C4,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"Revenue ($)"}),y.jsx(C4,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,name:"Payment Count"})]})})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Revenue by Subscription Plan"}),w.revenueByPlan.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No data available"}):y.jsx(hh,{width:"100%",height:300,children:y.jsxs(aE,{data:w.revenueByPlan,children:[y.jsx(hm,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),y.jsx(pm,{dataKey:"name",stroke:"#6b7280"}),y.jsx(mm,{stroke:"#6b7280"}),y.jsx(ph,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"},formatter:W=>`$${W.toFixed(2)}`}),y.jsx(Xb,{dataKey:"revenue",fill:"#10b981",name:"Revenue ($)"})]})})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Model Usage Statistics"}),g.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No usage data available"}):y.jsx(hh,{width:"100%",height:400,children:y.jsxs(aE,{data:g,children:[y.jsx(hm,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),y.jsx(pm,{dataKey:"model",angle:-45,textAnchor:"end",height:120,tick:{fontSize:12},stroke:"#6b7280"}),y.jsx(mm,{label:{value:"Usage Count",angle:-90,position:"insideLeft"},stroke:"#6b7280"}),y.jsx(ph,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"}}),y.jsx(Wb,{}),y.jsx(Xb,{dataKey:"count",fill:"#3b82f6",name:"Generations"})]})})]})]}),s==="settings"&&y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"System Settings"}),y.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"This section is coming soon"})]})]})}),y.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:I.map(W=>y.jsxs("div",{className:`px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 ${W.type==="error"?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:[W.type==="error"?y.jsx(kx,{className:"h-5 w-5"}):y.jsx(Xh,{className:"h-5 w-5"}),y.jsx("span",{children:W.message}),y.jsx("button",{onClick:()=>D(be=>be.filter(Xe=>Xe.id!==W.id)),className:"ml-2",children:y.jsx(Is,{className:"h-4 w-4"})})]},W.id))}),F.user.open&&y.jsx(B3e,{user:F.user.editing,onClose:()=>O(W=>({...W,user:{open:!1,editing:null}})),onSave:async W=>{if(F.user.editing){const be=await UE(F.user.editing.id,W);be.success?(ae("User updated successfully","success"),J()):ae(`Failed to update user: ${be.error}`,"error")}O(be=>({...be,user:{open:!1,editing:null}}))}}),F.model.open&&y.jsx(F3e,{model:F.model.editing,onClose:()=>O(W=>({...W,model:{open:!1,editing:null}})),onSave:async W=>{if(F.model.editing){const be=await O0(F.model.editing.id,W);be.success?(ae("Model updated successfully","success"),se()):ae(`Failed to update model: ${be.error}`,"error")}else{const be=await Ob(W);be.success?(ae("Model created successfully","success"),se()):ae(`Failed to create model: ${be.error}`,"error")}O(be=>({...be,model:{open:!1,editing:null}}))}}),F.package.open&&y.jsx(V3e,{package:F.package.editing?c.packages.find(W=>W.id===F.package.editing):null,onClose:()=>{O(W=>({...W,package:{open:!1,editing:null}})),L({})},onSave:async W=>{F.package.editing?await dt(W):await Ie(W)},formData:z,setFormData:L}),F.template.open&&y.jsx(U3e,{template:F.template.editing?c.templates.find(W=>W.id===F.template.editing):null,onClose:()=>{O(W=>({...W,template:{open:!1,editing:null}})),L({})},onSave:async W=>{F.template.editing?await yt(W):await ce(W)},formData:z,setFormData:L})]}):y.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx(kx,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Access Denied"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Admin privileges required"})]})})},B3e=({user:t,onClose:e,onSave:r})=>{const[n,i]=E.useState({email:t?.email||"",displayName:t?.displayName||"",role:t?.role||"user",subscription:t?.subscription||"free",isActive:t?.isActive!==!1}),a=s=>{s.preventDefault(),r(n)};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[y.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t?"Edit User":"Add User"}),y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:y.jsx(Is,{className:"h-5 w-5"})})]})}),y.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),y.jsx("input",{type:"email",value:n.email,onChange:s=>i(l=>({...l,email:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Display Name"}),y.jsx("input",{type:"text",value:n.displayName,onChange:s=>i(l=>({...l,displayName:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role"}),y.jsxs("select",{value:n.role,onChange:s=>i(l=>({...l,role:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"user",children:"User"}),y.jsx("option",{value:"admin",children:"Admin"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subscription"}),y.jsxs("select",{value:n.subscription,onChange:s=>i(l=>({...l,subscription:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"free",children:"Free"}),y.jsx("option",{value:"premium",children:"Premium"}),y.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:s=>i(l=>({...l,isActive:s.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),y.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),y.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save"})]})]})]})})},F3e=({model:t,onClose:e,onSave:r})=>{const[n,i]=E.useState({id:t?.id||"",originalId:t?.originalId||"",name:t?.name||"",type:t?.type||"text",provider:t?.provider||"openai",description:t?.description||"",isActive:t?.isActive!==!1,status:t?.status||"active"}),a=s=>{s.preventDefault(),r(n)};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[y.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t?"Edit Model":"Add Model"}),y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:y.jsx(Is,{className:"h-5 w-5"})})]})}),y.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Model ID"}),y.jsx("input",{type:"text",value:n.id,onChange:s=>i(l=>({...l,id:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,disabled:!!t})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Original ID"}),y.jsx("input",{type:"text",value:n.originalId,onChange:s=>i(l=>({...l,originalId:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., openai/gpt-4"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),y.jsx("input",{type:"text",value:n.name,onChange:s=>i(l=>({...l,name:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),y.jsxs("select",{value:n.type,onChange:s=>i(l=>({...l,type:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"text",children:"Text"}),y.jsx("option",{value:"image",children:"Image"}),y.jsx("option",{value:"audio",children:"Audio"}),y.jsx("option",{value:"video",children:"Video"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Provider"}),y.jsxs("select",{value:n.provider,onChange:s=>i(l=>({...l,provider:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"openai",children:"OpenAI"}),y.jsx("option",{value:"gemini",children:"Gemini"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),y.jsx("textarea",{value:n.description,onChange:s=>i(l=>({...l,description:s.target.value})),rows:"3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:s=>i(l=>({...l,isActive:s.target.checked,status:s.target.checked?"active":"inactive"})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),y.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),y.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save"})]})]})]})})},U3e=({template:t,onClose:e,onSave:r,formData:n,setFormData:i})=>{const[a,s]=E.useState({id:n?.id||t?.id||"",name:n?.name||t?.name||"",description:n?.description||t?.description||"",category:n?.category||t?.category||"content",icon:n?.icon||t?.icon||"",cells:n?.cells||t?.cells||[]});E.useEffect(()=>{i(a)},[a,i]);const l=p=>{p.preventDefault(),r(a)},c=()=>{const p=String.fromCharCode(65+a.cells.length%26),g=Math.floor(a.cells.length/26)+1,m=`${p}${g}`;s(w=>({...w,cells:[...w.cells,{cellId:m,cellReference:m,name:"",prompt:"",modelType:"text",preferredModel:"",temperature:.7,x:100,y:100}]}))},d=(p,g,m)=>{const w=[...a.cells];w[p]={...w[p],[g]:m},s(S=>({...S,cells:w}))},f=p=>{s(g=>({...g,cells:g.cells.filter((m,w)=>w!==p)}))};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[y.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t?"Edit Template":"Add Template"}),y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:y.jsx(Is,{className:"h-5 w-5"})})]})}),y.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Template ID"}),y.jsx("input",{type:"text",value:a.id,onChange:p=>s(g=>({...g,id:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,placeholder:"e.g., blog-post, social-media-post"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Icon"}),y.jsx("input",{type:"text",value:a.icon,onChange:p=>s(g=>({...g,icon:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:""})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),y.jsx("input",{type:"text",value:a.name,onChange:p=>s(g=>({...g,name:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),y.jsx("textarea",{value:a.description,onChange:p=>s(g=>({...g,description:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:2})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),y.jsxs("select",{value:a.category,onChange:p=>s(g=>({...g,category:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:"content",children:"Content Creation"}),y.jsx("option",{value:"marketing",children:"Marketing"}),y.jsx("option",{value:"business",children:"Business"}),y.jsx("option",{value:"productivity",children:"Productivity"}),y.jsx("option",{value:"education",children:"Education"}),y.jsx("option",{value:"creative",children:"Creative"}),y.jsx("option",{value:"personal",children:"Personal"})]})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cells"}),y.jsxs("button",{type:"button",onClick:c,className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:[y.jsx(zu,{className:"h-4 w-4 inline mr-1"}),"Add Cell"]})]}),y.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:a.cells.map((p,g)=>y.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Cell ",g+1]}),y.jsx("button",{type:"button",onClick:()=>f(g),className:"text-red-600 hover:text-red-800 dark:text-red-400",children:y.jsx(ru,{className:"h-4 w-4"})})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[y.jsx("input",{type:"text",placeholder:"Cell Reference (e.g., A1, B1)",value:p.cellId||p.cellReference||"",onChange:m=>{const w=m.target.value;d(g,"cellId",w),d(g,"cellReference",w)},className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",required:!0}),y.jsx("input",{type:"text",placeholder:"Cell name",value:p.name,onChange:m=>d(g,"name",m.target.value),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),y.jsxs("select",{value:p.modelType||"text",onChange:m=>d(g,"modelType",m.target.value),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[y.jsx("option",{value:"text",children:"Text"}),y.jsx("option",{value:"image",children:"Image"}),y.jsx("option",{value:"video",children:"Video"}),y.jsx("option",{value:"audio",children:"Audio"})]})]}),y.jsx("textarea",{placeholder:"Prompt",value:p.prompt,onChange:m=>d(g,"prompt",m.target.value),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",rows:2})]},g))})]}),y.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),y.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t?"Update":"Create"," Template"]})]})]})]})})},V3e=({package:t,onClose:e,onSave:r,formData:n,setFormData:i})=>{const[a,s]=E.useState({id:n?.id||t?.id||"",name:n?.name||t?.name||"",price:n?.price||t?.price||0,priceId:n?.priceId||t?.priceId||"",monthlyCredits:n?.monthlyCredits||t?.monthlyCredits||0,features:n?.features||t?.features||[],limits:n?.limits||t?.limits||{maxProjects:-1,maxSheets:-1,maxCells:-1}});E.useEffect(()=>{i(a)},[a,i]);const l=p=>{p.preventDefault(),r(a)},c=(p,g)=>{const m=[...a.features];m[p]=g,s(w=>({...w,features:m}))},d=()=>{s(p=>({...p,features:[...p.features,""]}))},f=p=>{const g=a.features.filter((m,w)=>w!==p);s(m=>({...m,features:g}))};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[y.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t?"Edit Package":"Add Package"}),y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:y.jsx(Is,{className:"h-5 w-5"})})]})}),y.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Package ID"}),y.jsx("input",{type:"text",value:a.id,onChange:p=>s(g=>({...g,id:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,placeholder:"e.g., starter, pro, enterprise"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),y.jsx("input",{type:"text",value:a.name,onChange:p=>s(g=>({...g,name:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price ($)"}),y.jsx("input",{type:"number",step:"0.01",min:"0",value:a.price,onChange:p=>s(g=>({...g,price:parseFloat(p.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Monthly Credits"}),y.jsx("input",{type:"number",min:"0",value:a.monthlyCredits,onChange:p=>s(g=>({...g,monthlyCredits:parseInt(p.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Stripe Price ID"}),y.jsx("input",{type:"text",value:a.priceId,onChange:p=>s(g=>({...g,priceId:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm",placeholder:"price_..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Features"}),y.jsxs("div",{className:"space-y-2",children:[a.features.map((p,g)=>y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",value:p,onChange:m=>c(g,m.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Feature description"}),y.jsx("button",{type:"button",onClick:()=>f(g),className:"text-red-600 hover:text-red-900 dark:text-red-400",children:y.jsx(Is,{className:"h-4 w-4"})})]},g)),y.jsx("button",{type:"button",onClick:d,className:"text-sm text-blue-600 hover:text-blue-900 dark:text-blue-400",children:"+ Add Feature"})]})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Projects"}),y.jsx("input",{type:"number",value:a.limits.maxProjects===-1?"":a.limits.maxProjects,onChange:p=>s(g=>({...g,limits:{...g.limits,maxProjects:p.target.value===""?-1:parseInt(p.target.value)}})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Unlimited"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Sheets"}),y.jsx("input",{type:"number",value:a.limits.maxSheets===-1?"":a.limits.maxSheets,onChange:p=>s(g=>({...g,limits:{...g.limits,maxSheets:p.target.value===""?-1:parseInt(p.target.value)}})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Unlimited"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Cells"}),y.jsx("input",{type:"number",value:a.limits.maxCells===-1?"":a.limits.maxCells,onChange:p=>s(g=>({...g,limits:{...g.limits,maxCells:p.target.value===""?-1:parseInt(p.target.value)}})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Unlimited"})]})]}),y.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),y.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t?"Update":"Create"," Package"]})]})]})]})})},mh=({currentPage:t,totalPages:e,totalItems:r,perPage:n,onPageChange:i,onPerPageChange:a,startIndex:s,endIndex:l})=>{const c=()=>{const d=[];if(e<=5)for(let p=1;p<=e;p++)d.push(p);else if(t<=3){for(let p=1;p<=4;p++)d.push(p);d.push("..."),d.push(e)}else if(t>=e-2){d.push(1),d.push("...");for(let p=e-3;p<=e;p++)d.push(p)}else{d.push(1),d.push("...");for(let p=t-1;p<=t+1;p++)d.push(p);d.push("..."),d.push(e)}return d};return y.jsxs("div",{className:"flex items-center justify-between mt-4 px-4 py-3 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",y.jsx("span",{className:"font-medium",children:s})," to ",y.jsx("span",{className:"font-medium",children:l})," of"," ",y.jsx("span",{className:"font-medium",children:r})," results"]}),y.jsxs("select",{value:n,onChange:d=>a(Number(d.target.value)),className:"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[y.jsx("option",{value:10,children:"10 per page"}),y.jsx("option",{value:25,children:"25 per page"}),y.jsx("option",{value:50,children:"50 per page"}),y.jsx("option",{value:100,children:"100 per page"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>i(t-1),disabled:t===1,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Previous page",children:y.jsx(Lfe,{className:"h-4 w-4"})}),y.jsx("div",{className:"flex items-center gap-1",children:c().map((d,f)=>d==="..."?y.jsx("span",{className:"px-2 text-gray-500 dark:text-gray-400",children:"..."},`ellipsis-${f}`):y.jsx("button",{onClick:()=>i(d),className:`px-3 py-1 text-sm rounded-lg border transition-colors ${t===d?"bg-blue-600 text-white border-blue-600":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:d},d))}),y.jsx("button",{onClick:()=>i(t+1),disabled:t===e,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Next page",children:y.jsx(Bfe,{className:"h-4 w-4"})})]})]})},z3e=({isOpen:t,onClose:e,user:r})=>{const[n,i]=E.useState(!1),[a,s]=E.useState(null),[l,c]=E.useState(null),[d,f]=E.useState({});E.useEffect(()=>{t&&r&&(p(),g())},[t,r]);const p=async()=>{try{const N=await Ih();f(N)}catch{}},g=async()=>{try{const N=await Cf(r.uid);N.success&&s(N.data)}catch{}},m=async N=>{if(!r)return;const P=d[N];if(!P){alert("Invalid plan selected.");return}if(P.price===0){alert("You are already on the free plan.");return}if(!P.priceId){alert("This plan is not configured yet. Please contact support or set up Stripe price IDs in the admin panel.");return}i(!0);try{const F=await iV(P.priceId,r.uid);F.success?window.location.href=F.url:(alert(`Error: ${F.error}`),i(!1))}catch{alert("Failed to start checkout. Please try again."),i(!1)}},w=async()=>{if(!a?.stripeCustomerId){alert("No active subscription found.");return}i(!0);try{const N=await aV(a.stripeCustomerId);N.success?window.location.href=N.url:(alert(`Error: ${N.error}`),i(!1))}catch{alert("Failed to open customer portal. Please try again."),i(!1)}};if(!t)return null;const S=a?.subscription||"free",_=a?.credits?.current||0,k=a?.credits?.total||0;return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[y.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Subscription Plans"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Choose a plan that fits your needs"})]}),y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:y.jsx(Is,{className:"h-5 w-5"})})]})}),a&&y.jsx("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 border-b border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current Plan"}),y.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white capitalize",children:d[S]?.name||S})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Credits"}),y.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[_," / ",k]})]}),S!=="free"&&y.jsx("button",{onClick:w,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:n?"Loading...":"Manage Subscription"})]})}),y.jsx("div",{className:"p-6",children:y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Object.values(d).length>0?Object.values(d).map(N=>{const P=S===N.id,F=N.id==="pro";return y.jsxs("div",{className:`relative rounded-lg border-2 p-6 transition-all ${P?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":F?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}`,children:[F&&y.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:y.jsx("span",{className:"bg-purple-500 text-white text-xs font-semibold px-3 py-1 rounded-full",children:"Most Popular"})}),y.jsxs("div",{className:"text-center mb-4",children:[N.id==="free"&&y.jsx(Bh,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),N.id==="starter"&&y.jsx(Jhe,{className:"h-8 w-8 text-yellow-500 mx-auto mb-2"}),N.id==="pro"&&y.jsx(Rhe,{className:"h-8 w-8 text-purple-500 mx-auto mb-2"}),N.id==="enterprise"&&y.jsx(X0,{className:"h-8 w-8 text-yellow-500 mx-auto mb-2"}),y.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:N.name}),y.jsxs("div",{className:"mt-2",children:[y.jsxs("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["$",N.price]}),N.price>0&&y.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"/month"})]})]}),y.jsxs("div",{className:"space-y-3 mb-6",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:N.monthlyCredits.toLocaleString()}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Credits/month"})]}),y.jsx("ul",{className:"space-y-2",children:N.features.map((O,z)=>y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx(Xh,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),y.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:O})]},z))})]}),y.jsx("button",{onClick:()=>{P?alert("This is your current plan"):N.price===0?alert("You are already on the free plan"):m(N.id)},disabled:n||P||N.price===0,className:`w-full py-2 px-4 rounded-lg font-semibold transition-colors ${P?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed":F?"bg-purple-600 hover:bg-purple-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:P?"Current Plan":N.price===0?"Free Forever":"Subscribe"})]},N.id)}):y.jsx("div",{className:"col-span-4 text-center py-8 text-gray-500 dark:text-gray-400",children:"Loading plans..."})})}),y.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:[y.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"Credit Costs"}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Text Generation"}),y.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"1 credit"})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Image Generation"}),y.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"3-5 credits"})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Video Generation"}),y.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"15-20 credits"})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Audio Generation"}),y.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"2 credits"})]})]})]})]})})},lY={"blog-post":{id:"blog-post",name:"Blog Post Generator",description:"Create a complete blog post with outline, content, and featured image",category:"content",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Topic",prompt:"Generate a blog post outline for: [topic]",modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Draft",prompt:`Write a full blog post based on this outline:

{{A1}}

Make it engaging and well-structured.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"SEO Optimization",prompt:`Optimize this blog post for SEO:

{{B1}}

Add meta description, keywords, and improve readability.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"B2",cellReference:"B2",name:"Featured Image",prompt:"Create a featured image for a blog post about: {{A1}}",modelType:"image",preferredModel:"flux/dev",temperature:.7,characterLimit:0,outputFormat:"",autoRun:!0,x:400,y:250}]},"social-media-post":{id:"social-media-post",name:"Social Media Post",description:"Generate social media content with text, image, and video",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Post Idea",prompt:"Generate 5 engaging social media post ideas about: [topic]",modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.8,characterLimit:0,outputFormat:"bullet-list",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Post Text",prompt:`Write a compelling social media post based on this idea:

{{A1}}

Keep it under 280 characters.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:280,outputFormat:"plain",autoRun:!0,x:100,y:250},{cellId:"B2",cellReference:"B2",name:"Post Image",prompt:"Create an eye-catching social media image for: {{A1}}",modelType:"image",preferredModel:"flux/dev",temperature:.7,characterLimit:0,outputFormat:"",autoRun:!0,x:400,y:100},{cellId:"C1",cellReference:"C1",name:"Hashtags",prompt:`Generate relevant hashtags for this post:

{{B1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"plain",autoRun:!0,x:100,y:400}]},"product-description":{id:"product-description",name:"Product Description Generator",description:"Create compelling product descriptions with marketing copy",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Product Info",prompt:`Analyze this product and create a detailed description:

Product: [productName]
Features: [features]
Target Audience: [audience]`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Marketing Copy",prompt:`Create compelling marketing copy for this product:

{{A1}}

Focus on benefits and emotional appeal.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.8,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"B2",cellReference:"B2",name:"Product Image",prompt:"Generate a professional product image for: [productName]",modelType:"image",preferredModel:"flux/dev",temperature:.7,characterLimit:0,outputFormat:"",autoRun:!1,x:400,y:100},{cellId:"C1",cellReference:"C1",name:"SEO Description",prompt:`Create an SEO-optimized product description:

{{B1}}

Include keywords naturally.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400}]},"email-campaign":{id:"email-campaign",name:"Email Campaign Builder",description:"Create complete email campaigns with subject, body, and visuals",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Campaign Goal",prompt:`Define the email campaign strategy for: [goal]

Target: [audience]
Objective: [objective]`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Subject Line",prompt:`Generate 10 compelling email subject lines based on:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.8,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Email Body",prompt:`Write the email body:

{{A1}}

Use the best subject line from: {{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Call to Action",prompt:`Create a compelling CTA button text and link description:

{{C1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,x:100,y:550}]},"video-script":{id:"video-script",name:"Video Script Generator",description:"Create video scripts with storyboard and thumbnail",category:"content",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Video Concept",prompt:`Develop a video concept:

Topic: [topic]
Duration: [duration]
Style: [style]`,modelType:"text",preferredModel:"gpt-4o",temperature:.8,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Script",prompt:`Write a complete video script:

{{A1}}

Include dialogue, narration, and scene descriptions.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Storyboard",prompt:`Create a storyboard description:

{{B1}}

Break down into key scenes with visual descriptions.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"B2",cellReference:"B2",name:"Thumbnail",prompt:"Generate a YouTube thumbnail image for: {{A1}}",modelType:"image",preferredModel:"flux/dev",temperature:.7,characterLimit:0,outputFormat:"",autoRun:!0,x:400,y:100}]},"meeting-notes":{id:"meeting-notes",name:"Meeting Notes Processor",description:"Transform meeting transcripts into actionable summaries",category:"productivity",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Transcript",prompt:`Transcribe and clean up this meeting recording:

[audioFile]`,modelType:"audio",preferredModel:"whisper-1",temperature:0,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Summary",prompt:`Create a concise meeting summary:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Action Items",prompt:`Extract action items from the meeting:

{{B1}}

Format as a checklist with owners and deadlines.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.3,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Follow-up Email",prompt:`Draft a follow-up email:

{{C1}}

Include meeting summary and next steps.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,x:100,y:550}]},"research-assistant":{id:"research-assistant",name:"Research Assistant",description:"Conduct research and generate comprehensive reports",category:"education",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Research Question",prompt:`Break down this research question into key areas:

[question]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Research Points",prompt:`Generate research points and key findings for:

{{A1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Synthesis",prompt:`Synthesize the research into a comprehensive report:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Citations",prompt:`Generate proper citations and references for:

{{C1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.3,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"story-creator":{id:"story-creator",name:"Story Creator",description:"Create stories with characters, plot, and illustrations",category:"creative",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Plot",prompt:`Develop a story plot:

Genre: [genre]
Theme: [theme]
Length: [length]`,modelType:"text",preferredModel:"gpt-4o",temperature:.8,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Characters",prompt:`Create detailed characters for this story:

{{A1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Story",prompt:`Write the complete story:

{{A1}}

Characters: {{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.8,x:100,y:400},{cellId:"B2",cellReference:"B2",name:"Illustration",prompt:`Create an illustration for this story:

{{A1}}`,modelType:"image",preferredModel:"flux/dev",temperature:.7,x:400,y:250}]},"recipe-generator":{id:"recipe-generator",name:"Recipe Generator",description:"Generate recipes with ingredients, instructions, and food images",category:"personal",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Recipe Concept",prompt:`Create a recipe concept:

Cuisine: [cuisine]
Dietary: [dietary]
Difficulty: [difficulty]`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Ingredients",prompt:`List all ingredients with quantities:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Instructions",prompt:`Write step-by-step cooking instructions:

{{A1}}

Ingredients: {{B1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.6,characterLimit:0,outputFormat:"numbered-list",autoRun:!0,x:100,y:400},{cellId:"B2",cellReference:"B2",name:"Food Image",prompt:"Generate an appetizing food image for: {{A1}}",modelType:"image",preferredModel:"flux/dev",temperature:.7,characterLimit:0,outputFormat:"",autoRun:!0,x:400,y:100}]},"presentation-builder":{id:"presentation-builder",name:"Presentation Builder",description:"Create presentations with content, visuals, and speaker notes",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Topic",prompt:`Create a presentation outline:

Topic: [topic]
Audience: [audience]
Duration: [duration]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Slides",prompt:`Generate slide content:

{{A1}}

Create engaging bullet points for each slide.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Visuals",prompt:`Suggest visual concepts for each slide:

{{B1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Speaker Notes",prompt:`Create detailed speaker notes:

{{B1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,x:100,y:550}]},"code-generator":{id:"code-generator",name:"Code Generator",description:"Generate code with documentation and tests",category:"productivity",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Requirements",prompt:`Analyze these coding requirements:

Language: [language]
Task: [task]
Constraints: [constraints]`,modelType:"text",preferredModel:"gpt-4o",temperature:.3,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Code",prompt:`Write clean, well-commented code:

{{A1}}

Follow best practices and include error handling.`,modelType:"text",preferredModel:"gpt-4o",temperature:.2,characterLimit:0,outputFormat:"code",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Documentation",prompt:`Generate comprehensive documentation:

{{B1}}

Include usage examples and API reference.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Tests",prompt:`Create unit tests:

{{B1}}

Cover edge cases and error scenarios.`,modelType:"text",preferredModel:"gpt-4o",temperature:.3,characterLimit:0,outputFormat:"code",autoRun:!0,x:100,y:550}]},"resume-builder":{id:"resume-builder",name:"Resume Builder",description:"Create professional resumes with cover letters",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Profile Info",prompt:`Organize resume information:

Name: [name]
Experience: [experience]
Skills: [skills]
Education: [education]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Resume",prompt:`Create a professional resume:

{{A1}}

Format it clearly with sections for experience, skills, and education.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Cover Letter",prompt:`Write a compelling cover letter:

{{A1}}

Job: [jobTitle]
Company: [company]`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"LinkedIn Summary",prompt:`Create a professional LinkedIn summary:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:0,outputFormat:"plain",autoRun:!0,x:100,y:550}]},"newsletter-generator":{id:"newsletter-generator",name:"Newsletter Generator",description:"Create engaging newsletters with content and visuals",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Theme",prompt:`Define newsletter theme and topics:

Theme: [theme]
Target: [audience]
Date: [date]`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Content",prompt:`Write newsletter articles:

{{A1}}

Make it engaging and valuable for readers.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Subject Line",prompt:`Generate compelling email subject lines:

{{B1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.8,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:400},{cellId:"B2",cellReference:"B2",name:"Header Image",prompt:"Create a newsletter header image for: {{A1}}",modelType:"image",preferredModel:"flux/dev",temperature:.7,characterLimit:0,outputFormat:"",autoRun:!0,x:400,y:100}]},"landing-page-copy":{id:"landing-page-copy",name:"Landing Page Copy",description:"Create compelling landing page copy with headlines and CTAs",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Product Info",prompt:`Define product and value proposition:

Product: [product]
Benefits: [benefits]
Target: [audience]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Headline",prompt:`Generate 10 powerful headlines:

{{A1}}

Make them attention-grabbing and benefit-focused.`,modelType:"text",preferredModel:"gpt-4o",temperature:.8,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Body Copy",prompt:`Write compelling body copy:

{{A1}}

Use the best headline from: {{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"CTA Buttons",prompt:`Create multiple CTA variations:

{{C1}}

Make them action-oriented and urgent.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.8,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:550}]},"ad-copy-generator":{id:"ad-copy-generator",name:"Ad Copy Generator",description:"Create ad copy for Google, Facebook, and other platforms",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Campaign Brief",prompt:`Define ad campaign:

Product: [product]
Platform: [platform]
Goal: [goal]
Audience: [audience]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Headlines",prompt:`Generate 15 ad headlines:

{{A1}}

Platform-specific and attention-grabbing.`,modelType:"text",preferredModel:"gpt-4o",temperature:.8,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Ad Copy",prompt:`Write complete ad copy:

{{A1}}

Use best headlines from: {{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Keywords",prompt:`Generate relevant keywords and hashtags:

{{C1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:550}]},"study-guide":{id:"study-guide",name:"Study Guide Creator",description:"Create comprehensive study guides from course materials",category:"education",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Course Material",prompt:`Organize course content:

Subject: [subject]
Topics: [topics]
Key Concepts: [concepts]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Study Guide",prompt:`Create a comprehensive study guide:

{{A1}}

Organize by topics with key points and examples.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Practice Questions",prompt:`Generate practice questions:

{{B1}}

Include multiple choice, short answer, and essay questions.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Flashcards",prompt:`Create flashcard content:

{{B1}}

Format as question-answer pairs.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"interview-prep":{id:"interview-prep",name:"Interview Preparation",description:"Prepare for job interviews with questions and answers",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Job Details",prompt:`Organize interview information:

Position: [position]
Company: [company]
Requirements: [requirements]
Experience: [experience]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Questions",prompt:`Generate likely interview questions:

{{A1}}

Include behavioral, technical, and situational questions.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Answers",prompt:`Create strong answers:

{{B1}}

Use STAR method for behavioral questions.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Questions to Ask",prompt:`Generate thoughtful questions to ask the interviewer:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:550}]},"travel-planner":{id:"travel-planner",name:"Travel Planner",description:"Plan trips with itineraries, recommendations, and packing lists",category:"personal",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Trip Details",prompt:`Define trip parameters:

Destination: [destination]
Duration: [duration]
Budget: [budget]
Interests: [interests]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Itinerary",prompt:`Create a detailed day-by-day itinerary:

{{A1}}

Include activities, restaurants, and attractions.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Packing List",prompt:`Generate a comprehensive packing list:

{{A1}}

Consider weather, activities, and duration.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Tips & Info",prompt:`Provide travel tips and local information:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"workout-planner":{id:"workout-planner",name:"Workout Plan Generator",description:"Create personalized workout plans with exercises and nutrition",category:"personal",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Fitness Goals",prompt:`Define fitness objectives:

Goal: [goal]
Level: [level]
Equipment: [equipment]
Frequency: [frequency]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Workout Plan",prompt:`Create a detailed workout plan:

{{A1}}

Include exercises, sets, reps, and rest periods.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Nutrition Guide",prompt:`Create a nutrition plan:

{{A1}}

Include meal suggestions and macros.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Progress Tracking",prompt:`Create a progress tracking template:

{{B1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"content-calendar":{id:"content-calendar",name:"Content Calendar",description:"Plan and schedule social media and blog content",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Strategy",prompt:`Define content strategy:

Platforms: [platforms]
Themes: [themes]
Frequency: [frequency]
Goals: [goals]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Calendar",prompt:`Create a content calendar:

{{A1}}

Plan posts for the next 30 days with themes and topics.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Content Ideas",prompt:`Generate content ideas:

{{B1}}

Create engaging post concepts for each day.`,modelType:"text",preferredModel:"gpt-4o",temperature:.8,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Hashtags",prompt:`Generate relevant hashtag sets:

{{C1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:550}]},"podcast-script":{id:"podcast-script",name:"Podcast Script Generator",description:"Create podcast scripts with intros, segments, and outros",category:"content",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Episode Concept",prompt:`Define podcast episode:

Topic: [topic]
Guests: [guests]
Duration: [duration]
Format: [format]`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Script",prompt:`Write a complete podcast script:

{{A1}}

Include intro, segments, transitions, and outro.`,modelType:"text",preferredModel:"gpt-4o",temperature:.8,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Show Notes",prompt:`Create show notes:

{{B1}}

Include key points, timestamps, and links.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Social Posts",prompt:`Generate social media posts to promote:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.8,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"business-plan":{id:"business-plan",name:"Business Plan Generator",description:"Create comprehensive business plans with market analysis",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Business Concept",prompt:`Define business idea:

Product/Service: [product]
Market: [market]
Target: [audience]
Goals: [goals]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Market Analysis",prompt:`Conduct market analysis:

{{A1}}

Include competitors, trends, and opportunities.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Business Plan",prompt:`Write comprehensive business plan:

{{A1}}

Market: {{B1}}

Include executive summary, strategy, and financial projections.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Pitch Deck Outline",prompt:`Create pitch deck structure:

{{C1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"api-documentation":{id:"api-documentation",name:"API Documentation Generator",description:"Generate comprehensive API documentation with examples",category:"productivity",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"API Spec",prompt:`Define API specification:

Endpoints: [endpoints]
Methods: [methods]
Parameters: [parameters]`,modelType:"text",preferredModel:"gpt-4o",temperature:.3,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Documentation",prompt:`Write comprehensive API documentation:

{{A1}}

Include endpoints, request/response examples, and error codes.`,modelType:"text",preferredModel:"gpt-4o",temperature:.4,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Code Examples",prompt:`Generate code examples:

{{B1}}

Include examples in multiple languages (Python, JavaScript, cURL).`,modelType:"text",preferredModel:"gpt-4o",temperature:.3,characterLimit:0,outputFormat:"code",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"SDK Guide",prompt:`Create SDK integration guide:

{{B1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"customer-support":{id:"customer-support",name:"Customer Support Response",description:"Generate professional customer support responses",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Customer Issue",prompt:`Analyze customer inquiry:

Issue: [issue]
Product: [product]
Urgency: [urgency]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Response",prompt:`Write a professional, empathetic response:

{{A1}}

Be helpful, clear, and solution-oriented.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Follow-up Steps",prompt:`Outline follow-up actions:

{{B1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Internal Notes",prompt:`Create internal notes for team:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.3,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"event-planner":{id:"event-planner",name:"Event Planning Assistant",description:"Plan events with checklists, timelines, and vendor coordination",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Event Details",prompt:`Define event parameters:

Type: [type]
Date: [date]
Guests: [guests]
Budget: [budget]
Theme: [theme]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Timeline",prompt:`Create event planning timeline:

{{A1}}

Include milestones and deadlines.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Checklist",prompt:`Generate comprehensive checklist:

{{A1}}

Cover all aspects: venue, catering, decor, etc.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Vendor List",prompt:`Suggest vendors and suppliers:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:550}]},"financial-planning":{id:"financial-planning",name:"Financial Planning Tool",description:"Create financial plans with budgets, goals, and strategies",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Financial Goals",prompt:`Define financial objectives:

Goals: [goals]
Timeline: [timeline]
Income: [income]
Expenses: [expenses]`,modelType:"text",preferredModel:"gpt-4o",temperature:.4,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Budget Plan",prompt:`Create detailed budget:

{{A1}}

Categorize income and expenses.`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Savings Strategy",prompt:`Develop savings strategy:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Investment Plan",prompt:`Suggest investment strategies:

{{A1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"grant-proposal":{id:"grant-proposal",name:"Grant Proposal Writer",description:"Write compelling grant proposals with budgets and impact statements",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Project Overview",prompt:`Define project details:

Organization: [org]
Project: [project]
Need: [need]
Amount: [amount]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Proposal",prompt:`Write grant proposal:

{{A1}}

Include problem statement, solution, and impact.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Budget",prompt:`Create detailed budget breakdown:

{{A1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.3,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Impact Statement",prompt:`Write impact statement:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"language-learning":{id:"language-learning",name:"Language Learning Assistant",description:"Create language lessons with vocabulary, grammar, and practice",category:"education",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Learning Goals",prompt:`Define language learning objectives:

Language: [language]
Level: [level]
Focus: [focus]
Time: [time]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Vocabulary",prompt:`Generate vocabulary list:

{{A1}}

Include common words with translations and examples.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Grammar Guide",prompt:`Create grammar lesson:

{{A1}}

Explain key grammar rules with examples.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Practice Exercises",prompt:`Generate practice exercises:

{{B1}}

Grammar: {{C1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"legal-document":{id:"legal-document",name:"Legal Document Draft",description:"Draft legal documents with terms, clauses, and compliance",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Document Type",prompt:`Define document requirements:

Type: [type]
Parties: [parties]
Purpose: [purpose]
Jurisdiction: [jurisdiction]`,modelType:"text",preferredModel:"gpt-4o",temperature:.3,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Draft",prompt:`Draft legal document:

{{A1}}

Include all necessary clauses and terms.`,modelType:"text",preferredModel:"gpt-4o",temperature:.4,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Review Checklist",prompt:`Create review checklist:

{{B1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Compliance Notes",prompt:`Generate compliance considerations:

{{A1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.3,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"meal-planner":{id:"meal-planner",name:"Meal Planning Assistant",description:"Plan meals with recipes, shopping lists, and nutrition info",category:"personal",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Dietary Preferences",prompt:`Define meal planning parameters:

Diet: [diet]
Preferences: [preferences]
Allergies: [allergies]
Servings: [servings]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Meal Plan",prompt:`Create weekly meal plan:

{{A1}}

Include breakfast, lunch, dinner, and snacks.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Shopping List",prompt:`Generate shopping list:

{{B1}}

Organize by store sections.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Nutrition Summary",prompt:`Calculate nutrition info:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.4,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"project-proposal":{id:"project-proposal",name:"Project Proposal Generator",description:"Create project proposals with scope, timeline, and resources",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Project Brief",prompt:`Define project details:

Name: [name]
Objective: [objective]
Stakeholders: [stakeholders]
Budget: [budget]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Proposal",prompt:`Write project proposal:

{{A1}}

Include scope, deliverables, and timeline.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Timeline",prompt:`Create project timeline:

{{B1}}

Include milestones and deadlines.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Resource Plan",prompt:`Outline resource requirements:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"real-estate-listing":{id:"real-estate-listing",name:"Real Estate Listing Writer",description:"Create compelling property listings with descriptions and features",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Property Details",prompt:`Organize property information:

Type: [type]
Location: [location]
Features: [features]
Price: [price]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Listing Description",prompt:`Write compelling property description:

{{A1}}

Highlight key features and benefits.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Feature List",prompt:`Create detailed feature list:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:400},{cellId:"B2",cellReference:"B2",name:"Property Image",prompt:"Generate a professional property image for: {{A1}}",modelType:"image",preferredModel:"flux/dev",temperature:.7,characterLimit:0,outputFormat:"",autoRun:!1,x:400,y:100}]},"sales-email":{id:"sales-email",name:"Sales Email Generator",description:"Create personalized sales emails with follow-ups",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Prospect Info",prompt:`Define prospect details:

Company: [company]
Role: [role]
Pain Points: [pain]
Solution: [solution]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Initial Email",prompt:`Write personalized sales email:

{{A1}}

Be concise, value-focused, and include clear CTA.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Follow-up 1",prompt:`Create first follow-up email:

{{B1}}

Add new value and maintain interest.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Follow-up 2",prompt:`Create second follow-up email:

{{C1}}

Final attempt with strong value proposition.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:550}]},"technical-writing":{id:"technical-writing",name:"Technical Documentation",description:"Create technical documentation with guides and tutorials",category:"productivity",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Topic",prompt:`Define technical topic:

Subject: [subject]
Audience: [audience]
Complexity: [complexity]`,modelType:"text",preferredModel:"gpt-4o",temperature:.4,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Documentation",prompt:`Write technical documentation:

{{A1}}

Clear, structured, with examples.`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Code Examples",prompt:`Add code examples:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.3,characterLimit:0,outputFormat:"code",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"FAQ",prompt:`Generate FAQ section:

{{B1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"web-copy":{id:"web-copy",name:"Website Copy Generator",description:"Create website copy for pages, sections, and CTAs",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Page Brief",prompt:`Define page requirements:

Page: [page]
Purpose: [purpose]
Audience: [audience]
Tone: [tone]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Hero Section",prompt:`Write hero section copy:

{{A1}}

Compelling headline and subheadline.`,modelType:"text",preferredModel:"gpt-4o",temperature:.8,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Body Copy",prompt:`Write body content:

{{A1}}

Hero: {{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"CTAs",prompt:`Generate call-to-action buttons:

{{C1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.8,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:550}]},"white-paper":{id:"white-paper",name:"White Paper Generator",description:"Create comprehensive white papers with research and analysis",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Topic",prompt:`Define white paper topic:

Subject: [subject]
Problem: [problem]
Solution: [solution]
Audience: [audience]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Research",prompt:`Conduct research and analysis:

{{A1}}

Include data, statistics, and case studies.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"White Paper",prompt:`Write comprehensive white paper:

{{A1}}

Research: {{B1}}

Professional, authoritative tone.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Executive Summary",prompt:`Create executive summary:

{{C1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"course-creator":{id:"course-creator",name:"Online Course Creator",description:"Design courses with curriculum, lessons, and assessments",category:"education",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Course Outline",prompt:`Define course structure:

Topic: [topic]
Level: [level]
Duration: [duration]
Learning Goals: [goals]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Curriculum",prompt:`Create detailed curriculum:

{{A1}}

Break into modules and lessons.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Lesson Content",prompt:`Write lesson content:

{{B1}}

Engaging and educational.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Assessments",prompt:`Create quizzes and assignments:

{{C1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"press-release":{id:"press-release",name:"Press Release Writer",description:"Write professional press releases with quotes and media info",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"News Details",prompt:`Define press release info:

Event: [event]
Company: [company]
Date: [date]
Key Points: [points]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Press Release",prompt:`Write professional press release:

{{A1}}

Follow standard format with headline, dateline, body, and boilerplate.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Quotes",prompt:`Generate executive quotes:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.8,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Media Contact",prompt:`Create media contact section:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"product-review":{id:"product-review",name:"Product Review Writer",description:"Write comprehensive product reviews with pros, cons, and ratings",category:"content",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Product Info",prompt:`Define product details:

Product: [product]
Category: [category]
Features: [features]
Price: [price]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Review",prompt:`Write comprehensive review:

{{A1}}

Include detailed analysis, pros, cons, and use cases.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Rating",prompt:`Provide detailed rating breakdown:

{{B1}}

Rate different aspects (quality, value, features, etc.).`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Verdict",prompt:`Write final verdict and recommendation:

{{B1}}

Rating: {{C1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"hr-onboarding":{id:"hr-onboarding",name:"HR Onboarding Plan",description:"Create employee onboarding plans with checklists and materials",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Role Details",prompt:`Define onboarding parameters:

Role: [role]
Department: [dept]
Level: [level]
Duration: [duration]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Onboarding Plan",prompt:`Create comprehensive onboarding plan:

{{A1}}

Week-by-week schedule with activities.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Checklist",prompt:`Generate onboarding checklist:

{{B1}}

All tasks and milestones.`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Welcome Materials",prompt:`Create welcome email and materials:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"book-outline":{id:"book-outline",name:"Book Outline Generator",description:"Create book outlines with chapters, themes, and structure",category:"creative",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Book Concept",prompt:`Define book idea:

Genre: [genre]
Theme: [theme]
Length: [length]
Target: [audience]`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Outline",prompt:`Create detailed book outline:

{{A1}}

Chapter-by-chapter structure with plot points.`,modelType:"text",preferredModel:"gpt-4o",temperature:.8,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Characters",prompt:`Develop main characters:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Chapter Summaries",prompt:`Write chapter summaries:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"sop-creator":{id:"sop-creator",name:"Standard Operating Procedure",description:"Create SOPs with procedures, checklists, and compliance",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Process Overview",prompt:`Define process details:

Process: [process]
Department: [dept]
Purpose: [purpose]
Scope: [scope]`,modelType:"text",preferredModel:"gpt-4o",temperature:.4,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"SOP Document",prompt:`Write comprehensive SOP:

{{A1}}

Step-by-step procedures with clear instructions.`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Checklist",prompt:`Create procedure checklist:

{{B1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.4,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Compliance Notes",prompt:`Add compliance and safety notes:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.4,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"case-study":{id:"case-study",name:"Case Study Writer",description:"Create case studies with problem, solution, and results",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Client Info",prompt:`Define case study details:

Client: [client]
Industry: [industry]
Challenge: [challenge]
Solution: [solution]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Case Study",prompt:`Write comprehensive case study:

{{A1}}

Include background, challenge, solution, and results.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Results",prompt:`Detail measurable results:

{{B1}}

Include metrics, KPIs, and outcomes.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Testimonial",prompt:`Generate client testimonial:

{{B1}}

Results: {{C1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.8,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"job-description":{id:"job-description",name:"Job Description Writer",description:"Create job descriptions with requirements and responsibilities",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Role Details",prompt:`Define position requirements:

Title: [title]
Department: [dept]
Level: [level]
Type: [type]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Job Description",prompt:`Write comprehensive job description:

{{A1}}

Include overview, responsibilities, and requirements.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Requirements",prompt:`List detailed requirements:

{{B1}}

Education, experience, skills, and qualifications.`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Benefits",prompt:`Create benefits section:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"app-description":{id:"app-description",name:"App Store Description",description:"Write app store listings with features, screenshots, and keywords",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"App Info",prompt:`Define app details:

Name: [name]
Category: [category]
Features: [features]
Target: [audience]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Description",prompt:`Write compelling app description:

{{A1}}

Highlight key features and benefits.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Keywords",prompt:`Generate app store keywords:

{{A1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Screenshots Text",prompt:`Create text for screenshot descriptions:

{{B1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.7,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:550}]},"data-analysis":{id:"data-analysis",name:"Data Analysis Report",description:"Analyze data and create reports with insights and recommendations",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Data Overview",prompt:`Define analysis parameters:

Dataset: [dataset]
Metrics: [metrics]
Timeframe: [timeframe]
Goals: [goals]`,modelType:"text",preferredModel:"gpt-4o",temperature:.4,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Analysis",prompt:`Perform data analysis:

{{A1}}

Identify trends, patterns, and anomalies.`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Insights",prompt:`Extract key insights:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Recommendations",prompt:`Provide actionable recommendations:

{{C1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"email-sequence":{id:"email-sequence",name:"Email Sequence Builder",description:"Create email sequences for nurture campaigns and onboarding",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Campaign Goals",prompt:`Define email sequence:

Purpose: [purpose]
Audience: [audience]
Goal: [goal]
Duration: [duration]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Email 1",prompt:`Write first email:

{{A1}}

Welcome/introduction email.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Email 2",prompt:`Write second email:

{{A1}}

Follow-up with value.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Email 3",prompt:`Write third email:

{{A1}}

Final call-to-action.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"social-strategy":{id:"social-strategy",name:"Social Media Strategy",description:"Develop social media strategies with goals, content, and metrics",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Brand Overview",prompt:`Define brand and goals:

Brand: [brand]
Platforms: [platforms]
Goals: [goals]
Audience: [audience]`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Strategy",prompt:`Develop social media strategy:

{{A1}}

Content themes, posting schedule, engagement tactics.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Content Ideas",prompt:`Generate content ideas:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.8,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"KPIs",prompt:`Define success metrics:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"user-manual":{id:"user-manual",name:"User Manual Creator",description:"Create user manuals with instructions, FAQs, and troubleshooting",category:"productivity",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Product Info",prompt:`Define product details:

Product: [product]
Features: [features]
Complexity: [complexity]
Users: [users]`,modelType:"text",preferredModel:"gpt-4o",temperature:.4,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Manual",prompt:`Write user manual:

{{A1}}

Clear, step-by-step instructions with screenshots descriptions.`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"FAQ",prompt:`Create FAQ section:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Troubleshooting",prompt:`Write troubleshooting guide:

{{B1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"brand-guidelines":{id:"brand-guidelines",name:"Brand Guidelines Creator",description:"Create brand guidelines with voice, tone, and visual identity",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Brand Identity",prompt:`Define brand:

Brand: [brand]
Values: [values]
Personality: [personality]
Target: [audience]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Voice & Tone",prompt:`Define brand voice and tone:

{{A1}}

Writing style, do's and don'ts, examples.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Visual Guidelines",prompt:`Create visual identity guidelines:

{{A1}}

Colors, typography, imagery style.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Usage Examples",prompt:`Provide usage examples:

{{B1}}

Visual: {{C1}}`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]},"influencer-brief":{id:"influencer-brief",name:"Influencer Campaign Brief",description:"Create influencer campaign briefs with deliverables and guidelines",category:"marketing",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Campaign Details",prompt:`Define campaign parameters:

Brand: [brand]
Product: [product]
Goal: [goal]
Platform: [platform]`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Campaign Brief",prompt:`Write comprehensive campaign brief:

{{A1}}

Include objectives, deliverables, and timeline.`,modelType:"text",preferredModel:"gpt-4o",temperature:.7,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Content Guidelines",prompt:`Create content guidelines:

{{B1}}

Tone, messaging, hashtags, and requirements.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Deliverables",prompt:`List required deliverables:

{{B1}}`,modelType:"text",preferredModel:"gpt-3.5-turbo",temperature:.5,characterLimit:0,outputFormat:"bullet-list",autoRun:!0,x:100,y:550}]},"risk-assessment":{id:"risk-assessment",name:"Risk Assessment Report",description:"Create risk assessments with identification, analysis, and mitigation",category:"business",icon:"",cells:[{cellId:"A1",cellReference:"A1",name:"Project Scope",prompt:`Define assessment scope:

Project: [project]
Area: [area]
Stakeholders: [stakeholders]
Timeline: [timeline]`,modelType:"text",preferredModel:"gpt-4o",temperature:.4,characterLimit:0,outputFormat:"markdown",autoRun:!1,x:100,y:100},{cellId:"B1",cellReference:"B1",name:"Risk Identification",prompt:`Identify potential risks:

{{A1}}

Categorize by type (technical, financial, operational, etc.).`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:250},{cellId:"C1",cellReference:"C1",name:"Risk Analysis",prompt:`Analyze identified risks:

{{B1}}

Assess probability, impact, and severity.`,modelType:"text",preferredModel:"gpt-4o",temperature:.5,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:400},{cellId:"D1",cellReference:"D1",name:"Mitigation Plan",prompt:`Create risk mitigation strategies:

{{C1}}

Prevention, contingency, and response plans.`,modelType:"text",preferredModel:"gpt-4o",temperature:.6,characterLimit:0,outputFormat:"markdown",autoRun:!0,x:100,y:550}]}},B0={content:{name:"Content Creation",icon:"",color:"blue"},marketing:{name:"Marketing",icon:"",color:"purple"},business:{name:"Business",icon:"",color:"green"},productivity:{name:"Productivity",icon:"",color:"yellow"},education:{name:"Education",icon:"",color:"indigo"},creative:{name:"Creative",icon:"",color:"pink"},personal:{name:"Personal",icon:"",color:"orange"}};function I4(){return Object.values(lY)}const $3e=Object.freeze(Object.defineProperty({__proto__:null,TEMPLATES:lY,TEMPLATE_CATEGORIES:B0,getAllTemplates:I4},Symbol.toStringTag,{value:"Module"})),q3e=({isOpen:t,onClose:e,onSelectTemplate:r,availableModels:n=[]})=>{const[i,a]=E.useState([]),[s,l]=E.useState(!0),[c,d]=E.useState(""),[f,p]=E.useState("all"),[g,m]=E.useState(null),[w,S]=E.useState(""),[_,k]=E.useState(!1),[N,P]=E.useState("");E.useEffect(()=>{t&&F()},[t]);const F=async()=>{l(!0);try{const M=await Zk();if(M.success&&M.data)a(M.data);else{const J=I4();a(J)}}catch{const J=I4();a(J)}finally{l(!1)}};if(!t)return null;const O=M=>n.filter(J=>Vo(J.id||J.originalId||"")===M&&J.isActive!==!1&&J.status!=="inactive"),z=()=>{const M=O("text");if(M.length>0){const J=M[0];return J.originalId||J.id}return"gpt-4o-mini"},L=M=>{const J=new Set;M.cells?.forEach(_e=>{const se=_e.modelType||Vo(_e.model||_e.preferredModel||"");se&&J.add(se)});for(const _e of J)if(O(_e).length===0)return!1;return!0},I=["all",...Object.keys(B0)],D=i.filter(M=>{const J=M.name.toLowerCase().includes(c.toLowerCase())||M.description.toLowerCase().includes(c.toLowerCase()),_e=f==="all"||M.category===f,se=L(M);return J&&_e&&se}),$=M=>{r(M),e()},j=M=>{if(!M||typeof M!="object")return null;const J=typeof M.name=="string"?M.name.trim():"",_e=typeof M.description=="string"?M.description.trim():"",se=typeof M.icon=="string"&&M.icon.trim()?M.icon.trim():"",ee=B0[M.category]?M.category:"content",fe=Array.isArray(M.cells)?M.cells:[];if(!J||fe.length===0)return null;const we=fe.map((q,Q)=>{const re=q.cellId||q.cellReference||`A${Q+1}`,ae=String(re).toUpperCase();return{cellId:ae,cellReference:q.cellReference||ae,name:q.name||`Step ${Q+1}`,prompt:q.prompt||"",modelType:q.modelType||"text",preferredModel:q.preferredModel||z(),temperature:typeof q.temperature=="number"?q.temperature:.7,characterLimit:typeof q.characterLimit=="number"?q.characterLimit:0,outputFormat:q.outputFormat||"",autoRun:q.autoRun??Q>0,x:typeof q.x=="number"?q.x:100+Q*150,y:typeof q.y=="number"?q.y:100+Q*120}}),Be=J.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return{id:M.id||`${Be||"custom-template"}-${Date.now()}`,name:J,description:_e||"Custom generated template",category:ee,icon:se,cells:we}},V=async()=>{if(w.trim()){k(!0),P("");try{const M=z(),_e=`${["You are an expert workflow designer for a card-based AI canvas.","Given a description, design a small set of 2-6 cards (cells) that work together.","Return ONLY valid JSON with this shape, no extra text or explanation:","{",'  "name": "Short template name",','  "description": "1-2 sentence description",','  "category": "one of: content, marketing, business, productivity, education, creative, personal",','  "icon": "an emoji like  or ",','  "cells": [',"    {",'      "cellId": "A1",','      "cellReference": "A1",','      "name": "Card title",','      "prompt": "Prompt text that may reference other cells like {{A1}}",','      "modelType": "text" | "image" | "video" | "audio",','      "preferredModel": "gpt-4o" or other model id,','      "temperature": 0.7,','      "characterLimit": 0,','      "outputFormat": "markdown" | "plain" | "bullet-list" | "" ,','      "autoRun": true or false',"    }","  ]","}"].join(`
`)}

User template idea:
${w.trim()}`,se=await Jk(_e,M,.4,2e3);if(!se.success)throw new Error(se.error||"Template generation failed");let ee=se.output||"";ee=ee.trim(),ee.startsWith("```")&&(ee=ee.replace(/^```(json)?/i,"").replace(/```$/,"").trim());let fe;try{fe=JSON.parse(ee)}catch{throw new Error("AI did not return valid JSON. Please try again or simplify your description.")}const we=j(fe);if(!we)throw new Error("Generated template is missing required fields (name or cells). Please try again.");const Be=await gx(we);if(!Be.success)throw new Error(Be.error||"Failed to save template");const Z={...we,id:Be.id||we.id};a(q=>[Z,...q]),S("")}catch(M){P(M.message||"Failed to generate template")}finally{k(!1)}}};return op.createPortal(y.jsx(yz,{children:y.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[y.jsx(qu.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),y.jsxs(qu.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-5xl bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-white/20 dark:border-white/10 overflow-hidden flex flex-col max-h-[90vh]",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:y.jsx(Bh,{className:"w-6 h-6 text-white"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Choose a Template"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Select a template to generate cards automatically"})]})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors text-gray-500",children:y.jsx(Is,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 space-y-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx(_h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search templates...",value:c,onChange:M=>d(M.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),y.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.jsx(uhe,{className:"h-4 w-4 text-gray-400"}),I.map(M=>y.jsx("button",{onClick:()=>p(M),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f===M?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:M==="all"?"All":B0[M].name},M))]}),y.jsxs("div",{className:"rounded-xl border border-dashed border-blue-400/60 bg-blue-50/40 dark:bg-blue-950/20 p-4 flex flex-col gap-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Bh,{className:"h-5 w-5 text-blue-500"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Template Generator"}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Describe the workflow you want and we'll generate a reusable template."})]})]}),y.jsx("textarea",{rows:3,value:w,onChange:M=>S(M.target.value),placeholder:"Example: A 4-step YouTube content workflow with idea, script, thumbnail prompt, and social clips...",className:"w-full bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-2 text-sm text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[N&&y.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:N}),y.jsx("div",{className:"flex-1"}),y.jsxs("button",{type:"button",onClick:V,disabled:_||!w.trim(),className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${_||!w.trim()?"bg-blue-400/60 text-white cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:[y.jsx(Bh,{className:"h-4 w-4"}),_?"Generating...":"Generate Template with AI"]})]})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s?y.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),y.jsx("p",{children:"Loading templates..."})]}):D.length===0?y.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:y.jsx("p",{children:"No templates found matching your search."})}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(M=>{const J=B0[M.category];return y.jsxs(qu.div,{whileHover:{scale:1.02,y:-4},onClick:()=>$(M),onMouseEnter:()=>m(M.id),onMouseLeave:()=>m(null),className:"relative bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-5 cursor-pointer transition-all hover:border-blue-500 dark:hover:border-blue-400 hover:shadow-lg",children:[y.jsxs("div",{className:"flex items-start justify-between mb-3",children:[y.jsx("div",{className:"text-4xl",children:M.icon}),y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${J.color==="blue"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":J.color==="purple"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":J.color==="green"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":J.color==="yellow"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":J.color==="indigo"?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200":J.color==="pink"?"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}`,children:J.name})]}),y.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:M.name}),y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:M.description}),y.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[y.jsxs("span",{children:[M.cells.length," cards"]}),y.jsx("span",{children:""}),y.jsx("span",{children:"Auto-connected"})]}),g===M.id&&y.jsx(qu.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-blue-500/10 rounded-xl flex items-center justify-center",children:y.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:"Click to Use"})})]},M.id)})})})]})]})}),document.body)},H3e=({user:t,onClose:e})=>{const[r,n]=E.useState(!1),[i,a]=E.useState(!1),[s,l]=E.useState(null),[c,d]=E.useState(null),[f,p]=E.useState(""),[g,m]=E.useState(""),[w,S]=E.useState(""),[_,k]=E.useState(""),[N,P]=E.useState(null),[F,O]=E.useState(t?.photoURL||""),[z,L]=E.useState(""),[I,D]=E.useState(!1),[$,j]=E.useState(!1),[V,M]=E.useState(!1);E.useEffect(()=>{t&&J()},[t]);const J=async()=>{if(t){n(!0);try{const ee=await FU(t.uid);if(ee.success&&ee.data){const fe=ee.data;p(fe.firstName||""),m(fe.lastName||""),S(fe.phoneNumber||""),k(fe.address||""),O(fe.profilePhotoUrl||t.photoURL||"");const we=!!fe.openaiApiKey;M(we),L(we?"".repeat(20):"")}}catch(ee){l(ee.message)}finally{n(!1)}}},_e=async ee=>{const fe=ee.target.files[0];if(fe){if(!fe.type.startsWith("image/")){l("Please select an image file");return}if(fe.size>5*1024*1024){l("Image size must be less than 5MB");return}j(!0),l(null);try{const we=await ZU(fe,t.uid);we.success?(O(we.url),P(null),d("Profile photo uploaded successfully"),setTimeout(()=>d(null),3e3)):l(we.error||"Failed to upload photo")}catch(we){l(we.message)}finally{j(!1)}}},se=async()=>{if(t){a(!0),l(null),d(null);try{let ee={};const fe=z.startsWith(""),we=!z||z.trim()==="";we&&V?ee={openaiApiKey:Kie()}:!we&&!fe&&(ee={openaiApiKey:z.trim()});const Be={firstName:f.trim(),lastName:g.trim(),phoneNumber:w.trim(),address:_.trim(),profilePhotoUrl:F,...ee},Z=await UU(t.uid,Be);Z.success?(d("Profile updated successfully"),setTimeout(()=>{d(null),e()},1500)):l(Z.error||"Failed to update profile")}catch(ee){l(ee.message)}finally{a(!1)}}};return r?y.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-8",children:[y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),y.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading profile..."})]})}):y.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs(qu.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:y.jsx(bT,{className:"w-6 h-6 text-blue-500"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"User Profile"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your profile settings"})]})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors text-gray-500",children:y.jsx(Is,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[c&&y.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-lg text-sm",children:c}),s&&y.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:s}),y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsxs("div",{className:"relative",children:[F?y.jsx("img",{src:F,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-blue-500/20"}):y.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-tr from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold border-4 border-blue-500/20",children:(f||g||t?.displayName||t?.email||"U").charAt(0).toUpperCase()}),y.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-blue-500 rounded-full cursor-pointer hover:bg-blue-600 transition-colors shadow-lg",children:[y.jsx(Khe,{className:"w-4 h-4 text-white"}),y.jsx("input",{type:"file",accept:"image/*",onChange:_e,className:"hidden",disabled:$})]})]}),$&&y.jsx("p",{className:"text-sm text-gray-500",children:"Uploading photo..."})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name"}),y.jsx("input",{type:"text",value:f,onChange:ee=>p(ee.target.value),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter first name"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name"}),y.jsx("input",{type:"text",value:g,onChange:ee=>m(ee.target.value),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter last name"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),y.jsx("input",{type:"email",value:t?.email||"",disabled:!0,className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-500 dark:text-gray-400 cursor-not-allowed"}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),y.jsx("input",{type:"tel",value:w,onChange:ee=>S(ee.target.value),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),y.jsx("textarea",{value:_,onChange:ee=>k(ee.target.value),rows:3,className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Enter address"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 flex items-center gap-2",children:[y.jsx(bhe,{className:"w-4 h-4"}),"OpenAI API Key (Optional)"]}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:I?"text":"password",value:z,onChange:ee=>L(ee.target.value),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10",placeholder:"Enter your OpenAI API key"}),y.jsx("button",{type:"button",onClick:()=>D(!I),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:I?y.jsx(nhe,{className:"w-4 h-4"}):y.jsx(ahe,{className:"w-4 h-4"})})]}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If provided, your API key will be used instead of the default one. Credits will not be deducted when using your own API key (Pro subscription required)."})]})]}),y.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:"Cancel"}),y.jsx("button",{onClick:se,disabled:i,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-semibold transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:i?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):y.jsxs(y.Fragment,{children:[y.jsx(Lhe,{className:"w-4 h-4"}),"Save Changes"]})})]})]})})},G3e=({isOpen:t,onClose:e,cells:r,onDownload:n})=>{const[i,a]=E.useState({});if(E.useEffect(()=>{if(t){const g={};r.forEach(m=>{const w={currentOutput:!0,generations:{}};m.generations&&Array.isArray(m.generations)&&m.generations.forEach((S,_)=>{w.generations[_]=!0}),g[m.cell_id]=w}),a(g)}},[t,r]),!t)return null;const s=g=>{a(m=>({...m,[g]:{...m[g],currentOutput:!m[g]?.currentOutput}}))},l=(g,m)=>{a(w=>({...w,[g]:{...w[g],generations:{...w[g]?.generations||{},[m]:!w[g]?.generations?.[m]}}}))},c=()=>{const g={};r.forEach(m=>{g[m.cell_id]={currentOutput:!0,generations:{}},m.generations&&Array.isArray(m.generations)&&m.generations.forEach((w,S)=>{g[m.cell_id].generations[S]=!0})}),a(g)},d=()=>{const g={};r.forEach(m=>{g[m.cell_id]={currentOutput:!1,generations:{}},m.generations&&Array.isArray(m.generations)&&m.generations.forEach((w,S)=>{g[m.cell_id].generations[S]=!1})}),a(g)},f=()=>{n(i),e()},p=()=>{let g=0;return Object.values(i).forEach(m=>{m?.currentOutput&&g++,m?.generations&&(g+=Object.values(m.generations).filter(Boolean).length)}),g};return op.createPortal(y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-sm text-gray-200 max-w-4xl w-full mx-4 p-6 rounded-xl glass-panel max-h-[90vh] overflow-hidden flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-xl font-semibold",children:"Select Generations to Download"}),y.jsx("button",{onClick:e,className:"p-1 hover:bg-white/10 rounded transition-colors",children:y.jsx(Is,{size:20})})]}),y.jsxs("div",{className:"flex gap-2 mb-4",children:[y.jsx("button",{onClick:c,className:"px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:"Select All"}),y.jsx("button",{onClick:d,className:"px-3 py-1.5 text-sm bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:"Deselect All"}),y.jsx("div",{className:"flex-1"}),y.jsxs("div",{className:"px-3 py-1.5 text-sm bg-green-600/20 text-green-300 rounded-lg border border-green-600/30",children:[p()," selected"]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-4",children:r.map(g=>{const m=i[g.cell_id]||{currentOutput:!1,generations:{}},w=g.output&&g.output.trim()!=="",S=g.generations&&Array.isArray(g.generations)&&g.generations.length>0;return y.jsxs("div",{className:"border border-white/10 rounded-lg p-4 bg-white/5",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y.jsx("span",{className:"font-mono font-bold text-blue-300",children:g.cell_id}),y.jsx("span",{className:"text-sm text-gray-400",children:"-"}),y.jsx("span",{className:"text-sm font-medium",children:g.name||"Unnamed Card"})]}),w&&y.jsx("div",{className:"mb-3",children:y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-white/5 p-2 rounded transition-colors",children:[y.jsx("input",{type:"checkbox",checked:m.currentOutput||!1,onChange:()=>s(g.cell_id),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),y.jsx("span",{className:"text-sm font-medium",children:"Current Output"}),y.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:[g.output.substring(0,50),"..."]})]})}),S?y.jsxs("div",{className:"space-y-2",children:[y.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Generations:"}),g.generations.map((_,k)=>{const N=m.generations?.[k]||!1,P=_.output||"",F=P.trim()!=="";return y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-white/5 p-2 rounded transition-colors",children:[y.jsx("input",{type:"checkbox",checked:N,onChange:()=>l(g.cell_id,k),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),y.jsxs("span",{className:"text-sm",children:["Generation ",k+1,_.timestamp&&y.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",(()=>{let O;return _.timestamp.toDate?O=_.timestamp.toDate().toLocaleString():_.timestamp.seconds?O=new Date(_.timestamp.seconds*1e3).toLocaleString():O=new Date(_.timestamp).toLocaleString(),O})(),")"]})]}),F&&y.jsxs("span",{className:"text-xs text-gray-500 ml-auto truncate max-w-xs",children:[P.substring(0,50),"..."]})]},k)})]}):y.jsx("div",{className:"text-xs text-gray-500 italic",children:"No generations available"})]},g.cell_id)})}),y.jsxs("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-white/10",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 text-sm bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:"Cancel"}),y.jsxs("button",{onClick:f,disabled:p()===0,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-500 disabled:bg-gray-700 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center gap-2",children:[y.jsx(s$,{size:16}),"Download PDF (",p()," items)"]})]})]})}),document.body)};function W3e(){const t=sp(),[e,r]=E.useState(null),[n,i]=E.useState(!0),[a,s]=E.useState([]),[l,c]=E.useState(null),[d,f]=E.useState([]),[p,g]=E.useState(null),[m,w]=E.useState({}),[S,_]=E.useState([]),[k,N]=E.useState([]),[P,F]=E.useState("gpt-3.5-turbo"),[O,z]=E.useState(.7),[L,I]=E.useState(null),[D,$]=E.useState(new Set),[j,V]=E.useState(!1),[M,J]=E.useState(!1),[_e,se]=E.useState(!1),[ee,fe]=E.useState(!1),[we,Be]=E.useState(!1),[Z,q]=E.useState(null),[Q,re]=E.useState(null),[ae,ye]=E.useState(!1),[Te,Ve]=E.useState(!1);E.useEffect(()=>{if(Q){const xe=setTimeout(()=>{re(null)},8e3);return()=>clearTimeout(xe)}},[Q]),E.useEffect(()=>{if(ae){const xe=de=>{de.target.closest(".user-menu-container")||ye(!1)};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)}},[ae]);const he=E.useRef({}),Ce=E.useRef(m),We=E.useRef(new Set),Ie=E.useRef([]),dt=E.useRef(!1),vt=E.useRef({});E.useEffect(()=>{const xe=TU(de=>{r(de),i(!1),de?(Yt(de.uid),yt(de.uid)):(s([]),f([]),w({}),c(null))});return()=>xe()},[]),E.useEffect(()=>{Ft()},[]),E.useEffect(()=>{e?(ce(),yt(e.uid)):(J(!1),q(null))},[e]);const ce=async()=>{try{const xe=await kU();J(xe)}catch{J(!1)}},yt=async xe=>{try{const de=await Cf(xe);if(de.success){const ve=de.data,Ae=ve?.credits?.nextReset;if(Ae){let je;if(Ae.toDate?je=Ae.toDate():Ae.seconds?je=new Date(Ae.seconds*1e3):je=new Date(Ae),new Date>=je){const{checkAndResetUserCredits:$e}=await Wa(async()=>{const{checkAndResetUserCredits:br}=await import("./creditReset-BqtnSHhD.js");return{checkAndResetUserCredits:br}},[]),{getPlanById:et}=await Wa(async()=>{const{getPlanById:br}=await Promise.resolve().then(()=>Nse);return{getPlanById:br}},void 0),it=ve.subscription||"free",xt=await et(it),{resetMonthlyCredits:Rt}=await Wa(async()=>{const{resetMonthlyCredits:br}=await Promise.resolve().then(()=>dy);return{resetMonthlyCredits:br}},void 0);await Rt(xe,it,xt.monthlyCredits);const Ut=await Cf(xe);if(Ut.success){q(Ut.data);return}}}q(ve)}}catch{}};E.useEffect(()=>{e&&l&&Je(e.uid,l)},[e,l]),E.useEffect(()=>{e&&l&&p&&Nt(e.uid,l,p.id)},[e,l,p]),E.useEffect(()=>{if(e&&l&&p){const xe=`lastActiveSheet_${e.uid}_${l}`;localStorage.setItem(xe,p.id)}},[e,l,p]),E.useEffect(()=>{Ce.current=m},[m]),E.useEffect(()=>{We.current=D},[D]),E.useEffect(()=>{if(!(!e||!l||!p))return Object.values(he.current).forEach(xe=>clearInterval(xe)),he.current={},Object.entries(m).forEach(([xe,de])=>{if(de.autoRun&&de.interval&&de.interval>0&&de.prompt){const ve=de.interval*1e3;he.current[xe]=setInterval(()=>{if(e&&l&&p){const Ae=Ce.current[xe],je=We.current.has(xe);Ae&&Ae.prompt&&Ae.prompt.trim()!==""&&!je&&Et(xe).catch(De=>{})}},ve)}}),()=>{Object.values(he.current).forEach(xe=>clearInterval(xe)),he.current={}}},[m,e,l,p]);const Yt=async xe=>{try{const de=await Wk(xe);if(de.success)if(s(de.projects||[]),de.projects&&de.projects.length>0){const ve=localStorage.getItem(`selectedProject_${xe}`);ve&&de.projects.find(Ae=>Ae.id===ve)?c(ve):c(de.projects[0].id)}else{const ve=await Gk(xe,{name:"My First Project"});ve.success&&(c(ve.projectId),await Yt(xe))}}catch{}},Ft=async()=>{try{const xe=await Yk();if(xe.success){N(xe.models||[]);const de=xe.models.find(ve=>ve.type==="text");de&&F(de.originalId||de.id)}else try{const{getAvailableModels:de}=await Wa(async()=>{const{getAvailableModels:Ae}=await Promise.resolve().then(()=>xse);return{getAvailableModels:Ae}},void 0),ve=await de();ve.success&&N(ve.models||[])}catch{}}catch{}},Je=async(xe,de)=>{try{const ve=await NU(xe,de);if(ve.success){const Ae=ve.sheets||[];if(f(Ae),Ae.length>0){const je=`lastActiveSheet_${xe}_${de}`,De=localStorage.getItem(je);if(De){const $e=Ae.find(et=>et.id===De);$e?g($e):p||g(Ae[0])}else p||g(Ae[0])}else Ae.length===0&&(await jb(xe,de,{name:"Sheet1",numRows:10,numCols:10,order:0,cardPositions:{}})).success&&await Je(xe,de)}}catch{}},Nt=async(xe,de,ve)=>{try{const Ae=await FE(xe,de,ve);if(Ae.success){const je={};Ae.cells.forEach(De=>{je[De.cell_id]={...De,x:De.x||0,y:De.y||0,width:De.width||350,height:De.height||null,model:De.model||P,temperature:De.temperature??O,generations:De.generations||[],status:De.status||null,jobId:De.jobId||null}}),w(je),Object.entries(je).forEach(([De,$e])=>{($e.status==="pending"||$e.status==="running"||$e.status==="queued"||$e.status==="processing"||$e.status==="in_progress")&&$e.jobId&&(xx({cellId:De,cell:$e,jobId:$e.jobId,userId:xe,projectId:de,sheetId:ve,onProgress:({status:it,cellId:xt,output:Rt,error:Ut,updatedCell:br})=>{if(it==="complete"&&Rt){const St=br?.output||Rt;Ar(xt,void 0,St,br),w(Cr=>({...Cr,[xt]:{...Cr[xt],output:St,status:"completed",...br||{}}})),Ce.current={...Ce.current,[xt]:{...Ce.current[xt],output:St,status:"completed",...br||{}}}}else if(it==="error")Ar(xt,void 0,`Error: ${Ut}`,br);else if(it==="polling"||it==="running"||it==="pending"){const St=br?.status||it||"running";w(Cr=>({...Cr,[xt]:{...Cr[xt],status:St,...br||{}}})),Ce.current={...Ce.current,[xt]:{...Ce.current[xt],status:St,...br||{}}}}}}),vt.current[De]=pollPromise)})}}catch{}},kt=async()=>{if(!e||!l)return;const xe=`Sheet ${d.length+1}`,de=d.length>0?Math.max(...d.map(Ae=>Ae.order||0)):-1,ve=await jb(e.uid,l,{name:xe,numRows:10,numCols:10,order:de+1,cardPositions:{}});if(ve.success){if(ve.sheetId){const Ae=`lastActiveSheet_${e.uid}_${l}`;localStorage.setItem(Ae,ve.sheetId)}await Je(e.uid,l)}},lt=async(xe,de)=>{if(xe.stopPropagation(),!!window.confirm("Are you sure you want to delete this sheet?")&&!(!e||!l))try{const{deleteSheet:ve}=await Wa(async()=>{const{deleteSheet:je}=await Promise.resolve().then(()=>dy);return{deleteSheet:je}},void 0);await ve(e.uid,l,de);const Ae=d.filter(je=>je.id!==de);if(f(Ae),p?.id===de){const je=`lastActiveSheet_${e.uid}_${l}`;localStorage.removeItem(je),g(Ae.length>0?Ae[0]:null)}await Je(e.uid,l)}catch{}},It=async(xe,de)=>{if(xe.stopPropagation(),!e||!l)return;const ve=d.find(Ae=>Ae.id===de);if(ve)try{re({type:"info",title:"Duplicating Sheet",message:`Creating a copy of "${ve.name}"...`,showUpgrade:!1});const Ae=await FE(e.uid,l,de);if(!Ae.success)throw new Error("Failed to load cells from source sheet");const je=ve.name.startsWith("Copy of ")?`${ve.name} (2)`:`Copy of ${ve.name}`,De=d.length>0?Math.max(...d.map(Ut=>Ut.order||0)):-1,$e=await jb(e.uid,l,{name:je,numRows:ve.numRows||10,numCols:ve.numCols||10,order:De+1,cardPositions:ve.cardPositions||{}});if(!$e.success||!$e.sheetId)throw new Error("Failed to create new sheet");const et=$e.sheetId,it=Ae.cells||[];let xt=0;for(const Ut of it){const br={cell_id:Ut.cell_id,prompt:Ut.prompt||"",output:Ut.output||"",x:Ut.x||0,y:Ut.y||0,width:Ut.width||350,height:Ut.height||null,model:Ut.model||P,temperature:Ut.temperature??O,characterLimit:Ut.characterLimit||0,outputFormat:Ut.outputFormat||"",autoRun:Ut.autoRun||!1,interval:Ut.interval||null,name:Ut.name||"",outputCollapsed:Ut.outputCollapsed||!1,generations:[]};await Ka(e.uid,l,et,Ut.cell_id,br),xt++}const Rt=`lastActiveSheet_${e.uid}_${l}`;localStorage.setItem(Rt,et),await Je(e.uid,l),re({type:"success",title:"Sheet Duplicated",message:`Successfully copied "${ve.name}" with ${xt} cell${xt!==1?"s":""}`,showUpgrade:!1})}catch(Ae){re({type:"error",title:"Error",message:`Failed to duplicate sheet: ${Ae.message}`,showUpgrade:!1})}},[tr,Jt]=E.useState(null),[qt,ir]=E.useState(""),rr=async(xe,de,ve)=>{xe.stopPropagation(),Jt(de),ir(ve)},Pt=async xe=>{if(!e||!l||!qt.trim()){Jt(null);return}try{await BE(e.uid,l,xe,{name:qt.trim()}),await Je(e.uid,l),Jt(null),ir("")}catch(de){re({type:"error",title:"Error",message:"Failed to rename sheet: "+de.message,showUpgrade:!1})}},er=()=>{Jt(null),ir("")},Ct=async(xe,de)=>{if(!(!e||!l||xe===de))try{const ve=d.find(Rt=>Rt.id===xe),Ae=d.find(Rt=>Rt.id===de);if(!ve||!Ae)return;const je=[...d].sort((Rt,Ut)=>(Rt.order||0)-(Ut.order||0)),De=je.findIndex(Rt=>Rt.id===xe),$e=je.findIndex(Rt=>Rt.id===de),et=[...je],[it]=et.splice(De,1);et.splice($e,0,it);const xt=et.map((Rt,Ut)=>({id:Rt.id,order:Ut}));for(const Rt of xt)await BE(e.uid,l,Rt.id,{order:Rt.order});await Je(e.uid,l)}catch(ve){re({type:"error",title:"Error",message:"Failed to reorder sheets: "+ve.message,showUpgrade:!1})}},Ar=async(xe,de,ve,Ae=null)=>{if(de==="connect-output"){I(xe);return}if(de==="connect-input"){if(L&&L!==xe){const $e={source_cell_id:L,target_cell_id:xe};S.some(et=>et.source_cell_id===$e.source_cell_id&&et.target_cell_id===$e.target_cell_id)||_(et=>[...et,$e]),I(null)}return}const je=m[xe]||{},De=Ae||{...je,cell_id:xe,prompt:de!==void 0?de:je.prompt,output:ve!==void 0?ve:je.output};if(De.cell_id||(De.cell_id=xe),w($e=>({...$e,[xe]:De})),Ce.current={...Ce.current,[xe]:De},(De.autoRun!==void 0||De.interval!==void 0)&&(he.current[xe]&&(clearInterval(he.current[xe]),delete he.current[xe]),De.autoRun&&De.interval&&De.interval>0&&De.prompt)){const $e=De.interval*1e3;he.current[xe]=setInterval(()=>{if(e&&l&&p){const et=Ce.current[xe],it=We.current.has(xe);et&&et.prompt&&et.prompt.trim()!==""&&!it&&Et(xe).catch(xt=>{})}},$e)}e&&l&&p&&Ka(e.uid,l,p.id,xe,De).catch($e=>{}),ve!=null&&ve!==""&&ve!==je.output&&e&&l&&p&&(Ie.current.push({cellId:xe,output:ve,cell:je}),dt.current||ar())},ar=async()=>{if(!(dt.current||Ie.current.length===0)){for(dt.current=!0;Ie.current.length>0;){const{cellId:xe,output:de,cell:ve}=Ie.current.shift();await new Promise(Ae=>setTimeout(Ae,100));try{const Ae=Ce.current,je=d.map(et=>({...et,cells:et.id===p.id?Ae:{}})),$e=F_(xe,je).filter(et=>{if(et.sheetId===p.id){const it=Ae[et.cellId];return it&&it.autoRun&&it.prompt}return!1});if($e.length>0){const{areAllDependenciesComplete:et}=await Wa(async()=>{const{areAllDependenciesComplete:it}=await Promise.resolve().then(()=>d6);return{areAllDependenciesComplete:it}},void 0);for(const it of $e)if(it.sheetId===p.id&&!We.current.has(it.cellId)){const xt=Ae[it.cellId];if(xt&&xt.prompt){const Rt={...p,cells:Ae};if(await et(xt,je,Rt,()=>Ce.current,We.current,e.uid,l))try{await Et(it.cellId)}catch{}}}}}catch{}}dt.current=!1}},jt=E.useRef({});E.useRef(!1);const Ht=async xe=>{if(!e||!l||!p)return;he.current[xe]&&(clearInterval(he.current[xe]),delete he.current[xe]);const de=Object.values(m).filter(ve=>ve.prompt?Zc(ve.prompt).some(je=>{let De=je;return je.includes(":")&&(De=je.split(":").pop()),je.includes("!")&&(De=je.split("!").pop()),je.includes("-")&&(De=je.split("-")[0]),De===xe}):!1);if(de.length>0){const ve=de.map(Ae=>Ae.cell_id).join(", ");if(!window.confirm(`This card is referenced by: ${ve}. Are you sure you want to delete it?`))return}try{const ve=await jU(e.uid,l,p.id,xe);ve.success?(w(Ae=>{const je={...Ae};return delete je[xe],je}),_(Ae=>Ae.filter(je=>je.source_cell_id!==xe&&je.target_cell_id!==xe))):alert(`Failed to delete card: ${ve.error}`)}catch(ve){alert(`Failed to delete card: ${ve.message}`)}},Se=(xe,de,ve,Ae=!1)=>{const je=m[xe]||{};if(!(je.x===de&&je.y===ve)){if(w(De=>{const et={...De[xe]||{},cell_id:xe,x:de,y:ve};return Ce.current={...Ce.current,[xe]:et},{...De,[xe]:et}}),Ae){jt.current[xe]&&(clearTimeout(jt.current[xe]),delete jt.current[xe]),e&&l&&p&&setTimeout(()=>{const De=Ce.current[xe];if(De){const $e={...De,cell_id:xe,x:typeof de=="number"?de:parseFloat(de)||0,y:typeof ve=="number"?ve:parseFloat(ve)||0};Ka(e.uid,l,p.id,xe,$e).catch(et=>{})}},0);return}jt.current[xe]&&clearTimeout(jt.current[xe]),jt.current[xe]=setTimeout(async()=>{if(e&&l&&p)try{const De=Ce.current[xe];if(De){const $e={...De,cell_id:xe,x:typeof De.x=="number"?De.x:parseFloat(De.x)||0,y:typeof De.y=="number"?De.y:parseFloat(De.y)||0};await Ka(e.uid,l,p.id,xe,$e)}delete jt.current[xe]}catch{delete jt.current[xe]}},1e3)}},Le=xe=>{const de=m[xe],ve=d.map(De=>({...De,cells:De.id===p.id?m:{}})),Ae=new Set([xe]);de&&de.prompt&&Zc(de.prompt).forEach($e=>{let et=$e;if(et.includes(":")&&(et=et.split(":")[1]),et.includes("!")&&(et=et.split("!")[1]),et.includes("-")&&(et=et.split("-")[0]),et.includes(":")&&(et=et.split(":")[0]),et&&/^[A-Za-z]+\d+$/.test(et)){if(m[et]&&D.has(et))Ae.add(et);else for(const it of ve)if(it.cells&&it.cells[et]&&D.has(et)){Ae.add(et);break}}}),F_(xe,ve).forEach(De=>{De.sheetId===p.id&&D.has(De.cellId)&&Ae.add(De.cellId)}),$(De=>{const $e=new Set(De);return Ae.forEach(et=>{$e.delete(et)}),We.current=$e,$e}),w(De=>{const $e={...De};return Ae.forEach(et=>{$e[et]&&($e[et]={...$e[et],status:null,jobId:null})}),$e}),Ae.forEach(De=>{Ce.current[De]&&(Ce.current[De]={...Ce.current[De],status:null,jobId:null}),uV(De)}),e&&l&&p&&Ae.forEach(async De=>{const $e=Ce.current[De];if($e){const et={...$e,status:null,jobId:null};try{await Ka(e.uid,l,p.id,De,et)}catch{}}}),console.log(" Stopped cells:",Array.from(Ae))},Et=async xe=>{if(!e||!l||!p||D.has(xe))return;const de=m[xe];if(!(!de||!de.prompt)){$(ve=>{const Ae=new Set(ve);return Ae.add(xe),We.current=Ae,Ae});try{const ve=await lV({cellId:xe,cell:de,userId:e.uid,projectId:l,sheetId:p.id,sheets:d.map(Ae=>({...Ae,cells:Ae.id===p.id?m:{}})),currentSheet:{...p,cells:m},getLatestCells:()=>Ce.current,runningCellsSet:We.current,onProgress:({status:Ae,cellId:je,output:De,error:$e,updatedCell:et,message:it})=>{if(Ae==="complete"&&De){const xt=et?.output||De;Ar(je,void 0,xt,et),w(Rt=>({...Rt,[je]:{...Rt[je],output:xt,status:"completed",...et||{}}})),Ce.current={...Ce.current,[je]:{...Ce.current[je],output:xt,status:"completed",...et||{}}}}else if(Ae==="polling"||Ae==="pending"||Ae==="running")et&&(w(xt=>({...xt,[je]:{...xt[je],...et}})),Ce.current={...Ce.current,[je]:{...Ce.current[je],...et}});else if(Ae==="error")if($e&&$e.includes("Insufficient credits")){const xt=$e.match(/You need (\d+) credits but only have (\d+)/),Rt=xt?xt[1]:"some",Ut=xt?xt[2]:"0";re({type:"error",title:"Insufficient Credits",message:`You need ${Rt} credit${Rt!=="1"?"s":""} to run this cell, but you only have ${Ut}. Please upgrade your subscription to continue.`,showUpgrade:!0}),se(!0)}else re({type:"error",title:"Error",message:$e||"An error occurred while running the cell.",showUpgrade:!1})}});if(ve.needsPolling&&ve.jobId){const Ae={...de,status:"pending",jobId:ve.jobId};w(je=>({...je,[xe]:Ae})),Ce.current={...Ce.current,[xe]:Ae},xx({cellId:xe,cell:Ae,jobId:ve.jobId,userId:e.uid,projectId:l,sheetId:p.id,onProgress:({status:je,cellId:De,output:$e,error:et,updatedCell:it})=>{if(je==="complete"&&$e){const xt=it?.output||$e;Ar(De,void 0,xt,it),w(Rt=>({...Rt,[De]:{...Rt[De],output:xt,status:"completed",...it||{}}})),Ce.current={...Ce.current,[De]:{...Ce.current[De],output:xt,status:"completed",...it||{}}}}else je==="error"?Ar(De,void 0,`Error: ${et}`,it):(je==="polling"||je==="running"||je==="pending")&&(w(xt=>({...xt,[De]:{...xt[De],status:it?.status||je||"running"}})),Ce.current={...Ce.current,[De]:{...Ce.current[De],status:it?.status||je||"running"}})}})}if(ve.success){await new Promise(it=>setTimeout(it,50));const Ae=Ce.current,je=d.map(it=>({...it,cells:it.id===p.id?Ae:{}})),$e=F_(xe,je).filter(it=>{if(it.sheetId===p.id){const xt=Ae[it.cellId];return xt&&xt.autoRun&&xt.prompt}return!1}),{areAllDependenciesComplete:et}=await Wa(async()=>{const{areAllDependenciesComplete:it}=await Promise.resolve().then(()=>d6);return{areAllDependenciesComplete:it}},void 0);for(const it of $e)if(it.sheetId===p.id&&!D.has(it.cellId)){const xt=Ae[it.cellId];if(xt&&xt.prompt){const Rt={...p,cells:Ae};await et(xt,je,Rt,()=>Ce.current,We.current,e.uid,l)&&await Et(it.cellId)}}}}catch(ve){const Ae=ve?.message||ve?.toString()||"";if(Ae.includes("Insufficient credits")){const je=Ae.match(/You need (\d+) credits but only have (\d+)/),De=je?je[1]:"some",$e=je?je[2]:"0";re({type:"error",title:"Insufficient Credits",message:`You need ${De} credit${De!=="1"?"s":""} to run this cell, but you only have ${$e}. Please upgrade your subscription to continue.`,showUpgrade:!0}),se(!0)}else re({type:"error",title:"Error",message:Ae||"An error occurred while running the cell.",showUpgrade:!1})}finally{$(ve=>{const Ae=new Set(ve);return Ae.delete(xe),We.current=Ae,Ae})}}},rt=()=>{const xe=Object.keys(m).filter(Ae=>/^[A-Z]\d+$/.test(Ae));if(xe.length===0)return"A1";const de=new Map;xe.forEach(Ae=>{const je=Ae.charAt(0),De=parseInt(Ae.substring(1));de.has(je)||de.set(je,[]),de.get(je).push(De)});for(let Ae=65;Ae<=90;Ae++){const je=String.fromCharCode(Ae),De=de.get(je)||[];if(De.length===0)return`${je}1`;const $e=De.sort((et,it)=>et-it);for(let et=1;et<=$e[$e.length-1]+1;et++)if(!$e.includes(et))return`${je}${et}`}const ve=Array.from(de.values()).flat();return ve.length>0?`A${Math.max(...ve)+1}`:"A1"},bt=async(xe=null,de=null,ve={},Ae=null)=>{if(!p||!e||!l)return;const je=Ae||rt(),De={cell_id:je,prompt:ve.prompt||"",output:"",x:xe!==null?xe:100+Math.random()*50,y:de!==null?de:100+Math.random()*50,model:ve.model||P,temperature:ve.temperature!==void 0?ve.temperature:O,characterLimit:ve.characterLimit!==void 0?ve.characterLimit:0,outputFormat:ve.outputFormat||"",autoRun:ve.autoRun!==void 0?ve.autoRun:!1,name:ve.name||"",generations:[]};w($e=>({...$e,[je]:De}));try{return await Ka(e.uid,l,p.id,je,De),je}catch{return null}},_t=(xe,de=null)=>{const ve=k.filter(Ae=>Vo(Ae.id||Ae.originalId||"")===xe&&Ae.isActive!==!1&&Ae.status!=="inactive");if(ve.length===0)return null;if(de){const Ae=ve.find(je=>je.id===de||je.originalId===de);if(Ae)return Ae.id||Ae.originalId}return ve[0].id||ve[0].originalId},gt=async xe=>{if(!p||!e||!l)return;if(Object.keys(m).length>0){re({type:"error",title:"Cannot Apply Template",message:"Templates can only be applied to empty sheets. Please create a new sheet or remove existing cards first.",showUpgrade:!1});return}try{for(let De=0;De<xe.cells.length;De++){const $e=xe.cells[De],et=$e.x!==void 0?$e.x:100+De%3*300,it=$e.y!==void 0?$e.y:100+Math.floor(De/3)*250,xt=$e.cellId||$e.cellReference||`CARD_${Date.now()}_${De}`,Rt=$e.modelType||Vo($e.model||$e.preferredModel||""),Ut=$e.preferredModel||$e.model;let br=P;if(Rt==="image"){const St=_t("image",Ut);if(!St)throw new Error("No active image generation models available. Please activate at least one image model in the admin dashboard.");br=St}else if(Rt==="video"){const St=_t("video",Ut);if(!St)throw new Error("No active video generation models available. Please activate at least one video model in the admin dashboard.");br=St}else if(Rt==="audio"){const St=_t("audio",Ut);if(!St)throw new Error("No active audio generation models available. Please activate at least one audio model in the admin dashboard.");br=St}else{const St=_t("text",Ut);if(!St)throw new Error("No active text generation models available. Please activate at least one text model in the admin dashboard.");br=St}await bt(et,it,{prompt:$e.prompt||"",model:br,temperature:$e.temperature!==void 0?$e.temperature:O,characterLimit:$e.characterLimit!==void 0?$e.characterLimit:0,outputFormat:$e.outputFormat||"",autoRun:$e.autoRun!==void 0?$e.autoRun:!1,name:$e.name||""},xt)}re({type:"success",title:"Template Applied",message:`Created ${xe.cells.length} cards from "${xe.name}" template`,showUpgrade:!1})}catch(ve){re({type:"error",title:"Error",message:"Failed to apply template: "+ve.message,showUpgrade:!1})}},be=(xe=>Object.values(xe).sort((de,ve)=>{const Ae=de.cell_id||"",je=ve.cell_id||"",De=Ae.match(/^([A-Z]+)(\d+)$/),$e=je.match(/^([A-Z]+)(\d+)$/);if(!De||!$e)return Ae.localeCompare(je);const et=De[1],it=$e[1],xt=parseInt(De[2],10),Rt=parseInt($e[2],10);return et!==it?et.localeCompare(it):xt-Rt}))(m),Xe=async(xe=null)=>{if(!p||be.length===0){alert("No cells to download. Add some cards to the sheet first.");return}if(xe===null){Be(!0);return}try{const de=new sr,ve=de.internal.pageSize.getWidth(),Ae=de.internal.pageSize.getHeight(),je=20,De=ve-je*2;let $e=je;const et=St=>$e+St>Ae-je?(de.addPage(),$e=je,!0):!1,it=(St,Cr=10,fn=!1,gn=[0,0,0])=>{de.setFontSize(Cr),de.setFont("helvetica",fn?"bold":"normal"),de.setTextColor(gn[0],gn[1],gn[2]);const Dt=de.splitTextToSize(St,De),fr=Cr*.4;et(Dt.length*fr+5),Dt.forEach(Mr=>{de.text(Mr,je,$e),$e+=fr}),$e+=5};de.setFontSize(20),de.setFont("helvetica","bold"),de.setTextColor(0,0,0);const xt=p.name||"Sheet";de.text(xt,je,$e),$e+=10,it(`Generated on ${new Date().toLocaleString()}`,9,!1,[100,100,100]),it(`Total Cards: ${be.length}`,9,!1,[100,100,100]),$e+=10;let Rt=0;be.forEach(St=>{const Cr=xe[St.cell_id]||{currentOutput:!1,generations:{}},fn=Cr.currentOutput&&St.output&&St.output.trim()!=="",gn=St.generations&&Array.isArray(St.generations)?Object.keys(Cr.generations||{}).map(Number).filter(Mr=>Cr.generations[Mr]&&Mr<St.generations.length).sort((Mr,si)=>Mr-si):[];if(!fn&&gn.length===0)return;et(30),Rt>0&&($e+=5,de.setDrawColor(200,200,200),de.line(je,$e,ve-je,$e),$e+=10),Rt++;const Dt=St.name||`Cell ${St.cell_id}`;it(Dt,14,!0,[0,0,0]),it(`ID: ${St.cell_id}`,10,!1,[100,100,100]),$e+=3,St.prompt&&(et(15),it("PROMPT",11,!0,[50,50,150]),it(St.prompt,10,!1,[0,0,0]),$e+=3),et(15);const fr=k.find(Mr=>Mr.id===St.model||Mr.originalId===St.model||Mr.id===St.model?.split("/")?.pop())?.name||St.model||"GPT-3.5";if(it("SETTINGS",11,!0,[50,50,150]),it(`Model: ${fr}`,9,!1,[0,0,0]),St.temperature!==void 0&&it(`Temperature: ${St.temperature}`,9,!1,[0,0,0]),St.characterLimit&&it(`Character Limit: ${St.characterLimit}`,9,!1,[0,0,0]),St.outputFormat&&it(`Output Format: ${St.outputFormat}`,9,!1,[0,0,0]),$e+=3,fn){if(et(20),it("CURRENT OUTPUT",11,!0,[50,50,150]),St.output.match(/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp|mp4|webm|mov|mp3|wav|ogg)/i)||St.output.startsWith("data:"))it(`[Media URL: ${St.output.substring(0,100)}...]`,10,!1,[100,100,100]);else{const si=St.output.replace(/#{1,6}\s+/g,"").replace(/\*\*(.+?)\*\*/g,"$1").replace(/\*(.+?)\*/g,"$1").replace(/`(.+?)`/g,"$1").replace(/\[(.+?)\]\(.+?\)/g,"$1");it(si,10,!1,[0,0,0])}$e+=3}gn.length>0&&(et(15),it(`GENERATIONS (${gn.length} selected)`,11,!0,[150,50,50]),gn.forEach((Mr,si)=>{const zn=St.generations[Mr];if(zn){if(et(20),it(`Generation ${Mr+1}`,10,!0,[100,100,100]),zn.timestamp){let bi;zn.timestamp.toDate?bi=zn.timestamp.toDate().toLocaleString():zn.timestamp.seconds?bi=new Date(zn.timestamp.seconds*1e3).toLocaleString():bi=new Date(zn.timestamp).toLocaleString(),it(`Generated: ${bi}`,8,!1,[120,120,120])}if(zn.output)if(zn.output.match(/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp|mp4|webm|mov|mp3|wav|ogg)/i)||zn.output.startsWith("data:"))it(`[Media URL: ${zn.output.substring(0,80)}...]`,9,!1,[120,120,120]);else{const qi=zn.output.replace(/#{1,6}\s+/g,"").replace(/\*\*(.+?)\*\*/g,"$1").replace(/\*(.+?)\*/g,"$1").replace(/`(.+?)`/g,"$1").replace(/\[(.+?)\]\(.+?\)/g,"$1");it(qi,9,!1,[0,0,0])}si<gn.length-1&&($e+=2,de.setDrawColor(220,220,220),de.line(je+5,$e,ve-je-5,$e),$e+=3)}}))});const Ut=de.internal.pages.length-1;for(let St=1;St<=Ut;St++)de.setPage(St),de.setFontSize(8),de.setTextColor(150,150,150),de.text(`Page ${St} of ${Ut} - ${xt} - Generated on ${new Date().toLocaleString()}`,ve/2,Ae-10,{align:"center"});const br=`${xt.replace(/[^a-z0-9]/gi,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;de.save(br),console.log(" Sheet PDF generated successfully")}catch(de){console.error(" Error generating sheet PDF:",de),alert(`Failed to generate PDF: ${de.message}`)}};if(n)return y.jsx("div",{className:"h-screen flex items-center justify-center mesh-gradient",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 animate-pulse mx-auto mb-4"}),y.jsx("p",{className:"text-gray-400",children:"Loading..."})]})});if(!e){const xe=[{id:"A1",name:"Product Concept",prompt:"Define the core concept for a smart task management app",output:`**SmartTask - AI-Powered Task Management**

A task management app that uses AI to:
- Auto-prioritize tasks based on deadlines & importance
- Suggest optimal work schedules
- Break down complex projects into actionable steps
- Learn from user patterns to improve suggestions
- Integrate with calendar, email, and productivity tools

**Key Differentiator:** Proactive AI assistant vs reactive task lists`,x:50,y:50,width:300},{id:"B1",name:"Marketing Strategy",prompt:"Create a 3-month marketing strategy for SmartTask launch",output:`**Month 1: Foundation**
- Launch website & SEO optimization
- Content marketing: 8 blog posts on productivity
- Social media presence (LinkedIn, Twitter)
- Product Hunt launch preparation

**Month 2: Growth**
- Paid ads: Google & Facebook targeting professionals
- Webinar series: "Master Your Productivity"
- Influencer partnerships with productivity coaches

**Month 3: Scale**
- Referral program launch (invite 3, get premium)
- Case studies & user testimonials
- Email marketing campaigns to early adopters`,x:1660,y:80,width:300},{id:"C1",name:"User Personas",prompt:"Define 3 user personas for SmartTask app",output:`**Persona 1: Sarah, 28 - Busy Professional**
- Marketing manager, juggles 10+ projects
- Values: Time-saving, automation, mobile access
- Goals: Reduce overwhelm, meet deadlines
- Pain: Too many tools, tasks slip through cracks

**Persona 2: Mike, 35 - Freelancer**
- Works with multiple clients, needs organization
- Values: Simplicity, affordability, flexibility
- Goals: Track all client work, never miss deadlines

**Persona 3: Lisa, 42 - Team Lead**
- Manages 5-person team, needs visibility
- Values: Collaboration, reporting, integrations
- Goals: Team alignment, project transparency`,x:1275,y:679,width:300},{id:"A2",name:"Content Ideas",prompt:"Generate 10 blog post ideas for SmartTask marketing",output:`1. "5 Ways AI Can Transform Your Task Management"
2. "Why Traditional To-Do Lists Fail (And What Works Instead)"
3. "How to Prioritize Tasks When Everything Feels Urgent"
4. "The Psychology of Productivity: What Science Says"
5. "Task Management for Remote Teams: Best Practices"
6. "From Overwhelmed to Organized: A 30-Day Guide"
7. "The Hidden Cost of Context Switching"
8. "How Successful People Manage Their Daily Tasks"
9. "Task Management Tools Comparison: 2024 Edition"
10. "Building Better Work Habits with SmartTask"`,x:1827,y:617,width:300},{id:"B2",name:"Feature List",prompt:"List key features for SmartTask app",output:`**Core Features:**
 AI-powered task prioritization
 Smart scheduling suggestions
 Project breakdown automation
 Real-time collaboration
 Calendar & email integration
 Mobile apps (iOS & Android)
 Custom workflows & templates
 Progress tracking & analytics
 Team workspaces
 Slack, Google Workspace integrations
 Recurring task automation
 Deadline reminders & notifications`,x:400,y:628,width:300},{id:"C2",name:"Competitive Analysis",prompt:"Analyze top 3 competitors in the task management space",output:`**1. Asana**
Strengths: Robust features, great for teams
Weaknesses: Complex, expensive, learning curve

**2. Todoist**
Strengths: Simple, clean interface, natural language
Weaknesses: Limited AI, basic collaboration

**3. Notion**
Strengths: All-in-one workspace, flexible
Weaknesses: Not task-focused, can be overwhelming

**Our Opportunity:**
AI-first approach with intelligent automation that competitors lack. Focus on reducing cognitive load rather than adding features.`,x:1e3,y:39,width:300}],de=[{from:"A1",to:"B1"},{from:"A1",to:"C1"},{from:"B1",to:"A2"},{from:"C1",to:"B2"},{from:"B2",to:"C2"}],ve=(je,De)=>{const $e=xe.find(xt=>xt.id===je);if(!$e)return{x:0,y:0};const et=$e.width,it=50;return De==="source"?{x:$e.x+et,y:$e.y+it}:De==="target"?{x:$e.x,y:$e.y+it}:{x:0,y:0}},Ae=(je,De)=>{const $e=ve(je,"source"),et=ve(De,"target"),it=Math.abs(et.x-$e.x),xt={x:$e.x+it*.5,y:$e.y},Rt={x:et.x-it*.5,y:et.y},Ut=`M ${$e.x} ${$e.y} C ${xt.x} ${xt.y}, ${Rt.x} ${Rt.y}, ${et.x} ${et.y}`;return y.jsx("path",{d:Ut,fill:"none",stroke:"#10b981",strokeWidth:"2.5",strokeDasharray:"5,5",opacity:.6,markerEnd:"url(#arrowhead-demo)"},`${je}-${De}`)};return y.jsxs("div",{className:"h-screen flex items-center justify-center mesh-gradient relative overflow-hidden",children:[y.jsxs("div",{className:"absolute inset-0 pointer-events-none",style:{zIndex:1},children:[y.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none overflow-visible",style:{zIndex:0},children:[y.jsx("defs",{children:y.jsx("marker",{id:"arrowhead-demo",markerWidth:"10",markerHeight:"7",refX:"10",refY:"3.5",orient:"auto",children:y.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#10b981",opacity:"0.6"})})}),de.map(je=>Ae(je.from,je.to))]}),xe.map(je=>y.jsxs("div",{className:"glass-card rounded-2xl flex flex-col absolute",style:{width:`${je.width}px`,left:`${je.x}px`,top:`${je.y}px`,minHeight:"200px",opacity:.75},children:[y.jsx("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 border border-blue-400/30 flex items-center justify-center",children:y.jsx("span",{className:"text-xs font-mono text-blue-400 font-bold",children:je.id})}),y.jsx("span",{className:"text-sm font-semibold text-white",children:je.name})]})}),y.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[y.jsx("div",{className:"text-xs text-gray-400 mb-2 italic line-clamp-2",children:je.prompt}),y.jsx("div",{className:"text-sm text-gray-200 whitespace-pre-wrap leading-relaxed",children:je.output})]})]},je.id))]}),y.jsxs("div",{className:"glass-panel p-8 rounded-2xl max-w-md w-full mx-4 relative z-10",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-tr from-blue-500 to-purple-600 flex items-center justify-center text-white shadow-lg shadow-blue-500/20 mx-auto mb-4",children:y.jsx(vT,{size:32,strokeWidth:2.5})}),y.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Draftai"}),y.jsx("p",{className:"text-gray-400",children:"AI-powered brainstorming"})]}),y.jsxs("button",{onClick:async()=>{const je=await gse();je.success||alert(je.error||"Failed to sign in")},className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-semibold transition-all shadow-lg shadow-blue-900/20 flex items-center justify-center gap-2",children:[y.jsx(bT,{size:20}),"Sign in with Google"]})]})]})}return j&&e?y.jsx(M3e,{user:e,onBack:()=>V(!1)}):y.jsxs("div",{className:"h-screen flex flex-col mesh-gradient text-white font-sans overflow-hidden",children:[y.jsxs("div",{className:"h-16 flex items-center px-6 justify-between glass-panel z-50 relative pointer-events-auto",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-tr from-blue-500 to-purple-600 flex items-center justify-center text-white shadow-lg shadow-blue-500/20",children:y.jsx(vT,{size:24,strokeWidth:2.5})}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("h1",{className:"text-xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-300",children:"Draftai"}),y.jsx("span",{className:"text-[10px] text-gray-400 font-medium tracking-wider uppercase",children:"Beta v2.0"})]}),e&&l&&y.jsxs("button",{onClick:()=>t("/projects"),className:"ml-4 px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-sm font-medium text-gray-300 hover:text-white transition-all flex items-center gap-2",title:"Manage projects",children:[y.jsx(vy,{size:16}),"Projects"]}),L&&y.jsxs("div",{className:"ml-4 px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full flex items-center gap-2 animate-pulse",children:[y.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full"}),y.jsx("span",{className:"text-xs text-blue-200 font-medium",children:"Select target to connect"})]})]}),y.jsxs("div",{className:"flex gap-3 items-center",children:[Z&&y.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[y.jsx(Bh,{size:14,className:"text-blue-400"}),y.jsxs("span",{className:"text-sm font-semibold text-blue-300",children:[Z.credits?.current||0," Credits"]})]}),y.jsxs("button",{onClick:()=>bt(),className:"px-5 py-2 bg-blue-600 hover:bg-blue-500 active:bg-blue-700 text-white rounded-lg text-sm font-semibold transition-all shadow-lg shadow-blue-900/20 flex items-center gap-2",children:[y.jsx(zu,{size:16}),"Add Card"]}),y.jsxs("button",{onClick:()=>Xe(),disabled:!p||be.length===0,className:"px-5 py-2 bg-purple-600 hover:bg-purple-500 active:bg-purple-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg text-sm font-semibold transition-all shadow-lg shadow-purple-900/20 flex items-center gap-2",title:"Download sheet as PDF",children:[y.jsx(o$,{size:16}),"Download Sheet"]}),y.jsxs("button",{onClick:()=>fe(!0),className:"px-5 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 active:from-purple-700 active:to-pink-700 text-white rounded-lg text-sm font-semibold transition-all shadow-lg shadow-purple-900/20 flex items-center gap-2",title:"Use a template",children:[y.jsx(Bh,{size:16}),"Templates"]}),e&&y.jsxs("div",{className:"relative user-menu-container",children:[y.jsxs("button",{onClick:()=>ye(!ae),className:"flex items-center gap-2 px-3 py-1.5 glass-button rounded-lg hover:bg-white/10 transition-colors",title:"User menu",children:[e.photoURL?y.jsx("img",{src:e.photoURL,alt:e.displayName||e.email||"User",className:"w-6 h-6 rounded-full"}):y.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-tr from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-semibold",children:(e.displayName||e.email||"U").charAt(0).toUpperCase()}),y.jsx("span",{className:"text-sm font-medium text-white hidden sm:block",children:e.displayName||e.email||"User"}),y.jsx(uw,{size:14,className:"text-gray-400 hidden sm:block"})]}),ae&&y.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 glass-panel rounded-lg shadow-xl border border-white/10 overflow-hidden z-50",children:[y.jsx("div",{className:"p-3 border-b border-white/10",children:y.jsxs("div",{className:"flex items-center gap-3",children:[e.photoURL?y.jsx("img",{src:e.photoURL,alt:e.displayName||e.email||"User",className:"w-10 h-10 rounded-full"}):y.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:(e.displayName||e.email||"U").charAt(0).toUpperCase()}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:"text-sm font-semibold text-white truncate",children:e.displayName||"No Name"}),y.jsx("div",{className:"text-xs text-gray-400 truncate",children:e.email})]})]})}),y.jsxs("div",{className:"p-1",children:[y.jsxs("button",{onClick:()=>{Ve(!0),ye(!1)},className:"w-full flex items-center justify-start gap-2 px-3 py-2 text-sm text-left text-gray-300 hover:bg-white/10 rounded-lg transition-colors",children:[y.jsx(bT,{size:16}),y.jsx("span",{children:"Profile"})]}),y.jsxs("button",{onClick:()=>{se(!0),ye(!1)},className:"w-full flex items-center justify-start gap-2 px-3 py-2 text-sm text-left text-gray-300 hover:bg-white/10 rounded-lg transition-colors",children:[y.jsx(X0,{size:16}),y.jsx("span",{children:"Subscriptions"}),Z&&y.jsx("span",{className:"ml-auto text-xs font-semibold text-blue-400",children:Z.credits?.current||0})]}),M&&y.jsxs("button",{onClick:()=>{V(!0),ye(!1)},className:"w-full flex items-center justify-start gap-2 px-3 py-2 text-sm text-left text-gray-300 hover:bg-white/10 rounded-lg transition-colors",children:[y.jsx(d$,{size:16}),y.jsx("span",{children:"Admin Dashboard"})]}),y.jsxs("button",{onClick:async()=>{ye(!1),await EU()},className:"w-full flex items-center justify-start gap-2 px-3 py-2 text-sm text-left text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:[y.jsx(l$,{size:16}),y.jsx("span",{children:"Sign Out"})]})]})]})]})]})]}),y.jsx("div",{className:"flex-1 overflow-hidden relative",children:p?y.jsx(n0e,{cells:be,connections:S,onCellUpdate:Ar,onCellPositionChange:Se,onRunCell:Et,onStopCell:Le,onDeleteCell:Ht,runningCells:D,userId:e.uid,projectId:l,sheetId:p.id,availableModels:k,sheets:d,allCells:m}):y.jsxs("div",{className:"flex items-center justify-center h-full text-gray-400 flex-col gap-4",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 animate-pulse"}),y.jsx("p",{className:"text-gray-500",children:"Select or create a sheet to get started"})]})}),y.jsxs("div",{className:"h-12 glass-panel border-t-0 border-b border-l-0 border-r-0 flex items-center px-4 overflow-x-auto z-50 relative gap-2",children:[y.jsx("button",{onClick:kt,className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Add Sheet",children:y.jsx(zu,{size:18})}),y.jsx("div",{className:"h-6 w-px bg-white/10 mx-2"}),d.map((xe,de)=>y.jsxs("div",{draggable:!0,onDragStart:ve=>{ve.dataTransfer.setData("text/plain",xe.id),ve.currentTarget.style.opacity="0.5"},onDragEnd:ve=>{ve.currentTarget.style.opacity="1"},onDragOver:ve=>{ve.preventDefault(),ve.currentTarget.style.borderLeft="2px solid rgba(59, 130, 246, 0.5)"},onDragLeave:ve=>{ve.currentTarget.style.borderLeft=""},onDrop:ve=>{ve.preventDefault(),ve.currentTarget.style.borderLeft="";const Ae=ve.dataTransfer.getData("text/plain");Ae&&Ae!==xe.id&&Ct(Ae,xe.id)},onClick:()=>{if(tr!==xe.id&&(g(xe),e&&l)){const ve=`lastActiveSheet_${e.uid}_${l}`;localStorage.setItem(ve,xe.id)}},className:`
              px-4 py-1.5 rounded-md text-sm cursor-pointer flex items-center gap-2 transition-all border
              ${p?.id===xe.id?"bg-white/10 text-white border-white/10 shadow-sm":"border-transparent text-gray-400 hover:text-gray-200 hover:bg-white/5"}
            `,children:[y.jsx(mhe,{size:12,className:"text-gray-500 hover:text-gray-300 cursor-grab active:cursor-grabbing",onMouseDown:ve=>ve.stopPropagation()}),y.jsx(dhe,{size:14,className:p?.id===xe.id?"text-blue-400":"text-gray-500"}),tr===xe.id?y.jsx("input",{type:"text",value:qt,onChange:ve=>ir(ve.target.value),onBlur:()=>Pt(xe.id),onKeyDown:ve=>{ve.key==="Enter"?Pt(xe.id):ve.key==="Escape"&&er()},onClick:ve=>ve.stopPropagation(),className:"bg-white/10 border border-white/20 rounded px-2 py-0.5 text-white text-sm min-w-[100px] focus:outline-none focus:ring-1 focus:ring-blue-400",autoFocus:!0}):y.jsx("span",{className:"font-medium",onDoubleClick:ve=>{ve.stopPropagation(),rr(ve,xe.id,xe.name)},children:xe.name}),p?.id===xe.id&&tr!==xe.id&&y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"hover:text-green-400 text-gray-500 p-0.5 rounded transition-colors",onClick:ve=>It(ve,xe.id),title:"Duplicate sheet",children:y.jsx(Nx,{size:12})}),y.jsx("button",{className:"hover:text-blue-400 text-gray-500 p-0.5 rounded transition-colors",onClick:ve=>rr(ve,xe.id,xe.name),title:"Rename sheet",children:y.jsx(u$,{size:12})}),y.jsx("button",{className:"hover:text-red-400 text-gray-500 p-0.5 rounded transition-colors",onClick:ve=>lt(ve,xe.id),title:"Delete sheet",children:y.jsx(ru,{size:12})})]})]},xe.id))]}),Q&&y.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md transition-all duration-300 ease-in-out",children:y.jsx("div",{className:`rounded-lg shadow-xl border p-4 backdrop-blur-sm ${Q.type==="error"?"bg-red-900/95 border-red-700 text-white":Q.type==="success"?"bg-green-900/95 border-green-700 text-white":"bg-blue-900/95 border-blue-700 text-white"}`,children:y.jsxs("div",{className:"flex items-start gap-3",children:[Q.type==="success"?y.jsx(Xh,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}):y.jsx(kx,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:"font-semibold mb-1",children:Q.title}),y.jsx("p",{className:"text-sm opacity-90",children:Q.message}),Q.showUpgrade&&y.jsx("button",{onClick:()=>{se(!0),re(null)},className:"mt-3 px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Upgrade Subscription"})]}),y.jsx("button",{onClick:()=>re(null),className:"text-white/70 hover:text-white transition-colors",children:y.jsx(Is,{className:"h-4 w-4"})})]})})}),y.jsx(q3e,{isOpen:ee,onClose:()=>fe(!1),onSelectTemplate:gt,availableModels:k}),y.jsx(G3e,{isOpen:we,onClose:()=>Be(!1),cells:be,onDownload:Xe}),y.jsx(z3e,{isOpen:_e,onClose:()=>{se(!1),e&&yt(e.uid)},user:e}),Te&&e&&y.jsx(H3e,{user:e,onClose:()=>{Ve(!1),e&&yt(e.uid)}})]})}class K3e extends td.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){}render(){return this.state.hasError?y.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-900 text-white",children:y.jsxs("div",{className:"text-center p-8",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),y.jsx("p",{className:"text-red-400 mb-4",children:this.state.error?.message}),y.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 rounded hover:bg-blue-500",children:"Reload Page"}),y.jsx("pre",{className:"mt-4 text-xs text-left bg-gray-800 p-4 rounded overflow-auto max-w-2xl",children:this.state.error?.stack})]})}):this.props.children}}const Y3e=()=>{const t=sp();WQ();const[e,r]=E.useState(!0),[n,i]=E.useState(null);return E.useEffect(()=>{(async()=>{try{const s=yse();if(s){const l=await Cf(s.uid);l.success&&i(l.data)}}catch{}finally{r(!1)}})()},[]),y.jsx("div",{className:"min-h-screen flex items-center justify-center mesh-gradient p-4",children:y.jsx("div",{className:"glass-panel p-8 rounded-2xl max-w-md w-full",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500 flex items-center justify-center mx-auto mb-4",children:y.jsx(zfe,{className:"h-8 w-8 text-white"})}),y.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Subscription Successful!"}),y.jsx("p",{className:"text-gray-400 mb-6",children:"Your subscription has been activated. You can now enjoy all the features of your plan."}),!e&&n&&y.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 mb-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("span",{className:"text-gray-400",children:"Current Plan:"}),y.jsx("span",{className:"text-white font-semibold capitalize",children:n.subscription||"free"})]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-gray-400",children:"Credits:"}),y.jsxs("span",{className:"text-white font-semibold",children:[n.credits?.current||0," / ",n.credits?.total||0]})]})]}),y.jsxs("button",{onClick:()=>t("/"),className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-semibold transition-all shadow-lg shadow-blue-900/20 flex items-center justify-center gap-2",children:[y.jsx(UC,{className:"h-5 w-5"}),"Return to App"]})]})})})},X3e=()=>{const t=sp();return y.jsx("div",{className:"min-h-screen flex items-center justify-center mesh-gradient p-4",children:y.jsx("div",{className:"glass-panel p-8 rounded-2xl max-w-md w-full",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-yellow-500 flex items-center justify-center mx-auto mb-4",children:y.jsx(Hfe,{className:"h-8 w-8 text-white"})}),y.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Subscription Cancelled"}),y.jsx("p",{className:"text-gray-400 mb-6",children:"Your subscription was not completed. No charges were made. You can try again anytime."}),y.jsxs("button",{onClick:()=>t("/"),className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-semibold transition-all shadow-lg shadow-blue-900/20 flex items-center justify-center gap-2",children:[y.jsx(UC,{className:"h-5 w-5"}),"Return to App"]})]})})})},Q3e=()=>{const t=sp();return y.jsx("div",{className:"min-h-screen flex items-center justify-center mesh-gradient p-4",children:y.jsx("div",{className:"glass-panel p-8 rounded-2xl max-w-md w-full",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center mx-auto mb-4",children:y.jsx(kx,{className:"h-8 w-8 text-white"})}),y.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"404"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-300 mb-4",children:"Page Not Found"}),y.jsx("p",{className:"text-gray-400 mb-6",children:"The page you're looking for doesn't exist or has been moved."}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("button",{onClick:()=>t(-1),className:"flex-1 px-6 py-3 bg-gray-600 hover:bg-gray-500 text-white rounded-lg font-semibold transition-all shadow-lg flex items-center justify-center gap-2",children:[y.jsx(UC,{className:"h-5 w-5"}),"Go Back"]}),y.jsxs("button",{onClick:()=>t("/"),className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-semibold transition-all shadow-lg shadow-blue-900/20 flex items-center justify-center gap-2",children:[y.jsx(yhe,{className:"h-5 w-5"}),"Home"]})]})]})})})},Z3e=()=>{const[t,e]=E.useState(null),[r,n]=E.useState([]),[i,a]=E.useState(!0),[s,l]=E.useState(""),[c,d]=E.useState(!1),[f,p]=E.useState(null),[g,m]=E.useState(""),w=sp();E.useEffect(()=>{const O=TU(z=>{e(z),z&&S(z.uid)});return()=>O()},[]);const S=async O=>{if(O){a(!0);try{const z=await Wk(O);z.success&&n(z.projects||[])}catch{}finally{a(!1)}}},_=async()=>{if(!(!t||!g.trim()))try{const O=await Gk(t.uid,{name:g.trim(),numRows:10,numCols:10,order:r.length});O.success&&(m(""),d(!1),await S(t.uid),localStorage.setItem(`selectedProject_${t.uid}`,O.projectId),w("/"))}catch(O){alert("Failed to create project: "+O.message)}},k=async(O,z)=>{if(t&&window.confirm(`Are you sure you want to delete "${z}"? This will delete all sheets and cells in this project.`))try{const L=await Kk(t.uid,O);L.success?(await S(t.uid),localStorage.getItem(`selectedProject_${t.uid}`)===O&&localStorage.removeItem(`selectedProject_${t.uid}`)):alert("Failed to delete project: "+L.error)}catch(L){alert("Failed to delete project: "+L.message)}},N=async()=>{if(!(!t||!f||!g.trim()))try{const O=await CU(t.uid,f.id,{name:g.trim()});O.success?(p(null),m(""),await S(t.uid)):alert("Failed to update project: "+O.error)}catch(O){alert("Failed to update project: "+O.message)}},P=O=>{t&&localStorage.setItem(`selectedProject_${t.uid}`,O),w("/")},F=r.filter(O=>O.name?.toLowerCase().includes(s.toLowerCase()));return i?y.jsx("div",{className:"h-screen flex items-center justify-center mesh-gradient",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-400",children:"Loading projects..."})]})}):y.jsxs("div",{className:"h-screen flex flex-col mesh-gradient text-white font-sans overflow-hidden",children:[y.jsxs("div",{className:"h-16 flex items-center px-6 justify-between glass-panel z-50 relative",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-tr from-blue-500 to-purple-600 flex items-center justify-center text-white shadow-lg shadow-blue-500/20",children:y.jsx(vT,{size:24,strokeWidth:2.5})}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("h1",{className:"text-xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-300",children:"Projects"}),y.jsx("span",{className:"text-[10px] text-gray-400 font-medium tracking-wider uppercase",children:"Manage your projects"})]})]}),y.jsx("button",{onClick:()=>w("/"),className:"px-4 py-2 text-gray-300 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:"Back to Workspace"})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[y.jsxs("div",{className:"relative flex-1 max-w-md",children:[y.jsx(_h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search projects...",value:s,onChange:O=>l(O.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),y.jsxs("button",{onClick:()=>{m(""),p(null),d(!0)},className:"px-5 py-2 bg-blue-600 hover:bg-blue-500 active:bg-blue-700 text-white rounded-lg text-sm font-semibold transition-all shadow-lg shadow-blue-900/20 flex items-center gap-2",children:[y.jsx(zu,{size:16}),"New Project"]})]}),F.length===0?y.jsxs("div",{className:"text-center py-20",children:[y.jsx("div",{className:"w-24 h-24 rounded-full bg-white/5 flex items-center justify-center mx-auto mb-6",children:y.jsx(vy,{size:48,className:"text-gray-400"})}),y.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:s?"No projects found":"No projects yet"}),y.jsx("p",{className:"text-gray-400 mb-6",children:s?"Try a different search term":"Create your first project to get started"}),!s&&y.jsxs("button",{onClick:()=>{m(""),p(null),d(!0)},className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-semibold transition-all shadow-lg shadow-blue-900/20 flex items-center gap-2 mx-auto",children:[y.jsx(zu,{size:20}),"Create Project"]})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:F.map(O=>y.jsxs("div",{className:"glass-panel rounded-xl p-5 hover:bg-white/5 transition-all cursor-pointer group border border-white/10 hover:border-blue-500/50",onClick:()=>P(O.id),children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-tr from-blue-500 to-purple-600 flex items-center justify-center text-white shadow-lg shadow-blue-500/20",children:y.jsx(vy,{size:24})}),y.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:z=>{z.stopPropagation(),p(O),m(O.name||""),d(!0)},className:"p-1.5 hover:bg-white/10 rounded-lg transition-colors",title:"Edit project",children:y.jsx(u$,{size:14,className:"text-gray-400"})}),y.jsx("button",{onClick:z=>{z.stopPropagation(),k(O.id,O.name)},className:"p-1.5 hover:bg-red-500/20 rounded-lg transition-colors",title:"Delete project",children:y.jsx(ru,{size:14,className:"text-red-400"})})]})]}),y.jsx("h3",{className:"text-lg font-semibold text-white mb-2 truncate",children:O.name||"Unnamed Project"}),y.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[y.jsxs("span",{children:[O.sheets?.length||0," sheet",O.sheets?.length!==1?"s":""]}),O.createdAt&&y.jsx("span",{children:new Date(O.createdAt?.seconds*1e3||O.createdAt).toLocaleDateString()})]})]},O.id))})]})}),c&&y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>{d(!1),p(null),m("")}}),y.jsxs("div",{className:"relative glass-panel rounded-2xl p-6 max-w-md w-full border border-white/10",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:f?"Edit Project":"Create New Project"}),y.jsx("button",{onClick:()=>{d(!1),p(null),m("")},className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:y.jsx(Is,{size:20,className:"text-gray-400"})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project Name"}),y.jsx("input",{type:"text",value:g,onChange:O=>m(O.target.value),onKeyDown:O=>{O.key==="Enter"&&(f?N():_())},placeholder:"Enter project name...",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>{d(!1),p(null),m("")},className:"flex-1 px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg transition-colors",children:"Cancel"}),y.jsx("button",{onClick:f?N:_,disabled:!g.trim(),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors font-semibold",children:f?"Save":"Create"})]})]})]})]})]})};window.addEventListener("error",t=>{});window.addEventListener("unhandledrejection",t=>{});TX.createRoot(document.getElementById("root")).render(y.jsx(E.StrictMode,{children:y.jsx(K3e,{children:y.jsx(zQ,{children:y.jsxs(vQ,{children:[y.jsx(im,{path:"/",element:y.jsx(W3e,{})}),y.jsx(im,{path:"/projects",element:y.jsx(Z3e,{})}),y.jsx(im,{path:"/subscription-success",element:y.jsx(Y3e,{})}),y.jsx(im,{path:"/subscription-cancel",element:y.jsx(X3e,{})}),y.jsx(im,{path:"*",element:y.jsx(Q3e,{})})]})})})}));export{kn as _,gd as a,J3e as c,bx as g,Xk as r};
