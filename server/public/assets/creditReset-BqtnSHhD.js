import{g as c,r as a}from"./index-CRaA8hv8.js";async function f(r,s){try{const e=s.credits;if(!e||!e.nextReset)return{success:!1,error:"No credit reset date found"};let t;if(e.nextReset.toDate?t=e.nextReset.toDate():e.nextReset.seconds?t=new Date(e.nextReset.seconds*1e3):e.nextReset instanceof Date?t=e.nextReset:t=new Date(e.nextReset),new Date>=t){const n=s.subscription||"free",o=await c(n);return await a(r,n,o.monthlyCredits)}return{success:!1,error:"Not time to reset yet"}}catch(e){return{success:!1,error:e.message}}}export{f as checkAndResetUserCredits};
